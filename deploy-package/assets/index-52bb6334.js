var F7=Object.defineProperty;var B7=(t,e,n)=>e in t?F7(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var $s=(t,e,n)=>(B7(t,typeof e!="symbol"?e+"":e,n),n);function z7(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const a of s.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&r(a)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var Xv=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function yn(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var R5={exports:{}},qb={},O5={exports:{}},Gt={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var M0=Symbol.for("react.element"),V7=Symbol.for("react.portal"),H7=Symbol.for("react.fragment"),$7=Symbol.for("react.strict_mode"),W7=Symbol.for("react.profiler"),G7=Symbol.for("react.provider"),X7=Symbol.for("react.context"),q7=Symbol.for("react.forward_ref"),Y7=Symbol.for("react.suspense"),K7=Symbol.for("react.memo"),Z7=Symbol.for("react.lazy"),k3=Symbol.iterator;function J7(t){return t===null||typeof t!="object"?null:(t=k3&&t[k3]||t["@@iterator"],typeof t=="function"?t:null)}var L5={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},I5=Object.assign,j5={};function Uh(t,e,n){this.props=t,this.context=e,this.refs=j5,this.updater=n||L5}Uh.prototype.isReactComponent={};Uh.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Uh.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function k5(){}k5.prototype=Uh.prototype;function jP(t,e,n){this.props=t,this.context=e,this.refs=j5,this.updater=n||L5}var kP=jP.prototype=new k5;kP.constructor=jP;I5(kP,Uh.prototype);kP.isPureReactComponent=!0;var D3=Array.isArray,D5=Object.prototype.hasOwnProperty,DP={current:null},U5={key:!0,ref:!0,__self:!0,__source:!0};function F5(t,e,n){var r,i={},s=null,a=null;if(e!=null)for(r in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)D5.call(e,r)&&!U5.hasOwnProperty(r)&&(i[r]=e[r]);var o=arguments.length-2;if(o===1)i.children=n;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in o=t.defaultProps,o)i[r]===void 0&&(i[r]=o[r]);return{$$typeof:M0,type:t,key:s,ref:a,props:i,_owner:DP.current}}function Q7(t,e){return{$$typeof:M0,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function UP(t){return typeof t=="object"&&t!==null&&t.$$typeof===M0}function eX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var U3=/\/+/g;function zS(t,e){return typeof t=="object"&&t!==null&&t.key!=null?eX(""+t.key):e.toString(36)}function Mx(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case M0:case V7:a=!0}}if(a)return a=t,i=i(a),t=r===""?"."+zS(a,0):r,D3(i)?(n="",t!=null&&(n=t.replace(U3,"$&/")+"/"),Mx(i,e,n,"",function(c){return c})):i!=null&&(UP(i)&&(i=Q7(i,n+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(U3,"$&/")+"/")+t)),e.push(i)),1;if(a=0,r=r===""?".":r+":",D3(t))for(var o=0;o<t.length;o++){s=t[o];var l=r+zS(s,o);a+=Mx(s,e,n,l,i)}else if(l=J7(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=r+zS(s,o++),a+=Mx(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qv(t,e,n){if(t==null)return t;var r=[],i=0;return Mx(t,r,"","",function(s){return e.call(n,s,i++)}),r}function tX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fi={current:null},Ex={transition:null},nX={ReactCurrentDispatcher:Fi,ReactCurrentBatchConfig:Ex,ReactCurrentOwner:DP};function B5(){throw Error("act(...) is not supported in production builds of React.")}Gt.Children={map:qv,forEach:function(t,e,n){qv(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return qv(t,function(){e++}),e},toArray:function(t){return qv(t,function(e){return e})||[]},only:function(t){if(!UP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Gt.Component=Uh;Gt.Fragment=H7;Gt.Profiler=W7;Gt.PureComponent=jP;Gt.StrictMode=$7;Gt.Suspense=Y7;Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=nX;Gt.act=B5;Gt.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=I5({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=DP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)D5.call(e,l)&&!U5.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:M0,type:t.type,key:i,ref:s,props:r,_owner:a}};Gt.createContext=function(t){return t={$$typeof:X7,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:G7,_context:t},t.Consumer=t};Gt.createElement=F5;Gt.createFactory=function(t){var e=F5.bind(null,t);return e.type=t,e};Gt.createRef=function(){return{current:null}};Gt.forwardRef=function(t){return{$$typeof:q7,render:t}};Gt.isValidElement=UP;Gt.lazy=function(t){return{$$typeof:Z7,_payload:{_status:-1,_result:t},_init:tX}};Gt.memo=function(t,e){return{$$typeof:K7,type:t,compare:e===void 0?null:e}};Gt.startTransition=function(t){var e=Ex.transition;Ex.transition={};try{t()}finally{Ex.transition=e}};Gt.unstable_act=B5;Gt.useCallback=function(t,e){return Fi.current.useCallback(t,e)};Gt.useContext=function(t){return Fi.current.useContext(t)};Gt.useDebugValue=function(){};Gt.useDeferredValue=function(t){return Fi.current.useDeferredValue(t)};Gt.useEffect=function(t,e){return Fi.current.useEffect(t,e)};Gt.useId=function(){return Fi.current.useId()};Gt.useImperativeHandle=function(t,e,n){return Fi.current.useImperativeHandle(t,e,n)};Gt.useInsertionEffect=function(t,e){return Fi.current.useInsertionEffect(t,e)};Gt.useLayoutEffect=function(t,e){return Fi.current.useLayoutEffect(t,e)};Gt.useMemo=function(t,e){return Fi.current.useMemo(t,e)};Gt.useReducer=function(t,e,n){return Fi.current.useReducer(t,e,n)};Gt.useRef=function(t){return Fi.current.useRef(t)};Gt.useState=function(t){return Fi.current.useState(t)};Gt.useSyncExternalStore=function(t,e,n){return Fi.current.useSyncExternalStore(t,e,n)};Gt.useTransition=function(){return Fi.current.useTransition()};Gt.version="18.3.1";O5.exports=Gt;var F=O5.exports;const ce=yn(F),rX=z7({__proto__:null,default:ce},[F]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iX=F,sX=Symbol.for("react.element"),aX=Symbol.for("react.fragment"),oX=Object.prototype.hasOwnProperty,lX=iX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,cX={key:!0,ref:!0,__self:!0,__source:!0};function z5(t,e,n){var r,i={},s=null,a=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(r in e)oX.call(e,r)&&!cX.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:sX,type:t,key:s,ref:a,props:i,_owner:lX.current}}qb.Fragment=aX;qb.jsx=z5;qb.jsxs=z5;R5.exports=qb;var h=R5.exports,eE={},V5={exports:{}},Is={},H5={exports:{}},$5={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var W=V.length;V.push(U);e:for(;0<W;){var k=W-1>>>1,H=V[k];if(0<i(H,U))V[k]=U,V[W]=H,W=k;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],W=V.pop();if(W!==U){V[0]=W;e:for(var k=0,H=V.length,K=H>>>1;k<K;){var ne=2*(k+1)-1,te=V[ne],ae=ne+1,oe=V[ae];if(0>i(te,W))ae<H&&0>i(oe,te)?(V[k]=oe,V[ae]=W,k=ae):(V[k]=te,V[ne]=W,k=ne);else if(ae<H&&0>i(oe,W))V[k]=oe,V[ae]=W,k=ae;else break e}}return U}function i(V,U){var W=V.sortIndex-U.sortIndex;return W!==0?W:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,d=3,p=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=V)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function S(V){if(b=!1,_(V),!v)if(n(l)!==null)v=!0,$(M);else{var U=n(c);U!==null&&q(S,U.startTime-V)}}function M(V,U){v=!1,b&&(b=!1,y(C),C=-1),p=!0;var W=d;try{for(_(U),f=n(l);f!==null&&(!(f.expirationTime>U)||V&&!L());){var k=f.callback;if(typeof k=="function"){f.callback=null,d=f.priorityLevel;var H=k(f.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),_(U)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ne=n(c);ne!==null&&q(S,ne.startTime-U),K=!1}return K}finally{f=null,d=W,p=!1}}var E=!1,A=null,C=-1,P=5,R=-1;function L(){return!(t.unstable_now()-R<P)}function O(){if(A!==null){var V=t.unstable_now();R=V;var U=!0;try{U=A(!0,V)}finally{U?D():(E=!1,A=null)}}else E=!1}var D;if(typeof w=="function")D=function(){w(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=O,D=function(){z.postMessage(null)}}else D=function(){x(O,0)};function $(V){A=V,E||(E=!0,D())}function q(V,U){C=x(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,$(M))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var W=d;d=U;try{return V()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=d;d=V;try{return U()}finally{d=W}},t.unstable_scheduleCallback=function(V,U,W){var k=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?k+W:k):W=k,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,V={id:u++,callback:U,priorityLevel:V,startTime:W,expirationTime:H,sortIndex:-1},W>k?(V.sortIndex=W,e(c,V),n(l)===null&&V===n(c)&&(b?(y(C),C=-1):b=!0,q(S,W-k))):(V.sortIndex=H,e(l,V),v||p||(v=!0,$(M))),V},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(V){var U=d;return function(){var W=d;d=U;try{return V.apply(this,arguments)}finally{d=W}}}})($5);H5.exports=$5;var uX=H5.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var fX=F,Rs=uX;function qe(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var W5=new Set,qm={};function af(t,e){th(t,e),th(t+"Capture",e)}function th(t,e){for(qm[t]=e,t=0;t<e.length;t++)W5.add(e[t])}var rl=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),tE=Object.prototype.hasOwnProperty,dX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,F3={},B3={};function hX(t){return tE.call(B3,t)?!0:tE.call(F3,t)?!1:dX.test(t)?B3[t]=!0:(F3[t]=!0,!1)}function pX(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function mX(t,e,n,r){if(e===null||typeof e>"u"||pX(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Bi(t,e,n,r,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ti={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ti[t]=new Bi(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ti[e]=new Bi(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ti[t]=new Bi(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ti[t]=new Bi(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ti[t]=new Bi(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ti[t]=new Bi(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ti[t]=new Bi(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ti[t]=new Bi(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ti[t]=new Bi(t,5,!1,t.toLowerCase(),null,!1,!1)});var FP=/[\-:]([a-z])/g;function BP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(FP,BP);ti[e]=new Bi(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(FP,BP);ti[e]=new Bi(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(FP,BP);ti[e]=new Bi(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ti[t]=new Bi(t,1,!1,t.toLowerCase(),null,!1,!1)});ti.xlinkHref=new Bi("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ti[t]=new Bi(t,1,!1,t.toLowerCase(),null,!0,!0)});function zP(t,e,n,r){var i=ti.hasOwnProperty(e)?ti[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(mX(e,n,i,r)&&(n=null),r||i===null?hX(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var pl=fX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yv=Symbol.for("react.element"),md=Symbol.for("react.portal"),gd=Symbol.for("react.fragment"),VP=Symbol.for("react.strict_mode"),nE=Symbol.for("react.profiler"),G5=Symbol.for("react.provider"),X5=Symbol.for("react.context"),HP=Symbol.for("react.forward_ref"),rE=Symbol.for("react.suspense"),iE=Symbol.for("react.suspense_list"),$P=Symbol.for("react.memo"),Ul=Symbol.for("react.lazy"),q5=Symbol.for("react.offscreen"),z3=Symbol.iterator;function Lp(t){return t===null||typeof t!="object"?null:(t=z3&&t[z3]||t["@@iterator"],typeof t=="function"?t:null)}var $n=Object.assign,VS;function hm(t){if(VS===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);VS=e&&e[1]||""}return`
`+VS+t}var HS=!1;function $S(t,e){if(!t||HS)return"";HS=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{HS=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?hm(t):""}function gX(t){switch(t.tag){case 5:return hm(t.type);case 16:return hm("Lazy");case 13:return hm("Suspense");case 19:return hm("SuspenseList");case 0:case 2:case 15:return t=$S(t.type,!1),t;case 11:return t=$S(t.type.render,!1),t;case 1:return t=$S(t.type,!0),t;default:return""}}function sE(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case gd:return"Fragment";case md:return"Portal";case nE:return"Profiler";case VP:return"StrictMode";case rE:return"Suspense";case iE:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case X5:return(t.displayName||"Context")+".Consumer";case G5:return(t._context.displayName||"Context")+".Provider";case HP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $P:return e=t.displayName||null,e!==null?e:sE(t.type)||"Memo";case Ul:e=t._payload,t=t._init;try{return sE(t(e))}catch{}}return null}function vX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return sE(e);case 8:return e===VP?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function dc(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Y5(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function yX(t){var e=Y5(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){r=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(a){r=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Kv(t){t._valueTracker||(t._valueTracker=yX(t))}function K5(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=Y5(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function n1(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function aE(t,e){var n=e.checked;return $n({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function V3(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=dc(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Z5(t,e){e=e.checked,e!=null&&zP(t,"checked",e,!1)}function oE(t,e){Z5(t,e);var n=dc(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?lE(t,e.type,n):e.hasOwnProperty("defaultValue")&&lE(t,e.type,dc(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function H3(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function lE(t,e,n){(e!=="number"||n1(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var pm=Array.isArray;function zd(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+dc(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cE(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(qe(91));return $n({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function $3(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(qe(92));if(pm(n)){if(1<n.length)throw Error(qe(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:dc(n)}}function J5(t,e){var n=dc(e.value),r=dc(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function W3(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Q5(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function uE(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Q5(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Zv,eB=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Zv=Zv||document.createElement("div"),Zv.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Zv.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Ym(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var _m={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},xX=["Webkit","ms","Moz","O"];Object.keys(_m).forEach(function(t){xX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_m[e]=_m[t]})});function tB(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||_m.hasOwnProperty(t)&&_m[t]?(""+e).trim():e+"px"}function nB(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=tB(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var bX=$n({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function fE(t,e){if(e){if(bX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(qe(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(qe(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(qe(61))}if(e.style!=null&&typeof e.style!="object")throw Error(qe(62))}}function dE(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var hE=null;function WP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var pE=null,Vd=null,Hd=null;function G3(t){if(t=A0(t)){if(typeof pE!="function")throw Error(qe(280));var e=t.stateNode;e&&(e=Qb(e),pE(t.stateNode,t.type,e))}}function rB(t){Vd?Hd?Hd.push(t):Hd=[t]:Vd=t}function iB(){if(Vd){var t=Vd,e=Hd;if(Hd=Vd=null,G3(t),e)for(t=0;t<e.length;t++)G3(e[t])}}function sB(t,e){return t(e)}function aB(){}var WS=!1;function oB(t,e,n){if(WS)return t(e,n);WS=!0;try{return sB(t,e,n)}finally{WS=!1,(Vd!==null||Hd!==null)&&(aB(),iB())}}function Km(t,e){var n=t.stateNode;if(n===null)return null;var r=Qb(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(qe(231,e,typeof n));return n}var mE=!1;if(rl)try{var Ip={};Object.defineProperty(Ip,"passive",{get:function(){mE=!0}}),window.addEventListener("test",Ip,Ip),window.removeEventListener("test",Ip,Ip)}catch{mE=!1}function _X(t,e,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(u){this.onError(u)}}var wm=!1,r1=null,i1=!1,gE=null,wX={onError:function(t){wm=!0,r1=t}};function SX(t,e,n,r,i,s,a,o,l){wm=!1,r1=null,_X.apply(wX,arguments)}function MX(t,e,n,r,i,s,a,o,l){if(SX.apply(this,arguments),wm){if(wm){var c=r1;wm=!1,r1=null}else throw Error(qe(198));i1||(i1=!0,gE=c)}}function of(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function lB(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function X3(t){if(of(t)!==t)throw Error(qe(188))}function EX(t){var e=t.alternate;if(!e){if(e=of(t),e===null)throw Error(qe(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return X3(i),t;if(s===r)return X3(i),e;s=s.sibling}throw Error(qe(188))}if(n.return!==r.return)n=i,r=s;else{for(var a=!1,o=i.child;o;){if(o===n){a=!0,n=i,r=s;break}if(o===r){a=!0,r=i,n=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===n){a=!0,n=s,r=i;break}if(o===r){a=!0,r=s,n=i;break}o=o.sibling}if(!a)throw Error(qe(189))}}if(n.alternate!==r)throw Error(qe(190))}if(n.tag!==3)throw Error(qe(188));return n.stateNode.current===n?t:e}function cB(t){return t=EX(t),t!==null?uB(t):null}function uB(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=uB(t);if(e!==null)return e;t=t.sibling}return null}var fB=Rs.unstable_scheduleCallback,q3=Rs.unstable_cancelCallback,TX=Rs.unstable_shouldYield,AX=Rs.unstable_requestPaint,ar=Rs.unstable_now,PX=Rs.unstable_getCurrentPriorityLevel,GP=Rs.unstable_ImmediatePriority,dB=Rs.unstable_UserBlockingPriority,s1=Rs.unstable_NormalPriority,CX=Rs.unstable_LowPriority,hB=Rs.unstable_IdlePriority,Yb=null,ro=null;function NX(t){if(ro&&typeof ro.onCommitFiberRoot=="function")try{ro.onCommitFiberRoot(Yb,t,void 0,(t.current.flags&128)===128)}catch{}}var La=Math.clz32?Math.clz32:LX,RX=Math.log,OX=Math.LN2;function LX(t){return t>>>=0,t===0?32:31-(RX(t)/OX|0)|0}var Jv=64,Qv=4194304;function mm(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function a1(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,a=n&268435455;if(a!==0){var o=a&~i;o!==0?r=mm(o):(s&=a,s!==0&&(r=mm(s)))}else a=n&~i,a!==0?r=mm(a):s!==0&&(r=mm(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-La(e),i=1<<n,r|=t[n],e&=~i;return r}function IX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function jX(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-La(s),o=1<<a,l=i[a];l===-1?(!(o&n)||o&r)&&(i[a]=IX(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function vE(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pB(){var t=Jv;return Jv<<=1,!(Jv&4194240)&&(Jv=64),t}function GS(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function E0(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-La(e),t[e]=n}function kX(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-La(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function XP(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-La(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var hn=0;function mB(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var gB,qP,vB,yB,xB,yE=!1,ey=[],Yl=null,Kl=null,Zl=null,Zm=new Map,Jm=new Map,Vl=[],DX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Y3(t,e){switch(t){case"focusin":case"focusout":Yl=null;break;case"dragenter":case"dragleave":Kl=null;break;case"mouseover":case"mouseout":Zl=null;break;case"pointerover":case"pointerout":Zm.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Jm.delete(e.pointerId)}}function jp(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=A0(e),e!==null&&qP(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function UX(t,e,n,r,i){switch(e){case"focusin":return Yl=jp(Yl,t,e,n,r,i),!0;case"dragenter":return Kl=jp(Kl,t,e,n,r,i),!0;case"mouseover":return Zl=jp(Zl,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Zm.set(s,jp(Zm.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Jm.set(s,jp(Jm.get(s)||null,t,e,n,r,i)),!0}return!1}function bB(t){var e=xu(t.target);if(e!==null){var n=of(e);if(n!==null){if(e=n.tag,e===13){if(e=lB(n),e!==null){t.blockedOn=e,xB(t.priority,function(){vB(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Tx(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=xE(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);hE=r,n.target.dispatchEvent(r),hE=null}else return e=A0(n),e!==null&&qP(e),t.blockedOn=n,!1;e.shift()}return!0}function K3(t,e,n){Tx(t)&&n.delete(e)}function FX(){yE=!1,Yl!==null&&Tx(Yl)&&(Yl=null),Kl!==null&&Tx(Kl)&&(Kl=null),Zl!==null&&Tx(Zl)&&(Zl=null),Zm.forEach(K3),Jm.forEach(K3)}function kp(t,e){t.blockedOn===e&&(t.blockedOn=null,yE||(yE=!0,Rs.unstable_scheduleCallback(Rs.unstable_NormalPriority,FX)))}function Qm(t){function e(i){return kp(i,t)}if(0<ey.length){kp(ey[0],t);for(var n=1;n<ey.length;n++){var r=ey[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Yl!==null&&kp(Yl,t),Kl!==null&&kp(Kl,t),Zl!==null&&kp(Zl,t),Zm.forEach(e),Jm.forEach(e),n=0;n<Vl.length;n++)r=Vl[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Vl.length&&(n=Vl[0],n.blockedOn===null);)bB(n),n.blockedOn===null&&Vl.shift()}var $d=pl.ReactCurrentBatchConfig,o1=!0;function BX(t,e,n,r){var i=hn,s=$d.transition;$d.transition=null;try{hn=1,YP(t,e,n,r)}finally{hn=i,$d.transition=s}}function zX(t,e,n,r){var i=hn,s=$d.transition;$d.transition=null;try{hn=4,YP(t,e,n,r)}finally{hn=i,$d.transition=s}}function YP(t,e,n,r){if(o1){var i=xE(t,e,n,r);if(i===null)n2(t,e,r,l1,n),Y3(t,r);else if(UX(i,t,e,n,r))r.stopPropagation();else if(Y3(t,r),e&4&&-1<DX.indexOf(t)){for(;i!==null;){var s=A0(i);if(s!==null&&gB(s),s=xE(t,e,n,r),s===null&&n2(t,e,r,l1,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else n2(t,e,r,null,n)}}var l1=null;function xE(t,e,n,r){if(l1=null,t=WP(r),t=xu(t),t!==null)if(e=of(t),e===null)t=null;else if(n=e.tag,n===13){if(t=lB(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return l1=t,null}function _B(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(PX()){case GP:return 1;case dB:return 4;case s1:case CX:return 16;case hB:return 536870912;default:return 16}default:return 16}}var Wl=null,KP=null,Ax=null;function wB(){if(Ax)return Ax;var t,e=KP,n=e.length,r,i="value"in Wl?Wl.value:Wl.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var a=n-t;for(r=1;r<=a&&e[n-r]===i[s-r];r++);return Ax=i.slice(t,1<r?1-r:void 0)}function Px(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function ty(){return!0}function Z3(){return!1}function js(t){function e(n,r,i,s,a){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(n=t[o],this[o]=n?n(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?ty:Z3,this.isPropagationStopped=Z3,this}return $n(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=ty)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=ty)},persist:function(){},isPersistent:ty}),e}var Fh={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ZP=js(Fh),T0=$n({},Fh,{view:0,detail:0}),VX=js(T0),XS,qS,Dp,Kb=$n({},T0,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:JP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dp&&(Dp&&t.type==="mousemove"?(XS=t.screenX-Dp.screenX,qS=t.screenY-Dp.screenY):qS=XS=0,Dp=t),XS)},movementY:function(t){return"movementY"in t?t.movementY:qS}}),J3=js(Kb),HX=$n({},Kb,{dataTransfer:0}),$X=js(HX),WX=$n({},T0,{relatedTarget:0}),YS=js(WX),GX=$n({},Fh,{animationName:0,elapsedTime:0,pseudoElement:0}),XX=js(GX),qX=$n({},Fh,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),YX=js(qX),KX=$n({},Fh,{data:0}),Q3=js(KX),ZX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},JX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},QX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function eq(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=QX[t])?!!e[t]:!1}function JP(){return eq}var tq=$n({},T0,{key:function(t){if(t.key){var e=ZX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Px(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?JX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:JP,charCode:function(t){return t.type==="keypress"?Px(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Px(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),nq=js(tq),rq=$n({},Kb,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),eL=js(rq),iq=$n({},T0,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:JP}),sq=js(iq),aq=$n({},Fh,{propertyName:0,elapsedTime:0,pseudoElement:0}),oq=js(aq),lq=$n({},Kb,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),cq=js(lq),uq=[9,13,27,32],QP=rl&&"CompositionEvent"in window,Sm=null;rl&&"documentMode"in document&&(Sm=document.documentMode);var fq=rl&&"TextEvent"in window&&!Sm,SB=rl&&(!QP||Sm&&8<Sm&&11>=Sm),tL=String.fromCharCode(32),nL=!1;function MB(t,e){switch(t){case"keyup":return uq.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function EB(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vd=!1;function dq(t,e){switch(t){case"compositionend":return EB(e);case"keypress":return e.which!==32?null:(nL=!0,tL);case"textInput":return t=e.data,t===tL&&nL?null:t;default:return null}}function hq(t,e){if(vd)return t==="compositionend"||!QP&&MB(t,e)?(t=wB(),Ax=KP=Wl=null,vd=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SB&&e.locale!=="ko"?null:e.data;default:return null}}var pq={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rL(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!pq[t.type]:e==="textarea"}function TB(t,e,n,r){rB(r),e=c1(e,"onChange"),0<e.length&&(n=new ZP("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Mm=null,eg=null;function mq(t){DB(t,0)}function Zb(t){var e=bd(t);if(K5(e))return t}function gq(t,e){if(t==="change")return e}var AB=!1;if(rl){var KS;if(rl){var ZS="oninput"in document;if(!ZS){var iL=document.createElement("div");iL.setAttribute("oninput","return;"),ZS=typeof iL.oninput=="function"}KS=ZS}else KS=!1;AB=KS&&(!document.documentMode||9<document.documentMode)}function sL(){Mm&&(Mm.detachEvent("onpropertychange",PB),eg=Mm=null)}function PB(t){if(t.propertyName==="value"&&Zb(eg)){var e=[];TB(e,eg,t,WP(t)),oB(mq,e)}}function vq(t,e,n){t==="focusin"?(sL(),Mm=e,eg=n,Mm.attachEvent("onpropertychange",PB)):t==="focusout"&&sL()}function yq(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Zb(eg)}function xq(t,e){if(t==="click")return Zb(e)}function bq(t,e){if(t==="input"||t==="change")return Zb(e)}function _q(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ka=typeof Object.is=="function"?Object.is:_q;function tg(t,e){if(ka(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!tE.call(e,i)||!ka(t[i],e[i]))return!1}return!0}function aL(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function oL(t,e){var n=aL(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=aL(n)}}function CB(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?CB(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function NB(){for(var t=window,e=n1();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=n1(t.document)}return e}function eC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wq(t){var e=NB(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&CB(n.ownerDocument.documentElement,n)){if(r!==null&&eC(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=oL(n,s);var a=oL(n,r);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var Sq=rl&&"documentMode"in document&&11>=document.documentMode,yd=null,bE=null,Em=null,_E=!1;function lL(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;_E||yd==null||yd!==n1(r)||(r=yd,"selectionStart"in r&&eC(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Em&&tg(Em,r)||(Em=r,r=c1(bE,"onSelect"),0<r.length&&(e=new ZP("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=yd)))}function ny(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var xd={animationend:ny("Animation","AnimationEnd"),animationiteration:ny("Animation","AnimationIteration"),animationstart:ny("Animation","AnimationStart"),transitionend:ny("Transition","TransitionEnd")},JS={},RB={};rl&&(RB=document.createElement("div").style,"AnimationEvent"in window||(delete xd.animationend.animation,delete xd.animationiteration.animation,delete xd.animationstart.animation),"TransitionEvent"in window||delete xd.transitionend.transition);function Jb(t){if(JS[t])return JS[t];if(!xd[t])return t;var e=xd[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in RB)return JS[t]=e[n];return t}var OB=Jb("animationend"),LB=Jb("animationiteration"),IB=Jb("animationstart"),jB=Jb("transitionend"),kB=new Map,cL="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xc(t,e){kB.set(t,e),af(e,[t])}for(var QS=0;QS<cL.length;QS++){var e2=cL[QS],Mq=e2.toLowerCase(),Eq=e2[0].toUpperCase()+e2.slice(1);xc(Mq,"on"+Eq)}xc(OB,"onAnimationEnd");xc(LB,"onAnimationIteration");xc(IB,"onAnimationStart");xc("dblclick","onDoubleClick");xc("focusin","onFocus");xc("focusout","onBlur");xc(jB,"onTransitionEnd");th("onMouseEnter",["mouseout","mouseover"]);th("onMouseLeave",["mouseout","mouseover"]);th("onPointerEnter",["pointerout","pointerover"]);th("onPointerLeave",["pointerout","pointerover"]);af("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));af("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));af("onBeforeInput",["compositionend","keypress","textInput","paste"]);af("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));af("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));af("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var gm="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Tq=new Set("cancel close invalid load scroll toggle".split(" ").concat(gm));function uL(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,MX(r,e,void 0,t),t.currentTarget=null}function DB(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;uL(i,o,c),s=l}else for(a=0;a<r.length;a++){if(o=r[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;uL(i,o,c),s=l}}}if(i1)throw t=gE,i1=!1,gE=null,t}function An(t,e){var n=e[TE];n===void 0&&(n=e[TE]=new Set);var r=t+"__bubble";n.has(r)||(UB(e,t,2,!1),n.add(r))}function t2(t,e,n){var r=0;e&&(r|=4),UB(n,t,r,e)}var ry="_reactListening"+Math.random().toString(36).slice(2);function ng(t){if(!t[ry]){t[ry]=!0,W5.forEach(function(n){n!=="selectionchange"&&(Tq.has(n)||t2(n,!1,t),t2(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[ry]||(e[ry]=!0,t2("selectionchange",!1,e))}}function UB(t,e,n,r){switch(_B(e)){case 1:var i=BX;break;case 4:i=zX;break;default:i=YP}n=i.bind(null,e,n,t),i=void 0,!mE||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function n2(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var a=r.tag;if(a===3||a===4){var o=r.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=r.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=xu(o),a===null)return;if(l=a.tag,l===5||l===6){r=s=a;continue e}o=o.parentNode}}r=r.return}oB(function(){var c=s,u=WP(n),f=[];e:{var d=kB.get(t);if(d!==void 0){var p=ZP,v=t;switch(t){case"keypress":if(Px(n)===0)break e;case"keydown":case"keyup":p=nq;break;case"focusin":v="focus",p=YS;break;case"focusout":v="blur",p=YS;break;case"beforeblur":case"afterblur":p=YS;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=J3;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=$X;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=sq;break;case OB:case LB:case IB:p=XX;break;case jB:p=oq;break;case"scroll":p=VX;break;case"wheel":p=cq;break;case"copy":case"cut":case"paste":p=YX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=eL}var b=(e&4)!==0,x=!b&&t==="scroll",y=b?d!==null?d+"Capture":null:d;b=[];for(var w=c,_;w!==null;){_=w;var S=_.stateNode;if(_.tag===5&&S!==null&&(_=S,y!==null&&(S=Km(w,y),S!=null&&b.push(rg(w,S,_)))),x)break;w=w.return}0<b.length&&(d=new p(d,v,null,n,u),f.push({event:d,listeners:b}))}}if(!(e&7)){e:{if(d=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",d&&n!==hE&&(v=n.relatedTarget||n.fromElement)&&(xu(v)||v[il]))break e;if((p||d)&&(d=u.window===u?u:(d=u.ownerDocument)?d.defaultView||d.parentWindow:window,p?(v=n.relatedTarget||n.toElement,p=c,v=v?xu(v):null,v!==null&&(x=of(v),v!==x||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=c),p!==v)){if(b=J3,S="onMouseLeave",y="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(b=eL,S="onPointerLeave",y="onPointerEnter",w="pointer"),x=p==null?d:bd(p),_=v==null?d:bd(v),d=new b(S,w+"leave",p,n,u),d.target=x,d.relatedTarget=_,S=null,xu(u)===c&&(b=new b(y,w+"enter",v,n,u),b.target=_,b.relatedTarget=x,S=b),x=S,p&&v)t:{for(b=p,y=v,w=0,_=b;_;_=kf(_))w++;for(_=0,S=y;S;S=kf(S))_++;for(;0<w-_;)b=kf(b),w--;for(;0<_-w;)y=kf(y),_--;for(;w--;){if(b===y||y!==null&&b===y.alternate)break t;b=kf(b),y=kf(y)}b=null}else b=null;p!==null&&fL(f,d,p,b,!1),v!==null&&x!==null&&fL(f,x,v,b,!0)}}e:{if(d=c?bd(c):window,p=d.nodeName&&d.nodeName.toLowerCase(),p==="select"||p==="input"&&d.type==="file")var M=gq;else if(rL(d))if(AB)M=bq;else{M=yq;var E=vq}else(p=d.nodeName)&&p.toLowerCase()==="input"&&(d.type==="checkbox"||d.type==="radio")&&(M=xq);if(M&&(M=M(t,c))){TB(f,M,n,u);break e}E&&E(t,d,c),t==="focusout"&&(E=d._wrapperState)&&E.controlled&&d.type==="number"&&lE(d,"number",d.value)}switch(E=c?bd(c):window,t){case"focusin":(rL(E)||E.contentEditable==="true")&&(yd=E,bE=c,Em=null);break;case"focusout":Em=bE=yd=null;break;case"mousedown":_E=!0;break;case"contextmenu":case"mouseup":case"dragend":_E=!1,lL(f,n,u);break;case"selectionchange":if(Sq)break;case"keydown":case"keyup":lL(f,n,u)}var A;if(QP)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else vd?MB(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(SB&&n.locale!=="ko"&&(vd||C!=="onCompositionStart"?C==="onCompositionEnd"&&vd&&(A=wB()):(Wl=u,KP="value"in Wl?Wl.value:Wl.textContent,vd=!0)),E=c1(c,C),0<E.length&&(C=new Q3(C,t,null,n,u),f.push({event:C,listeners:E}),A?C.data=A:(A=EB(n),A!==null&&(C.data=A)))),(A=fq?dq(t,n):hq(t,n))&&(c=c1(c,"onBeforeInput"),0<c.length&&(u=new Q3("onBeforeInput","beforeinput",null,n,u),f.push({event:u,listeners:c}),u.data=A))}DB(f,e)})}function rg(t,e,n){return{instance:t,listener:e,currentTarget:n}}function c1(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Km(t,n),s!=null&&r.unshift(rg(t,s,i)),s=Km(t,e),s!=null&&r.push(rg(t,s,i))),t=t.return}return r}function kf(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function fL(t,e,n,r,i){for(var s=e._reactName,a=[];n!==null&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(l!==null&&l===r)break;o.tag===5&&c!==null&&(o=c,i?(l=Km(n,s),l!=null&&a.unshift(rg(n,l,o))):i||(l=Km(n,s),l!=null&&a.push(rg(n,l,o)))),n=n.return}a.length!==0&&t.push({event:e,listeners:a})}var Aq=/\r\n?/g,Pq=/\u0000|\uFFFD/g;function dL(t){return(typeof t=="string"?t:""+t).replace(Aq,`
`).replace(Pq,"")}function iy(t,e,n){if(e=dL(e),dL(t)!==e&&n)throw Error(qe(425))}function u1(){}var wE=null,SE=null;function ME(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var EE=typeof setTimeout=="function"?setTimeout:void 0,Cq=typeof clearTimeout=="function"?clearTimeout:void 0,hL=typeof Promise=="function"?Promise:void 0,Nq=typeof queueMicrotask=="function"?queueMicrotask:typeof hL<"u"?function(t){return hL.resolve(null).then(t).catch(Rq)}:EE;function Rq(t){setTimeout(function(){throw t})}function r2(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),Qm(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);Qm(e)}function Jl(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function pL(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var Bh=Math.random().toString(36).slice(2),eo="__reactFiber$"+Bh,ig="__reactProps$"+Bh,il="__reactContainer$"+Bh,TE="__reactEvents$"+Bh,Oq="__reactListeners$"+Bh,Lq="__reactHandles$"+Bh;function xu(t){var e=t[eo];if(e)return e;for(var n=t.parentNode;n;){if(e=n[il]||n[eo]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=pL(t);t!==null;){if(n=t[eo])return n;t=pL(t)}return e}t=n,n=t.parentNode}return null}function A0(t){return t=t[eo]||t[il],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bd(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(qe(33))}function Qb(t){return t[ig]||null}var AE=[],_d=-1;function bc(t){return{current:t}}function On(t){0>_d||(t.current=AE[_d],AE[_d]=null,_d--)}function En(t,e){_d++,AE[_d]=t.current,t.current=e}var hc={},Si=bc(hc),ns=bc(!1),Vu=hc;function nh(t,e){var n=t.type.contextTypes;if(!n)return hc;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function rs(t){return t=t.childContextTypes,t!=null}function f1(){On(ns),On(Si)}function mL(t,e,n){if(Si.current!==hc)throw Error(qe(168));En(Si,e),En(ns,n)}function FB(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(qe(108,vX(t)||"Unknown",i));return $n({},n,r)}function d1(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||hc,Vu=Si.current,En(Si,t),En(ns,ns.current),!0}function gL(t,e,n){var r=t.stateNode;if(!r)throw Error(qe(169));n?(t=FB(t,e,Vu),r.__reactInternalMemoizedMergedChildContext=t,On(ns),On(Si),En(Si,t)):On(ns),En(ns,n)}var Uo=null,e_=!1,i2=!1;function BB(t){Uo===null?Uo=[t]:Uo.push(t)}function Iq(t){e_=!0,BB(t)}function _c(){if(!i2&&Uo!==null){i2=!0;var t=0,e=hn;try{var n=Uo;for(hn=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Uo=null,e_=!1}catch(i){throw Uo!==null&&(Uo=Uo.slice(t+1)),fB(GP,_c),i}finally{hn=e,i2=!1}}return null}var wd=[],Sd=0,h1=null,p1=0,Js=[],Qs=0,Hu=null,Vo=1,Ho="";function lu(t,e){wd[Sd++]=p1,wd[Sd++]=h1,h1=t,p1=e}function zB(t,e,n){Js[Qs++]=Vo,Js[Qs++]=Ho,Js[Qs++]=Hu,Hu=t;var r=Vo;t=Ho;var i=32-La(r)-1;r&=~(1<<i),n+=1;var s=32-La(e)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Vo=1<<32-La(e)+i|n<<i|r,Ho=s+t}else Vo=1<<s|n<<i|r,Ho=t}function tC(t){t.return!==null&&(lu(t,1),zB(t,1,0))}function nC(t){for(;t===h1;)h1=wd[--Sd],wd[Sd]=null,p1=wd[--Sd],wd[Sd]=null;for(;t===Hu;)Hu=Js[--Qs],Js[Qs]=null,Ho=Js[--Qs],Js[Qs]=null,Vo=Js[--Qs],Js[Qs]=null}var Cs=null,Ps=null,kn=!1,Aa=null;function VB(t,e){var n=ta(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function vL(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Cs=t,Ps=Jl(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Cs=t,Ps=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=Hu!==null?{id:Vo,overflow:Ho}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=ta(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Cs=t,Ps=null,!0):!1;default:return!1}}function PE(t){return(t.mode&1)!==0&&(t.flags&128)===0}function CE(t){if(kn){var e=Ps;if(e){var n=e;if(!vL(t,e)){if(PE(t))throw Error(qe(418));e=Jl(n.nextSibling);var r=Cs;e&&vL(t,e)?VB(r,n):(t.flags=t.flags&-4097|2,kn=!1,Cs=t)}}else{if(PE(t))throw Error(qe(418));t.flags=t.flags&-4097|2,kn=!1,Cs=t}}}function yL(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Cs=t}function sy(t){if(t!==Cs)return!1;if(!kn)return yL(t),kn=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!ME(t.type,t.memoizedProps)),e&&(e=Ps)){if(PE(t))throw HB(),Error(qe(418));for(;e;)VB(t,e),e=Jl(e.nextSibling)}if(yL(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(qe(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Ps=Jl(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Ps=null}}else Ps=Cs?Jl(t.stateNode.nextSibling):null;return!0}function HB(){for(var t=Ps;t;)t=Jl(t.nextSibling)}function rh(){Ps=Cs=null,kn=!1}function rC(t){Aa===null?Aa=[t]:Aa.push(t)}var jq=pl.ReactCurrentBatchConfig;function Up(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(qe(309));var r=n.stateNode}if(!r)throw Error(qe(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(qe(284));if(!n._owner)throw Error(qe(290,t))}return t}function ay(t,e){throw t=Object.prototype.toString.call(e),Error(qe(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function xL(t){var e=t._init;return e(t._payload)}function $B(t){function e(y,w){if(t){var _=y.deletions;_===null?(y.deletions=[w],y.flags|=16):_.push(w)}}function n(y,w){if(!t)return null;for(;w!==null;)e(y,w),w=w.sibling;return null}function r(y,w){for(y=new Map;w!==null;)w.key!==null?y.set(w.key,w):y.set(w.index,w),w=w.sibling;return y}function i(y,w){return y=nc(y,w),y.index=0,y.sibling=null,y}function s(y,w,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<w?(y.flags|=2,w):_):(y.flags|=2,w)):(y.flags|=1048576,w)}function a(y){return t&&y.alternate===null&&(y.flags|=2),y}function o(y,w,_,S){return w===null||w.tag!==6?(w=f2(_,y.mode,S),w.return=y,w):(w=i(w,_),w.return=y,w)}function l(y,w,_,S){var M=_.type;return M===gd?u(y,w,_.props.children,S,_.key):w!==null&&(w.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ul&&xL(M)===w.type)?(S=i(w,_.props),S.ref=Up(y,w,_),S.return=y,S):(S=jx(_.type,_.key,_.props,null,y.mode,S),S.ref=Up(y,w,_),S.return=y,S)}function c(y,w,_,S){return w===null||w.tag!==4||w.stateNode.containerInfo!==_.containerInfo||w.stateNode.implementation!==_.implementation?(w=d2(_,y.mode,S),w.return=y,w):(w=i(w,_.children||[]),w.return=y,w)}function u(y,w,_,S,M){return w===null||w.tag!==7?(w=Lu(_,y.mode,S,M),w.return=y,w):(w=i(w,_),w.return=y,w)}function f(y,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return w=f2(""+w,y.mode,_),w.return=y,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yv:return _=jx(w.type,w.key,w.props,null,y.mode,_),_.ref=Up(y,null,w),_.return=y,_;case md:return w=d2(w,y.mode,_),w.return=y,w;case Ul:var S=w._init;return f(y,S(w._payload),_)}if(pm(w)||Lp(w))return w=Lu(w,y.mode,_,null),w.return=y,w;ay(y,w)}return null}function d(y,w,_,S){var M=w!==null?w.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return M!==null?null:o(y,w,""+_,S);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case Yv:return _.key===M?l(y,w,_,S):null;case md:return _.key===M?c(y,w,_,S):null;case Ul:return M=_._init,d(y,w,M(_._payload),S)}if(pm(_)||Lp(_))return M!==null?null:u(y,w,_,S,null);ay(y,_)}return null}function p(y,w,_,S,M){if(typeof S=="string"&&S!==""||typeof S=="number")return y=y.get(_)||null,o(w,y,""+S,M);if(typeof S=="object"&&S!==null){switch(S.$$typeof){case Yv:return y=y.get(S.key===null?_:S.key)||null,l(w,y,S,M);case md:return y=y.get(S.key===null?_:S.key)||null,c(w,y,S,M);case Ul:var E=S._init;return p(y,w,_,E(S._payload),M)}if(pm(S)||Lp(S))return y=y.get(_)||null,u(w,y,S,M,null);ay(w,S)}return null}function v(y,w,_,S){for(var M=null,E=null,A=w,C=w=0,P=null;A!==null&&C<_.length;C++){A.index>C?(P=A,A=null):P=A.sibling;var R=d(y,A,_[C],S);if(R===null){A===null&&(A=P);break}t&&A&&R.alternate===null&&e(y,A),w=s(R,w,C),E===null?M=R:E.sibling=R,E=R,A=P}if(C===_.length)return n(y,A),kn&&lu(y,C),M;if(A===null){for(;C<_.length;C++)A=f(y,_[C],S),A!==null&&(w=s(A,w,C),E===null?M=A:E.sibling=A,E=A);return kn&&lu(y,C),M}for(A=r(y,A);C<_.length;C++)P=p(A,y,C,_[C],S),P!==null&&(t&&P.alternate!==null&&A.delete(P.key===null?C:P.key),w=s(P,w,C),E===null?M=P:E.sibling=P,E=P);return t&&A.forEach(function(L){return e(y,L)}),kn&&lu(y,C),M}function b(y,w,_,S){var M=Lp(_);if(typeof M!="function")throw Error(qe(150));if(_=M.call(_),_==null)throw Error(qe(151));for(var E=M=null,A=w,C=w=0,P=null,R=_.next();A!==null&&!R.done;C++,R=_.next()){A.index>C?(P=A,A=null):P=A.sibling;var L=d(y,A,R.value,S);if(L===null){A===null&&(A=P);break}t&&A&&L.alternate===null&&e(y,A),w=s(L,w,C),E===null?M=L:E.sibling=L,E=L,A=P}if(R.done)return n(y,A),kn&&lu(y,C),M;if(A===null){for(;!R.done;C++,R=_.next())R=f(y,R.value,S),R!==null&&(w=s(R,w,C),E===null?M=R:E.sibling=R,E=R);return kn&&lu(y,C),M}for(A=r(y,A);!R.done;C++,R=_.next())R=p(A,y,C,R.value,S),R!==null&&(t&&R.alternate!==null&&A.delete(R.key===null?C:R.key),w=s(R,w,C),E===null?M=R:E.sibling=R,E=R);return t&&A.forEach(function(O){return e(y,O)}),kn&&lu(y,C),M}function x(y,w,_,S){if(typeof _=="object"&&_!==null&&_.type===gd&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case Yv:e:{for(var M=_.key,E=w;E!==null;){if(E.key===M){if(M=_.type,M===gd){if(E.tag===7){n(y,E.sibling),w=i(E,_.props.children),w.return=y,y=w;break e}}else if(E.elementType===M||typeof M=="object"&&M!==null&&M.$$typeof===Ul&&xL(M)===E.type){n(y,E.sibling),w=i(E,_.props),w.ref=Up(y,E,_),w.return=y,y=w;break e}n(y,E);break}else e(y,E);E=E.sibling}_.type===gd?(w=Lu(_.props.children,y.mode,S,_.key),w.return=y,y=w):(S=jx(_.type,_.key,_.props,null,y.mode,S),S.ref=Up(y,w,_),S.return=y,y=S)}return a(y);case md:e:{for(E=_.key;w!==null;){if(w.key===E)if(w.tag===4&&w.stateNode.containerInfo===_.containerInfo&&w.stateNode.implementation===_.implementation){n(y,w.sibling),w=i(w,_.children||[]),w.return=y,y=w;break e}else{n(y,w);break}else e(y,w);w=w.sibling}w=d2(_,y.mode,S),w.return=y,y=w}return a(y);case Ul:return E=_._init,x(y,w,E(_._payload),S)}if(pm(_))return v(y,w,_,S);if(Lp(_))return b(y,w,_,S);ay(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,w!==null&&w.tag===6?(n(y,w.sibling),w=i(w,_),w.return=y,y=w):(n(y,w),w=f2(_,y.mode,S),w.return=y,y=w),a(y)):n(y,w)}return x}var ih=$B(!0),WB=$B(!1),m1=bc(null),g1=null,Md=null,iC=null;function sC(){iC=Md=g1=null}function aC(t){var e=m1.current;On(m1),t._currentValue=e}function NE(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Wd(t,e){g1=t,iC=Md=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Qi=!0),t.firstContext=null)}function aa(t){var e=t._currentValue;if(iC!==t)if(t={context:t,memoizedValue:e,next:null},Md===null){if(g1===null)throw Error(qe(308));Md=t,g1.dependencies={lanes:0,firstContext:t}}else Md=Md.next=t;return e}var bu=null;function oC(t){bu===null?bu=[t]:bu.push(t)}function GB(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,oC(e)):(n.next=i.next,i.next=n),e.interleaved=n,sl(t,r)}function sl(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fl=!1;function lC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function XB(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Yo(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ql(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,Qt&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,sl(t,n)}return i=r.interleaved,i===null?(e.next=e,oC(r)):(e.next=i.next,i.next=e),r.interleaved=e,sl(t,n)}function Cx(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,XP(t,n)}}function bL(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=a:s=s.next=a,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function v1(t,e,n,r){var i=t.updateQueue;Fl=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var u=t.alternate;u!==null&&(u=u.updateQueue,o=u.lastBaseUpdate,o!==a&&(o===null?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(s!==null){var f=i.baseState;a=0,u=c=l=null,o=s;do{var d=o.lane,p=o.eventTime;if((r&d)===d){u!==null&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var v=t,b=o;switch(d=e,p=n,b.tag){case 1:if(v=b.payload,typeof v=="function"){f=v.call(p,f,d);break e}f=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=b.payload,d=typeof v=="function"?v.call(p,f,d):v,d==null)break e;f=$n({},f,d);break e;case 2:Fl=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,d=i.effects,d===null?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},u===null?(c=u=p,l=f):u=u.next=p,a|=d;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;d=o,o=d.next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}while(1);if(u===null&&(l=f),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Wu|=a,t.lanes=a,t.memoizedState=f}}function _L(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(qe(191,i));i.call(r)}}}var P0={},io=bc(P0),sg=bc(P0),ag=bc(P0);function _u(t){if(t===P0)throw Error(qe(174));return t}function cC(t,e){switch(En(ag,e),En(sg,t),En(io,P0),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:uE(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=uE(e,t)}On(io),En(io,e)}function sh(){On(io),On(sg),On(ag)}function qB(t){_u(ag.current);var e=_u(io.current),n=uE(e,t.type);e!==n&&(En(sg,t),En(io,n))}function uC(t){sg.current===t&&(On(io),On(sg))}var Bn=bc(0);function y1(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var s2=[];function fC(){for(var t=0;t<s2.length;t++)s2[t]._workInProgressVersionPrimary=null;s2.length=0}var Nx=pl.ReactCurrentDispatcher,a2=pl.ReactCurrentBatchConfig,$u=0,Hn=null,Er=null,Wr=null,x1=!1,Tm=!1,og=0,kq=0;function ci(){throw Error(qe(321))}function dC(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ka(t[n],e[n]))return!1;return!0}function hC(t,e,n,r,i,s){if($u=s,Hn=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Nx.current=t===null||t.memoizedState===null?Bq:zq,t=n(r,i),Tm){s=0;do{if(Tm=!1,og=0,25<=s)throw Error(qe(301));s+=1,Wr=Er=null,e.updateQueue=null,Nx.current=Vq,t=n(r,i)}while(Tm)}if(Nx.current=b1,e=Er!==null&&Er.next!==null,$u=0,Wr=Er=Hn=null,x1=!1,e)throw Error(qe(300));return t}function pC(){var t=og!==0;return og=0,t}function Ja(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Wr===null?Hn.memoizedState=Wr=t:Wr=Wr.next=t,Wr}function oa(){if(Er===null){var t=Hn.alternate;t=t!==null?t.memoizedState:null}else t=Er.next;var e=Wr===null?Hn.memoizedState:Wr.next;if(e!==null)Wr=e,Er=t;else{if(t===null)throw Error(qe(310));Er=t,t={memoizedState:Er.memoizedState,baseState:Er.baseState,baseQueue:Er.baseQueue,queue:Er.queue,next:null},Wr===null?Hn.memoizedState=Wr=t:Wr=Wr.next=t}return Wr}function lg(t,e){return typeof e=="function"?e(t):e}function o2(t){var e=oa(),n=e.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=t;var r=Er,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var o=a=null,l=null,c=s;do{var u=c.lane;if(($u&u)===u)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var f={lane:u,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=f,a=r):l=l.next=f,Hn.lanes|=u,Wu|=u}c=c.next}while(c!==null&&c!==s);l===null?a=r:l.next=o,ka(r,e.memoizedState)||(Qi=!0),e.memoizedState=r,e.baseState=a,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Hn.lanes|=s,Wu|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function l2(t){var e=oa(),n=e.queue;if(n===null)throw Error(qe(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ka(s,e.memoizedState)||(Qi=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function YB(){}function KB(t,e){var n=Hn,r=oa(),i=e(),s=!ka(r.memoizedState,i);if(s&&(r.memoizedState=i,Qi=!0),r=r.queue,mC(QB.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||Wr!==null&&Wr.memoizedState.tag&1){if(n.flags|=2048,cg(9,JB.bind(null,n,r,i,e),void 0,null),Gr===null)throw Error(qe(349));$u&30||ZB(n,e,i)}return i}function ZB(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function JB(t,e,n,r){e.value=n,e.getSnapshot=r,ez(e)&&tz(t)}function QB(t,e,n){return n(function(){ez(e)&&tz(t)})}function ez(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ka(t,n)}catch{return!0}}function tz(t){var e=sl(t,1);e!==null&&Ia(e,t,1,-1)}function wL(t){var e=Ja();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:lg,lastRenderedState:t},e.queue=t,t=t.dispatch=Fq.bind(null,Hn,t),[e.memoizedState,t]}function cg(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Hn.updateQueue,e===null?(e={lastEffect:null,stores:null},Hn.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function nz(){return oa().memoizedState}function Rx(t,e,n,r){var i=Ja();Hn.flags|=t,i.memoizedState=cg(1|e,n,void 0,r===void 0?null:r)}function t_(t,e,n,r){var i=oa();r=r===void 0?null:r;var s=void 0;if(Er!==null){var a=Er.memoizedState;if(s=a.destroy,r!==null&&dC(r,a.deps)){i.memoizedState=cg(e,n,s,r);return}}Hn.flags|=t,i.memoizedState=cg(1|e,n,s,r)}function SL(t,e){return Rx(8390656,8,t,e)}function mC(t,e){return t_(2048,8,t,e)}function rz(t,e){return t_(4,2,t,e)}function iz(t,e){return t_(4,4,t,e)}function sz(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function az(t,e,n){return n=n!=null?n.concat([t]):null,t_(4,4,sz.bind(null,e,t),n)}function gC(){}function oz(t,e){var n=oa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dC(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function lz(t,e){var n=oa();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&dC(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function cz(t,e,n){return $u&21?(ka(n,e)||(n=pB(),Hn.lanes|=n,Wu|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Qi=!0),t.memoizedState=n)}function Dq(t,e){var n=hn;hn=n!==0&&4>n?n:4,t(!0);var r=a2.transition;a2.transition={};try{t(!1),e()}finally{hn=n,a2.transition=r}}function uz(){return oa().memoizedState}function Uq(t,e,n){var r=tc(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},fz(t))dz(e,n);else if(n=GB(t,e,n,r),n!==null){var i=Ui();Ia(n,t,r,i),hz(n,e,r)}}function Fq(t,e,n){var r=tc(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(fz(t))dz(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,ka(o,a)){var l=e.interleaved;l===null?(i.next=i,oC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=GB(t,e,i,r),n!==null&&(i=Ui(),Ia(n,t,r,i),hz(n,e,r))}}function fz(t){var e=t.alternate;return t===Hn||e!==null&&e===Hn}function dz(t,e){Tm=x1=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function hz(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,XP(t,n)}}var b1={readContext:aa,useCallback:ci,useContext:ci,useEffect:ci,useImperativeHandle:ci,useInsertionEffect:ci,useLayoutEffect:ci,useMemo:ci,useReducer:ci,useRef:ci,useState:ci,useDebugValue:ci,useDeferredValue:ci,useTransition:ci,useMutableSource:ci,useSyncExternalStore:ci,useId:ci,unstable_isNewReconciler:!1},Bq={readContext:aa,useCallback:function(t,e){return Ja().memoizedState=[t,e===void 0?null:e],t},useContext:aa,useEffect:SL,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Rx(4194308,4,sz.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Rx(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rx(4,2,t,e)},useMemo:function(t,e){var n=Ja();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Ja();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=Uq.bind(null,Hn,t),[r.memoizedState,t]},useRef:function(t){var e=Ja();return t={current:t},e.memoizedState=t},useState:wL,useDebugValue:gC,useDeferredValue:function(t){return Ja().memoizedState=t},useTransition:function(){var t=wL(!1),e=t[0];return t=Dq.bind(null,t[1]),Ja().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Hn,i=Ja();if(kn){if(n===void 0)throw Error(qe(407));n=n()}else{if(n=e(),Gr===null)throw Error(qe(349));$u&30||ZB(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,SL(QB.bind(null,r,s,t),[t]),r.flags|=2048,cg(9,JB.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Ja(),e=Gr.identifierPrefix;if(kn){var n=Ho,r=Vo;n=(r&~(1<<32-La(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=og++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=kq++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},zq={readContext:aa,useCallback:oz,useContext:aa,useEffect:mC,useImperativeHandle:az,useInsertionEffect:rz,useLayoutEffect:iz,useMemo:lz,useReducer:o2,useRef:nz,useState:function(){return o2(lg)},useDebugValue:gC,useDeferredValue:function(t){var e=oa();return cz(e,Er.memoizedState,t)},useTransition:function(){var t=o2(lg)[0],e=oa().memoizedState;return[t,e]},useMutableSource:YB,useSyncExternalStore:KB,useId:uz,unstable_isNewReconciler:!1},Vq={readContext:aa,useCallback:oz,useContext:aa,useEffect:mC,useImperativeHandle:az,useInsertionEffect:rz,useLayoutEffect:iz,useMemo:lz,useReducer:l2,useRef:nz,useState:function(){return l2(lg)},useDebugValue:gC,useDeferredValue:function(t){var e=oa();return Er===null?e.memoizedState=t:cz(e,Er.memoizedState,t)},useTransition:function(){var t=l2(lg)[0],e=oa().memoizedState;return[t,e]},useMutableSource:YB,useSyncExternalStore:KB,useId:uz,unstable_isNewReconciler:!1};function wa(t,e){if(t&&t.defaultProps){e=$n({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function RE(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:$n({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var n_={isMounted:function(t){return(t=t._reactInternals)?of(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Ui(),i=tc(t),s=Yo(r,i);s.payload=e,n!=null&&(s.callback=n),e=Ql(t,s,i),e!==null&&(Ia(e,t,i,r),Cx(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Ui(),i=tc(t),s=Yo(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Ql(t,s,i),e!==null&&(Ia(e,t,i,r),Cx(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Ui(),r=tc(t),i=Yo(n,r);i.tag=2,e!=null&&(i.callback=e),e=Ql(t,i,r),e!==null&&(Ia(e,t,r,n),Cx(e,t,r))}};function ML(t,e,n,r,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,a):e.prototype&&e.prototype.isPureReactComponent?!tg(n,r)||!tg(i,s):!0}function pz(t,e,n){var r=!1,i=hc,s=e.contextType;return typeof s=="object"&&s!==null?s=aa(s):(i=rs(e)?Vu:Si.current,r=e.contextTypes,s=(r=r!=null)?nh(t,i):hc),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=n_,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function EL(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&n_.enqueueReplaceState(e,e.state,null)}function OE(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},lC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=aa(s):(s=rs(e)?Vu:Si.current,i.context=nh(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(RE(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&n_.enqueueReplaceState(i,i.state,null),v1(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ah(t,e){try{var n="",r=e;do n+=gX(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function c2(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function LE(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Hq=typeof WeakMap=="function"?WeakMap:Map;function mz(t,e,n){n=Yo(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){w1||(w1=!0,HE=r),LE(t,e)},n}function gz(t,e,n){n=Yo(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){LE(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){LE(t,e),typeof r!="function"&&(ec===null?ec=new Set([this]):ec.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),n}function TL(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Hq;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=rY.bind(null,t,e,n),e.then(t,t))}function AL(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function PL(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Yo(-1,1),e.tag=2,Ql(n,e,1))),n.lanes|=1),t)}var $q=pl.ReactCurrentOwner,Qi=!1;function ji(t,e,n,r){e.child=t===null?WB(e,null,n,r):ih(e,t.child,n,r)}function CL(t,e,n,r,i){n=n.render;var s=e.ref;return Wd(e,i),r=hC(t,e,n,r,s,i),n=pC(),t!==null&&!Qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,al(t,e,i)):(kn&&n&&tC(e),e.flags|=1,ji(t,e,r,i),e.child)}function NL(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!MC(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,vz(t,e,s,r,i)):(t=jx(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(n=n.compare,n=n!==null?n:tg,n(a,r)&&t.ref===e.ref)return al(t,e,i)}return e.flags|=1,t=nc(s,r),t.ref=e.ref,t.return=e,e.child=t}function vz(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(tg(s,r)&&t.ref===e.ref)if(Qi=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Qi=!0);else return e.lanes=t.lanes,al(t,e,i)}return IE(t,e,n,r,i)}function yz(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},En(Td,Ms),Ms|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,En(Td,Ms),Ms|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,En(Td,Ms),Ms|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,En(Td,Ms),Ms|=r;return ji(t,e,i,n),e.child}function xz(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function IE(t,e,n,r,i){var s=rs(n)?Vu:Si.current;return s=nh(e,s),Wd(e,i),n=hC(t,e,n,r,s,i),r=pC(),t!==null&&!Qi?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,al(t,e,i)):(kn&&r&&tC(e),e.flags|=1,ji(t,e,n,i),e.child)}function RL(t,e,n,r,i){if(rs(n)){var s=!0;d1(e)}else s=!1;if(Wd(e,i),e.stateNode===null)Ox(t,e),pz(e,n,r),OE(e,n,r,i),r=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=n.contextType;typeof c=="object"&&c!==null?c=aa(c):(c=rs(n)?Vu:Si.current,c=nh(e,c));var u=n.getDerivedStateFromProps,f=typeof u=="function"||typeof a.getSnapshotBeforeUpdate=="function";f||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==r||l!==c)&&EL(e,a,r,c),Fl=!1;var d=e.memoizedState;a.state=d,v1(e,r,a,i),l=e.memoizedState,o!==r||d!==l||ns.current||Fl?(typeof u=="function"&&(RE(e,n,u,r),l=e.memoizedState),(o=Fl||ML(e,n,o,r,d,l,c))?(f||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{a=e.stateNode,XB(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:wa(e.type,o),a.props=c,f=e.pendingProps,d=a.context,l=n.contextType,typeof l=="object"&&l!==null?l=aa(l):(l=rs(n)?Vu:Si.current,l=nh(e,l));var p=n.getDerivedStateFromProps;(u=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==f||d!==l)&&EL(e,a,r,l),Fl=!1,d=e.memoizedState,a.state=d,v1(e,r,a,i);var v=e.memoizedState;o!==f||d!==v||ns.current||Fl?(typeof p=="function"&&(RE(e,n,p,r),v=e.memoizedState),(c=Fl||ML(e,n,c,r,d,v,l)||!1)?(u||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(r,v,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(r,v,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=v),a.props=r,a.state=v,a.context=l,r=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&d===t.memoizedState||(e.flags|=1024),r=!1)}return jE(t,e,n,r,s,i)}function jE(t,e,n,r,i,s){xz(t,e);var a=(e.flags&128)!==0;if(!r&&!a)return i&&gL(e,n,!1),al(t,e,s);r=e.stateNode,$q.current=e;var o=a&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&a?(e.child=ih(e,t.child,null,s),e.child=ih(e,null,o,s)):ji(t,e,o,s),e.memoizedState=r.state,i&&gL(e,n,!0),e.child}function bz(t){var e=t.stateNode;e.pendingContext?mL(t,e.pendingContext,e.pendingContext!==e.context):e.context&&mL(t,e.context,!1),cC(t,e.containerInfo)}function OL(t,e,n,r,i){return rh(),rC(i),e.flags|=256,ji(t,e,n,r),e.child}var kE={dehydrated:null,treeContext:null,retryLane:0};function DE(t){return{baseLanes:t,cachePool:null,transitions:null}}function _z(t,e,n){var r=e.pendingProps,i=Bn.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),En(Bn,i&1),t===null)return CE(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=r.children,t=r.fallback,s?(r=e.mode,s=e.child,a={mode:"hidden",children:a},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=s_(a,r,0,null),t=Lu(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=DE(n),e.memoizedState=kE,t):vC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return Wq(t,e,a,r,o,i,n);if(s){s=r.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:r.children};return!(a&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=nc(i,l),r.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=nc(o,s):(s=Lu(s,a,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,a=t.child.memoizedState,a=a===null?DE(n):{baseLanes:a.baseLanes|n,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~n,e.memoizedState=kE,r}return s=t.child,t=s.sibling,r=nc(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function vC(t,e){return e=s_({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function oy(t,e,n,r){return r!==null&&rC(r),ih(e,t.child,null,n),t=vC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Wq(t,e,n,r,i,s,a){if(n)return e.flags&256?(e.flags&=-257,r=c2(Error(qe(422))),oy(t,e,a,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=s_({mode:"visible",children:r.children},i,0,null),s=Lu(s,i,a,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&ih(e,t.child,null,a),e.child.memoizedState=DE(a),e.memoizedState=kE,s);if(!(e.mode&1))return oy(t,e,a,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var o=r.dgst;return r=o,s=Error(qe(419)),r=c2(s,r,void 0),oy(t,e,a,r)}if(o=(a&t.childLanes)!==0,Qi||o){if(r=Gr,r!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,sl(t,i),Ia(r,t,i,-1))}return SC(),r=c2(Error(qe(421))),oy(t,e,a,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=iY.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Ps=Jl(i.nextSibling),Cs=e,kn=!0,Aa=null,t!==null&&(Js[Qs++]=Vo,Js[Qs++]=Ho,Js[Qs++]=Hu,Vo=t.id,Ho=t.overflow,Hu=e),e=vC(e,r.children),e.flags|=4096,e)}function LL(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),NE(t.return,e,n)}function u2(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function wz(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(ji(t,e,r.children,n),r=Bn.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&LL(t,n,e);else if(t.tag===19)LL(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(En(Bn,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&y1(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),u2(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&y1(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}u2(e,!0,n,null,s);break;case"together":u2(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Ox(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function al(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Wu|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(qe(153));if(e.child!==null){for(t=e.child,n=nc(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=nc(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Gq(t,e,n){switch(e.tag){case 3:bz(e),rh();break;case 5:qB(e);break;case 1:rs(e.type)&&d1(e);break;case 4:cC(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;En(m1,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(En(Bn,Bn.current&1),e.flags|=128,null):n&e.child.childLanes?_z(t,e,n):(En(Bn,Bn.current&1),t=al(t,e,n),t!==null?t.sibling:null);En(Bn,Bn.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return wz(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),En(Bn,Bn.current),r)break;return null;case 22:case 23:return e.lanes=0,yz(t,e,n)}return al(t,e,n)}var Sz,UE,Mz,Ez;Sz=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};UE=function(){};Mz=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,_u(io.current);var s=null;switch(n){case"input":i=aE(t,i),r=aE(t,r),s=[];break;case"select":i=$n({},i,{value:void 0}),r=$n({},r,{value:void 0}),s=[];break;case"textarea":i=cE(t,i),r=cE(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=u1)}fE(n,r);var a;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(n||(n={}),n[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(qm.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(o=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(n||(n={}),n[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(n||(n={}),n[a]=l[a])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(qm.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&An("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};Ez=function(t,e,n,r){n!==r&&(e.flags|=4)};function Fp(t,e){if(!kn)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function ui(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Xq(t,e,n){var r=e.pendingProps;switch(nC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return ui(e),null;case 1:return rs(e.type)&&f1(),ui(e),null;case 3:return r=e.stateNode,sh(),On(ns),On(Si),fC(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(sy(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Aa!==null&&(GE(Aa),Aa=null))),UE(t,e),ui(e),null;case 5:uC(e);var i=_u(ag.current);if(n=e.type,t!==null&&e.stateNode!=null)Mz(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(qe(166));return ui(e),null}if(t=_u(io.current),sy(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[eo]=e,r[ig]=s,t=(e.mode&1)!==0,n){case"dialog":An("cancel",r),An("close",r);break;case"iframe":case"object":case"embed":An("load",r);break;case"video":case"audio":for(i=0;i<gm.length;i++)An(gm[i],r);break;case"source":An("error",r);break;case"img":case"image":case"link":An("error",r),An("load",r);break;case"details":An("toggle",r);break;case"input":V3(r,s),An("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},An("invalid",r);break;case"textarea":$3(r,s),An("invalid",r)}fE(n,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?r.textContent!==o&&(s.suppressHydrationWarning!==!0&&iy(r.textContent,o,t),i=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&iy(r.textContent,o,t),i=["children",""+o]):qm.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&An("scroll",r)}switch(n){case"input":Kv(r),H3(r,s,!0);break;case"textarea":Kv(r),W3(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=u1)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Q5(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=a.createElement(n,{is:r.is}):(t=a.createElement(n),n==="select"&&(a=t,r.multiple?a.multiple=!0:r.size&&(a.size=r.size))):t=a.createElementNS(t,n),t[eo]=e,t[ig]=r,Sz(t,e,!1,!1),e.stateNode=t;e:{switch(a=dE(n,r),n){case"dialog":An("cancel",t),An("close",t),i=r;break;case"iframe":case"object":case"embed":An("load",t),i=r;break;case"video":case"audio":for(i=0;i<gm.length;i++)An(gm[i],t);i=r;break;case"source":An("error",t),i=r;break;case"img":case"image":case"link":An("error",t),An("load",t),i=r;break;case"details":An("toggle",t),i=r;break;case"input":V3(t,r),i=aE(t,r),An("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=$n({},r,{value:void 0}),An("invalid",t);break;case"textarea":$3(t,r),i=cE(t,r),An("invalid",t);break;default:i=r}fE(n,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?nB(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eB(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Ym(t,l):typeof l=="number"&&Ym(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(qm.hasOwnProperty(s)?l!=null&&s==="onScroll"&&An("scroll",t):l!=null&&zP(t,s,l,a))}switch(n){case"input":Kv(t),H3(t,r,!1);break;case"textarea":Kv(t),W3(t);break;case"option":r.value!=null&&t.setAttribute("value",""+dc(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?zd(t,!!r.multiple,s,!1):r.defaultValue!=null&&zd(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=u1)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return ui(e),null;case 6:if(t&&e.stateNode!=null)Ez(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(qe(166));if(n=_u(ag.current),_u(io.current),sy(e)){if(r=e.stateNode,n=e.memoizedProps,r[eo]=e,(s=r.nodeValue!==n)&&(t=Cs,t!==null))switch(t.tag){case 3:iy(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&iy(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[eo]=e,e.stateNode=r}return ui(e),null;case 13:if(On(Bn),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(kn&&Ps!==null&&e.mode&1&&!(e.flags&128))HB(),rh(),e.flags|=98560,s=!1;else if(s=sy(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(qe(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(qe(317));s[eo]=e}else rh(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;ui(e),s=!1}else Aa!==null&&(GE(Aa),Aa=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Bn.current&1?Rr===0&&(Rr=3):SC())),e.updateQueue!==null&&(e.flags|=4),ui(e),null);case 4:return sh(),UE(t,e),t===null&&ng(e.stateNode.containerInfo),ui(e),null;case 10:return aC(e.type._context),ui(e),null;case 17:return rs(e.type)&&f1(),ui(e),null;case 19:if(On(Bn),s=e.memoizedState,s===null)return ui(e),null;if(r=(e.flags&128)!==0,a=s.rendering,a===null)if(r)Fp(s,!1);else{if(Rr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=y1(t),a!==null){for(e.flags|=128,Fp(s,!1),r=a.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return En(Bn,Bn.current&1|2),e.child}t=t.sibling}s.tail!==null&&ar()>oh&&(e.flags|=128,r=!0,Fp(s,!1),e.lanes=4194304)}else{if(!r)if(t=y1(a),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Fp(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!kn)return ui(e),null}else 2*ar()-s.renderingStartTime>oh&&n!==1073741824&&(e.flags|=128,r=!0,Fp(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(n=s.last,n!==null?n.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=ar(),e.sibling=null,n=Bn.current,En(Bn,r?n&1|2:n&1),e):(ui(e),null);case 22:case 23:return wC(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Ms&1073741824&&(ui(e),e.subtreeFlags&6&&(e.flags|=8192)):ui(e),null;case 24:return null;case 25:return null}throw Error(qe(156,e.tag))}function qq(t,e){switch(nC(e),e.tag){case 1:return rs(e.type)&&f1(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return sh(),On(ns),On(Si),fC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return uC(e),null;case 13:if(On(Bn),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(qe(340));rh()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return On(Bn),null;case 4:return sh(),null;case 10:return aC(e.type._context),null;case 22:case 23:return wC(),null;case 24:return null;default:return null}}var ly=!1,mi=!1,Yq=typeof WeakSet=="function"?WeakSet:Set,ct=null;function Ed(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){qn(t,e,r)}else n.current=null}function FE(t,e,n){try{n()}catch(r){qn(t,e,r)}}var IL=!1;function Kq(t,e){if(wE=o1,t=NB(),eC(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var a=0,o=-1,l=-1,c=0,u=0,f=t,d=null;t:for(;;){for(var p;f!==n||i!==0&&f.nodeType!==3||(o=a+i),f!==s||r!==0&&f.nodeType!==3||(l=a+r),f.nodeType===3&&(a+=f.nodeValue.length),(p=f.firstChild)!==null;)d=f,f=p;for(;;){if(f===t)break t;if(d===n&&++c===i&&(o=a),d===s&&++u===r&&(l=a),(p=f.nextSibling)!==null)break;f=d,d=f.parentNode}f=p}n=o===-1||l===-1?null:{start:o,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(SE={focusedElem:t,selectionRange:n},o1=!1,ct=e;ct!==null;)if(e=ct,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ct=t;else for(;ct!==null;){e=ct;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var b=v.memoizedProps,x=v.memoizedState,y=e.stateNode,w=y.getSnapshotBeforeUpdate(e.elementType===e.type?b:wa(e.type,b),x);y.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(qe(163))}}catch(S){qn(e,e.return,S)}if(t=e.sibling,t!==null){t.return=e.return,ct=t;break}ct=e.return}return v=IL,IL=!1,v}function Am(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&FE(e,n,s)}i=i.next}while(i!==r)}}function r_(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function BE(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function Tz(t){var e=t.alternate;e!==null&&(t.alternate=null,Tz(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[eo],delete e[ig],delete e[TE],delete e[Oq],delete e[Lq])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Az(t){return t.tag===5||t.tag===3||t.tag===4}function jL(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Az(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=u1));else if(r!==4&&(t=t.child,t!==null))for(zE(t,e,n),t=t.sibling;t!==null;)zE(t,e,n),t=t.sibling}function VE(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(VE(t,e,n),t=t.sibling;t!==null;)VE(t,e,n),t=t.sibling}var Jr=null,Ma=!1;function Nl(t,e,n){for(n=n.child;n!==null;)Pz(t,e,n),n=n.sibling}function Pz(t,e,n){if(ro&&typeof ro.onCommitFiberUnmount=="function")try{ro.onCommitFiberUnmount(Yb,n)}catch{}switch(n.tag){case 5:mi||Ed(n,e);case 6:var r=Jr,i=Ma;Jr=null,Nl(t,e,n),Jr=r,Ma=i,Jr!==null&&(Ma?(t=Jr,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Jr.removeChild(n.stateNode));break;case 18:Jr!==null&&(Ma?(t=Jr,n=n.stateNode,t.nodeType===8?r2(t.parentNode,n):t.nodeType===1&&r2(t,n),Qm(t)):r2(Jr,n.stateNode));break;case 4:r=Jr,i=Ma,Jr=n.stateNode.containerInfo,Ma=!0,Nl(t,e,n),Jr=r,Ma=i;break;case 0:case 11:case 14:case 15:if(!mi&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&FE(n,e,a),i=i.next}while(i!==r)}Nl(t,e,n);break;case 1:if(!mi&&(Ed(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){qn(n,e,o)}Nl(t,e,n);break;case 21:Nl(t,e,n);break;case 22:n.mode&1?(mi=(r=mi)||n.memoizedState!==null,Nl(t,e,n),mi=r):Nl(t,e,n);break;default:Nl(t,e,n)}}function kL(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Yq),e.forEach(function(r){var i=sY.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ya(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Jr=o.stateNode,Ma=!1;break e;case 3:Jr=o.stateNode.containerInfo,Ma=!0;break e;case 4:Jr=o.stateNode.containerInfo,Ma=!0;break e}o=o.return}if(Jr===null)throw Error(qe(160));Pz(s,a,i),Jr=null,Ma=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){qn(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Cz(e,t),e=e.sibling}function Cz(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ya(e,t),Ya(t),r&4){try{Am(3,t,t.return),r_(3,t)}catch(b){qn(t,t.return,b)}try{Am(5,t,t.return)}catch(b){qn(t,t.return,b)}}break;case 1:ya(e,t),Ya(t),r&512&&n!==null&&Ed(n,n.return);break;case 5:if(ya(e,t),Ya(t),r&512&&n!==null&&Ed(n,n.return),t.flags&32){var i=t.stateNode;try{Ym(i,"")}catch(b){qn(t,t.return,b)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=n!==null?n.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&Z5(i,s),dE(o,a);var c=dE(o,s);for(a=0;a<l.length;a+=2){var u=l[a],f=l[a+1];u==="style"?nB(i,f):u==="dangerouslySetInnerHTML"?eB(i,f):u==="children"?Ym(i,f):zP(i,u,f,c)}switch(o){case"input":oE(i,s);break;case"textarea":J5(i,s);break;case"select":var d=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?zd(i,!!s.multiple,p,!1):d!==!!s.multiple&&(s.defaultValue!=null?zd(i,!!s.multiple,s.defaultValue,!0):zd(i,!!s.multiple,s.multiple?[]:"",!1))}i[ig]=s}catch(b){qn(t,t.return,b)}}break;case 6:if(ya(e,t),Ya(t),r&4){if(t.stateNode===null)throw Error(qe(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(b){qn(t,t.return,b)}}break;case 3:if(ya(e,t),Ya(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Qm(e.containerInfo)}catch(b){qn(t,t.return,b)}break;case 4:ya(e,t),Ya(t);break;case 13:ya(e,t),Ya(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(bC=ar())),r&4&&kL(t);break;case 22:if(u=n!==null&&n.memoizedState!==null,t.mode&1?(mi=(c=mi)||u,ya(e,t),mi=c):ya(e,t),Ya(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!u&&t.mode&1)for(ct=t,u=t.child;u!==null;){for(f=ct=u;ct!==null;){switch(d=ct,p=d.child,d.tag){case 0:case 11:case 14:case 15:Am(4,d,d.return);break;case 1:Ed(d,d.return);var v=d.stateNode;if(typeof v.componentWillUnmount=="function"){r=d,n=d.return;try{e=r,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(b){qn(r,n,b)}}break;case 5:Ed(d,d.return);break;case 22:if(d.memoizedState!==null){UL(f);continue}}p!==null?(p.return=d,ct=p):UL(f)}u=u.sibling}e:for(u=null,f=t;;){if(f.tag===5){if(u===null){u=f;try{i=f.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=f.stateNode,l=f.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=tB("display",a))}catch(b){qn(t,t.return,b)}}}else if(f.tag===6){if(u===null)try{f.stateNode.nodeValue=c?"":f.memoizedProps}catch(b){qn(t,t.return,b)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;u===f&&(u=null),f=f.return}u===f&&(u=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:ya(e,t),Ya(t),r&4&&kL(t);break;case 21:break;default:ya(e,t),Ya(t)}}function Ya(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Az(n)){var r=n;break e}n=n.return}throw Error(qe(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Ym(i,""),r.flags&=-33);var s=jL(t);VE(t,s,i);break;case 3:case 4:var a=r.stateNode.containerInfo,o=jL(t);zE(t,o,a);break;default:throw Error(qe(161))}}catch(l){qn(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Zq(t,e,n){ct=t,Nz(t)}function Nz(t,e,n){for(var r=(t.mode&1)!==0;ct!==null;){var i=ct,s=i.child;if(i.tag===22&&r){var a=i.memoizedState!==null||ly;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||mi;o=ly;var c=mi;if(ly=a,(mi=l)&&!c)for(ct=i;ct!==null;)a=ct,l=a.child,a.tag===22&&a.memoizedState!==null?FL(i):l!==null?(l.return=a,ct=l):FL(i);for(;s!==null;)ct=s,Nz(s),s=s.sibling;ct=i,ly=o,mi=c}DL(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ct=s):DL(t)}}function DL(t){for(;ct!==null;){var e=ct;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:mi||r_(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!mi)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:wa(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&_L(e,s,r);break;case 3:var a=e.updateQueue;if(a!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}_L(e,a,n)}break;case 5:var o=e.stateNode;if(n===null&&e.flags&4){n=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var u=c.memoizedState;if(u!==null){var f=u.dehydrated;f!==null&&Qm(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(qe(163))}mi||e.flags&512&&BE(e)}catch(d){qn(e,e.return,d)}}if(e===t){ct=null;break}if(n=e.sibling,n!==null){n.return=e.return,ct=n;break}ct=e.return}}function UL(t){for(;ct!==null;){var e=ct;if(e===t){ct=null;break}var n=e.sibling;if(n!==null){n.return=e.return,ct=n;break}ct=e.return}}function FL(t){for(;ct!==null;){var e=ct;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{r_(4,e)}catch(l){qn(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){qn(e,i,l)}}var s=e.return;try{BE(e)}catch(l){qn(e,s,l)}break;case 5:var a=e.return;try{BE(e)}catch(l){qn(e,a,l)}}}catch(l){qn(e,e.return,l)}if(e===t){ct=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ct=o;break}ct=e.return}}var Jq=Math.ceil,_1=pl.ReactCurrentDispatcher,yC=pl.ReactCurrentOwner,ra=pl.ReactCurrentBatchConfig,Qt=0,Gr=null,gr=null,ei=0,Ms=0,Td=bc(0),Rr=0,ug=null,Wu=0,i_=0,xC=0,Pm=null,Yi=null,bC=0,oh=1/0,Do=null,w1=!1,HE=null,ec=null,cy=!1,Gl=null,S1=0,Cm=0,$E=null,Lx=-1,Ix=0;function Ui(){return Qt&6?ar():Lx!==-1?Lx:Lx=ar()}function tc(t){return t.mode&1?Qt&2&&ei!==0?ei&-ei:jq.transition!==null?(Ix===0&&(Ix=pB()),Ix):(t=hn,t!==0||(t=window.event,t=t===void 0?16:_B(t.type)),t):1}function Ia(t,e,n,r){if(50<Cm)throw Cm=0,$E=null,Error(qe(185));E0(t,n,r),(!(Qt&2)||t!==Gr)&&(t===Gr&&(!(Qt&2)&&(i_|=n),Rr===4&&Hl(t,ei)),is(t,r),n===1&&Qt===0&&!(e.mode&1)&&(oh=ar()+500,e_&&_c()))}function is(t,e){var n=t.callbackNode;jX(t,e);var r=a1(t,t===Gr?ei:0);if(r===0)n!==null&&q3(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&q3(n),e===1)t.tag===0?Iq(BL.bind(null,t)):BB(BL.bind(null,t)),Nq(function(){!(Qt&6)&&_c()}),n=null;else{switch(mB(r)){case 1:n=GP;break;case 4:n=dB;break;case 16:n=s1;break;case 536870912:n=hB;break;default:n=s1}n=Uz(n,Rz.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Rz(t,e){if(Lx=-1,Ix=0,Qt&6)throw Error(qe(327));var n=t.callbackNode;if(Gd()&&t.callbackNode!==n)return null;var r=a1(t,t===Gr?ei:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=M1(t,r);else{e=r;var i=Qt;Qt|=2;var s=Lz();(Gr!==t||ei!==e)&&(Do=null,oh=ar()+500,Ou(t,e));do try{tY();break}catch(o){Oz(t,o)}while(1);sC(),_1.current=s,Qt=i,gr!==null?e=0:(Gr=null,ei=0,e=Rr)}if(e!==0){if(e===2&&(i=vE(t),i!==0&&(r=i,e=WE(t,i))),e===1)throw n=ug,Ou(t,0),Hl(t,r),is(t,ar()),n;if(e===6)Hl(t,r);else{if(i=t.current.alternate,!(r&30)&&!Qq(i)&&(e=M1(t,r),e===2&&(s=vE(t),s!==0&&(r=s,e=WE(t,s))),e===1))throw n=ug,Ou(t,0),Hl(t,r),is(t,ar()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(qe(345));case 2:cu(t,Yi,Do);break;case 3:if(Hl(t,r),(r&130023424)===r&&(e=bC+500-ar(),10<e)){if(a1(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Ui(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=EE(cu.bind(null,t,Yi,Do),e);break}cu(t,Yi,Do);break;case 4:if(Hl(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var a=31-La(r);s=1<<a,a=e[a],a>i&&(i=a),r&=~s}if(r=i,r=ar()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Jq(r/1960))-r,10<r){t.timeoutHandle=EE(cu.bind(null,t,Yi,Do),r);break}cu(t,Yi,Do);break;case 5:cu(t,Yi,Do);break;default:throw Error(qe(329))}}}return is(t,ar()),t.callbackNode===n?Rz.bind(null,t):null}function WE(t,e){var n=Pm;return t.current.memoizedState.isDehydrated&&(Ou(t,e).flags|=256),t=M1(t,e),t!==2&&(e=Yi,Yi=n,e!==null&&GE(e)),t}function GE(t){Yi===null?Yi=t:Yi.push.apply(Yi,t)}function Qq(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!ka(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Hl(t,e){for(e&=~xC,e&=~i_,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-La(e),r=1<<n;t[n]=-1,e&=~r}}function BL(t){if(Qt&6)throw Error(qe(327));Gd();var e=a1(t,0);if(!(e&1))return is(t,ar()),null;var n=M1(t,e);if(t.tag!==0&&n===2){var r=vE(t);r!==0&&(e=r,n=WE(t,r))}if(n===1)throw n=ug,Ou(t,0),Hl(t,e),is(t,ar()),n;if(n===6)throw Error(qe(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,cu(t,Yi,Do),is(t,ar()),null}function _C(t,e){var n=Qt;Qt|=1;try{return t(e)}finally{Qt=n,Qt===0&&(oh=ar()+500,e_&&_c())}}function Gu(t){Gl!==null&&Gl.tag===0&&!(Qt&6)&&Gd();var e=Qt;Qt|=1;var n=ra.transition,r=hn;try{if(ra.transition=null,hn=1,t)return t()}finally{hn=r,ra.transition=n,Qt=e,!(Qt&6)&&_c()}}function wC(){Ms=Td.current,On(Td)}function Ou(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,Cq(n)),gr!==null)for(n=gr.return;n!==null;){var r=n;switch(nC(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&f1();break;case 3:sh(),On(ns),On(Si),fC();break;case 5:uC(r);break;case 4:sh();break;case 13:On(Bn);break;case 19:On(Bn);break;case 10:aC(r.type._context);break;case 22:case 23:wC()}n=n.return}if(Gr=t,gr=t=nc(t.current,null),ei=Ms=e,Rr=0,ug=null,xC=i_=Wu=0,Yi=Pm=null,bu!==null){for(e=0;e<bu.length;e++)if(n=bu[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var a=s.next;s.next=i,r.next=a}n.pending=r}bu=null}return t}function Oz(t,e){do{var n=gr;try{if(sC(),Nx.current=b1,x1){for(var r=Hn.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}x1=!1}if($u=0,Wr=Er=Hn=null,Tm=!1,og=0,yC.current=null,n===null||n.return===null){Rr=1,ug=e,gr=null;break}e:{var s=t,a=n.return,o=n,l=e;if(e=ei,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,u=o,f=u.tag;if(!(u.mode&1)&&(f===0||f===11||f===15)){var d=u.alternate;d?(u.updateQueue=d.updateQueue,u.memoizedState=d.memoizedState,u.lanes=d.lanes):(u.updateQueue=null,u.memoizedState=null)}var p=AL(a);if(p!==null){p.flags&=-257,PL(p,a,o,s,e),p.mode&1&&TL(s,c,e),e=p,l=c;var v=e.updateQueue;if(v===null){var b=new Set;b.add(l),e.updateQueue=b}else v.add(l);break e}else{if(!(e&1)){TL(s,c,e),SC();break e}l=Error(qe(426))}}else if(kn&&o.mode&1){var x=AL(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),PL(x,a,o,s,e),rC(ah(l,o));break e}}s=l=ah(l,o),Rr!==4&&(Rr=2),Pm===null?Pm=[s]:Pm.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=mz(s,l,e);bL(s,y);break e;case 1:o=l;var w=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof w.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(ec===null||!ec.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var S=gz(s,o,e);bL(s,S);break e}}s=s.return}while(s!==null)}jz(n)}catch(M){e=M,gr===n&&n!==null&&(gr=n=n.return);continue}break}while(1)}function Lz(){var t=_1.current;return _1.current=b1,t===null?b1:t}function SC(){(Rr===0||Rr===3||Rr===2)&&(Rr=4),Gr===null||!(Wu&268435455)&&!(i_&268435455)||Hl(Gr,ei)}function M1(t,e){var n=Qt;Qt|=2;var r=Lz();(Gr!==t||ei!==e)&&(Do=null,Ou(t,e));do try{eY();break}catch(i){Oz(t,i)}while(1);if(sC(),Qt=n,_1.current=r,gr!==null)throw Error(qe(261));return Gr=null,ei=0,Rr}function eY(){for(;gr!==null;)Iz(gr)}function tY(){for(;gr!==null&&!TX();)Iz(gr)}function Iz(t){var e=Dz(t.alternate,t,Ms);t.memoizedProps=t.pendingProps,e===null?jz(t):gr=e,yC.current=null}function jz(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=qq(n,e),n!==null){n.flags&=32767,gr=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Rr=6,gr=null;return}}else if(n=Xq(n,e,Ms),n!==null){gr=n;return}if(e=e.sibling,e!==null){gr=e;return}gr=e=t}while(e!==null);Rr===0&&(Rr=5)}function cu(t,e,n){var r=hn,i=ra.transition;try{ra.transition=null,hn=1,nY(t,e,n,r)}finally{ra.transition=i,hn=r}return null}function nY(t,e,n,r){do Gd();while(Gl!==null);if(Qt&6)throw Error(qe(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(qe(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(kX(t,s),t===Gr&&(gr=Gr=null,ei=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||cy||(cy=!0,Uz(s1,function(){return Gd(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=ra.transition,ra.transition=null;var a=hn;hn=1;var o=Qt;Qt|=4,yC.current=null,Kq(t,n),Cz(n,t),wq(SE),o1=!!wE,SE=wE=null,t.current=n,Zq(n),AX(),Qt=o,hn=a,ra.transition=s}else t.current=n;if(cy&&(cy=!1,Gl=t,S1=i),s=t.pendingLanes,s===0&&(ec=null),NX(n.stateNode),is(t,ar()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(w1)throw w1=!1,t=HE,HE=null,t;return S1&1&&t.tag!==0&&Gd(),s=t.pendingLanes,s&1?t===$E?Cm++:(Cm=0,$E=t):Cm=0,_c(),null}function Gd(){if(Gl!==null){var t=mB(S1),e=ra.transition,n=hn;try{if(ra.transition=null,hn=16>t?16:t,Gl===null)var r=!1;else{if(t=Gl,Gl=null,S1=0,Qt&6)throw Error(qe(331));var i=Qt;for(Qt|=4,ct=t.current;ct!==null;){var s=ct,a=s.child;if(ct.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(ct=c;ct!==null;){var u=ct;switch(u.tag){case 0:case 11:case 15:Am(8,u,s)}var f=u.child;if(f!==null)f.return=u,ct=f;else for(;ct!==null;){u=ct;var d=u.sibling,p=u.return;if(Tz(u),u===c){ct=null;break}if(d!==null){d.return=p,ct=d;break}ct=p}}}var v=s.alternate;if(v!==null){var b=v.child;if(b!==null){v.child=null;do{var x=b.sibling;b.sibling=null,b=x}while(b!==null)}}ct=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ct=a;else e:for(;ct!==null;){if(s=ct,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Am(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ct=y;break e}ct=s.return}}var w=t.current;for(ct=w;ct!==null;){a=ct;var _=a.child;if(a.subtreeFlags&2064&&_!==null)_.return=a,ct=_;else e:for(a=w;ct!==null;){if(o=ct,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:r_(9,o)}}catch(M){qn(o,o.return,M)}if(o===a){ct=null;break e}var S=o.sibling;if(S!==null){S.return=o.return,ct=S;break e}ct=o.return}}if(Qt=i,_c(),ro&&typeof ro.onPostCommitFiberRoot=="function")try{ro.onPostCommitFiberRoot(Yb,t)}catch{}r=!0}return r}finally{hn=n,ra.transition=e}}return!1}function zL(t,e,n){e=ah(n,e),e=mz(t,e,1),t=Ql(t,e,1),e=Ui(),t!==null&&(E0(t,1,e),is(t,e))}function qn(t,e,n){if(t.tag===3)zL(t,t,n);else for(;e!==null;){if(e.tag===3){zL(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ec===null||!ec.has(r))){t=ah(n,t),t=gz(e,t,1),e=Ql(e,t,1),t=Ui(),e!==null&&(E0(e,1,t),is(e,t));break}}e=e.return}}function rY(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Ui(),t.pingedLanes|=t.suspendedLanes&n,Gr===t&&(ei&n)===n&&(Rr===4||Rr===3&&(ei&130023424)===ei&&500>ar()-bC?Ou(t,0):xC|=n),is(t,e)}function kz(t,e){e===0&&(t.mode&1?(e=Qv,Qv<<=1,!(Qv&130023424)&&(Qv=4194304)):e=1);var n=Ui();t=sl(t,e),t!==null&&(E0(t,e,n),is(t,n))}function iY(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),kz(t,n)}function sY(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(qe(314))}r!==null&&r.delete(e),kz(t,n)}var Dz;Dz=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||ns.current)Qi=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Qi=!1,Gq(t,e,n);Qi=!!(t.flags&131072)}else Qi=!1,kn&&e.flags&1048576&&zB(e,p1,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Ox(t,e),t=e.pendingProps;var i=nh(e,Si.current);Wd(e,n),i=hC(null,e,r,t,i,n);var s=pC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,rs(r)?(s=!0,d1(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,lC(e),i.updater=n_,e.stateNode=i,i._reactInternals=e,OE(e,r,t,n),e=jE(null,e,r,!0,s,n)):(e.tag=0,kn&&s&&tC(e),ji(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Ox(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=oY(r),t=wa(r,t),i){case 0:e=IE(null,e,r,t,n);break e;case 1:e=RL(null,e,r,t,n);break e;case 11:e=CL(null,e,r,t,n);break e;case 14:e=NL(null,e,r,wa(r.type,t),n);break e}throw Error(qe(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wa(r,i),IE(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wa(r,i),RL(t,e,r,i,n);case 3:e:{if(bz(e),t===null)throw Error(qe(387));r=e.pendingProps,s=e.memoizedState,i=s.element,XB(t,e),v1(e,r,null,n);var a=e.memoizedState;if(r=a.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ah(Error(qe(423)),e),e=OL(t,e,r,n,i);break e}else if(r!==i){i=ah(Error(qe(424)),e),e=OL(t,e,r,n,i);break e}else for(Ps=Jl(e.stateNode.containerInfo.firstChild),Cs=e,kn=!0,Aa=null,n=WB(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(rh(),r===i){e=al(t,e,n);break e}ji(t,e,r,n)}e=e.child}return e;case 5:return qB(e),t===null&&CE(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,ME(r,i)?a=null:s!==null&&ME(r,s)&&(e.flags|=32),xz(t,e),ji(t,e,a,n),e.child;case 6:return t===null&&CE(e),null;case 13:return _z(t,e,n);case 4:return cC(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=ih(e,null,r,n):ji(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wa(r,i),CL(t,e,r,i,n);case 7:return ji(t,e,e.pendingProps,n),e.child;case 8:return ji(t,e,e.pendingProps.children,n),e.child;case 12:return ji(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,En(m1,r._currentValue),r._currentValue=a,s!==null)if(ka(s.value,a)){if(s.children===i.children&&!ns.current){e=al(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Yo(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var u=c.pending;u===null?l.next=l:(l.next=u.next,u.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),NE(s.return,n,e),o.lanes|=n;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(qe(341));a.lanes|=n,o=a.alternate,o!==null&&(o.lanes|=n),NE(a,n,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}ji(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,Wd(e,n),i=aa(i),r=r(i),e.flags|=1,ji(t,e,r,n),e.child;case 14:return r=e.type,i=wa(r,e.pendingProps),i=wa(r.type,i),NL(t,e,r,i,n);case 15:return vz(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:wa(r,i),Ox(t,e),e.tag=1,rs(r)?(t=!0,d1(e)):t=!1,Wd(e,n),pz(e,r,i),OE(e,r,i,n),jE(null,e,r,!0,t,n);case 19:return wz(t,e,n);case 22:return yz(t,e,n)}throw Error(qe(156,e.tag))};function Uz(t,e){return fB(t,e)}function aY(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function ta(t,e,n,r){return new aY(t,e,n,r)}function MC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function oY(t){if(typeof t=="function")return MC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===HP)return 11;if(t===$P)return 14}return 2}function nc(t,e){var n=t.alternate;return n===null?(n=ta(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function jx(t,e,n,r,i,s){var a=2;if(r=t,typeof t=="function")MC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case gd:return Lu(n.children,i,s,e);case VP:a=8,i|=8;break;case nE:return t=ta(12,n,e,i|2),t.elementType=nE,t.lanes=s,t;case rE:return t=ta(13,n,e,i),t.elementType=rE,t.lanes=s,t;case iE:return t=ta(19,n,e,i),t.elementType=iE,t.lanes=s,t;case q5:return s_(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case G5:a=10;break e;case X5:a=9;break e;case HP:a=11;break e;case $P:a=14;break e;case Ul:a=16,r=null;break e}throw Error(qe(130,t==null?t:typeof t,""))}return e=ta(a,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function Lu(t,e,n,r){return t=ta(7,t,r,e),t.lanes=n,t}function s_(t,e,n,r){return t=ta(22,t,r,e),t.elementType=q5,t.lanes=n,t.stateNode={isHidden:!1},t}function f2(t,e,n){return t=ta(6,t,null,e),t.lanes=n,t}function d2(t,e,n){return e=ta(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function lY(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=GS(0),this.expirationTimes=GS(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=GS(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function EC(t,e,n,r,i,s,a,o,l){return t=new lY(t,e,n,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=ta(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},lC(s),t}function cY(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:md,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function Fz(t){if(!t)return hc;t=t._reactInternals;e:{if(of(t)!==t||t.tag!==1)throw Error(qe(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(rs(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(qe(171))}if(t.tag===1){var n=t.type;if(rs(n))return FB(t,n,e)}return e}function Bz(t,e,n,r,i,s,a,o,l){return t=EC(n,r,!0,t,i,s,a,o,l),t.context=Fz(null),n=t.current,r=Ui(),i=tc(n),s=Yo(r,i),s.callback=e??null,Ql(n,s,i),t.current.lanes=i,E0(t,i,r),is(t,r),t}function a_(t,e,n,r){var i=e.current,s=Ui(),a=tc(i);return n=Fz(n),e.context===null?e.context=n:e.pendingContext=n,e=Yo(s,a),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Ql(i,e,a),t!==null&&(Ia(t,i,a,s),Cx(t,i,a)),a}function E1(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function VL(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function TC(t,e){VL(t,e),(t=t.alternate)&&VL(t,e)}function uY(){return null}var zz=typeof reportError=="function"?reportError:function(t){console.error(t)};function AC(t){this._internalRoot=t}o_.prototype.render=AC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(qe(409));a_(t,e,null,null)};o_.prototype.unmount=AC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Gu(function(){a_(null,t,null,null)}),e[il]=null}};function o_(t){this._internalRoot=t}o_.prototype.unstable_scheduleHydration=function(t){if(t){var e=yB();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Vl.length&&e!==0&&e<Vl[n].priority;n++);Vl.splice(n,0,t),n===0&&bB(t)}};function PC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function l_(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function HL(){}function fY(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=E1(a);s.call(c)}}var a=Bz(e,r,t,0,null,!1,!1,"",HL);return t._reactRootContainer=a,t[il]=a.current,ng(t.nodeType===8?t.parentNode:t),Gu(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var o=r;r=function(){var c=E1(l);o.call(c)}}var l=EC(t,0,!1,null,null,!1,!1,"",HL);return t._reactRootContainer=l,t[il]=l.current,ng(t.nodeType===8?t.parentNode:t),Gu(function(){a_(e,l,n,r)}),l}function c_(t,e,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=E1(a);o.call(l)}}a_(e,a,t,i)}else a=fY(n,e,t,i,r);return E1(a)}gB=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=mm(e.pendingLanes);n!==0&&(XP(e,n|1),is(e,ar()),!(Qt&6)&&(oh=ar()+500,_c()))}break;case 13:Gu(function(){var r=sl(t,1);if(r!==null){var i=Ui();Ia(r,t,1,i)}}),TC(t,1)}};qP=function(t){if(t.tag===13){var e=sl(t,134217728);if(e!==null){var n=Ui();Ia(e,t,134217728,n)}TC(t,134217728)}};vB=function(t){if(t.tag===13){var e=tc(t),n=sl(t,e);if(n!==null){var r=Ui();Ia(n,t,e,r)}TC(t,e)}};yB=function(){return hn};xB=function(t,e){var n=hn;try{return hn=t,e()}finally{hn=n}};pE=function(t,e,n){switch(e){case"input":if(oE(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Qb(r);if(!i)throw Error(qe(90));K5(r),oE(r,i)}}}break;case"textarea":J5(t,n);break;case"select":e=n.value,e!=null&&zd(t,!!n.multiple,e,!1)}};sB=_C;aB=Gu;var dY={usingClientEntryPoint:!1,Events:[A0,bd,Qb,rB,iB,_C]},Bp={findFiberByHostInstance:xu,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hY={bundleType:Bp.bundleType,version:Bp.version,rendererPackageName:Bp.rendererPackageName,rendererConfig:Bp.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:pl.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=cB(t),t===null?null:t.stateNode},findFiberByHostInstance:Bp.findFiberByHostInstance||uY,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var uy=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!uy.isDisabled&&uy.supportsFiber)try{Yb=uy.inject(hY),ro=uy}catch{}}Is.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dY;Is.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!PC(e))throw Error(qe(200));return cY(t,e,null,n)};Is.createRoot=function(t,e){if(!PC(t))throw Error(qe(299));var n=!1,r="",i=zz;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=EC(t,1,!1,null,null,n,!1,r,i),t[il]=e.current,ng(t.nodeType===8?t.parentNode:t),new AC(e)};Is.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(qe(188)):(t=Object.keys(t).join(","),Error(qe(268,t)));return t=cB(e),t=t===null?null:t.stateNode,t};Is.flushSync=function(t){return Gu(t)};Is.hydrate=function(t,e,n){if(!l_(e))throw Error(qe(200));return c_(null,t,e,!0,n)};Is.hydrateRoot=function(t,e,n){if(!PC(t))throw Error(qe(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",a=zz;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(a=n.onRecoverableError)),e=Bz(e,null,t,1,n??null,i,!1,s,a),t[il]=e.current,ng(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new o_(e)};Is.render=function(t,e,n){if(!l_(e))throw Error(qe(200));return c_(null,t,e,!1,n)};Is.unmountComponentAtNode=function(t){if(!l_(t))throw Error(qe(40));return t._reactRootContainer?(Gu(function(){c_(null,null,t,!1,function(){t._reactRootContainer=null,t[il]=null})}),!0):!1};Is.unstable_batchedUpdates=_C;Is.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!l_(n))throw Error(qe(200));if(t==null||t._reactInternals===void 0)throw Error(qe(38));return c_(t,e,n,!1,r)};Is.version="18.3.1-next-f1338f8080-20240426";function Vz(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Vz)}catch(t){console.error(t)}}Vz(),V5.exports=Is;var pY=V5.exports,$L=pY;eE.createRoot=$L.createRoot,eE.hydrateRoot=$L.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function fg(){return fg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},fg.apply(this,arguments)}var Xl;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xl||(Xl={}));const WL="popstate";function mY(t){t===void 0&&(t={});function e(r,i){let{pathname:s,search:a,hash:o}=r.location;return XE("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:T1(i)}return vY(e,n,null,t)}function cr(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Hz(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function gY(){return Math.random().toString(36).substr(2,8)}function GL(t,e){return{usr:t.state,key:t.key,idx:e}}function XE(t,e,n,r){return n===void 0&&(n=null),fg({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?zh(e):e,{state:n,key:e&&e.key||r||gY()})}function T1(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function zh(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function vY(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o=Xl.Pop,l=null,c=u();c==null&&(c=0,a.replaceState(fg({},a.state,{idx:c}),""));function u(){return(a.state||{idx:null}).idx}function f(){o=Xl.Pop;let x=u(),y=x==null?null:x-c;c=x,l&&l({action:o,location:b.location,delta:y})}function d(x,y){o=Xl.Push;let w=XE(b.location,x,y);n&&n(w,x),c=u()+1;let _=GL(w,c),S=b.createHref(w);try{a.pushState(_,"",S)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;i.location.assign(S)}s&&l&&l({action:o,location:b.location,delta:1})}function p(x,y){o=Xl.Replace;let w=XE(b.location,x,y);n&&n(w,x),c=u();let _=GL(w,c),S=b.createHref(w);a.replaceState(_,"",S),s&&l&&l({action:o,location:b.location,delta:0})}function v(x){let y=i.location.origin!=="null"?i.location.origin:i.location.href,w=typeof x=="string"?x:T1(x);return w=w.replace(/ $/,"%20"),cr(y,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,y)}let b={get action(){return o},get location(){return t(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WL,f),l=x,()=>{i.removeEventListener(WL,f),l=null}},createHref(x){return e(i,x)},createURL:v,encodeLocation(x){let y=v(x);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:d,replace:p,go(x){return a.go(x)}};return b}var XL;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(XL||(XL={}));function yY(t,e,n){return n===void 0&&(n="/"),xY(t,e,n,!1)}function xY(t,e,n,r){let i=typeof e=="string"?zh(e):e,s=CC(i.pathname||"/",n);if(s==null)return null;let a=$z(t);bY(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=RY(s);o=CY(a[l],c,r)}return o}function $z(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(cr(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=rc([r,l.relativePath]),u=n.concat(l);s.children&&s.children.length>0&&(cr(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),$z(s.children,e,u,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:AY(c,s.index),routesMeta:u})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of Wz(s.path))i(s,a,l)}),e}function Wz(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let a=Wz(r.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function bY(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:PY(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const _Y=/^:[\w-]+$/,wY=3,SY=2,MY=1,EY=10,TY=-2,qL=t=>t==="*";function AY(t,e){let n=t.split("/"),r=n.length;return n.some(qL)&&(r+=TY),e&&(r+=SY),n.filter(i=>!qL(i)).reduce((i,s)=>i+(_Y.test(s)?wY:s===""?MY:EY),r)}function PY(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function CY(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,i={},s="/",a=[];for(let o=0;o<r.length;++o){let l=r[o],c=o===r.length-1,u=s==="/"?e:e.slice(s.length)||"/",f=YL({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},u),d=l.route;if(!f&&c&&n&&!r[r.length-1].route.index&&(f=YL({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},u)),!f)return null;Object.assign(i,f.params),a.push({params:i,pathname:rc([s,f.pathname]),pathnameBase:jY(rc([s,f.pathnameBase])),route:d}),f.pathnameBase!=="/"&&(s=rc([s,f.pathnameBase]))}return a}function YL(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=NY(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce((c,u,f)=>{let{paramName:d,isOptional:p}=u;if(d==="*"){let b=o[f]||"";a=s.slice(0,s.length-b.length).replace(/(.)\/+$/,"$1")}const v=o[f];return p&&!v?c[d]=void 0:c[d]=(v||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function NY(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),Hz(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(r.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function RY(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Hz(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function CC(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function OY(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?zh(t):t;return{pathname:n?n.startsWith("/")?n:LY(n,e):e,search:kY(r),hash:DY(i)}}function LY(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function h2(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function IY(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function NC(t,e){let n=IY(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function RC(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=zh(t):(i=fg({},t),cr(!i.pathname||!i.pathname.includes("?"),h2("?","pathname","search",i)),cr(!i.pathname||!i.pathname.includes("#"),h2("#","pathname","hash",i)),cr(!i.search||!i.search.includes("#"),h2("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=n;else{let f=e.length-1;if(!r&&a.startsWith("..")){let d=a.split("/");for(;d[0]==="..";)d.shift(),f-=1;i.pathname=d.join("/")}o=f>=0?e[f]:"/"}let l=OY(i,o),c=a&&a!=="/"&&a.endsWith("/"),u=(s||a===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||u)&&(l.pathname+="/"),l}const rc=t=>t.join("/").replace(/\/\/+/g,"/"),jY=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),kY=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,DY=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UY(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Gz=["post","put","patch","delete"];new Set(Gz);const FY=["get",...Gz];new Set(FY);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function dg(){return dg=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dg.apply(this,arguments)}const OC=F.createContext(null),BY=F.createContext(null),wc=F.createContext(null),u_=F.createContext(null),Sc=F.createContext({outlet:null,matches:[],isDataRoute:!1}),Xz=F.createContext(null);function zY(t,e){let{relative:n}=e===void 0?{}:e;Vh()||cr(!1);let{basename:r,navigator:i}=F.useContext(wc),{hash:s,pathname:a,search:o}=Yz(t,{relative:n}),l=a;return r!=="/"&&(l=a==="/"?r:rc([r,a])),i.createHref({pathname:l,search:o,hash:s})}function Vh(){return F.useContext(u_)!=null}function C0(){return Vh()||cr(!1),F.useContext(u_).location}function qz(t){F.useContext(wc).static||F.useLayoutEffect(t)}function f_(){let{isDataRoute:t}=F.useContext(Sc);return t?eK():VY()}function VY(){Vh()||cr(!1);let t=F.useContext(OC),{basename:e,future:n,navigator:r}=F.useContext(wc),{matches:i}=F.useContext(Sc),{pathname:s}=C0(),a=JSON.stringify(NC(i,n.v7_relativeSplatPath)),o=F.useRef(!1);return qz(()=>{o.current=!0}),F.useCallback(function(c,u){if(u===void 0&&(u={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let f=RC(c,JSON.parse(a),s,u.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:rc([e,f.pathname])),(u.replace?r.replace:r.push)(f,u.state,u)},[e,r,a,s,t])}function Yz(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=F.useContext(wc),{matches:i}=F.useContext(Sc),{pathname:s}=C0(),a=JSON.stringify(NC(i,r.v7_relativeSplatPath));return F.useMemo(()=>RC(t,JSON.parse(a),s,n==="path"),[t,a,s,n])}function HY(t,e){return $Y(t,e)}function $Y(t,e,n,r){Vh()||cr(!1);let{navigator:i}=F.useContext(wc),{matches:s}=F.useContext(Sc),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=C0(),u;if(e){var f;let x=typeof e=="string"?zh(e):e;l==="/"||(f=x.pathname)!=null&&f.startsWith(l)||cr(!1),u=x}else u=c;let d=u.pathname||"/",p=d;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+d.replace(/^\//,"").split("/").slice(x.length).join("/")}let v=yY(t,{pathname:p}),b=YY(v&&v.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:rc([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:rc([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,n,r);return e&&b?F.createElement(u_.Provider,{value:{location:dg({pathname:"/",search:"",hash:"",state:null,key:"default"},u),navigationType:Xl.Pop}},b):b}function WY(){let t=QY(),e=UY(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},s=null;return F.createElement(F.Fragment,null,F.createElement("h2",null,"Unexpected Application Error!"),F.createElement("h3",{style:{fontStyle:"italic"}},e),n?F.createElement("pre",{style:i},n):null,s)}const GY=F.createElement(WY,null);class XY extends F.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?F.createElement(Sc.Provider,{value:this.props.routeContext},F.createElement(Xz.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function qY(t){let{routeContext:e,match:n,children:r}=t,i=F.useContext(OC);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),F.createElement(Sc.Provider,{value:e},r)}function YY(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var s;if(!n)return null;if(n.errors)t=n.matches;else if((s=r)!=null&&s.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let a=t,o=(i=n)==null?void 0:i.errors;if(o!=null){let u=a.findIndex(f=>f.route.id&&(o==null?void 0:o[f.route.id])!==void 0);u>=0||cr(!1),a=a.slice(0,Math.min(a.length,u+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let u=0;u<a.length;u++){let f=a[u];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=u),f.route.id){let{loaderData:d,errors:p}=n,v=f.route.loader&&d[f.route.id]===void 0&&(!p||p[f.route.id]===void 0);if(f.route.lazy||v){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((u,f,d)=>{let p,v=!1,b=null,x=null;n&&(p=o&&f.route.id?o[f.route.id]:void 0,b=f.route.errorElement||GY,l&&(c<0&&d===0?(tK("route-fallback",!1),v=!0,x=null):c===d&&(v=!0,x=f.route.hydrateFallbackElement||null)));let y=e.concat(a.slice(0,d+1)),w=()=>{let _;return p?_=b:v?_=x:f.route.Component?_=F.createElement(f.route.Component,null):f.route.element?_=f.route.element:_=u,F.createElement(qY,{match:f,routeContext:{outlet:u,matches:y,isDataRoute:n!=null},children:_})};return n&&(f.route.ErrorBoundary||f.route.errorElement||d===0)?F.createElement(XY,{location:n.location,revalidation:n.revalidation,component:b,error:p,children:w(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):w()},null)}var Kz=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kz||{}),A1=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(A1||{});function KY(t){let e=F.useContext(OC);return e||cr(!1),e}function ZY(t){let e=F.useContext(BY);return e||cr(!1),e}function JY(t){let e=F.useContext(Sc);return e||cr(!1),e}function Zz(t){let e=JY(),n=e.matches[e.matches.length-1];return n.route.id||cr(!1),n.route.id}function QY(){var t;let e=F.useContext(Xz),n=ZY(A1.UseRouteError),r=Zz(A1.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function eK(){let{router:t}=KY(Kz.UseNavigateStable),e=Zz(A1.UseNavigateStable),n=F.useRef(!1);return qz(()=>{n.current=!0}),F.useCallback(function(i,s){s===void 0&&(s={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,dg({fromRouteId:e},s)))},[t,e])}const KL={};function tK(t,e,n){!e&&!KL[t]&&(KL[t]=!0)}function nK(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function rK(t){let{to:e,replace:n,state:r,relative:i}=t;Vh()||cr(!1);let{future:s,static:a}=F.useContext(wc),{matches:o}=F.useContext(Sc),{pathname:l}=C0(),c=f_(),u=RC(e,NC(o,s.v7_relativeSplatPath),l,i==="path"),f=JSON.stringify(u);return F.useEffect(()=>c(JSON.parse(f),{replace:n,state:r,relative:i}),[c,f,i,n,r]),null}function Hr(t){cr(!1)}function iK(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Xl.Pop,navigator:s,static:a=!1,future:o}=t;Vh()&&cr(!1);let l=e.replace(/^\/*/,"/"),c=F.useMemo(()=>({basename:l,navigator:s,static:a,future:dg({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof r=="string"&&(r=zh(r));let{pathname:u="/",search:f="",hash:d="",state:p=null,key:v="default"}=r,b=F.useMemo(()=>{let x=CC(u,l);return x==null?null:{location:{pathname:x,search:f,hash:d,state:p,key:v},navigationType:i}},[l,u,f,d,p,v,i]);return b==null?null:F.createElement(wc.Provider,{value:c},F.createElement(u_.Provider,{children:n,value:b}))}function sK(t){let{children:e,location:n}=t;return HY(qE(e),n)}new Promise(()=>{});function qE(t,e){e===void 0&&(e=[]);let n=[];return F.Children.forEach(t,(r,i)=>{if(!F.isValidElement(r))return;let s=[...e,i];if(r.type===F.Fragment){n.push.apply(n,qE(r.props.children,s));return}r.type!==Hr&&cr(!1),!r.props.index||!r.props.children||cr(!1);let a={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(a.children=qE(r.props.children,s)),n.push(a)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function YE(){return YE=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YE.apply(this,arguments)}function aK(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function oK(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function lK(t,e){return t.button===0&&(!e||e==="_self")&&!oK(t)}const cK=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],uK="6";try{window.__reactRouterVersion=uK}catch{}const fK="startTransition",ZL=rX[fK];function dK(t){let{basename:e,children:n,future:r,window:i}=t,s=F.useRef();s.current==null&&(s.current=mY({window:i,v5Compat:!0}));let a=s.current,[o,l]=F.useState({action:a.action,location:a.location}),{v7_startTransition:c}=r||{},u=F.useCallback(f=>{c&&ZL?ZL(()=>l(f)):l(f)},[l,c]);return F.useLayoutEffect(()=>a.listen(u),[a,u]),F.useEffect(()=>nK(r),[r]),F.createElement(iK,{basename:e,children:n,location:o.location,navigationType:o.action,navigator:a,future:r})}const hK=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",pK=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,xs=F.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:u,viewTransition:f}=e,d=aK(e,cK),{basename:p}=F.useContext(wc),v,b=!1;if(typeof c=="string"&&pK.test(c)&&(v=c,hK))try{let _=new URL(window.location.href),S=c.startsWith("//")?new URL(_.protocol+c):new URL(c),M=CC(S.pathname,p);S.origin===_.origin&&M!=null?c=M+S.search+S.hash:b=!0}catch{}let x=zY(c,{relative:i}),y=mK(c,{replace:a,state:o,target:l,preventScrollReset:u,relative:i,viewTransition:f});function w(_){r&&r(_),_.defaultPrevented||y(_)}return F.createElement("a",YE({},d,{href:v||x,onClick:b||s?r:w,ref:n,target:l}))});var JL;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(JL||(JL={}));var QL;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QL||(QL={}));function mK(t,e){let{target:n,replace:r,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=f_(),c=C0(),u=Yz(t,{relative:a});return F.useCallback(f=>{if(lK(f,n)){f.preventDefault();let d=r!==void 0?r:T1(c)===T1(u);l(t,{replace:d,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,u,r,i,n,t,s,a,o])}const Jz=F.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"}),d_=F.createContext({}),h_=F.createContext(null),p_=typeof document<"u",LC=p_?F.useLayoutEffect:F.useEffect,Qz=F.createContext({strict:!1}),IC=t=>t.replace(/([a-z])([A-Z])/g,"$1-$2").toLowerCase(),gK="framerAppearId",e6="data-"+IC(gK);function vK(t,e,n,r){const{visualElement:i}=F.useContext(d_),s=F.useContext(Qz),a=F.useContext(h_),o=F.useContext(Jz).reducedMotion,l=F.useRef();r=r||s.renderer,!l.current&&r&&(l.current=r(t,{visualState:e,parent:i,props:n,presenceContext:a,blockInitialAnimation:a?a.initial===!1:!1,reducedMotionConfig:o}));const c=l.current;F.useInsertionEffect(()=>{c&&c.update(n,a)});const u=F.useRef(!!(n[e6]&&!window.HandoffComplete));return LC(()=>{c&&(c.render(),u.current&&c.animationState&&c.animationState.animateChanges())}),F.useEffect(()=>{c&&(c.updateFeatures(),!u.current&&c.animationState&&c.animationState.animateChanges(),u.current&&(u.current=!1,window.HandoffComplete=!0))}),c}function Ad(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function yK(t,e,n){return F.useCallback(r=>{r&&t.mount&&t.mount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):Ad(n)&&(n.current=r))},[e])}function hg(t){return typeof t=="string"||Array.isArray(t)}function m_(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const jC=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],kC=["initial",...jC];function g_(t){return m_(t.animate)||kC.some(e=>hg(t[e]))}function t6(t){return!!(g_(t)||t.variants)}function xK(t,e){if(g_(t)){const{initial:n,animate:r}=t;return{initial:n===!1||hg(n)?n:void 0,animate:hg(r)?r:void 0}}return t.inherit!==!1?e:{}}function bK(t){const{initial:e,animate:n}=xK(t,F.useContext(d_));return F.useMemo(()=>({initial:e,animate:n}),[eI(e),eI(n)])}function eI(t){return Array.isArray(t)?t.join(" "):t}const tI={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},pg={};for(const t in tI)pg[t]={isEnabled:e=>tI[t].some(n=>!!e[n])};function _K(t){for(const e in t)pg[e]={...pg[e],...t[e]}}const DC=F.createContext({}),n6=F.createContext({}),wK=Symbol.for("motionComponentSymbol");function SK({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){t&&_K(t);function s(o,l){let c;const u={...F.useContext(Jz),...o,layoutId:MK(o)},{isStatic:f}=u,d=bK(o),p=r(o,f);if(!f&&p_){d.visualElement=vK(i,p,u,e);const v=F.useContext(n6),b=F.useContext(Qz).strict;d.visualElement&&(c=d.visualElement.loadFeatures(u,b,t,v))}return F.createElement(d_.Provider,{value:d},c&&d.visualElement?F.createElement(c,{visualElement:d.visualElement,...u}):null,n(i,o,yK(p,d.visualElement,l),p,f,d.visualElement))}const a=F.forwardRef(s);return a[wK]=i,a}function MK({layoutId:t}){const e=F.useContext(DC).id;return e&&t!==void 0?e+"-"+t:t}function EK(t){function e(r,i={}){return SK(t(r,i))}if(typeof Proxy>"u")return e;const n=new Map;return new Proxy(e,{get:(r,i)=>(n.has(i)||n.set(i,e(i)),n.get(i))})}const TK=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function UC(t){return typeof t!="string"||t.includes("-")?!1:!!(TK.indexOf(t)>-1||/[A-Z]/.test(t))}const P1={};function AK(t){Object.assign(P1,t)}const N0=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],lf=new Set(N0);function r6(t,{layout:e,layoutId:n}){return lf.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!P1[t]||t==="opacity")}const as=t=>!!(t&&t.getVelocity),PK={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},CK=N0.length;function NK(t,{enableHardwareAcceleration:e=!0,allowTransformNone:n=!0},r,i){let s="";for(let a=0;a<CK;a++){const o=N0[a];if(t[o]!==void 0){const l=PK[o]||o;s+=`${l}(${t[o]}) `}}return e&&!t.z&&(s+="translateZ(0)"),s=s.trim(),i?s=i(t,r?"":s):n&&r&&(s="none"),s}const i6=t=>e=>typeof e=="string"&&e.startsWith(t),s6=i6("--"),KE=i6("var(--"),RK=/var\s*\(\s*--[\w-]+(\s*,\s*(?:(?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)+)?\s*\)/g,OK=(t,e)=>e&&typeof t=="number"?e.transform(t):t,pc=(t,e,n)=>Math.min(Math.max(n,t),e),cf={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},Nm={...cf,transform:t=>pc(0,1,t)},fy={...cf,default:1},Rm=t=>Math.round(t*1e5)/1e5,v_=/(-)?([\d]*\.?[\d])+/g,a6=/(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))/gi,LK=/^(#[0-9a-f]{3,8}|(rgb|hsl)a?\((-?[\d\.]+%?[,\s]+){2}(-?[\d\.]+%?)\s*[\,\/]?\s*[\d\.]*%?\))$/i;function R0(t){return typeof t=="string"}const O0=t=>({test:e=>R0(e)&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),Dl=O0("deg"),so=O0("%"),Tt=O0("px"),IK=O0("vh"),jK=O0("vw"),nI={...so,parse:t=>so.parse(t)/100,transform:t=>so.transform(t*100)},rI={...cf,transform:Math.round},o6={borderWidth:Tt,borderTopWidth:Tt,borderRightWidth:Tt,borderBottomWidth:Tt,borderLeftWidth:Tt,borderRadius:Tt,radius:Tt,borderTopLeftRadius:Tt,borderTopRightRadius:Tt,borderBottomRightRadius:Tt,borderBottomLeftRadius:Tt,width:Tt,maxWidth:Tt,height:Tt,maxHeight:Tt,size:Tt,top:Tt,right:Tt,bottom:Tt,left:Tt,padding:Tt,paddingTop:Tt,paddingRight:Tt,paddingBottom:Tt,paddingLeft:Tt,margin:Tt,marginTop:Tt,marginRight:Tt,marginBottom:Tt,marginLeft:Tt,rotate:Dl,rotateX:Dl,rotateY:Dl,rotateZ:Dl,scale:fy,scaleX:fy,scaleY:fy,scaleZ:fy,skew:Dl,skewX:Dl,skewY:Dl,distance:Tt,translateX:Tt,translateY:Tt,translateZ:Tt,x:Tt,y:Tt,z:Tt,perspective:Tt,transformPerspective:Tt,opacity:Nm,originX:nI,originY:nI,originZ:Tt,zIndex:rI,fillOpacity:Nm,strokeOpacity:Nm,numOctaves:rI};function FC(t,e,n,r){const{style:i,vars:s,transform:a,transformOrigin:o}=t;let l=!1,c=!1,u=!0;for(const f in e){const d=e[f];if(s6(f)){s[f]=d;continue}const p=o6[f],v=OK(d,p);if(lf.has(f)){if(l=!0,a[f]=v,!u)continue;d!==(p.default||0)&&(u=!1)}else f.startsWith("origin")?(c=!0,o[f]=v):i[f]=v}if(e.transform||(l||r?i.transform=NK(t.transform,n,u,r):i.transform&&(i.transform="none")),c){const{originX:f="50%",originY:d="50%",originZ:p=0}=o;i.transformOrigin=`${f} ${d} ${p}`}}const BC=()=>({style:{},transform:{},transformOrigin:{},vars:{}});function l6(t,e,n){for(const r in e)!as(e[r])&&!r6(r,n)&&(t[r]=e[r])}function kK({transformTemplate:t},e,n){return F.useMemo(()=>{const r=BC();return FC(r,e,{enableHardwareAcceleration:!n},t),Object.assign({},r.vars,r.style)},[e])}function DK(t,e,n){const r=t.style||{},i={};return l6(i,r,t),Object.assign(i,kK(t,e,n)),t.transformValues?t.transformValues(i):i}function UK(t,e,n){const r={},i=DK(t,e,n);return t.drag&&t.dragListener!==!1&&(r.draggable=!1,i.userSelect=i.WebkitUserSelect=i.WebkitTouchCallout="none",i.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(r.tabIndex=0),r.style=i,r}const FK=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","transformValues","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function C1(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||FK.has(t)}let c6=t=>!C1(t);function BK(t){t&&(c6=e=>e.startsWith("on")?!C1(e):t(e))}try{BK(require("@emotion/is-prop-valid").default)}catch{}function zK(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(c6(i)||n===!0&&C1(i)||!e&&!C1(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function iI(t,e,n){return typeof t=="string"?t:Tt.transform(e+n*t)}function VK(t,e,n){const r=iI(e,t.x,t.width),i=iI(n,t.y,t.height);return`${r} ${i}`}const HK={offset:"stroke-dashoffset",array:"stroke-dasharray"},$K={offset:"strokeDashoffset",array:"strokeDasharray"};function WK(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?HK:$K;t[s.offset]=Tt.transform(-r);const a=Tt.transform(e),o=Tt.transform(n);t[s.array]=`${a} ${o}`}function zC(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:a,pathSpacing:o=1,pathOffset:l=0,...c},u,f,d){if(FC(t,c,u,d),f){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:p,style:v,dimensions:b}=t;p.transform&&(b&&(v.transform=p.transform),delete p.transform),b&&(i!==void 0||s!==void 0||v.transform)&&(v.transformOrigin=VK(b,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(p.x=e),n!==void 0&&(p.y=n),r!==void 0&&(p.scale=r),a!==void 0&&WK(p,a,o,l,!1)}const u6=()=>({...BC(),attrs:{}}),VC=t=>typeof t=="string"&&t.toLowerCase()==="svg";function GK(t,e,n,r){const i=F.useMemo(()=>{const s=u6();return zC(s,e,{enableHardwareAcceleration:!1},VC(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};l6(s,t.style,t),i.style={...s,...i.style}}return i}function XK(t=!1){return(n,r,i,{latestValues:s},a)=>{const l=(UC(n)?GK:UK)(r,s,a,n),u={...zK(r,typeof n=="string",t),...l,ref:i},{children:f}=r,d=F.useMemo(()=>as(f)?f.get():f,[f]);return F.createElement(n,{...u,children:d})}}function f6(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const d6=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function h6(t,e,n,r){f6(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(d6.has(i)?i:IC(i),e.attrs[i])}function HC(t,e){const{style:n}=t,r={};for(const i in n)(as(n[i])||e.style&&as(e.style[i])||r6(i,t))&&(r[i]=n[i]);return r}function p6(t,e){const n=HC(t,e);for(const r in t)if(as(t[r])||as(e[r])){const i=N0.indexOf(r)!==-1?"attr"+r.charAt(0).toUpperCase()+r.substring(1):r;n[i]=t[r]}return n}function $C(t,e,n,r={},i={}){return typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"&&(e=e(n!==void 0?n:t.custom,r,i)),e}function m6(t){const e=F.useRef(null);return e.current===null&&(e.current=t()),e.current}const N1=t=>Array.isArray(t),qK=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),YK=t=>N1(t)?t[t.length-1]||0:t;function kx(t){const e=as(t)?t.get():t;return qK(e)?e.toValue():e}function KK({scrapeMotionValuesFromProps:t,createRenderState:e,onMount:n},r,i,s){const a={latestValues:ZK(r,i,s,t),renderState:e()};return n&&(a.mount=o=>n(r,o,a)),a}const g6=t=>(e,n)=>{const r=F.useContext(d_),i=F.useContext(h_),s=()=>KK(t,e,r,i);return n?s():m6(s)};function ZK(t,e,n,r){const i={},s=r(t,{});for(const d in s)i[d]=kx(s[d]);let{initial:a,animate:o}=t;const l=g_(t),c=t6(t);e&&c&&!l&&t.inherit!==!1&&(a===void 0&&(a=e.initial),o===void 0&&(o=e.animate));let u=n?n.initial===!1:!1;u=u||a===!1;const f=u?o:a;return f&&typeof f!="boolean"&&!m_(f)&&(Array.isArray(f)?f:[f]).forEach(p=>{const v=$C(t,p);if(!v)return;const{transitionEnd:b,transition:x,...y}=v;for(const w in y){let _=y[w];if(Array.isArray(_)){const S=u?_.length-1:0;_=_[S]}_!==null&&(i[w]=_)}for(const w in b)i[w]=b[w]}),i}const Jn=t=>t;class sI{constructor(){this.order=[],this.scheduled=new Set}add(e){if(!this.scheduled.has(e))return this.scheduled.add(e),this.order.push(e),!0}remove(e){const n=this.order.indexOf(e);n!==-1&&(this.order.splice(n,1),this.scheduled.delete(e))}clear(){this.order.length=0,this.scheduled.clear()}}function JK(t){let e=new sI,n=new sI,r=0,i=!1,s=!1;const a=new WeakSet,o={schedule:(l,c=!1,u=!1)=>{const f=u&&i,d=f?e:n;return c&&a.add(l),d.add(l)&&f&&i&&(r=e.order.length),l},cancel:l=>{n.remove(l),a.delete(l)},process:l=>{if(i){s=!0;return}if(i=!0,[e,n]=[n,e],n.clear(),r=e.order.length,r)for(let c=0;c<r;c++){const u=e.order[c];u(l),a.has(u)&&(o.schedule(u),t())}i=!1,s&&(s=!1,o.process(l))}};return o}const dy=["prepare","read","update","preRender","render","postRender"],QK=40;function eZ(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=dy.reduce((f,d)=>(f[d]=JK(()=>n=!0),f),{}),a=f=>s[f].process(i),o=()=>{const f=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(f-i.timestamp,QK),1),i.timestamp=f,i.isProcessing=!0,dy.forEach(a),i.isProcessing=!1,n&&e&&(r=!1,t(o))},l=()=>{n=!0,r=!0,i.isProcessing||t(o)};return{schedule:dy.reduce((f,d)=>{const p=s[d];return f[d]=(v,b=!1,x=!1)=>(n||l(),p.schedule(v,b,x)),f},{}),cancel:f=>dy.forEach(d=>s[d].cancel(f)),state:i,steps:s}}const{schedule:Tn,cancel:ol,state:hi,steps:p2}=eZ(typeof requestAnimationFrame<"u"?requestAnimationFrame:Jn,!0),tZ={useVisualState:g6({scrapeMotionValuesFromProps:p6,createRenderState:u6,onMount:(t,e,{renderState:n,latestValues:r})=>{Tn.read(()=>{try{n.dimensions=typeof e.getBBox=="function"?e.getBBox():e.getBoundingClientRect()}catch{n.dimensions={x:0,y:0,width:0,height:0}}}),Tn.render(()=>{zC(n,r,{enableHardwareAcceleration:!1},VC(e.tagName),t.transformTemplate),h6(e,n)})}})},nZ={useVisualState:g6({scrapeMotionValuesFromProps:HC,createRenderState:BC})};function rZ(t,{forwardMotionProps:e=!1},n,r){return{...UC(t)?tZ:nZ,preloadedFeatures:n,useRender:XK(e),createVisualElement:r,Component:t}}function $o(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}const v6=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1;function y_(t,e="page"){return{point:{x:t[e+"X"],y:t[e+"Y"]}}}const iZ=t=>e=>v6(e)&&t(e,y_(e));function Ko(t,e,n,r){return $o(t,e,iZ(n),r)}const sZ=(t,e)=>n=>e(t(n)),ic=(...t)=>t.reduce(sZ);function y6(t){let e=null;return()=>{const n=()=>{e=null};return e===null?(e=t,n):!1}}const aI=y6("dragHorizontal"),oI=y6("dragVertical");function x6(t){let e=!1;if(t==="y")e=oI();else if(t==="x")e=aI();else{const n=aI(),r=oI();n&&r?e=()=>{n(),r()}:(n&&n(),r&&r())}return e}function b6(){const t=x6(!0);return t?(t(),!1):!0}class Mc{constructor(e){this.isMounted=!1,this.node=e}update(){}}function lI(t,e){const n="pointer"+(e?"enter":"leave"),r="onHover"+(e?"Start":"End"),i=(s,a)=>{if(s.pointerType==="touch"||b6())return;const o=t.getProps();t.animationState&&o.whileHover&&t.animationState.setActive("whileHover",e),o[r]&&Tn.update(()=>o[r](s,a))};return Ko(t.current,n,i,{passive:!t.getProps()[r]})}class aZ extends Mc{mount(){this.unmount=ic(lI(this.node,!0),lI(this.node,!1))}unmount(){}}class oZ extends Mc{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ic($o(this.node.current,"focus",()=>this.onFocus()),$o(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}const _6=(t,e)=>e?t===e?!0:_6(t,e.parentElement):!1;function m2(t,e){if(!e)return;const n=new PointerEvent("pointer"+t);e(n,y_(n))}class lZ extends Mc{constructor(){super(...arguments),this.removeStartListeners=Jn,this.removeEndListeners=Jn,this.removeAccessibleListeners=Jn,this.startPointerPress=(e,n)=>{if(this.isPressing)return;this.removeEndListeners();const r=this.node.getProps(),s=Ko(window,"pointerup",(o,l)=>{if(!this.checkPressEnd())return;const{onTap:c,onTapCancel:u,globalTapTarget:f}=this.node.getProps();Tn.update(()=>{!f&&!_6(this.node.current,o.target)?u&&u(o,l):c&&c(o,l)})},{passive:!(r.onTap||r.onPointerUp)}),a=Ko(window,"pointercancel",(o,l)=>this.cancelPress(o,l),{passive:!(r.onTapCancel||r.onPointerCancel)});this.removeEndListeners=ic(s,a),this.startPress(e,n)},this.startAccessiblePress=()=>{const e=s=>{if(s.key!=="Enter"||this.isPressing)return;const a=o=>{o.key!=="Enter"||!this.checkPressEnd()||m2("up",(l,c)=>{const{onTap:u}=this.node.getProps();u&&Tn.update(()=>u(l,c))})};this.removeEndListeners(),this.removeEndListeners=$o(this.node.current,"keyup",a),m2("down",(o,l)=>{this.startPress(o,l)})},n=$o(this.node.current,"keydown",e),r=()=>{this.isPressing&&m2("cancel",(s,a)=>this.cancelPress(s,a))},i=$o(this.node.current,"blur",r);this.removeAccessibleListeners=ic(n,i)}}startPress(e,n){this.isPressing=!0;const{onTapStart:r,whileTap:i}=this.node.getProps();i&&this.node.animationState&&this.node.animationState.setActive("whileTap",!0),r&&Tn.update(()=>r(e,n))}checkPressEnd(){return this.removeEndListeners(),this.isPressing=!1,this.node.getProps().whileTap&&this.node.animationState&&this.node.animationState.setActive("whileTap",!1),!b6()}cancelPress(e,n){if(!this.checkPressEnd())return;const{onTapCancel:r}=this.node.getProps();r&&Tn.update(()=>r(e,n))}mount(){const e=this.node.getProps(),n=Ko(e.globalTapTarget?window:this.node.current,"pointerdown",this.startPointerPress,{passive:!(e.onTapStart||e.onPointerStart)}),r=$o(this.node.current,"focus",this.startAccessiblePress);this.removeStartListeners=ic(n,r)}unmount(){this.removeStartListeners(),this.removeEndListeners(),this.removeAccessibleListeners()}}const ZE=new WeakMap,g2=new WeakMap,cZ=t=>{const e=ZE.get(t.target);e&&e(t)},uZ=t=>{t.forEach(cZ)};function fZ({root:t,...e}){const n=t||document;g2.has(n)||g2.set(n,{});const r=g2.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(uZ,{root:t,...e})),r[i]}function dZ(t,e,n){const r=fZ(e);return ZE.set(t,n),r.observe(t),()=>{ZE.delete(t),r.unobserve(t)}}const hZ={some:0,all:1};class pZ extends Mc{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,a={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:hZ[i]},o=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:u,onViewportLeave:f}=this.node.getProps(),d=c?u:f;d&&d(l)};return dZ(this.node.current,a,o)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(mZ(e,n))&&this.startObserver()}unmount(){}}function mZ({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const gZ={inView:{Feature:pZ},tap:{Feature:lZ},focus:{Feature:oZ},hover:{Feature:aZ}};function w6(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function vZ(t){const e={};return t.values.forEach((n,r)=>e[r]=n.get()),e}function yZ(t){const e={};return t.values.forEach((n,r)=>e[r]=n.getVelocity()),e}function x_(t,e,n){const r=t.getProps();return $C(r,e,n!==void 0?n:r.custom,vZ(t),yZ(t))}let xZ=Jn,WC=Jn;const sc=t=>t*1e3,Zo=t=>t/1e3,bZ={current:!1},S6=t=>Array.isArray(t)&&typeof t[0]=="number";function M6(t){return!!(!t||typeof t=="string"&&E6[t]||S6(t)||Array.isArray(t)&&t.every(M6))}const vm=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,E6={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:vm([0,.65,.55,1]),circOut:vm([.55,0,1,.45]),backIn:vm([.31,.01,.66,-.59]),backOut:vm([.33,1.53,.69,.99])};function T6(t){if(t)return S6(t)?vm(t):Array.isArray(t)?t.map(T6):E6[t]}function _Z(t,e,n,{delay:r=0,duration:i,repeat:s=0,repeatType:a="loop",ease:o,times:l}={}){const c={[e]:n};l&&(c.offset=l);const u=T6(o);return Array.isArray(u)&&(c.easing=u),t.animate(c,{delay:r,duration:i,easing:Array.isArray(u)?"linear":u,fill:"both",iterations:s+1,direction:a==="reverse"?"alternate":"normal"})}function wZ(t,{repeat:e,repeatType:n="loop"}){const r=e&&n!=="loop"&&e%2===1?0:t.length-1;return t[r]}const A6=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,SZ=1e-7,MZ=12;function EZ(t,e,n,r,i){let s,a,o=0;do a=e+(n-e)/2,s=A6(a,r,i)-t,s>0?n=a:e=a;while(Math.abs(s)>SZ&&++o<MZ);return a}function L0(t,e,n,r){if(t===e&&n===r)return Jn;const i=s=>EZ(s,0,1,t,n);return s=>s===0||s===1?s:A6(i(s),e,r)}const TZ=L0(.42,0,1,1),AZ=L0(0,0,.58,1),P6=L0(.42,0,.58,1),PZ=t=>Array.isArray(t)&&typeof t[0]!="number",C6=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,N6=t=>e=>1-t(1-e),GC=t=>1-Math.sin(Math.acos(t)),R6=N6(GC),CZ=C6(GC),O6=L0(.33,1.53,.69,.99),XC=N6(O6),NZ=C6(XC),RZ=t=>(t*=2)<1?.5*XC(t):.5*(2-Math.pow(2,-10*(t-1))),OZ={linear:Jn,easeIn:TZ,easeInOut:P6,easeOut:AZ,circIn:GC,circInOut:CZ,circOut:R6,backIn:XC,backInOut:NZ,backOut:O6,anticipate:RZ},cI=t=>{if(Array.isArray(t)){WC(t.length===4);const[e,n,r,i]=t;return L0(e,n,r,i)}else if(typeof t=="string")return OZ[t];return t},qC=(t,e)=>n=>!!(R0(n)&&LK.test(n)&&n.startsWith(t)||e&&Object.prototype.hasOwnProperty.call(n,e)),L6=(t,e,n)=>r=>{if(!R0(r))return r;const[i,s,a,o]=r.match(v_);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(a),alpha:o!==void 0?parseFloat(o):1}},LZ=t=>pc(0,255,t),v2={...cf,transform:t=>Math.round(LZ(t))},wu={test:qC("rgb","red"),parse:L6("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+v2.transform(t)+", "+v2.transform(e)+", "+v2.transform(n)+", "+Rm(Nm.transform(r))+")"};function IZ(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const JE={test:qC("#"),parse:IZ,transform:wu.transform},Pd={test:qC("hsl","hue"),parse:L6("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+so.transform(Rm(e))+", "+so.transform(Rm(n))+", "+Rm(Nm.transform(r))+")"},Ii={test:t=>wu.test(t)||JE.test(t)||Pd.test(t),parse:t=>wu.test(t)?wu.parse(t):Pd.test(t)?Pd.parse(t):JE.parse(t),transform:t=>R0(t)?t:t.hasOwnProperty("red")?wu.transform(t):Pd.transform(t)},zn=(t,e,n)=>-n*t+n*e+t;function y2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function jZ({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,a=0;if(!e)i=s=a=n;else{const o=n<.5?n*(1+e):n+e-n*e,l=2*n-o;i=y2(l,o,t+1/3),s=y2(l,o,t),a=y2(l,o,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(a*255),alpha:r}}const x2=(t,e,n)=>{const r=t*t;return Math.sqrt(Math.max(0,n*(e*e-r)+r))},kZ=[JE,wu,Pd],DZ=t=>kZ.find(e=>e.test(t));function uI(t){const e=DZ(t);let n=e.parse(t);return e===Pd&&(n=jZ(n)),n}const I6=(t,e)=>{const n=uI(t),r=uI(e),i={...n};return s=>(i.red=x2(n.red,r.red,s),i.green=x2(n.green,r.green,s),i.blue=x2(n.blue,r.blue,s),i.alpha=zn(n.alpha,r.alpha,s),wu.transform(i))};function UZ(t){var e,n;return isNaN(t)&&R0(t)&&(((e=t.match(v_))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(a6))===null||n===void 0?void 0:n.length)||0)>0}const j6={regex:RK,countKey:"Vars",token:"${v}",parse:Jn},k6={regex:a6,countKey:"Colors",token:"${c}",parse:Ii.parse},D6={regex:v_,countKey:"Numbers",token:"${n}",parse:cf.parse};function b2(t,{regex:e,countKey:n,token:r,parse:i}){const s=t.tokenised.match(e);s&&(t["num"+n]=s.length,t.tokenised=t.tokenised.replace(e,r),t.values.push(...s.map(i)))}function R1(t){const e=t.toString(),n={value:e,tokenised:e,values:[],numVars:0,numColors:0,numNumbers:0};return n.value.includes("var(--")&&b2(n,j6),b2(n,k6),b2(n,D6),n}function U6(t){return R1(t).values}function F6(t){const{values:e,numColors:n,numVars:r,tokenised:i}=R1(t),s=e.length;return a=>{let o=i;for(let l=0;l<s;l++)l<r?o=o.replace(j6.token,a[l]):l<r+n?o=o.replace(k6.token,Ii.transform(a[l])):o=o.replace(D6.token,Rm(a[l]));return o}}const FZ=t=>typeof t=="number"?0:t;function BZ(t){const e=U6(t);return F6(t)(e.map(FZ))}const mc={test:UZ,parse:U6,createTransformer:F6,getAnimatableNone:BZ},B6=(t,e)=>n=>`${n>0?e:t}`;function z6(t,e){return typeof t=="number"?n=>zn(t,e,n):Ii.test(t)?I6(t,e):t.startsWith("var(")?B6(t,e):H6(t,e)}const V6=(t,e)=>{const n=[...t],r=n.length,i=t.map((s,a)=>z6(s,e[a]));return s=>{for(let a=0;a<r;a++)n[a]=i[a](s);return n}},zZ=(t,e)=>{const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=z6(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}},H6=(t,e)=>{const n=mc.createTransformer(e),r=R1(t),i=R1(e);return r.numVars===i.numVars&&r.numColors===i.numColors&&r.numNumbers>=i.numNumbers?ic(V6(r.values,i.values),n):B6(t,e)},mg=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},fI=(t,e)=>n=>zn(t,e,n);function VZ(t){return typeof t=="number"?fI:typeof t=="string"?Ii.test(t)?I6:H6:Array.isArray(t)?V6:typeof t=="object"?zZ:fI}function HZ(t,e,n){const r=[],i=n||VZ(t[0]),s=t.length-1;for(let a=0;a<s;a++){let o=i(t[a],t[a+1]);if(e){const l=Array.isArray(e)?e[a]||Jn:e;o=ic(l,o)}r.push(o)}return r}function $6(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(WC(s===e.length),s===1)return()=>e[0];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=HZ(e,r,i),o=a.length,l=c=>{let u=0;if(o>1)for(;u<t.length-2&&!(c<t[u+1]);u++);const f=mg(t[u],t[u+1],c);return a[u](f)};return n?c=>l(pc(t[0],t[s-1],c)):l}function $Z(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=mg(0,e,r);t.push(zn(n,1,i))}}function WZ(t){const e=[0];return $Z(e,t.length-1),e}function GZ(t,e){return t.map(n=>n*e)}function XZ(t,e){return t.map(()=>e||P6).splice(0,t.length-1)}function O1({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=PZ(r)?r.map(cI):cI(r),s={done:!1,value:e[0]},a=GZ(n&&n.length===e.length?n:WZ(e),t),o=$6(a,e,{ease:Array.isArray(i)?i:XZ(e,i)});return{calculatedDuration:t,next:l=>(s.value=o(l),s.done=l>=t,s)}}function W6(t,e){return e?t*(1e3/e):0}const qZ=5;function G6(t,e,n){const r=Math.max(e-qZ,0);return W6(n-t(r),e-r)}const _2=.001,YZ=.01,dI=10,KZ=.05,ZZ=1;function JZ({duration:t=800,bounce:e=.25,velocity:n=0,mass:r=1}){let i,s;xZ(t<=sc(dI));let a=1-e;a=pc(KZ,ZZ,a),t=pc(YZ,dI,Zo(t)),a<1?(i=c=>{const u=c*a,f=u*t,d=u-n,p=QE(c,a),v=Math.exp(-f);return _2-d/p*v},s=c=>{const f=c*a*t,d=f*n+n,p=Math.pow(a,2)*Math.pow(c,2)*t,v=Math.exp(-f),b=QE(Math.pow(c,2),a);return(-i(c)+_2>0?-1:1)*((d-p)*v)/b}):(i=c=>{const u=Math.exp(-c*t),f=(c-n)*t+1;return-_2+u*f},s=c=>{const u=Math.exp(-c*t),f=(n-c)*(t*t);return u*f});const o=5/t,l=eJ(i,s,o);if(t=sc(t),isNaN(l))return{stiffness:100,damping:10,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:a*2*Math.sqrt(r*c),duration:t}}}const QZ=12;function eJ(t,e,n){let r=n;for(let i=1;i<QZ;i++)r=r-t(r)/e(r);return r}function QE(t,e){return t*Math.sqrt(1-e*e)}const tJ=["duration","bounce"],nJ=["stiffness","damping","mass"];function hI(t,e){return e.some(n=>t[n]!==void 0)}function rJ(t){let e={velocity:0,stiffness:100,damping:10,mass:1,isResolvedFromDuration:!1,...t};if(!hI(t,nJ)&&hI(t,tJ)){const n=JZ(t);e={...e,...n,mass:1},e.isResolvedFromDuration=!0}return e}function X6({keyframes:t,restDelta:e,restSpeed:n,...r}){const i=t[0],s=t[t.length-1],a={done:!1,value:i},{stiffness:o,damping:l,mass:c,duration:u,velocity:f,isResolvedFromDuration:d}=rJ({...r,velocity:-Zo(r.velocity||0)}),p=f||0,v=l/(2*Math.sqrt(o*c)),b=s-i,x=Zo(Math.sqrt(o/c)),y=Math.abs(b)<5;n||(n=y?.01:2),e||(e=y?.005:.5);let w;if(v<1){const _=QE(x,v);w=S=>{const M=Math.exp(-v*x*S);return s-M*((p+v*x*b)/_*Math.sin(_*S)+b*Math.cos(_*S))}}else if(v===1)w=_=>s-Math.exp(-x*_)*(b+(p+x*b)*_);else{const _=x*Math.sqrt(v*v-1);w=S=>{const M=Math.exp(-v*x*S),E=Math.min(_*S,300);return s-M*((p+v*x*b)*Math.sinh(E)+_*b*Math.cosh(E))/_}}return{calculatedDuration:d&&u||null,next:_=>{const S=w(_);if(d)a.done=_>=u;else{let M=p;_!==0&&(v<1?M=G6(w,_,S):M=0);const E=Math.abs(M)<=n,A=Math.abs(s-S)<=e;a.done=E&&A}return a.value=a.done?s:S,a}}}function pI({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:a,min:o,max:l,restDelta:c=.5,restSpeed:u}){const f=t[0],d={done:!1,value:f},p=C=>o!==void 0&&C<o||l!==void 0&&C>l,v=C=>o===void 0?l:l===void 0||Math.abs(o-C)<Math.abs(l-C)?o:l;let b=n*e;const x=f+b,y=a===void 0?x:a(x);y!==x&&(b=y-f);const w=C=>-b*Math.exp(-C/r),_=C=>y+w(C),S=C=>{const P=w(C),R=_(C);d.done=Math.abs(P)<=c,d.value=d.done?y:R};let M,E;const A=C=>{p(d.value)&&(M=C,E=X6({keyframes:[d.value,v(d.value)],velocity:G6(_,C,d.value),damping:i,stiffness:s,restDelta:c,restSpeed:u}))};return A(0),{calculatedDuration:null,next:C=>{let P=!1;return!E&&M===void 0&&(P=!0,S(C),A(C)),M!==void 0&&C>M?E.next(C-M):(!P&&S(C),d)}}}const iJ=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Tn.update(e,!0),stop:()=>ol(e),now:()=>hi.isProcessing?hi.timestamp:performance.now()}},mI=2e4;function gI(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<mI;)e+=n,r=t.next(e);return e>=mI?1/0:e}const sJ={decay:pI,inertia:pI,tween:O1,keyframes:O1,spring:X6};function L1({autoplay:t=!0,delay:e=0,driver:n=iJ,keyframes:r,type:i="keyframes",repeat:s=0,repeatDelay:a=0,repeatType:o="loop",onPlay:l,onStop:c,onComplete:u,onUpdate:f,...d}){let p=1,v=!1,b,x;const y=()=>{x=new Promise(k=>{b=k})};y();let w;const _=sJ[i]||O1;let S;_!==O1&&typeof r[0]!="number"&&(S=$6([0,100],r,{clamp:!1}),r=[0,100]);const M=_({...d,keyframes:r});let E;o==="mirror"&&(E=_({...d,keyframes:[...r].reverse(),velocity:-(d.velocity||0)}));let A="idle",C=null,P=null,R=null;M.calculatedDuration===null&&s&&(M.calculatedDuration=gI(M));const{calculatedDuration:L}=M;let O=1/0,D=1/0;L!==null&&(O=L+a,D=O*(s+1)-a);let I=0;const z=k=>{if(P===null)return;p>0&&(P=Math.min(P,k)),p<0&&(P=Math.min(k-D/p,P)),C!==null?I=C:I=Math.round(k-P)*p;const H=I-e*(p>=0?1:-1),K=p>=0?H<0:H>D;I=Math.max(H,0),A==="finished"&&C===null&&(I=D);let ne=I,te=M;if(s){const fe=Math.min(I,D)/O;let Ce=Math.floor(fe),le=fe%1;!le&&fe>=1&&(le=1),le===1&&Ce--,Ce=Math.min(Ce,s+1),!!(Ce%2)&&(o==="reverse"?(le=1-le,a&&(le-=a/O)):o==="mirror"&&(te=E)),ne=pc(0,1,le)*O}const ae=K?{done:!1,value:r[0]}:te.next(ne);S&&(ae.value=S(ae.value));let{done:oe}=ae;!K&&L!==null&&(oe=p>=0?I>=D:I<=0);const he=C===null&&(A==="finished"||A==="running"&&oe);return f&&f(ae.value),he&&V(),ae},$=()=>{w&&w.stop(),w=void 0},q=()=>{A="idle",$(),b(),y(),P=R=null},V=()=>{A="finished",u&&u(),$(),b()},U=()=>{if(v)return;w||(w=n(z));const k=w.now();l&&l(),C!==null?P=k-C:(!P||A==="finished")&&(P=k),A==="finished"&&y(),R=P,C=null,A="running",w.start()};t&&U();const W={then(k,H){return x.then(k,H)},get time(){return Zo(I)},set time(k){k=sc(k),I=k,C!==null||!w||p===0?C=k:P=w.now()-k/p},get duration(){const k=M.calculatedDuration===null?gI(M):M.calculatedDuration;return Zo(k)},get speed(){return p},set speed(k){k===p||!w||(p=k,W.time=Zo(I))},get state(){return A},play:U,pause:()=>{A="paused",C=I},stop:()=>{v=!0,A!=="idle"&&(A="idle",c&&c(),q())},cancel:()=>{R!==null&&z(R),q()},complete:()=>{A="finished"},sample:k=>(P=0,z(k))};return W}function aJ(t){let e;return()=>(e===void 0&&(e=t()),e)}const oJ=aJ(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),lJ=new Set(["opacity","clipPath","filter","transform","backgroundColor"]),hy=10,cJ=2e4,uJ=(t,e)=>e.type==="spring"||t==="backgroundColor"||!M6(e.ease);function fJ(t,e,{onUpdate:n,onComplete:r,...i}){if(!(oJ()&&lJ.has(e)&&!i.repeatDelay&&i.repeatType!=="mirror"&&i.damping!==0&&i.type!=="inertia"))return!1;let a=!1,o,l,c=!1;const u=()=>{l=new Promise(_=>{o=_})};u();let{keyframes:f,duration:d=300,ease:p,times:v}=i;if(uJ(e,i)){const _=L1({...i,repeat:0,delay:0});let S={done:!1,value:f[0]};const M=[];let E=0;for(;!S.done&&E<cJ;)S=_.sample(E),M.push(S.value),E+=hy;v=void 0,f=M,d=E-hy,p="linear"}const b=_Z(t.owner.current,e,f,{...i,duration:d,ease:p,times:v}),x=()=>{c=!1,b.cancel()},y=()=>{c=!0,Tn.update(x),o(),u()};return b.onfinish=()=>{c||(t.set(wZ(f,i)),r&&r(),y())},{then(_,S){return l.then(_,S)},attachTimeline(_){return b.timeline=_,b.onfinish=null,Jn},get time(){return Zo(b.currentTime||0)},set time(_){b.currentTime=sc(_)},get speed(){return b.playbackRate},set speed(_){b.playbackRate=_},get duration(){return Zo(d)},play:()=>{a||(b.play(),ol(x))},pause:()=>b.pause(),stop:()=>{if(a=!0,b.playState==="idle")return;const{currentTime:_}=b;if(_){const S=L1({...i,autoplay:!1});t.setWithVelocity(S.sample(_-hy).value,S.sample(_).value,hy)}y()},complete:()=>{c||b.finish()},cancel:y}}function dJ({keyframes:t,delay:e,onUpdate:n,onComplete:r}){const i=()=>(n&&n(t[t.length-1]),r&&r(),{time:0,speed:1,duration:0,play:Jn,pause:Jn,stop:Jn,then:s=>(s(),Promise.resolve()),cancel:Jn,complete:Jn});return e?L1({keyframes:[0,1],duration:0,delay:e,onComplete:i}):i()}const hJ={type:"spring",stiffness:500,damping:25,restSpeed:10},pJ=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),mJ={type:"keyframes",duration:.8},gJ={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},vJ=(t,{keyframes:e})=>e.length>2?mJ:lf.has(t)?t.startsWith("scale")?pJ(e[1]):hJ:gJ,eT=(t,e)=>t==="zIndex"?!1:!!(typeof e=="number"||Array.isArray(e)||typeof e=="string"&&(mc.test(e)||e==="0")&&!e.startsWith("url(")),yJ=new Set(["brightness","contrast","saturate","opacity"]);function xJ(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(v_)||[];if(!r)return t;const i=n.replace(r,"");let s=yJ.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const bJ=/([a-z-]*)\(.*?\)/g,tT={...mc,getAnimatableNone:t=>{const e=t.match(bJ);return e?e.map(xJ).join(" "):t}},_J={...o6,color:Ii,backgroundColor:Ii,outlineColor:Ii,fill:Ii,stroke:Ii,borderColor:Ii,borderTopColor:Ii,borderRightColor:Ii,borderBottomColor:Ii,borderLeftColor:Ii,filter:tT,WebkitFilter:tT},YC=t=>_J[t];function q6(t,e){let n=YC(t);return n!==tT&&(n=mc),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Y6=t=>/^0[^.\s]+$/.test(t);function wJ(t){if(typeof t=="number")return t===0;if(t!==null)return t==="none"||t==="0"||Y6(t)}function SJ(t,e,n,r){const i=eT(e,n);let s;Array.isArray(n)?s=[...n]:s=[null,n];const a=r.from!==void 0?r.from:t.get();let o;const l=[];for(let c=0;c<s.length;c++)s[c]===null&&(s[c]=c===0?a:s[c-1]),wJ(s[c])&&l.push(c),typeof s[c]=="string"&&s[c]!=="none"&&s[c]!=="0"&&(o=s[c]);if(i&&l.length&&o)for(let c=0;c<l.length;c++){const u=l[c];s[u]=q6(e,o)}return s}function MJ({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:a,repeatDelay:o,from:l,elapsed:c,...u}){return!!Object.keys(u).length}function KC(t,e){return t[e]||t.default||t}const EJ={skipAnimations:!1},ZC=(t,e,n,r={})=>i=>{const s=KC(r,t)||{},a=s.delay||r.delay||0;let{elapsed:o=0}=r;o=o-sc(a);const l=SJ(e,t,n,s),c=l[0],u=l[l.length-1],f=eT(t,c),d=eT(t,u);let p={keyframes:l,velocity:e.getVelocity(),ease:"easeOut",...s,delay:-o,onUpdate:v=>{e.set(v),s.onUpdate&&s.onUpdate(v)},onComplete:()=>{i(),s.onComplete&&s.onComplete()}};if(MJ(s)||(p={...p,...vJ(t,p)}),p.duration&&(p.duration=sc(p.duration)),p.repeatDelay&&(p.repeatDelay=sc(p.repeatDelay)),!f||!d||bZ.current||s.type===!1||EJ.skipAnimations)return dJ(p);if(!r.isHandoff&&e.owner&&e.owner.current instanceof HTMLElement&&!e.owner.getProps().onUpdate){const v=fJ(e,t,p);if(v)return v}return L1(p)};function I1(t){return!!(as(t)&&t.add)}const K6=t=>/^\-?\d*\.?\d+$/.test(t);function JC(t,e){t.indexOf(e)===-1&&t.push(e)}function QC(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class eN{constructor(){this.subscriptions=[]}add(e){return JC(this.subscriptions,e),()=>QC(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const a=this.subscriptions[s];a&&a(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}const TJ=t=>!isNaN(parseFloat(t));class AJ{constructor(e,n={}){this.version="10.18.0",this.timeDelta=0,this.lastUpdated=0,this.canTrackVelocity=!1,this.events={},this.updateAndNotify=(r,i=!0)=>{this.prev=this.current,this.current=r;const{delta:s,timestamp:a}=hi;this.lastUpdated!==a&&(this.timeDelta=s,this.lastUpdated=a,Tn.postRender(this.scheduleVelocityCheck)),this.prev!==this.current&&this.events.change&&this.events.change.notify(this.current),this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.scheduleVelocityCheck=()=>Tn.postRender(this.velocityCheck),this.velocityCheck=({timestamp:r})=>{r!==this.lastUpdated&&(this.prev=this.current,this.events.velocityChange&&this.events.velocityChange.notify(this.getVelocity()))},this.hasAnimated=!1,this.prev=this.current=e,this.canTrackVelocity=TJ(this.current),this.owner=n.owner}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new eN);const r=this.events[e].add(n);return e==="change"?()=>{r(),Tn.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=e,this.timeDelta=r}jump(e){this.updateAndNotify(e),this.prev=e,this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){return this.canTrackVelocity?W6(parseFloat(this.current)-parseFloat(this.prev),this.timeDelta):0}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function lh(t,e){return new AJ(t,e)}const Z6=t=>e=>e.test(t),PJ={test:t=>t==="auto",parse:t=>t},J6=[cf,Tt,so,Dl,jK,IK,PJ],zp=t=>J6.find(Z6(t)),CJ=[...J6,Ii,mc],NJ=t=>CJ.find(Z6(t));function RJ(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,lh(n))}function OJ(t,e){const n=x_(t,e);let{transitionEnd:r={},transition:i={},...s}=n?t.makeTargetAnimatable(n,!1):{};s={...s,...r};for(const a in s){const o=YK(s[a]);RJ(t,a,o)}}function LJ(t,e,n){var r,i;const s=Object.keys(e).filter(o=>!t.hasValue(o)),a=s.length;if(a)for(let o=0;o<a;o++){const l=s[o],c=e[l];let u=null;Array.isArray(c)&&(u=c[0]),u===null&&(u=(i=(r=n[l])!==null&&r!==void 0?r:t.readValue(l))!==null&&i!==void 0?i:e[l]),u!=null&&(typeof u=="string"&&(K6(u)||Y6(u))?u=parseFloat(u):!NJ(u)&&mc.test(c)&&(u=q6(l,c)),t.addValue(l,lh(u,{owner:t})),n[l]===void 0&&(n[l]=u),u!==null&&t.setBaseTarget(l,u))}}function IJ(t,e){return e?(e[t]||e.default||e).from:void 0}function jJ(t,e,n){const r={};for(const i in t){const s=IJ(i,e);if(s!==void 0)r[i]=s;else{const a=n.getValue(i);a&&(r[i]=a.get())}}return r}function kJ({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function DJ(t,e){const n=t.get();if(Array.isArray(e)){for(let r=0;r<e.length;r++)if(e[r]!==n)return!0}else return n!==e}function Q6(t,e,{delay:n=0,transitionOverride:r,type:i}={}){let{transition:s=t.getDefaultTransition(),transitionEnd:a,...o}=t.makeTargetAnimatable(e);const l=t.getValue("willChange");r&&(s=r);const c=[],u=i&&t.animationState&&t.animationState.getState()[i];for(const f in o){const d=t.getValue(f),p=o[f];if(!d||p===void 0||u&&kJ(u,f))continue;const v={delay:n,elapsed:0,...KC(s||{},f)};if(window.HandoffAppearAnimations){const y=t.getProps()[e6];if(y){const w=window.HandoffAppearAnimations(y,f,d,Tn);w!==null&&(v.elapsed=w,v.isHandoff=!0)}}let b=!v.isHandoff&&!DJ(d,p);if(v.type==="spring"&&(d.getVelocity()||v.velocity)&&(b=!1),d.animation&&(b=!1),b)continue;d.start(ZC(f,d,p,t.shouldReduceMotion&&lf.has(f)?{type:!1}:v));const x=d.animation;I1(l)&&(l.add(f),x.then(()=>l.remove(f))),c.push(x)}return a&&Promise.all(c).then(()=>{a&&OJ(t,a)}),c}function nT(t,e,n={}){const r=x_(t,e,n.custom);let{transition:i=t.getDefaultTransition()||{}}=r||{};n.transitionOverride&&(i=n.transitionOverride);const s=r?()=>Promise.all(Q6(t,r,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(l=0)=>{const{delayChildren:c=0,staggerChildren:u,staggerDirection:f}=i;return UJ(t,e,c+l,u,f,n)}:()=>Promise.resolve(),{when:o}=i;if(o){const[l,c]=o==="beforeChildren"?[s,a]:[a,s];return l().then(()=>c())}else return Promise.all([s(),a(n.delay)])}function UJ(t,e,n=0,r=0,i=1,s){const a=[],o=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>o-c*r;return Array.from(t.variantChildren).sort(FJ).forEach((c,u)=>{c.notify("AnimationStart",e),a.push(nT(c,e,{...s,delay:n+l(u)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(a)}function FJ(t,e){return t.sortNodePosition(e)}function BJ(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>nT(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=nT(t,e,n);else{const i=typeof e=="function"?x_(t,e,n.custom):e;r=Promise.all(Q6(t,i,n))}return r.then(()=>t.notify("AnimationComplete",e))}const zJ=[...jC].reverse(),VJ=jC.length;function HJ(t){return e=>Promise.all(e.map(({animation:n,options:r})=>BJ(t,n,r)))}function $J(t){let e=HJ(t);const n=GJ();let r=!0;const i=(l,c)=>{const u=x_(t,c);if(u){const{transition:f,transitionEnd:d,...p}=u;l={...l,...p,...d}}return l};function s(l){e=l(t)}function a(l,c){const u=t.getProps(),f=t.getVariantContext(!0)||{},d=[],p=new Set;let v={},b=1/0;for(let y=0;y<VJ;y++){const w=zJ[y],_=n[w],S=u[w]!==void 0?u[w]:f[w],M=hg(S),E=w===c?_.isActive:null;E===!1&&(b=y);let A=S===f[w]&&S!==u[w]&&M;if(A&&r&&t.manuallyAnimateOnMount&&(A=!1),_.protectedKeys={...v},!_.isActive&&E===null||!S&&!_.prevProp||m_(S)||typeof S=="boolean")continue;let P=WJ(_.prevProp,S)||w===c&&_.isActive&&!A&&M||y>b&&M,R=!1;const L=Array.isArray(S)?S:[S];let O=L.reduce(i,{});E===!1&&(O={});const{prevResolvedValues:D={}}=_,I={...D,...O},z=$=>{P=!0,p.has($)&&(R=!0,p.delete($)),_.needsAnimating[$]=!0};for(const $ in I){const q=O[$],V=D[$];if(v.hasOwnProperty($))continue;let U=!1;N1(q)&&N1(V)?U=!w6(q,V):U=q!==V,U?q!==void 0?z($):p.add($):q!==void 0&&p.has($)?z($):_.protectedKeys[$]=!0}_.prevProp=S,_.prevResolvedValues=O,_.isActive&&(v={...v,...O}),r&&t.blockInitialAnimation&&(P=!1),P&&(!A||R)&&d.push(...L.map($=>({animation:$,options:{type:w,...l}})))}if(p.size){const y={};p.forEach(w=>{const _=t.getBaseTarget(w);_!==void 0&&(y[w]=_)}),d.push({animation:y})}let x=!!d.length;return r&&(u.initial===!1||u.initial===u.animate)&&!t.manuallyAnimateOnMount&&(x=!1),r=!1,x?e(d):Promise.resolve()}function o(l,c,u){var f;if(n[l].isActive===c)return Promise.resolve();(f=t.variantChildren)===null||f===void 0||f.forEach(p=>{var v;return(v=p.animationState)===null||v===void 0?void 0:v.setActive(l,c)}),n[l].isActive=c;const d=a(u,l);for(const p in n)n[p].protectedKeys={};return d}return{animateChanges:a,setActive:o,setAnimateFunction:s,getState:()=>n}}function WJ(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!w6(e,t):!1}function Kc(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function GJ(){return{animate:Kc(!0),whileInView:Kc(),whileHover:Kc(),whileTap:Kc(),whileDrag:Kc(),whileFocus:Kc(),exit:Kc()}}class XJ extends Mc{constructor(e){super(e),e.animationState||(e.animationState=$J(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();this.unmount(),m_(e)&&(this.unmount=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){}}let qJ=0;class YJ extends Mc{constructor(){super(...arguments),this.id=qJ++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n,custom:r}=this.node.presenceContext,{isPresent:i}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===i)return;const s=this.node.animationState.setActive("exit",!e,{custom:r??this.node.getProps().custom});n&&!e&&s.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const KJ={animation:{Feature:XJ},exit:{Feature:YJ}},vI=(t,e)=>Math.abs(t-e);function ZJ(t,e){const n=vI(t.x,e.x),r=vI(t.y,e.y);return Math.sqrt(n**2+r**2)}class eV{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const f=S2(this.lastMoveEventInfo,this.history),d=this.startEvent!==null,p=ZJ(f.offset,{x:0,y:0})>=3;if(!d&&!p)return;const{point:v}=f,{timestamp:b}=hi;this.history.push({...v,timestamp:b});const{onStart:x,onMove:y}=this.handlers;d||(x&&x(this.lastMoveEvent,f),this.startEvent=this.lastMoveEvent),y&&y(this.lastMoveEvent,f)},this.handlePointerMove=(f,d)=>{this.lastMoveEvent=f,this.lastMoveEventInfo=w2(d,this.transformPagePoint),Tn.update(this.updatePoint,!0)},this.handlePointerUp=(f,d)=>{this.end();const{onEnd:p,onSessionEnd:v,resumeAnimation:b}=this.handlers;if(this.dragSnapToOrigin&&b&&b(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const x=S2(f.type==="pointercancel"?this.lastMoveEventInfo:w2(d,this.transformPagePoint),this.history);this.startEvent&&p&&p(f,x),v&&v(f,x)},!v6(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const a=y_(e),o=w2(a,this.transformPagePoint),{point:l}=o,{timestamp:c}=hi;this.history=[{...l,timestamp:c}];const{onSessionStart:u}=n;u&&u(e,S2(o,this.history)),this.removeListeners=ic(Ko(this.contextWindow,"pointermove",this.handlePointerMove),Ko(this.contextWindow,"pointerup",this.handlePointerUp),Ko(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ol(this.updatePoint)}}function w2(t,e){return e?{point:e(t.point)}:t}function yI(t,e){return{x:t.x-e.x,y:t.y-e.y}}function S2({point:t},e){return{point:t,delta:yI(t,tV(e)),offset:yI(t,JJ(e)),velocity:QJ(e,.1)}}function JJ(t){return t[0]}function tV(t){return t[t.length-1]}function QJ(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=tV(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>sc(e)));)n--;if(!r)return{x:0,y:0};const s=Zo(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const a={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return a.x===1/0&&(a.x=0),a.y===1/0&&(a.y=0),a}function Os(t){return t.max-t.min}function rT(t,e=0,n=.01){return Math.abs(t-e)<=n}function xI(t,e,n,r=.5){t.origin=r,t.originPoint=zn(e.min,e.max,t.origin),t.scale=Os(n)/Os(e),(rT(t.scale,1,1e-4)||isNaN(t.scale))&&(t.scale=1),t.translate=zn(n.min,n.max,t.origin)-t.originPoint,(rT(t.translate)||isNaN(t.translate))&&(t.translate=0)}function Om(t,e,n,r){xI(t.x,e.x,n.x,r?r.originX:void 0),xI(t.y,e.y,n.y,r?r.originY:void 0)}function bI(t,e,n){t.min=n.min+e.min,t.max=t.min+Os(e)}function eQ(t,e,n){bI(t.x,e.x,n.x),bI(t.y,e.y,n.y)}function _I(t,e,n){t.min=e.min-n.min,t.max=t.min+Os(e)}function Lm(t,e,n){_I(t.x,e.x,n.x),_I(t.y,e.y,n.y)}function tQ(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?zn(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?zn(n,t,r.max):Math.min(t,n)),t}function wI(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function nQ(t,{top:e,left:n,bottom:r,right:i}){return{x:wI(t.x,n,i),y:wI(t.y,e,r)}}function SI(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function rQ(t,e){return{x:SI(t.x,e.x),y:SI(t.y,e.y)}}function iQ(t,e){let n=.5;const r=Os(t),i=Os(e);return i>r?n=mg(e.min,e.max-r,t.min):r>i&&(n=mg(t.min,t.max-i,e.min)),pc(0,1,n)}function sQ(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const iT=.35;function aQ(t=iT){return t===!1?t=0:t===!0&&(t=iT),{x:MI(t,"left","right"),y:MI(t,"top","bottom")}}function MI(t,e,n){return{min:EI(t,e),max:EI(t,n)}}function EI(t,e){return typeof t=="number"?t:t[e]||0}const TI=()=>({translate:0,scale:1,origin:0,originPoint:0}),Cd=()=>({x:TI(),y:TI()}),AI=()=>({min:0,max:0}),pr=()=>({x:AI(),y:AI()});function Ks(t){return[t("x"),t("y")]}function nV({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function oQ({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function lQ(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function M2(t){return t===void 0||t===1}function sT({scale:t,scaleX:e,scaleY:n}){return!M2(t)||!M2(e)||!M2(n)}function uu(t){return sT(t)||rV(t)||t.z||t.rotate||t.rotateX||t.rotateY}function rV(t){return PI(t.x)||PI(t.y)}function PI(t){return t&&t!=="0%"}function j1(t,e,n){const r=t-n,i=e*r;return n+i}function CI(t,e,n,r,i){return i!==void 0&&(t=j1(t,i,r)),j1(t,n,r)+e}function aT(t,e=0,n=1,r,i){t.min=CI(t.min,e,n,r,i),t.max=CI(t.max,e,n,r,i)}function iV(t,{x:e,y:n}){aT(t.x,e.translate,e.scale,e.originPoint),aT(t.y,n.translate,n.scale,n.originPoint)}function cQ(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,a;for(let o=0;o<i;o++){s=n[o],a=s.projectionDelta;const l=s.instance;l&&l.style&&l.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&Nd(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),a&&(e.x*=a.x.scale,e.y*=a.y.scale,iV(t,a)),r&&uu(s.latestValues)&&Nd(t,s.latestValues))}e.x=NI(e.x),e.y=NI(e.y)}function NI(t){return Number.isInteger(t)||t>1.0000000000001||t<.999999999999?t:1}function Bl(t,e){t.min=t.min+e,t.max=t.max+e}function RI(t,e,[n,r,i]){const s=e[i]!==void 0?e[i]:.5,a=zn(t.min,t.max,s);aT(t,e[n],e[r],a,e.scale)}const uQ=["x","scaleX","originX"],fQ=["y","scaleY","originY"];function Nd(t,e){RI(t.x,e,uQ),RI(t.y,e,fQ)}function sV(t,e){return nV(lQ(t.getBoundingClientRect(),e))}function dQ(t,e,n){const r=sV(t,n),{scroll:i}=e;return i&&(Bl(r.x,i.offset.x),Bl(r.y,i.offset.y)),r}const aV=({current:t})=>t?t.ownerDocument.defaultView:null,hQ=new WeakMap;class pQ{constructor(e){this.openGlobalLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=pr(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=u=>{const{dragSnapToOrigin:f}=this.getProps();f?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(y_(u,"page").point)},s=(u,f)=>{const{drag:d,dragPropagation:p,onDragStart:v}=this.getProps();if(d&&!p&&(this.openGlobalLock&&this.openGlobalLock(),this.openGlobalLock=x6(d),!this.openGlobalLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),Ks(x=>{let y=this.getAxisMotionValue(x).get()||0;if(so.test(y)){const{projection:w}=this.visualElement;if(w&&w.layout){const _=w.layout.layoutBox[x];_&&(y=Os(_)*(parseFloat(y)/100))}}this.originPoint[x]=y}),v&&Tn.update(()=>v(u,f),!1,!0);const{animationState:b}=this.visualElement;b&&b.setActive("whileDrag",!0)},a=(u,f)=>{const{dragPropagation:d,dragDirectionLock:p,onDirectionLock:v,onDrag:b}=this.getProps();if(!d&&!this.openGlobalLock)return;const{offset:x}=f;if(p&&this.currentDirection===null){this.currentDirection=mQ(x),this.currentDirection!==null&&v&&v(this.currentDirection);return}this.updateAxis("x",f.point,x),this.updateAxis("y",f.point,x),this.visualElement.render(),b&&b(u,f)},o=(u,f)=>this.stop(u,f),l=()=>Ks(u=>{var f;return this.getAnimationState(u)==="paused"&&((f=this.getAxisMotionValue(u).animation)===null||f===void 0?void 0:f.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new eV(e,{onSessionStart:i,onStart:s,onMove:a,onSessionEnd:o,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:aV(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Tn.update(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openGlobalLock&&(this.openGlobalLock(),this.openGlobalLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!py(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let a=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(a=tQ(a,this.constraints[e],this.elastic[e])),s.set(a)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&Ad(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=nQ(i.layoutBox,n):this.constraints=!1,this.elastic=aQ(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&Ks(a=>{this.getAxisMotionValue(a)&&(this.constraints[a]=sQ(i.layoutBox[a],this.constraints[a]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!Ad(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=dQ(r,i.root,this.visualElement.getTransformPagePoint());let a=rQ(i.layout.layoutBox,s);if(n){const o=n(oQ(a));this.hasMutatedConstraints=!!o,o&&(a=nV(o))}return a}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:a,onDragTransitionEnd:o}=this.getProps(),l=this.constraints||{},c=Ks(u=>{if(!py(u,n,this.currentDirection))return;let f=l&&l[u]||{};a&&(f={min:0,max:0});const d=i?200:1e6,p=i?40:1e7,v={type:"inertia",velocity:r?e[u]:0,bounceStiffness:d,bounceDamping:p,timeConstant:750,restDelta:1,restSpeed:10,...s,...f};return this.startAxisValueAnimation(u,v)});return Promise.all(c).then(o)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return r.start(ZC(e,r,0,n))}stopAnimation(){Ks(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){Ks(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n="_drag"+e.toUpperCase(),r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){Ks(n=>{const{drag:r}=this.getProps();if(!py(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:a,max:o}=i.layout.layoutBox[n];s.set(e[n]-zn(a,o,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!Ad(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};Ks(a=>{const o=this.getAxisMotionValue(a);if(o){const l=o.get();i[a]=iQ({min:l,max:l},this.constraints[a])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),Ks(a=>{if(!py(a,e,null))return;const o=this.getAxisMotionValue(a),{min:l,max:c}=this.constraints[a];o.set(zn(l,c,i[a]))})}addListeners(){if(!this.visualElement.current)return;hQ.set(this.visualElement,this);const e=this.visualElement.current,n=Ko(e,"pointerdown",l=>{const{drag:c,dragListener:u=!0}=this.getProps();c&&u&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();Ad(l)&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),r();const a=$o(window,"resize",()=>this.scalePositionWithinConstraints()),o=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(Ks(u=>{const f=this.getAxisMotionValue(u);f&&(this.originPoint[u]+=l[u].translate,f.set(f.get()+l[u].translate))}),this.visualElement.render())});return()=>{a(),n(),s(),o&&o()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:a=iT,dragMomentum:o=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:a,dragMomentum:o}}}function py(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function mQ(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class gQ extends Mc{constructor(e){super(e),this.removeGroupControls=Jn,this.removeListeners=Jn,this.controls=new pQ(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||Jn}unmount(){this.removeGroupControls(),this.removeListeners()}}const OI=t=>(e,n)=>{t&&Tn.update(()=>t(e,n))};class vQ extends Mc{constructor(){super(...arguments),this.removePointerDownListener=Jn}onPointerDown(e){this.session=new eV(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:aV(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:OI(e),onStart:OI(n),onMove:r,onEnd:(s,a)=>{delete this.session,i&&Tn.update(()=>i(s,a))}}}mount(){this.removePointerDownListener=Ko(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}function yQ(){const t=F.useContext(h_);if(t===null)return[!0,null];const{isPresent:e,onExitComplete:n,register:r}=t,i=F.useId();return F.useEffect(()=>r(i),[]),!e&&n?[!1,()=>n&&n(i)]:[!0]}const Dx={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function LI(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Vp={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Tt.test(t))t=parseFloat(t);else return t;const n=LI(t,e.target.x),r=LI(t,e.target.y);return`${n}% ${r}%`}},xQ={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=mc.parse(t);if(i.length>5)return r;const s=mc.createTransformer(t),a=typeof i[0]!="number"?1:0,o=n.x.scale*e.x,l=n.y.scale*e.y;i[0+a]/=o,i[1+a]/=l;const c=zn(o,l,.5);return typeof i[2+a]=="number"&&(i[2+a]/=c),typeof i[3+a]=="number"&&(i[3+a]/=c),s(i)}};class bQ extends ce.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;AK(_Q),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Dx.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,a=r.projection;return a&&(a.isPresent=s,i||e.layoutDependency!==n||n===void 0?a.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?a.promote():a.relegate()||Tn.postRender(()=>{const o=a.getStack();(!o||!o.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),queueMicrotask(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function oV(t){const[e,n]=yQ(),r=F.useContext(DC);return ce.createElement(bQ,{...t,layoutGroup:r,switchLayoutGroup:F.useContext(n6),isPresent:e,safeToRemove:n})}const _Q={borderRadius:{...Vp,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Vp,borderTopRightRadius:Vp,borderBottomLeftRadius:Vp,borderBottomRightRadius:Vp,boxShadow:xQ},lV=["TopLeft","TopRight","BottomLeft","BottomRight"],wQ=lV.length,II=t=>typeof t=="string"?parseFloat(t):t,jI=t=>typeof t=="number"||Tt.test(t);function SQ(t,e,n,r,i,s){i?(t.opacity=zn(0,n.opacity!==void 0?n.opacity:1,MQ(r)),t.opacityExit=zn(e.opacity!==void 0?e.opacity:1,0,EQ(r))):s&&(t.opacity=zn(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let a=0;a<wQ;a++){const o=`border${lV[a]}Radius`;let l=kI(e,o),c=kI(n,o);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||jI(l)===jI(c)?(t[o]=Math.max(zn(II(l),II(c),r),0),(so.test(c)||so.test(l))&&(t[o]+="%")):t[o]=c}(e.rotate||n.rotate)&&(t.rotate=zn(e.rotate||0,n.rotate||0,r))}function kI(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const MQ=cV(0,.5,R6),EQ=cV(.5,.95,Jn);function cV(t,e,n){return r=>r<t?0:r>e?1:n(mg(t,e,r))}function DI(t,e){t.min=e.min,t.max=e.max}function Ws(t,e){DI(t.x,e.x),DI(t.y,e.y)}function UI(t,e,n,r,i){return t-=e,t=j1(t,1/n,r),i!==void 0&&(t=j1(t,1/i,r)),t}function TQ(t,e=0,n=1,r=.5,i,s=t,a=t){if(so.test(e)&&(e=parseFloat(e),e=zn(a.min,a.max,e/100)-a.min),typeof e!="number")return;let o=zn(s.min,s.max,r);t===s&&(o-=e),t.min=UI(t.min,e,n,o,i),t.max=UI(t.max,e,n,o,i)}function FI(t,e,[n,r,i],s,a){TQ(t,e[n],e[r],e[i],e.scale,s,a)}const AQ=["x","scaleX","originX"],PQ=["y","scaleY","originY"];function BI(t,e,n,r){FI(t.x,e,AQ,n?n.x:void 0,r?r.x:void 0),FI(t.y,e,PQ,n?n.y:void 0,r?r.y:void 0)}function zI(t){return t.translate===0&&t.scale===1}function uV(t){return zI(t.x)&&zI(t.y)}function CQ(t,e){return t.x.min===e.x.min&&t.x.max===e.x.max&&t.y.min===e.y.min&&t.y.max===e.y.max}function fV(t,e){return Math.round(t.x.min)===Math.round(e.x.min)&&Math.round(t.x.max)===Math.round(e.x.max)&&Math.round(t.y.min)===Math.round(e.y.min)&&Math.round(t.y.max)===Math.round(e.y.max)}function VI(t){return Os(t.x)/Os(t.y)}class NQ{constructor(){this.members=[]}add(e){JC(this.members,e),e.scheduleRender()}remove(e){if(QC(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function HI(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y;if((i||s)&&(r=`translate3d(${i}px, ${s}px, 0) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{rotate:l,rotateX:c,rotateY:u}=n;l&&(r+=`rotate(${l}deg) `),c&&(r+=`rotateX(${c}deg) `),u&&(r+=`rotateY(${u}deg) `)}const a=t.x.scale*e.x,o=t.y.scale*e.y;return(a!==1||o!==1)&&(r+=`scale(${a}, ${o})`),r||"none"}const RQ=(t,e)=>t.depth-e.depth;class OQ{constructor(){this.children=[],this.isDirty=!1}add(e){JC(this.children,e),this.isDirty=!0}remove(e){QC(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(RQ),this.isDirty=!1,this.children.forEach(e)}}function LQ(t,e){const n=performance.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ol(r),t(s-e))};return Tn.read(r,!0),()=>ol(r)}function IQ(t){window.MotionDebug&&window.MotionDebug.record(t)}function jQ(t){return t instanceof SVGElement&&t.tagName!=="svg"}function kQ(t,e,n){const r=as(t)?t:lh(t);return r.start(ZC("",r,e,n)),r.animation}const $I=["","X","Y","Z"],DQ={visibility:"hidden"},WI=1e3;let UQ=0;const fu={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0};function dV({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(a={},o=e==null?void 0:e()){this.id=UQ++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,fu.totalNodes=fu.resolvedTargetDeltas=fu.recalculatedProjection=0,this.nodes.forEach(zQ),this.nodes.forEach(GQ),this.nodes.forEach(XQ),this.nodes.forEach(VQ),IQ(fu)},this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=a,this.root=o?o.root||o:this,this.path=o?[...o.path,o]:[],this.parent=o,this.depth=o?o.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new OQ)}addEventListener(a,o){return this.eventHandlers.has(a)||this.eventHandlers.set(a,new eN),this.eventHandlers.get(a).add(o)}notifyListeners(a,...o){const l=this.eventHandlers.get(a);l&&l.notify(...o)}hasListeners(a){return this.eventHandlers.has(a)}mount(a,o=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=jQ(a),this.instance=a;const{layoutId:l,layout:c,visualElement:u}=this.options;if(u&&!u.current&&u.mount(a),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),o&&(c||l)&&(this.isLayoutDirty=!0),t){let f;const d=()=>this.root.updateBlockedByResize=!1;t(a,()=>{this.root.updateBlockedByResize=!0,f&&f(),f=LQ(d,250),Dx.hasAnimatedSinceResize&&(Dx.hasAnimatedSinceResize=!1,this.nodes.forEach(XI))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&u&&(l||c)&&this.addEventListener("didUpdate",({delta:f,hasLayoutChanged:d,hasRelativeTargetChanged:p,layout:v})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const b=this.options.transition||u.getDefaultTransition()||JQ,{onLayoutAnimationStart:x,onLayoutAnimationComplete:y}=u.getProps(),w=!this.targetLayout||!fV(this.targetLayout,v)||p,_=!d&&p;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||_||d&&(w||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(f,_);const S={...KC(b,"layout"),onPlay:x,onComplete:y};(u.shouldReduceMotion||this.options.layoutRoot)&&(S.delay=0,S.type=!1),this.startAnimation(S)}else d||XI(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=v})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const a=this.getStack();a&&a.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ol(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(qQ),this.animationId++)}getTransformTemplate(){const{visualElement:a}=this.options;return a&&a.getProps().transformTemplate}willUpdate(a=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let u=0;u<this.path.length;u++){const f=this.path[u];f.shouldResetTransform=!0,f.updateScroll("snapshot"),f.options.layoutRoot&&f.willUpdate(!1)}const{layoutId:o,layout:l}=this.options;if(o===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),a&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(GI);return}this.isUpdating||this.nodes.forEach($Q),this.isUpdating=!1,this.nodes.forEach(WQ),this.nodes.forEach(FQ),this.nodes.forEach(BQ),this.clearAllSnapshots();const o=performance.now();hi.delta=pc(0,1e3/60,o-hi.timestamp),hi.timestamp=o,hi.isProcessing=!0,p2.update.process(hi),p2.preRender.process(hi),p2.render.process(hi),hi.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,queueMicrotask(()=>this.update()))}clearAllSnapshots(){this.nodes.forEach(HQ),this.sharedNodes.forEach(YQ)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tn.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tn.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const a=this.layout;this.layout=this.measure(!1),this.layoutCorrected=pr(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:o}=this.options;o&&o.notify("LayoutMeasure",this.layout.layoutBox,a?a.layoutBox:void 0)}updateScroll(a="measure"){let o=!!(this.options.layoutScroll&&this.instance);this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===a&&(o=!1),o&&(this.scroll={animationId:this.root.animationId,phase:a,isRoot:r(this.instance),offset:n(this.instance)})}resetTransform(){if(!i)return;const a=this.isLayoutDirty||this.shouldResetTransform,o=this.projectionDelta&&!uV(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,u=c!==this.prevTransformTemplateValue;a&&(o||uu(this.latestValues)||u)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(a=!0){const o=this.measurePageBox();let l=this.removeElementScroll(o);return a&&(l=this.removeTransform(l)),QQ(l),{animationId:this.root.animationId,measuredBox:o,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){const{visualElement:a}=this.options;if(!a)return pr();const o=a.measureViewportBox(),{scroll:l}=this.root;return l&&(Bl(o.x,l.offset.x),Bl(o.y,l.offset.y)),o}removeElementScroll(a){const o=pr();Ws(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l],{scroll:u,options:f}=c;if(c!==this.root&&u&&f.layoutScroll){if(u.isRoot){Ws(o,a);const{scroll:d}=this.root;d&&(Bl(o.x,-d.offset.x),Bl(o.y,-d.offset.y))}Bl(o.x,u.offset.x),Bl(o.y,u.offset.y)}}return o}applyTransform(a,o=!1){const l=pr();Ws(l,a);for(let c=0;c<this.path.length;c++){const u=this.path[c];!o&&u.options.layoutScroll&&u.scroll&&u!==u.root&&Nd(l,{x:-u.scroll.offset.x,y:-u.scroll.offset.y}),uu(u.latestValues)&&Nd(l,u.latestValues)}return uu(this.latestValues)&&Nd(l,this.latestValues),l}removeTransform(a){const o=pr();Ws(o,a);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!uu(c.latestValues))continue;sT(c.latestValues)&&c.updateSnapshot();const u=pr(),f=c.measurePageBox();Ws(u,f),BI(o,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,u)}return uu(this.latestValues)&&BI(o,this.latestValues),o}setTargetDelta(a){this.targetDelta=a,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(a){this.options={...this.options,...a,crossfade:a.crossfade!==void 0?a.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==hi.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(a=!1){var o;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(a||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty||this.attemptToResolveRelativeTarget))return;const{layout:f,layoutId:d}=this.options;if(!(!this.layout||!(f||d))){if(this.resolvedRelativeTargetAt=hi.timestamp,!this.targetDelta&&!this.relativeTarget){const p=this.getClosestProjectingParent();p&&p.layout&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pr(),this.relativeTargetOrigin=pr(),Lm(this.relativeTargetOrigin,this.layout.layoutBox,p.layout.layoutBox),Ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=pr(),this.targetWithTransforms=pr()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),eQ(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ws(this.target,this.layout.layoutBox),iV(this.target,this.targetDelta)):Ws(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const p=this.getClosestProjectingParent();p&&!!p.resumingFrom==!!this.resumingFrom&&!p.options.layoutScroll&&p.target&&this.animationProgress!==1?(this.relativeParent=p,this.forceRelativeParentToResolveTarget(),this.relativeTarget=pr(),this.relativeTargetOrigin=pr(),Lm(this.relativeTargetOrigin,this.target,p.target),Ws(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}fu.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||sT(this.parent.latestValues)||rV(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var a;const o=this.getLead(),l=!!this.resumingFrom||this!==o;let c=!0;if((this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===hi.timestamp&&(c=!1),c)return;const{layout:u,layoutId:f}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(u||f))return;Ws(this.layoutCorrected,this.layout.layoutBox);const d=this.treeScale.x,p=this.treeScale.y;cQ(this.layoutCorrected,this.treeScale,this.path,l),o.layout&&!o.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(o.target=o.layout.layoutBox);const{target:v}=o;if(!v){this.projectionTransform&&(this.projectionDelta=Cd(),this.projectionTransform="none",this.scheduleRender());return}this.projectionDelta||(this.projectionDelta=Cd(),this.projectionDeltaWithTransform=Cd());const b=this.projectionTransform;Om(this.projectionDelta,this.layoutCorrected,v,this.latestValues),this.projectionTransform=HI(this.projectionDelta,this.treeScale),(this.projectionTransform!==b||this.treeScale.x!==d||this.treeScale.y!==p)&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",v)),fu.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(a=!0){if(this.options.scheduleRender&&this.options.scheduleRender(),a){const o=this.getStack();o&&o.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}setAnimationOrigin(a,o=!1){const l=this.snapshot,c=l?l.latestValues:{},u={...this.latestValues},f=Cd();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!o;const d=pr(),p=l?l.source:void 0,v=this.layout?this.layout.source:void 0,b=p!==v,x=this.getStack(),y=!x||x.members.length<=1,w=!!(b&&!y&&this.options.crossfade===!0&&!this.path.some(ZQ));this.animationProgress=0;let _;this.mixTargetDelta=S=>{const M=S/1e3;qI(f.x,a.x,M),qI(f.y,a.y,M),this.setTargetDelta(f),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Lm(d,this.layout.layoutBox,this.relativeParent.layout.layoutBox),KQ(this.relativeTarget,this.relativeTargetOrigin,d,M),_&&CQ(this.relativeTarget,_)&&(this.isProjectionDirty=!1),_||(_=pr()),Ws(_,this.relativeTarget)),b&&(this.animationValues=u,SQ(u,c,this.latestValues,M,w,y)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=M},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(a){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ol(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tn.update(()=>{Dx.hasAnimatedSinceResize=!0,this.currentAnimation=kQ(0,WI,{...a,onUpdate:o=>{this.mixTargetDelta(o),a.onUpdate&&a.onUpdate(o)},onComplete:()=>{a.onComplete&&a.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const a=this.getStack();a&&a.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(WI),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const a=this.getLead();let{targetWithTransforms:o,target:l,layout:c,latestValues:u}=a;if(!(!o||!l||!c)){if(this!==a&&this.layout&&c&&hV(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||pr();const f=Os(this.layout.layoutBox.x);l.x.min=a.target.x.min,l.x.max=l.x.min+f;const d=Os(this.layout.layoutBox.y);l.y.min=a.target.y.min,l.y.max=l.y.min+d}Ws(o,l),Nd(o,u),Om(this.projectionDeltaWithTransform,this.layoutCorrected,o,u)}}registerSharedNode(a,o){this.sharedNodes.has(a)||this.sharedNodes.set(a,new NQ),this.sharedNodes.get(a).add(o);const c=o.options.initialPromotionConfig;o.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(o):void 0})}isLead(){const a=this.getStack();return a?a.lead===this:!0}getLead(){var a;const{layoutId:o}=this.options;return o?((a=this.getStack())===null||a===void 0?void 0:a.lead)||this:this}getPrevLead(){var a;const{layoutId:o}=this.options;return o?(a=this.getStack())===null||a===void 0?void 0:a.prevLead:void 0}getStack(){const{layoutId:a}=this.options;if(a)return this.root.sharedNodes.get(a)}promote({needsReset:a,transition:o,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),a&&(this.projectionDelta=void 0,this.needsReset=!0),o&&this.setOptions({transition:o})}relegate(){const a=this.getStack();return a?a.relegate(this):!1}resetRotation(){const{visualElement:a}=this.options;if(!a)return;let o=!1;const{latestValues:l}=a;if((l.rotate||l.rotateX||l.rotateY||l.rotateZ)&&(o=!0),!o)return;const c={};for(let u=0;u<$I.length;u++){const f="rotate"+$I[u];l[f]&&(c[f]=l[f],a.setStaticValue(f,0))}a.render();for(const u in c)a.setStaticValue(u,c[u]);a.scheduleRender()}getProjectionStyles(a){var o,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return DQ;const c={visibility:""},u=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=kx(a==null?void 0:a.pointerEvents)||"",c.transform=u?u(this.latestValues,""):"none",c;const f=this.getLead();if(!this.projectionDelta||!this.layout||!f.target){const b={};return this.options.layoutId&&(b.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,b.pointerEvents=kx(a==null?void 0:a.pointerEvents)||""),this.hasProjected&&!uu(this.latestValues)&&(b.transform=u?u({},""):"none",this.hasProjected=!1),b}const d=f.animationValues||f.latestValues;this.applyTransformsToTarget(),c.transform=HI(this.projectionDeltaWithTransform,this.treeScale,d),u&&(c.transform=u(d,c.transform));const{x:p,y:v}=this.projectionDelta;c.transformOrigin=`${p.origin*100}% ${v.origin*100}% 0`,f.animationValues?c.opacity=f===this?(l=(o=d.opacity)!==null&&o!==void 0?o:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:d.opacityExit:c.opacity=f===this?d.opacity!==void 0?d.opacity:"":d.opacityExit!==void 0?d.opacityExit:0;for(const b in P1){if(d[b]===void 0)continue;const{correct:x,applyTo:y}=P1[b],w=c.transform==="none"?d[b]:x(d[b],f);if(y){const _=y.length;for(let S=0;S<_;S++)c[y[S]]=w}else c[b]=w}return this.options.layoutId&&(c.pointerEvents=f===this?kx(a==null?void 0:a.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(a=>{var o;return(o=a.currentAnimation)===null||o===void 0?void 0:o.stop()}),this.root.nodes.forEach(GI),this.root.sharedNodes.clear()}}}function FQ(t){t.updateLayout()}function BQ(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,a=n.source!==t.layout.source;s==="size"?Ks(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],p=Os(d);d.min=r[f].min,d.max=d.min+p}):hV(s,n.layoutBox,r)&&Ks(f=>{const d=a?n.measuredBox[f]:n.layoutBox[f],p=Os(r[f]);d.max=d.min+p,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[f].max=t.relativeTarget[f].min+p)});const o=Cd();Om(o,r,n.layoutBox);const l=Cd();a?Om(l,t.applyTransform(i,!0),n.measuredBox):Om(l,r,n.layoutBox);const c=!uV(o);let u=!1;if(!t.resumeFrom){const f=t.getClosestProjectingParent();if(f&&!f.resumeFrom){const{snapshot:d,layout:p}=f;if(d&&p){const v=pr();Lm(v,n.layoutBox,d.layoutBox);const b=pr();Lm(b,r,p.layoutBox),fV(v,b)||(u=!0),f.options.layoutRoot&&(t.relativeTarget=b,t.relativeTargetOrigin=v,t.relativeParent=f)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:o,hasLayoutChanged:c,hasRelativeTargetChanged:u})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function zQ(t){fu.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function VQ(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function HQ(t){t.clearSnapshot()}function GI(t){t.clearMeasurements()}function $Q(t){t.isLayoutDirty=!1}function WQ(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function XI(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function GQ(t){t.resolveTargetDelta()}function XQ(t){t.calcProjection()}function qQ(t){t.resetRotation()}function YQ(t){t.removeLeadSnapshot()}function qI(t,e,n){t.translate=zn(e.translate,0,n),t.scale=zn(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function YI(t,e,n,r){t.min=zn(e.min,n.min,r),t.max=zn(e.max,n.max,r)}function KQ(t,e,n,r){YI(t.x,e.x,n.x,r),YI(t.y,e.y,n.y,r)}function ZQ(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const JQ={duration:.45,ease:[.4,0,.1,1]},KI=t=>typeof navigator<"u"&&navigator.userAgent.toLowerCase().includes(t),ZI=KI("applewebkit/")&&!KI("chrome/")?Math.round:Jn;function JI(t){t.min=ZI(t.min),t.max=ZI(t.max)}function QQ(t){JI(t.x),JI(t.y)}function hV(t,e,n){return t==="position"||t==="preserve-aspect"&&!rT(VI(e),VI(n),.2)}const eee=dV({attachResizeListener:(t,e)=>$o(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),E2={current:void 0},pV=dV({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!E2.current){const t=new eee({});t.mount(window),t.setOptions({layoutScroll:!0}),E2.current=t}return E2.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),tee={pan:{Feature:vQ},drag:{Feature:gQ,ProjectionNode:pV,MeasureLayout:oV}},nee=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/;function ree(t){const e=nee.exec(t);if(!e)return[,];const[,n,r]=e;return[n,r]}function oT(t,e,n=1){const[r,i]=ree(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const a=s.trim();return K6(a)?parseFloat(a):a}else return KE(i)?oT(i,e,n+1):i}function iee(t,{...e},n){const r=t.current;if(!(r instanceof Element))return{target:e,transitionEnd:n};n&&(n={...n}),t.values.forEach(i=>{const s=i.get();if(!KE(s))return;const a=oT(s,r);a&&i.set(a)});for(const i in e){const s=e[i];if(!KE(s))continue;const a=oT(s,r);a&&(e[i]=a,n||(n={}),n[i]===void 0&&(n[i]=s))}return{target:e,transitionEnd:n}}const see=new Set(["width","height","top","left","right","bottom","x","y","translateX","translateY"]),mV=t=>see.has(t),aee=t=>Object.keys(t).some(mV),QI=t=>t===cf||t===Tt,ej=(t,e)=>parseFloat(t.split(", ")[e]),tj=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/);if(i)return ej(i[1],e);{const s=r.match(/^matrix\((.+)\)$/);return s?ej(s[1],t):0}},oee=new Set(["x","y","z"]),lee=N0.filter(t=>!oee.has(t));function cee(t){const e=[];return lee.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e.length&&t.render(),e}const ch={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:tj(4,13),y:tj(5,14)};ch.translateX=ch.x;ch.translateY=ch.y;const uee=(t,e,n)=>{const r=e.measureViewportBox(),i=e.current,s=getComputedStyle(i),{display:a}=s,o={};a==="none"&&e.setStaticValue("display",t.display||"block"),n.forEach(c=>{o[c]=ch[c](r,s)}),e.render();const l=e.measureViewportBox();return n.forEach(c=>{const u=e.getValue(c);u&&u.jump(o[c]),t[c]=ch[c](l,s)}),t},fee=(t,e,n={},r={})=>{e={...e},r={...r};const i=Object.keys(e).filter(mV);let s=[],a=!1;const o=[];if(i.forEach(l=>{const c=t.getValue(l);if(!t.hasValue(l))return;let u=n[l],f=zp(u);const d=e[l];let p;if(N1(d)){const v=d.length,b=d[0]===null?1:0;u=d[b],f=zp(u);for(let x=b;x<v&&d[x]!==null;x++)p?WC(zp(d[x])===p):p=zp(d[x])}else p=zp(d);if(f!==p)if(QI(f)&&QI(p)){const v=c.get();typeof v=="string"&&c.set(parseFloat(v)),typeof d=="string"?e[l]=parseFloat(d):Array.isArray(d)&&p===Tt&&(e[l]=d.map(parseFloat))}else f!=null&&f.transform&&(p!=null&&p.transform)&&(u===0||d===0)?u===0?c.set(p.transform(u)):e[l]=f.transform(d):(a||(s=cee(t),a=!0),o.push(l),r[l]=r[l]!==void 0?r[l]:e[l],c.jump(d))}),o.length){const l=o.indexOf("height")>=0?window.pageYOffset:null,c=uee(e,t,o);return s.length&&s.forEach(([u,f])=>{t.getValue(u).set(f)}),t.render(),p_&&l!==null&&window.scrollTo({top:l}),{target:c,transitionEnd:r}}else return{target:e,transitionEnd:r}};function dee(t,e,n,r){return aee(e)?fee(t,e,n,r):{target:e,transitionEnd:r}}const hee=(t,e,n,r)=>{const i=iee(t,e,r);return e=i.target,r=i.transitionEnd,dee(t,e,n,r)},lT={current:null},gV={current:!1};function pee(){if(gV.current=!0,!!p_)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>lT.current=t.matches;t.addListener(e),e()}else lT.current=!1}function mee(t,e,n){const{willChange:r}=e;for(const i in e){const s=e[i],a=n[i];if(as(s))t.addValue(i,s),I1(r)&&r.add(i);else if(as(a))t.addValue(i,lh(s,{owner:t})),I1(r)&&r.remove(i);else if(a!==s)if(t.hasValue(i)){const o=t.getValue(i);!o.hasAnimated&&o.set(s)}else{const o=t.getStaticValue(i);t.addValue(i,lh(o!==void 0?o:s,{owner:t}))}}for(const i in n)e[i]===void 0&&t.removeValue(i);return e}const nj=new WeakMap,vV=Object.keys(pg),gee=vV.length,rj=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"],vee=kC.length;class yee{constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,visualState:s},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.scheduleRender=()=>Tn.render(this.render,!1,!0);const{latestValues:o,renderState:l}=s;this.latestValues=o,this.baseTarget={...o},this.initialValues=n.initial?{...o}:{},this.renderState=l,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.isControllingVariants=g_(n),this.isVariantNode=t6(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:c,...u}=this.scrapeMotionValuesFromProps(n,{});for(const f in u){const d=u[f];o[f]!==void 0&&as(d)&&(d.set(o[f],!1),I1(c)&&c.add(f))}}scrapeMotionValuesFromProps(e,n){return{}}mount(e){this.current=e,nj.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),gV.current||pee(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:lT.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){nj.delete(this.current),this.projection&&this.projection.unmount(),ol(this.notifyUpdate),ol(this.render),this.valueSubscriptions.forEach(e=>e()),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features)this.features[e].unmount();this.current=null}bindToMotionValue(e,n){const r=lf.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Tn.update(this.notifyUpdate,!1,!0),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);this.valueSubscriptions.set(e,()=>{i(),s()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}loadFeatures({children:e,...n},r,i,s){let a,o;for(let l=0;l<gee;l++){const c=vV[l],{isEnabled:u,Feature:f,ProjectionNode:d,MeasureLayout:p}=pg[c];d&&(a=d),u(n)&&(!this.features[c]&&f&&(this.features[c]=new f(this)),p&&(o=p))}if((this.type==="html"||this.type==="svg")&&!this.projection&&a){this.projection=new a(this.latestValues,this.parent&&this.parent.projection);const{layoutId:l,layout:c,drag:u,dragConstraints:f,layoutScroll:d,layoutRoot:p}=n;this.projection.setOptions({layoutId:l,layout:c,alwaysMeasureLayout:!!u||f&&Ad(f),visualElement:this,scheduleRender:()=>this.scheduleRender(),animationType:typeof c=="string"?c:"both",initialPromotionConfig:s,layoutScroll:d,layoutRoot:p})}return o}updateFeatures(){for(const e in this.features){const n=this.features[e];n.isMounted?n.update():(n.mount(),n.isMounted=!0)}}triggerBuild(){this.build(this.renderState,this.latestValues,this.options,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):pr()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}makeTargetAnimatable(e,n=!0){return this.makeTargetAnimatableFromInstance(e,this.props,n)}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<rj.length;r++){const i=rj[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s=e["on"+i];s&&(this.propEventSubscriptions[i]=this.on(i,s))}this.prevMotionValues=mee(this,this.scrapeMotionValuesFromProps(e,this.prevProps),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue()}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}getVariantContext(e=!1){if(e)return this.parent?this.parent.getVariantContext():void 0;if(!this.isControllingVariants){const r=this.parent?this.parent.getVariantContext()||{}:{};return this.props.initial!==void 0&&(r.initial=this.props.initial),r}const n={};for(let r=0;r<vee;r++){const i=kC[r],s=this.props[i];(hg(s)||s===!1)&&(n[i]=s)}return n}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){n!==this.values.get(e)&&(this.removeValue(e),this.bindToMotionValue(e,n)),this.values.set(e,n),this.latestValues[e]=n.get()}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=lh(n,{owner:this}),this.addValue(e,r)),r}readValue(e){var n;return this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(n=this.getBaseTargetFromProps(this.props,e))!==null&&n!==void 0?n:this.readValueFromInstance(this.current,e,this.options)}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props,i=typeof r=="string"||typeof r=="object"?(n=$C(this.props,r))===null||n===void 0?void 0:n[e]:void 0;if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!as(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new eN),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class yV extends yee{sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}makeTargetAnimatableFromInstance({transition:e,transitionEnd:n,...r},{transformValues:i},s){let a=jJ(r,e||{},this);if(i&&(n&&(n=i(n)),r&&(r=i(r)),a&&(a=i(a))),s){LJ(this,r,a);const o=hee(this,r,a,n);n=o.transitionEnd,r=o.target}return{transition:e,transitionEnd:n,...r}}}function xee(t){return window.getComputedStyle(t)}class bee extends yV{constructor(){super(...arguments),this.type="html"}readValueFromInstance(e,n){if(lf.has(n)){const r=YC(n);return r&&r.default||0}else{const r=xee(e),i=(s6(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return sV(e,n)}build(e,n,r,i){FC(e,n,r,i.transformTemplate)}scrapeMotionValuesFromProps(e,n){return HC(e,n)}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;as(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}renderInstance(e,n,r,i){f6(e,n,r,i)}}class _ee extends yV{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(lf.has(n)){const r=YC(n);return r&&r.default||0}return n=d6.has(n)?n:IC(n),e.getAttribute(n)}measureInstanceViewportBox(){return pr()}scrapeMotionValuesFromProps(e,n){return p6(e,n)}build(e,n,r,i){zC(e,n,r,this.isSVGTag,i.transformTemplate)}renderInstance(e,n,r,i){h6(e,n,r,i)}mount(e){this.isSVGTag=VC(e.tagName),super.mount(e)}}const wee=(t,e)=>UC(t)?new _ee(e,{enableHardwareAcceleration:!1}):new bee(e,{enableHardwareAcceleration:!0}),See={layout:{ProjectionNode:pV,MeasureLayout:oV}},Mee={...KJ,...gZ,...tee,...See},gt=EK((t,e)=>rZ(t,e,Mee,wee));function xV(){const t=F.useRef(!1);return LC(()=>(t.current=!0,()=>{t.current=!1}),[]),t}function Eee(){const t=xV(),[e,n]=F.useState(0),r=F.useCallback(()=>{t.current&&n(e+1)},[e]);return[F.useCallback(()=>Tn.postRender(r),[r]),e]}class Tee extends F.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function Aee({children:t,isPresent:e}){const n=F.useId(),r=F.useRef(null),i=F.useRef({width:0,height:0,top:0,left:0});return F.useInsertionEffect(()=>{const{width:s,height:a,top:o,left:l}=i.current;if(e||!r.current||!s||!a)return;r.current.dataset.motionPopId=n;const c=document.createElement("style");return document.head.appendChild(c),c.sheet&&c.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${s}px !important;
            height: ${a}px !important;
            top: ${o}px !important;
            left: ${l}px !important;
          }
        `),()=>{document.head.removeChild(c)}},[e]),F.createElement(Tee,{isPresent:e,childRef:r,sizeRef:i},F.cloneElement(t,{ref:r}))}const T2=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:a})=>{const o=m6(Pee),l=F.useId(),c=F.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:u=>{o.set(u,!0);for(const f of o.values())if(!f)return;r&&r()},register:u=>(o.set(u,!1),()=>o.delete(u))}),s?void 0:[n]);return F.useMemo(()=>{o.forEach((u,f)=>o.set(f,!1))},[n]),F.useEffect(()=>{!n&&!o.size&&r&&r()},[n]),a==="popLayout"&&(t=F.createElement(Aee,{isPresent:n},t)),F.createElement(h_.Provider,{value:c},t)};function Pee(){return new Map}function Cee(t){return F.useEffect(()=>()=>t(),[])}const du=t=>t.key||"";function Nee(t,e){t.forEach(n=>{const r=du(n);e.set(r,n)})}function Ree(t){const e=[];return F.Children.forEach(t,n=>{F.isValidElement(n)&&e.push(n)}),e}const Im=({children:t,custom:e,initial:n=!0,onExitComplete:r,exitBeforeEnter:i,presenceAffectsLayout:s=!0,mode:a="sync"})=>{const o=F.useContext(DC).forceRender||Eee()[0],l=xV(),c=Ree(t);let u=c;const f=F.useRef(new Map).current,d=F.useRef(u),p=F.useRef(new Map).current,v=F.useRef(!0);if(LC(()=>{v.current=!1,Nee(c,p),d.current=u}),Cee(()=>{v.current=!0,p.clear(),f.clear()}),v.current)return F.createElement(F.Fragment,null,u.map(w=>F.createElement(T2,{key:du(w),isPresent:!0,initial:n?void 0:!1,presenceAffectsLayout:s,mode:a},w)));u=[...u];const b=d.current.map(du),x=c.map(du),y=b.length;for(let w=0;w<y;w++){const _=b[w];x.indexOf(_)===-1&&!f.has(_)&&f.set(_,void 0)}return a==="wait"&&f.size&&(u=[]),f.forEach((w,_)=>{if(x.indexOf(_)!==-1)return;const S=p.get(_);if(!S)return;const M=b.indexOf(_);let E=w;if(!E){const A=()=>{f.delete(_);const C=Array.from(p.keys()).filter(P=>!x.includes(P));if(C.forEach(P=>p.delete(P)),d.current=c.filter(P=>{const R=du(P);return R===_||C.includes(R)}),!f.size){if(l.current===!1)return;o(),r&&r()}};E=F.createElement(T2,{key:du(S),isPresent:!1,onExitComplete:A,custom:e,presenceAffectsLayout:s,mode:a},S),f.set(_,E)}u.splice(M,0,E)}),u=u.map(w=>{const _=w.key;return f.has(_)?w:F.createElement(T2,{key:du(w),isPresent:!0,presenceAffectsLayout:s,mode:a},w)}),F.createElement(F.Fragment,null,f.size?u:u.map(w=>F.cloneElement(w)))},Oee=()=>{const[t,e]=F.useState(!1);return h.jsx("header",{className:"bg-blue-900/30 backdrop-blur-sm py-4 px-6 fixed top-0 left-0 right-0 z-50 border-b border-blue-900/20",children:h.jsxs("div",{className:"container mx-auto flex justify-between items-center",children:[h.jsxs(xs,{to:"/",className:"text-2xl font-bold font-display text-white tracking-tight",children:["流动",h.jsx("span",{className:"text-blue-400 italic",children:"之美"})]}),h.jsx("nav",{className:"hidden md:block",children:h.jsxs("ul",{className:"flex space-x-8",children:[h.jsx("li",{children:h.jsx(xs,{to:"/simulation",className:"text-blue-100 hover:text-white transition-all text-sm uppercase tracking-widest",children:"仿真实验"})}),h.jsx("li",{children:h.jsx(xs,{to:"/knowledge",className:"text-blue-100 hover:text-white transition-all text-sm uppercase tracking-widest",children:"知识库"})}),h.jsx("li",{children:h.jsx(xs,{to:"/analysis",className:"text-blue-100 hover:text-white transition-all text-sm uppercase tracking-widest",children:"数据分析"})}),h.jsx("li",{children:h.jsx(xs,{to:"/examples",className:"text-blue-100 hover:text-white transition-all text-sm uppercase tracking-widest",children:"案例展示"})}),h.jsx("li",{children:h.jsx(xs,{to:"/lab",className:"text-blue-100 hover:text-white transition-all text-sm uppercase tracking-widest",children:"实验室"})}),h.jsx("li",{children:h.jsx(xs,{to:"/experiments/karman-vortex",className:"text-blue-100 hover:text-white transition-all text-sm uppercase tracking-widest bg-blue-500/20 px-3 py-1 rounded-md",children:"卡门涡街"})})]})}),h.jsx("button",{className:"md:hidden text-white z-50 relative",onClick:()=>e(!t),children:h.jsxs("div",{className:"w-6 h-5 flex flex-col justify-between",children:[h.jsx("span",{className:`w-full h-0.5 bg-white transition-all ${t?"rotate-45 translate-y-2":""}`}),h.jsx("span",{className:`w-full h-0.5 bg-white transition-all ${t?"opacity-0":"opacity-100"}`}),h.jsx("span",{className:`w-full h-0.5 bg-white transition-all ${t?"-rotate-45 -translate-y-2":""}`})]})}),h.jsx(Im,{children:t&&h.jsx(gt.div,{className:"fixed inset-0 bg-dark/95 backdrop-blur-md z-40 flex items-center justify-center md:hidden",initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},children:h.jsxs(gt.ul,{className:"flex flex-col items-center space-y-8 text-2xl",children:[h.jsx(gt.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.1},children:h.jsx(xs,{to:"/simulation",className:"text-blue-100",onClick:()=>e(!1),children:"仿真实验"})}),h.jsx(gt.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.2},children:h.jsx(xs,{to:"/knowledge",className:"text-blue-100",onClick:()=>e(!1),children:"知识库"})}),h.jsx(gt.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.3},children:h.jsx(xs,{to:"/analysis",className:"text-blue-100",onClick:()=>e(!1),children:"数据分析"})}),h.jsx(gt.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.4},children:h.jsx(xs,{to:"/examples",className:"text-blue-100",onClick:()=>e(!1),children:"案例展示"})}),h.jsx(gt.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.5},children:h.jsx(xs,{to:"/lab",className:"text-blue-100",onClick:()=>e(!1),children:"实验室"})}),h.jsx(gt.li,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{delay:.6},children:h.jsx(xs,{to:"/experiments/karman-vortex",className:"text-blue-100 bg-blue-500/20 px-3 py-1 rounded-md",onClick:()=>e(!1),children:"卡门涡街实验"})})]})})})]})})},Yr=({children:t})=>h.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark",children:[h.jsx(Oee,{}),h.jsx("main",{className:"pt-20",children:t})]});/**
 * @license
 * Copyright 2010-2023 Three.js Authors
 * SPDX-License-Identifier: MIT
 */const b_="157",Qa={LEFT:0,MIDDLE:1,RIGHT:2,ROTATE:0,DOLLY:1,PAN:2},Fo={ROTATE:0,PAN:1,DOLLY_PAN:2,DOLLY_ROTATE:3},bV=0,cT=1,_V=2,Lee=3,wV=0,__=1,jm=2,Sa=3,ll=0,bi=1,ea=2,Iee=2,Jo=0,Iu=1,gg=2,uT=3,fT=4,SV=5,vu=100,MV=101,EV=102,dT=103,hT=104,TV=200,AV=201,PV=202,CV=203,tN=204,nN=205,NV=206,RV=207,OV=208,LV=209,IV=210,jV=0,kV=1,DV=2,k1=3,UV=4,FV=5,BV=6,zV=7,I0=0,VV=1,HV=2,ao=0,$V=1,WV=2,GV=3,rN=4,XV=5,w_=300,cl=301,gc=302,vg=303,yg=304,Hh=306,xg=1e3,yi=1001,bg=1002,sr=1003,D1=1004,jee=1004,km=1005,kee=1005,Rn=1006,iN=1007,Dee=1007,vc=1008,Uee=1008,oo=1009,qV=1010,YV=1011,S_=1012,sN=1013,Wo=1014,Ra=1015,Xu=1016,aN=1017,oN=1018,ac=1020,KV=1021,Zi=1023,ZV=1024,JV=1025,oc=1026,qu=1027,QV=1028,lN=1029,e8=1030,cN=1031,uN=1033,Ux=33776,Fx=33777,Bx=33778,zx=33779,pT=35840,mT=35841,gT=35842,vT=35843,t8=36196,yT=37492,xT=37496,bT=37808,_T=37809,wT=37810,ST=37811,MT=37812,ET=37813,TT=37814,AT=37815,PT=37816,CT=37817,NT=37818,RT=37819,OT=37820,LT=37821,Vx=36492,IT=36494,jT=36495,n8=36283,kT=36284,DT=36285,UT=36286,r8=2200,i8=2201,s8=2202,_g=2300,wg=2301,Hx=2302,Su=2400,Mu=2401,Sg=2402,M_=2500,fN=2501,Fee=0,Bee=1,zee=2,dN=3e3,lc=3001,a8=3200,hN=3201,Ec=0,o8=1,Ts="",Nr="srgb",mo="srgb-linear",E_="display-p3",j0="display-p3-linear",Mg="linear",Sn="srgb",Eg="rec709",Tg="p3",Vee=0,$x=7680,Hee=7681,$ee=7682,Wee=7683,Gee=34055,Xee=34056,qee=5386,Yee=512,Kee=513,Zee=514,Jee=515,Qee=516,ete=517,tte=518,l8=519,c8=512,u8=513,f8=514,d8=515,h8=516,p8=517,m8=518,g8=519,Ag=35044,nte=35048,rte=35040,ite=35045,ste=35049,ate=35041,ote=35046,lte=35050,cte=35042,ute="100",FT="300 es",U1=1035,to=2e3,Pg=2001;let ml=class{addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}};const fi=["00","01","02","03","04","05","06","07","08","09","0a","0b","0c","0d","0e","0f","10","11","12","13","14","15","16","17","18","19","1a","1b","1c","1d","1e","1f","20","21","22","23","24","25","26","27","28","29","2a","2b","2c","2d","2e","2f","30","31","32","33","34","35","36","37","38","39","3a","3b","3c","3d","3e","3f","40","41","42","43","44","45","46","47","48","49","4a","4b","4c","4d","4e","4f","50","51","52","53","54","55","56","57","58","59","5a","5b","5c","5d","5e","5f","60","61","62","63","64","65","66","67","68","69","6a","6b","6c","6d","6e","6f","70","71","72","73","74","75","76","77","78","79","7a","7b","7c","7d","7e","7f","80","81","82","83","84","85","86","87","88","89","8a","8b","8c","8d","8e","8f","90","91","92","93","94","95","96","97","98","99","9a","9b","9c","9d","9e","9f","a0","a1","a2","a3","a4","a5","a6","a7","a8","a9","aa","ab","ac","ad","ae","af","b0","b1","b2","b3","b4","b5","b6","b7","b8","b9","ba","bb","bc","bd","be","bf","c0","c1","c2","c3","c4","c5","c6","c7","c8","c9","ca","cb","cc","cd","ce","cf","d0","d1","d2","d3","d4","d5","d6","d7","d8","d9","da","db","dc","dd","de","df","e0","e1","e2","e3","e4","e5","e6","e7","e8","e9","ea","eb","ec","ed","ee","ef","f0","f1","f2","f3","f4","f5","f6","f7","f8","f9","fa","fb","fc","fd","fe","ff"];let ij=1234567;const ju=Math.PI/180,uh=180/Math.PI;function Ns(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(fi[t&255]+fi[t>>8&255]+fi[t>>16&255]+fi[t>>24&255]+"-"+fi[e&255]+fi[e>>8&255]+"-"+fi[e>>16&15|64]+fi[e>>24&255]+"-"+fi[n&63|128]+fi[n>>8&255]+"-"+fi[n>>16&255]+fi[n>>24&255]+fi[r&255]+fi[r>>8&255]+fi[r>>16&255]+fi[r>>24&255]).toLowerCase()}function Zn(t,e,n){return Math.max(e,Math.min(n,t))}function pN(t,e){return(t%e+e)%e}function fte(t,e,n,r,i){return r+(t-e)*(i-r)/(n-e)}function dte(t,e,n){return t!==e?(n-t)/(e-t):0}function Dm(t,e,n){return(1-n)*t+n*e}function hte(t,e,n,r){return Dm(t,e,1-Math.exp(-n*r))}function pte(t,e=1){return e-Math.abs(pN(t,e*2)-e)}function mte(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*(3-2*t))}function gte(t,e,n){return t<=e?0:t>=n?1:(t=(t-e)/(n-e),t*t*t*(t*(t*6-15)+10))}function vte(t,e){return t+Math.floor(Math.random()*(e-t+1))}function yte(t,e){return t+Math.random()*(e-t)}function xte(t){return t*(.5-Math.random())}function bte(t){t!==void 0&&(ij=t);let e=ij+=1831565813;return e=Math.imul(e^e>>>15,e|1),e^=e+Math.imul(e^e>>>7,e|61),((e^e>>>14)>>>0)/4294967296}function _te(t){return t*ju}function wte(t){return t*uh}function BT(t){return(t&t-1)===0&&t!==0}function v8(t){return Math.pow(2,Math.ceil(Math.log(t)/Math.LN2))}function F1(t){return Math.pow(2,Math.floor(Math.log(t)/Math.LN2))}function Ste(t,e,n,r,i){const s=Math.cos,a=Math.sin,o=s(n/2),l=a(n/2),c=s((e+r)/2),u=a((e+r)/2),f=s((e-r)/2),d=a((e-r)/2),p=s((r-e)/2),v=a((r-e)/2);switch(i){case"XYX":t.set(o*u,l*f,l*d,o*c);break;case"YZY":t.set(l*d,o*u,l*f,o*c);break;case"ZXZ":t.set(l*f,l*d,o*u,o*c);break;case"XZX":t.set(o*u,l*v,l*p,o*c);break;case"YXY":t.set(l*p,o*u,l*v,o*c);break;case"ZYZ":t.set(l*v,l*p,o*u,o*c);break;default:console.warn("THREE.MathUtils: .setQuaternionFromProperEuler() encountered an unknown order: "+i)}}function Ji(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return t/4294967295;case Uint16Array:return t/65535;case Uint8Array:return t/255;case Int32Array:return Math.max(t/2147483647,-1);case Int16Array:return Math.max(t/32767,-1);case Int8Array:return Math.max(t/127,-1);default:throw new Error("Invalid component type.")}}function Ut(t,e){switch(e.constructor){case Float32Array:return t;case Uint32Array:return Math.round(t*4294967295);case Uint16Array:return Math.round(t*65535);case Uint8Array:return Math.round(t*255);case Int32Array:return Math.round(t*2147483647);case Int16Array:return Math.round(t*32767);case Int8Array:return Math.round(t*127);default:throw new Error("Invalid component type.")}}const Mte={DEG2RAD:ju,RAD2DEG:uh,generateUUID:Ns,clamp:Zn,euclideanModulo:pN,mapLinear:fte,inverseLerp:dte,lerp:Dm,damp:hte,pingpong:pte,smoothstep:mte,smootherstep:gte,randInt:vte,randFloat:yte,randFloatSpread:xte,seededRandom:bte,degToRad:_te,radToDeg:wte,isPowerOfTwo:BT,ceilPowerOfTwo:v8,floorPowerOfTwo:F1,setQuaternionFromProperEuler:Ste,normalize:Ut,denormalize:Ji};class De{constructor(e=0,n=0){De.prototype.isVector2=!0,this.x=e,this.y=n}get width(){return this.x}set width(e){this.x=e}get height(){return this.y}set height(e){this.y=e}set(e,n){return this.x=e,this.y=n,this}setScalar(e){return this.x=e,this.y=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y)}copy(e){return this.x=e.x,this.y=e.y,this}add(e){return this.x+=e.x,this.y+=e.y,this}addScalar(e){return this.x+=e,this.y+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this}subScalar(e){return this.x-=e,this.y-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this}multiply(e){return this.x*=e.x,this.y*=e.y,this}multiplyScalar(e){return this.x*=e,this.y*=e,this}divide(e){return this.x/=e.x,this.y/=e.y,this}divideScalar(e){return this.multiplyScalar(1/e)}applyMatrix3(e){const n=this.x,r=this.y,i=e.elements;return this.x=i[0]*n+i[3]*r+i[6],this.y=i[1]*n+i[4]*r+i[7],this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this}negate(){return this.x=-this.x,this.y=-this.y,this}dot(e){return this.x*e.x+this.y*e.y}cross(e){return this.x*e.y-this.y*e.x}lengthSq(){return this.x*this.x+this.y*this.y}length(){return Math.sqrt(this.x*this.x+this.y*this.y)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)}normalize(){return this.divideScalar(this.length()||1)}angle(){return Math.atan2(-this.y,-this.x)+Math.PI}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Zn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y;return n*n+r*r}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this}equals(e){return e.x===this.x&&e.y===this.y}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this}rotateAround(e,n){const r=Math.cos(n),i=Math.sin(n),s=this.x-e.x,a=this.y-e.y;return this.x=s*r-a*i+e.x,this.y=s*i+a*r+e.y,this}random(){return this.x=Math.random(),this.y=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y}}class Dt{constructor(e,n,r,i,s,a,o,l,c){Dt.prototype.isMatrix3=!0,this.elements=[1,0,0,0,1,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c)}set(e,n,r,i,s,a,o,l,c){const u=this.elements;return u[0]=e,u[1]=i,u[2]=o,u[3]=n,u[4]=s,u[5]=l,u[6]=r,u[7]=a,u[8]=c,this}identity(){return this.set(1,0,0,0,1,0,0,0,1),this}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],this}extractBasis(e,n,r){return e.setFromMatrix3Column(this,0),n.setFromMatrix3Column(this,1),r.setFromMatrix3Column(this,2),this}setFromMatrix4(e){const n=e.elements;return this.set(n[0],n[4],n[8],n[1],n[5],n[9],n[2],n[6],n[10]),this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[3],l=r[6],c=r[1],u=r[4],f=r[7],d=r[2],p=r[5],v=r[8],b=i[0],x=i[3],y=i[6],w=i[1],_=i[4],S=i[7],M=i[2],E=i[5],A=i[8];return s[0]=a*b+o*w+l*M,s[3]=a*x+o*_+l*E,s[6]=a*y+o*S+l*A,s[1]=c*b+u*w+f*M,s[4]=c*x+u*_+f*E,s[7]=c*y+u*S+f*A,s[2]=d*b+p*w+v*M,s[5]=d*x+p*_+v*E,s[8]=d*y+p*S+v*A,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[3]*=e,n[6]*=e,n[1]*=e,n[4]*=e,n[7]*=e,n[2]*=e,n[5]*=e,n[8]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8];return n*a*u-n*o*c-r*s*u+r*o*l+i*s*c-i*a*l}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=u*a-o*c,d=o*l-u*s,p=c*s-a*l,v=n*f+r*d+i*p;if(v===0)return this.set(0,0,0,0,0,0,0,0,0);const b=1/v;return e[0]=f*b,e[1]=(i*c-u*r)*b,e[2]=(o*r-i*a)*b,e[3]=d*b,e[4]=(u*n-i*l)*b,e[5]=(i*s-o*n)*b,e[6]=p*b,e[7]=(r*l-c*n)*b,e[8]=(a*n-r*s)*b,this}transpose(){let e;const n=this.elements;return e=n[1],n[1]=n[3],n[3]=e,e=n[2],n[2]=n[6],n[6]=e,e=n[5],n[5]=n[7],n[7]=e,this}getNormalMatrix(e){return this.setFromMatrix4(e).invert().transpose()}transposeIntoArray(e){const n=this.elements;return e[0]=n[0],e[1]=n[3],e[2]=n[6],e[3]=n[1],e[4]=n[4],e[5]=n[7],e[6]=n[2],e[7]=n[5],e[8]=n[8],this}setUvTransform(e,n,r,i,s,a,o){const l=Math.cos(s),c=Math.sin(s);return this.set(r*l,r*c,-r*(l*a+c*o)+a+e,-i*c,i*l,-i*(-c*a+l*o)+o+n,0,0,1),this}scale(e,n){return this.premultiply(A2.makeScale(e,n)),this}rotate(e){return this.premultiply(A2.makeRotation(-e)),this}translate(e,n){return this.premultiply(A2.makeTranslation(e,n)),this}makeTranslation(e,n){return e.isVector2?this.set(1,0,e.x,0,1,e.y,0,0,1):this.set(1,0,e,0,1,n,0,0,1),this}makeRotation(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,r,n,0,0,0,1),this}makeScale(e,n){return this.set(e,0,0,0,n,0,0,0,1),this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<9;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<9;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e}clone(){return new this.constructor().fromArray(this.elements)}}const A2=new Dt;function y8(t){for(let e=t.length-1;e>=0;--e)if(t[e]>=65535)return!0;return!1}const Ete={Int8Array,Uint8Array,Uint8ClampedArray,Int16Array,Uint16Array,Int32Array,Uint32Array,Float32Array,Float64Array};function Rd(t,e){return new Ete[t](e)}function Cg(t){return document.createElementNS("http://www.w3.org/1999/xhtml",t)}function x8(){const t=Cg("canvas");return t.style.display="block",t}const sj={};function Um(t){t in sj||(sj[t]=!0,console.warn(t))}const aj=new Dt().set(.8224621,.177538,0,.0331941,.9668058,0,.0170827,.0723974,.9105199),oj=new Dt().set(1.2249401,-.2249404,0,-.0420569,1.0420571,0,-.0196376,-.0786361,1.0982735),my={[mo]:{transfer:Mg,primaries:Eg,toReference:t=>t,fromReference:t=>t},[Nr]:{transfer:Sn,primaries:Eg,toReference:t=>t.convertSRGBToLinear(),fromReference:t=>t.convertLinearToSRGB()},[j0]:{transfer:Mg,primaries:Tg,toReference:t=>t.applyMatrix3(oj),fromReference:t=>t.applyMatrix3(aj)},[E_]:{transfer:Sn,primaries:Tg,toReference:t=>t.convertSRGBToLinear().applyMatrix3(oj),fromReference:t=>t.applyMatrix3(aj).convertLinearToSRGB()}},Tte=new Set([mo,j0]),dn={enabled:!0,_workingColorSpace:mo,get legacyMode(){return console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),!this.enabled},set legacyMode(t){console.warn("THREE.ColorManagement: .legacyMode=false renamed to .enabled=true in r150."),this.enabled=!t},get workingColorSpace(){return this._workingColorSpace},set workingColorSpace(t){if(!Tte.has(t))throw new Error(`Unsupported working color space, "${t}".`);this._workingColorSpace=t},convert:function(t,e,n){if(this.enabled===!1||e===n||!e||!n)return t;const r=my[e].toReference,i=my[n].fromReference;return i(r(t))},fromWorkingColorSpace:function(t,e){return this.convert(t,this._workingColorSpace,e)},toWorkingColorSpace:function(t,e){return this.convert(t,e,this._workingColorSpace)},getPrimaries:function(t){return my[t].primaries},getTransfer:function(t){return t===Ts?Mg:my[t].transfer}};function Xd(t){return t<.04045?t*.0773993808:Math.pow(t*.9478672986+.0521327014,2.4)}function P2(t){return t<.0031308?t*12.92:1.055*Math.pow(t,.41666)-.055}let Df;class mN{static getDataURL(e){if(/^data:/i.test(e.src)||typeof HTMLCanvasElement>"u")return e.src;let n;if(e instanceof HTMLCanvasElement)n=e;else{Df===void 0&&(Df=Cg("canvas")),Df.width=e.width,Df.height=e.height;const r=Df.getContext("2d");e instanceof ImageData?r.putImageData(e,0,0):r.drawImage(e,0,0,e.width,e.height),n=Df}return n.width>2048||n.height>2048?(console.warn("THREE.ImageUtils.getDataURL: Image converted to jpg for performance reasons",e),n.toDataURL("image/jpeg",.6)):n.toDataURL("image/png")}static sRGBToLinear(e){if(typeof HTMLImageElement<"u"&&e instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&e instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&e instanceof ImageBitmap){const n=Cg("canvas");n.width=e.width,n.height=e.height;const r=n.getContext("2d");r.drawImage(e,0,0,e.width,e.height);const i=r.getImageData(0,0,e.width,e.height),s=i.data;for(let a=0;a<s.length;a++)s[a]=Xd(s[a]/255)*255;return r.putImageData(i,0,0),n}else if(e.data){const n=e.data.slice(0);for(let r=0;r<n.length;r++)n instanceof Uint8Array||n instanceof Uint8ClampedArray?n[r]=Math.floor(Xd(n[r]/255)*255):n[r]=Xd(n[r]);return{data:n,width:e.width,height:e.height}}else return console.warn("THREE.ImageUtils.sRGBToLinear(): Unsupported image type. No color space conversion applied."),e}}let Ate=0;class Eu{constructor(e=null){this.isSource=!0,Object.defineProperty(this,"id",{value:Ate++}),this.uuid=Ns(),this.data=e,this.version=0}set needsUpdate(e){e===!0&&this.version++}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.images[this.uuid]!==void 0)return e.images[this.uuid];const r={uuid:this.uuid,url:""},i=this.data;if(i!==null){let s;if(Array.isArray(i)){s=[];for(let a=0,o=i.length;a<o;a++)i[a].isDataTexture?s.push(C2(i[a].image)):s.push(C2(i[a]))}else s=C2(i);r.url=s}return n||(e.images[this.uuid]=r),r}}function C2(t){return typeof HTMLImageElement<"u"&&t instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&t instanceof ImageBitmap?mN.getDataURL(t):t.data?{data:Array.from(t.data),width:t.width,height:t.height,type:t.data.constructor.name}:(console.warn("THREE.Texture: Unable to serialize Texture."),{})}let Pte=0;class Qn extends ml{constructor(e=Qn.DEFAULT_IMAGE,n=Qn.DEFAULT_MAPPING,r=yi,i=yi,s=Rn,a=vc,o=Zi,l=oo,c=Qn.DEFAULT_ANISOTROPY,u=Ts){super(),this.isTexture=!0,Object.defineProperty(this,"id",{value:Pte++}),this.uuid=Ns(),this.name="",this.source=new Eu(e),this.mipmaps=[],this.mapping=n,this.channel=0,this.wrapS=r,this.wrapT=i,this.magFilter=s,this.minFilter=a,this.anisotropy=c,this.format=o,this.internalFormat=null,this.type=l,this.offset=new De(0,0),this.repeat=new De(1,1),this.center=new De(0,0),this.rotation=0,this.matrixAutoUpdate=!0,this.matrix=new Dt,this.generateMipmaps=!0,this.premultiplyAlpha=!1,this.flipY=!0,this.unpackAlignment=4,typeof u=="string"?this.colorSpace=u:(Um("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=u===lc?Nr:Ts),this.userData={},this.version=0,this.onUpdate=null,this.isRenderTargetTexture=!1,this.needsPMREMUpdate=!1}get image(){return this.source.data}set image(e=null){this.source.data=e}updateMatrix(){this.matrix.setUvTransform(this.offset.x,this.offset.y,this.repeat.x,this.repeat.y,this.rotation,this.center.x,this.center.y)}clone(){return new this.constructor().copy(this)}copy(e){return this.name=e.name,this.source=e.source,this.mipmaps=e.mipmaps.slice(0),this.mapping=e.mapping,this.channel=e.channel,this.wrapS=e.wrapS,this.wrapT=e.wrapT,this.magFilter=e.magFilter,this.minFilter=e.minFilter,this.anisotropy=e.anisotropy,this.format=e.format,this.internalFormat=e.internalFormat,this.type=e.type,this.offset.copy(e.offset),this.repeat.copy(e.repeat),this.center.copy(e.center),this.rotation=e.rotation,this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrix.copy(e.matrix),this.generateMipmaps=e.generateMipmaps,this.premultiplyAlpha=e.premultiplyAlpha,this.flipY=e.flipY,this.unpackAlignment=e.unpackAlignment,this.colorSpace=e.colorSpace,this.userData=JSON.parse(JSON.stringify(e.userData)),this.needsUpdate=!0,this}toJSON(e){const n=e===void 0||typeof e=="string";if(!n&&e.textures[this.uuid]!==void 0)return e.textures[this.uuid];const r={metadata:{version:4.6,type:"Texture",generator:"Texture.toJSON"},uuid:this.uuid,name:this.name,image:this.source.toJSON(e).uuid,mapping:this.mapping,channel:this.channel,repeat:[this.repeat.x,this.repeat.y],offset:[this.offset.x,this.offset.y],center:[this.center.x,this.center.y],rotation:this.rotation,wrap:[this.wrapS,this.wrapT],format:this.format,internalFormat:this.internalFormat,type:this.type,colorSpace:this.colorSpace,minFilter:this.minFilter,magFilter:this.magFilter,anisotropy:this.anisotropy,flipY:this.flipY,generateMipmaps:this.generateMipmaps,premultiplyAlpha:this.premultiplyAlpha,unpackAlignment:this.unpackAlignment};return Object.keys(this.userData).length>0&&(r.userData=this.userData),n||(e.textures[this.uuid]=r),r}dispose(){this.dispatchEvent({type:"dispose"})}transformUv(e){if(this.mapping!==w_)return e;if(e.applyMatrix3(this.matrix),e.x<0||e.x>1)switch(this.wrapS){case xg:e.x=e.x-Math.floor(e.x);break;case yi:e.x=e.x<0?0:1;break;case bg:Math.abs(Math.floor(e.x)%2)===1?e.x=Math.ceil(e.x)-e.x:e.x=e.x-Math.floor(e.x);break}if(e.y<0||e.y>1)switch(this.wrapT){case xg:e.y=e.y-Math.floor(e.y);break;case yi:e.y=e.y<0?0:1;break;case bg:Math.abs(Math.floor(e.y)%2)===1?e.y=Math.ceil(e.y)-e.y:e.y=e.y-Math.floor(e.y);break}return this.flipY&&(e.y=1-e.y),e}set needsUpdate(e){e===!0&&(this.version++,this.source.needsUpdate=!0)}get encoding(){return Um("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace===Nr?lc:dN}set encoding(e){Um("THREE.Texture: Property .encoding has been replaced by .colorSpace."),this.colorSpace=e===lc?Nr:Ts}}Qn.DEFAULT_IMAGE=null;Qn.DEFAULT_MAPPING=w_;Qn.DEFAULT_ANISOTROPY=1;class cn{constructor(e=0,n=0,r=0,i=1){cn.prototype.isVector4=!0,this.x=e,this.y=n,this.z=r,this.w=i}get width(){return this.z}set width(e){this.z=e}get height(){return this.w}set height(e){this.w=e}set(e,n,r,i){return this.x=e,this.y=n,this.z=r,this.w=i,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this.w=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setW(e){return this.w=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;case 3:this.w=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;case 3:return this.w;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z,this.w)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this.w=e.w!==void 0?e.w:1,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this.w+=e.w,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this.w+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this.w=e.w+n.w,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this.w+=e.w*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this.w-=e.w,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this.w-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this.w=e.w-n.w,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this.w*=e.w,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this.w*=e,this}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=this.w,a=e.elements;return this.x=a[0]*n+a[4]*r+a[8]*i+a[12]*s,this.y=a[1]*n+a[5]*r+a[9]*i+a[13]*s,this.z=a[2]*n+a[6]*r+a[10]*i+a[14]*s,this.w=a[3]*n+a[7]*r+a[11]*i+a[15]*s,this}divideScalar(e){return this.multiplyScalar(1/e)}setAxisAngleFromQuaternion(e){this.w=2*Math.acos(e.w);const n=Math.sqrt(1-e.w*e.w);return n<1e-4?(this.x=1,this.y=0,this.z=0):(this.x=e.x/n,this.y=e.y/n,this.z=e.z/n),this}setAxisAngleFromRotationMatrix(e){let n,r,i,s;const l=e.elements,c=l[0],u=l[4],f=l[8],d=l[1],p=l[5],v=l[9],b=l[2],x=l[6],y=l[10];if(Math.abs(u-d)<.01&&Math.abs(f-b)<.01&&Math.abs(v-x)<.01){if(Math.abs(u+d)<.1&&Math.abs(f+b)<.1&&Math.abs(v+x)<.1&&Math.abs(c+p+y-3)<.1)return this.set(1,0,0,0),this;n=Math.PI;const _=(c+1)/2,S=(p+1)/2,M=(y+1)/2,E=(u+d)/4,A=(f+b)/4,C=(v+x)/4;return _>S&&_>M?_<.01?(r=0,i=.707106781,s=.707106781):(r=Math.sqrt(_),i=E/r,s=A/r):S>M?S<.01?(r=.707106781,i=0,s=.707106781):(i=Math.sqrt(S),r=E/i,s=C/i):M<.01?(r=.707106781,i=.707106781,s=0):(s=Math.sqrt(M),r=A/s,i=C/s),this.set(r,i,s,n),this}let w=Math.sqrt((x-v)*(x-v)+(f-b)*(f-b)+(d-u)*(d-u));return Math.abs(w)<.001&&(w=1),this.x=(x-v)/w,this.y=(f-b)/w,this.z=(d-u)/w,this.w=Math.acos((c+p+y-1)/2),this}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this.w=Math.min(this.w,e.w),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this.w=Math.max(this.w,e.w),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this.w=Math.max(e.w,Math.min(n.w,this.w)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this.w=Math.max(e,Math.min(n,this.w)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this.w=Math.floor(this.w),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this.w=Math.ceil(this.w),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this.w=Math.round(this.w),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this.w=Math.trunc(this.w),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this.w=-this.w,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z+this.w*e.w}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z+this.w*this.w)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)+Math.abs(this.w)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this.w+=(e.w-this.w)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this.w=e.w+(n.w-e.w)*r,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z&&e.w===this.w}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this.w=e[n+3],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e[n+3]=this.w,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this.w=e.getW(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this.w=Math.random(),this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z,yield this.w}}class b8 extends ml{constructor(e=1,n=1,r={}){super(),this.isRenderTarget=!0,this.width=e,this.height=n,this.depth=1,this.scissor=new cn(0,0,e,n),this.scissorTest=!1,this.viewport=new cn(0,0,e,n);const i={width:e,height:n,depth:1};r.encoding!==void 0&&(Um("THREE.WebGLRenderTarget: option.encoding has been replaced by option.colorSpace."),r.colorSpace=r.encoding===lc?Nr:Ts),r=Object.assign({generateMipmaps:!1,internalFormat:null,minFilter:Rn,depthBuffer:!0,stencilBuffer:!1,depthTexture:null,samples:0},r),this.texture=new Qn(i,r.mapping,r.wrapS,r.wrapT,r.magFilter,r.minFilter,r.format,r.type,r.anisotropy,r.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.flipY=!1,this.texture.generateMipmaps=r.generateMipmaps,this.texture.internalFormat=r.internalFormat,this.depthBuffer=r.depthBuffer,this.stencilBuffer=r.stencilBuffer,this.depthTexture=r.depthTexture,this.samples=r.samples}setSize(e,n,r=1){(this.width!==e||this.height!==n||this.depth!==r)&&(this.width=e,this.height=n,this.depth=r,this.texture.image.width=e,this.texture.image.height=n,this.texture.image.depth=r,this.dispose()),this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}clone(){return new this.constructor().copy(this)}copy(e){this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.texture=e.texture.clone(),this.texture.isRenderTargetTexture=!0;const n=Object.assign({},e.texture.image);return this.texture.source=new Eu(n),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.samples=e.samples,this}dispose(){this.dispatchEvent({type:"dispose"})}}class la extends b8{constructor(e=1,n=1,r={}){super(e,n,r),this.isWebGLRenderTarget=!0}}class T_ extends Qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isDataArrayTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=sr,this.minFilter=sr,this.wrapR=yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Cte extends la{constructor(e=1,n=1,r=1){super(e,n),this.isWebGLArrayRenderTarget=!0,this.depth=r,this.texture=new T_(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class gN extends Qn{constructor(e=null,n=1,r=1,i=1){super(null),this.isData3DTexture=!0,this.image={data:e,width:n,height:r,depth:i},this.magFilter=sr,this.minFilter=sr,this.wrapR=yi,this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}class Nte extends la{constructor(e=1,n=1,r=1){super(e,n),this.isWebGL3DRenderTarget=!0,this.depth=r,this.texture=new gN(null,e,n,r),this.texture.isRenderTargetTexture=!0}}class Rte extends la{constructor(e=1,n=1,r=1,i={}){super(e,n,i),this.isWebGLMultipleRenderTargets=!0;const s=this.texture;this.texture=[];for(let a=0;a<r;a++)this.texture[a]=s.clone(),this.texture[a].isRenderTargetTexture=!0}setSize(e,n,r=1){if(this.width!==e||this.height!==n||this.depth!==r){this.width=e,this.height=n,this.depth=r;for(let i=0,s=this.texture.length;i<s;i++)this.texture[i].image.width=e,this.texture[i].image.height=n,this.texture[i].image.depth=r;this.dispose()}this.viewport.set(0,0,e,n),this.scissor.set(0,0,e,n)}copy(e){this.dispose(),this.width=e.width,this.height=e.height,this.depth=e.depth,this.scissor.copy(e.scissor),this.scissorTest=e.scissorTest,this.viewport.copy(e.viewport),this.depthBuffer=e.depthBuffer,this.stencilBuffer=e.stencilBuffer,e.depthTexture!==null&&(this.depthTexture=e.depthTexture.clone()),this.texture.length=0;for(let n=0,r=e.texture.length;n<r;n++)this.texture[n]=e.texture[n].clone(),this.texture[n].isRenderTargetTexture=!0;return this}}class _i{constructor(e=0,n=0,r=0,i=1){this.isQuaternion=!0,this._x=e,this._y=n,this._z=r,this._w=i}static slerpFlat(e,n,r,i,s,a,o){let l=r[i+0],c=r[i+1],u=r[i+2],f=r[i+3];const d=s[a+0],p=s[a+1],v=s[a+2],b=s[a+3];if(o===0){e[n+0]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f;return}if(o===1){e[n+0]=d,e[n+1]=p,e[n+2]=v,e[n+3]=b;return}if(f!==b||l!==d||c!==p||u!==v){let x=1-o;const y=l*d+c*p+u*v+f*b,w=y>=0?1:-1,_=1-y*y;if(_>Number.EPSILON){const M=Math.sqrt(_),E=Math.atan2(M,y*w);x=Math.sin(x*E)/M,o=Math.sin(o*E)/M}const S=o*w;if(l=l*x+d*S,c=c*x+p*S,u=u*x+v*S,f=f*x+b*S,x===1-o){const M=1/Math.sqrt(l*l+c*c+u*u+f*f);l*=M,c*=M,u*=M,f*=M}}e[n]=l,e[n+1]=c,e[n+2]=u,e[n+3]=f}static multiplyQuaternionsFlat(e,n,r,i,s,a){const o=r[i],l=r[i+1],c=r[i+2],u=r[i+3],f=s[a],d=s[a+1],p=s[a+2],v=s[a+3];return e[n]=o*v+u*f+l*p-c*d,e[n+1]=l*v+u*d+c*f-o*p,e[n+2]=c*v+u*p+o*d-l*f,e[n+3]=u*v-o*f-l*d-c*p,e}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get w(){return this._w}set w(e){this._w=e,this._onChangeCallback()}set(e,n,r,i){return this._x=e,this._y=n,this._z=r,this._w=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._w)}copy(e){return this._x=e.x,this._y=e.y,this._z=e.z,this._w=e.w,this._onChangeCallback(),this}setFromEuler(e,n){const r=e._x,i=e._y,s=e._z,a=e._order,o=Math.cos,l=Math.sin,c=o(r/2),u=o(i/2),f=o(s/2),d=l(r/2),p=l(i/2),v=l(s/2);switch(a){case"XYZ":this._x=d*u*f+c*p*v,this._y=c*p*f-d*u*v,this._z=c*u*v+d*p*f,this._w=c*u*f-d*p*v;break;case"YXZ":this._x=d*u*f+c*p*v,this._y=c*p*f-d*u*v,this._z=c*u*v-d*p*f,this._w=c*u*f+d*p*v;break;case"ZXY":this._x=d*u*f-c*p*v,this._y=c*p*f+d*u*v,this._z=c*u*v+d*p*f,this._w=c*u*f-d*p*v;break;case"ZYX":this._x=d*u*f-c*p*v,this._y=c*p*f+d*u*v,this._z=c*u*v-d*p*f,this._w=c*u*f+d*p*v;break;case"YZX":this._x=d*u*f+c*p*v,this._y=c*p*f+d*u*v,this._z=c*u*v-d*p*f,this._w=c*u*f-d*p*v;break;case"XZY":this._x=d*u*f-c*p*v,this._y=c*p*f-d*u*v,this._z=c*u*v+d*p*f,this._w=c*u*f+d*p*v;break;default:console.warn("THREE.Quaternion: .setFromEuler() encountered an unknown order: "+a)}return n!==!1&&this._onChangeCallback(),this}setFromAxisAngle(e,n){const r=n/2,i=Math.sin(r);return this._x=e.x*i,this._y=e.y*i,this._z=e.z*i,this._w=Math.cos(r),this._onChangeCallback(),this}setFromRotationMatrix(e){const n=e.elements,r=n[0],i=n[4],s=n[8],a=n[1],o=n[5],l=n[9],c=n[2],u=n[6],f=n[10],d=r+o+f;if(d>0){const p=.5/Math.sqrt(d+1);this._w=.25/p,this._x=(u-l)*p,this._y=(s-c)*p,this._z=(a-i)*p}else if(r>o&&r>f){const p=2*Math.sqrt(1+r-o-f);this._w=(u-l)/p,this._x=.25*p,this._y=(i+a)/p,this._z=(s+c)/p}else if(o>f){const p=2*Math.sqrt(1+o-r-f);this._w=(s-c)/p,this._x=(i+a)/p,this._y=.25*p,this._z=(l+u)/p}else{const p=2*Math.sqrt(1+f-r-o);this._w=(a-i)/p,this._x=(s+c)/p,this._y=(l+u)/p,this._z=.25*p}return this._onChangeCallback(),this}setFromUnitVectors(e,n){let r=e.dot(n)+1;return r<Number.EPSILON?(r=0,Math.abs(e.x)>Math.abs(e.z)?(this._x=-e.y,this._y=e.x,this._z=0,this._w=r):(this._x=0,this._y=-e.z,this._z=e.y,this._w=r)):(this._x=e.y*n.z-e.z*n.y,this._y=e.z*n.x-e.x*n.z,this._z=e.x*n.y-e.y*n.x,this._w=r),this.normalize()}angleTo(e){return 2*Math.acos(Math.abs(Zn(this.dot(e),-1,1)))}rotateTowards(e,n){const r=this.angleTo(e);if(r===0)return this;const i=Math.min(1,n/r);return this.slerp(e,i),this}identity(){return this.set(0,0,0,1)}invert(){return this.conjugate()}conjugate(){return this._x*=-1,this._y*=-1,this._z*=-1,this._onChangeCallback(),this}dot(e){return this._x*e._x+this._y*e._y+this._z*e._z+this._w*e._w}lengthSq(){return this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w}length(){return Math.sqrt(this._x*this._x+this._y*this._y+this._z*this._z+this._w*this._w)}normalize(){let e=this.length();return e===0?(this._x=0,this._y=0,this._z=0,this._w=1):(e=1/e,this._x=this._x*e,this._y=this._y*e,this._z=this._z*e,this._w=this._w*e),this._onChangeCallback(),this}multiply(e){return this.multiplyQuaternions(this,e)}premultiply(e){return this.multiplyQuaternions(e,this)}multiplyQuaternions(e,n){const r=e._x,i=e._y,s=e._z,a=e._w,o=n._x,l=n._y,c=n._z,u=n._w;return this._x=r*u+a*o+i*c-s*l,this._y=i*u+a*l+s*o-r*c,this._z=s*u+a*c+r*l-i*o,this._w=a*u-r*o-i*l-s*c,this._onChangeCallback(),this}slerp(e,n){if(n===0)return this;if(n===1)return this.copy(e);const r=this._x,i=this._y,s=this._z,a=this._w;let o=a*e._w+r*e._x+i*e._y+s*e._z;if(o<0?(this._w=-e._w,this._x=-e._x,this._y=-e._y,this._z=-e._z,o=-o):this.copy(e),o>=1)return this._w=a,this._x=r,this._y=i,this._z=s,this;const l=1-o*o;if(l<=Number.EPSILON){const p=1-n;return this._w=p*a+n*this._w,this._x=p*r+n*this._x,this._y=p*i+n*this._y,this._z=p*s+n*this._z,this.normalize(),this._onChangeCallback(),this}const c=Math.sqrt(l),u=Math.atan2(c,o),f=Math.sin((1-n)*u)/c,d=Math.sin(n*u)/c;return this._w=a*f+this._w*d,this._x=r*f+this._x*d,this._y=i*f+this._y*d,this._z=s*f+this._z*d,this._onChangeCallback(),this}slerpQuaternions(e,n,r){return this.copy(e).slerp(n,r)}random(){const e=Math.random(),n=Math.sqrt(1-e),r=Math.sqrt(e),i=2*Math.PI*Math.random(),s=2*Math.PI*Math.random();return this.set(n*Math.cos(i),r*Math.sin(s),r*Math.cos(s),n*Math.sin(i))}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._w===this._w}fromArray(e,n=0){return this._x=e[n],this._y=e[n+1],this._z=e[n+2],this._w=e[n+3],this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._w,e}fromBufferAttribute(e,n){return this._x=e.getX(n),this._y=e.getY(n),this._z=e.getZ(n),this._w=e.getW(n),this}toJSON(){return this.toArray()}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._w}}class Z{constructor(e=0,n=0,r=0){Z.prototype.isVector3=!0,this.x=e,this.y=n,this.z=r}set(e,n,r){return r===void 0&&(r=this.z),this.x=e,this.y=n,this.z=r,this}setScalar(e){return this.x=e,this.y=e,this.z=e,this}setX(e){return this.x=e,this}setY(e){return this.y=e,this}setZ(e){return this.z=e,this}setComponent(e,n){switch(e){case 0:this.x=n;break;case 1:this.y=n;break;case 2:this.z=n;break;default:throw new Error("index is out of range: "+e)}return this}getComponent(e){switch(e){case 0:return this.x;case 1:return this.y;case 2:return this.z;default:throw new Error("index is out of range: "+e)}}clone(){return new this.constructor(this.x,this.y,this.z)}copy(e){return this.x=e.x,this.y=e.y,this.z=e.z,this}add(e){return this.x+=e.x,this.y+=e.y,this.z+=e.z,this}addScalar(e){return this.x+=e,this.y+=e,this.z+=e,this}addVectors(e,n){return this.x=e.x+n.x,this.y=e.y+n.y,this.z=e.z+n.z,this}addScaledVector(e,n){return this.x+=e.x*n,this.y+=e.y*n,this.z+=e.z*n,this}sub(e){return this.x-=e.x,this.y-=e.y,this.z-=e.z,this}subScalar(e){return this.x-=e,this.y-=e,this.z-=e,this}subVectors(e,n){return this.x=e.x-n.x,this.y=e.y-n.y,this.z=e.z-n.z,this}multiply(e){return this.x*=e.x,this.y*=e.y,this.z*=e.z,this}multiplyScalar(e){return this.x*=e,this.y*=e,this.z*=e,this}multiplyVectors(e,n){return this.x=e.x*n.x,this.y=e.y*n.y,this.z=e.z*n.z,this}applyEuler(e){return this.applyQuaternion(lj.setFromEuler(e))}applyAxisAngle(e,n){return this.applyQuaternion(lj.setFromAxisAngle(e,n))}applyMatrix3(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[3]*r+s[6]*i,this.y=s[1]*n+s[4]*r+s[7]*i,this.z=s[2]*n+s[5]*r+s[8]*i,this}applyNormalMatrix(e){return this.applyMatrix3(e).normalize()}applyMatrix4(e){const n=this.x,r=this.y,i=this.z,s=e.elements,a=1/(s[3]*n+s[7]*r+s[11]*i+s[15]);return this.x=(s[0]*n+s[4]*r+s[8]*i+s[12])*a,this.y=(s[1]*n+s[5]*r+s[9]*i+s[13])*a,this.z=(s[2]*n+s[6]*r+s[10]*i+s[14])*a,this}applyQuaternion(e){const n=this.x,r=this.y,i=this.z,s=e.x,a=e.y,o=e.z,l=e.w,c=l*n+a*i-o*r,u=l*r+o*n-s*i,f=l*i+s*r-a*n,d=-s*n-a*r-o*i;return this.x=c*l+d*-s+u*-o-f*-a,this.y=u*l+d*-a+f*-s-c*-o,this.z=f*l+d*-o+c*-a-u*-s,this}project(e){return this.applyMatrix4(e.matrixWorldInverse).applyMatrix4(e.projectionMatrix)}unproject(e){return this.applyMatrix4(e.projectionMatrixInverse).applyMatrix4(e.matrixWorld)}transformDirection(e){const n=this.x,r=this.y,i=this.z,s=e.elements;return this.x=s[0]*n+s[4]*r+s[8]*i,this.y=s[1]*n+s[5]*r+s[9]*i,this.z=s[2]*n+s[6]*r+s[10]*i,this.normalize()}divide(e){return this.x/=e.x,this.y/=e.y,this.z/=e.z,this}divideScalar(e){return this.multiplyScalar(1/e)}min(e){return this.x=Math.min(this.x,e.x),this.y=Math.min(this.y,e.y),this.z=Math.min(this.z,e.z),this}max(e){return this.x=Math.max(this.x,e.x),this.y=Math.max(this.y,e.y),this.z=Math.max(this.z,e.z),this}clamp(e,n){return this.x=Math.max(e.x,Math.min(n.x,this.x)),this.y=Math.max(e.y,Math.min(n.y,this.y)),this.z=Math.max(e.z,Math.min(n.z,this.z)),this}clampScalar(e,n){return this.x=Math.max(e,Math.min(n,this.x)),this.y=Math.max(e,Math.min(n,this.y)),this.z=Math.max(e,Math.min(n,this.z)),this}clampLength(e,n){const r=this.length();return this.divideScalar(r||1).multiplyScalar(Math.max(e,Math.min(n,r)))}floor(){return this.x=Math.floor(this.x),this.y=Math.floor(this.y),this.z=Math.floor(this.z),this}ceil(){return this.x=Math.ceil(this.x),this.y=Math.ceil(this.y),this.z=Math.ceil(this.z),this}round(){return this.x=Math.round(this.x),this.y=Math.round(this.y),this.z=Math.round(this.z),this}roundToZero(){return this.x=Math.trunc(this.x),this.y=Math.trunc(this.y),this.z=Math.trunc(this.z),this}negate(){return this.x=-this.x,this.y=-this.y,this.z=-this.z,this}dot(e){return this.x*e.x+this.y*e.y+this.z*e.z}lengthSq(){return this.x*this.x+this.y*this.y+this.z*this.z}length(){return Math.sqrt(this.x*this.x+this.y*this.y+this.z*this.z)}manhattanLength(){return Math.abs(this.x)+Math.abs(this.y)+Math.abs(this.z)}normalize(){return this.divideScalar(this.length()||1)}setLength(e){return this.normalize().multiplyScalar(e)}lerp(e,n){return this.x+=(e.x-this.x)*n,this.y+=(e.y-this.y)*n,this.z+=(e.z-this.z)*n,this}lerpVectors(e,n,r){return this.x=e.x+(n.x-e.x)*r,this.y=e.y+(n.y-e.y)*r,this.z=e.z+(n.z-e.z)*r,this}cross(e){return this.crossVectors(this,e)}crossVectors(e,n){const r=e.x,i=e.y,s=e.z,a=n.x,o=n.y,l=n.z;return this.x=i*l-s*o,this.y=s*a-r*l,this.z=r*o-i*a,this}projectOnVector(e){const n=e.lengthSq();if(n===0)return this.set(0,0,0);const r=e.dot(this)/n;return this.copy(e).multiplyScalar(r)}projectOnPlane(e){return N2.copy(this).projectOnVector(e),this.sub(N2)}reflect(e){return this.sub(N2.copy(e).multiplyScalar(2*this.dot(e)))}angleTo(e){const n=Math.sqrt(this.lengthSq()*e.lengthSq());if(n===0)return Math.PI/2;const r=this.dot(e)/n;return Math.acos(Zn(r,-1,1))}distanceTo(e){return Math.sqrt(this.distanceToSquared(e))}distanceToSquared(e){const n=this.x-e.x,r=this.y-e.y,i=this.z-e.z;return n*n+r*r+i*i}manhattanDistanceTo(e){return Math.abs(this.x-e.x)+Math.abs(this.y-e.y)+Math.abs(this.z-e.z)}setFromSpherical(e){return this.setFromSphericalCoords(e.radius,e.phi,e.theta)}setFromSphericalCoords(e,n,r){const i=Math.sin(n)*e;return this.x=i*Math.sin(r),this.y=Math.cos(n)*e,this.z=i*Math.cos(r),this}setFromCylindrical(e){return this.setFromCylindricalCoords(e.radius,e.theta,e.y)}setFromCylindricalCoords(e,n,r){return this.x=e*Math.sin(n),this.y=r,this.z=e*Math.cos(n),this}setFromMatrixPosition(e){const n=e.elements;return this.x=n[12],this.y=n[13],this.z=n[14],this}setFromMatrixScale(e){const n=this.setFromMatrixColumn(e,0).length(),r=this.setFromMatrixColumn(e,1).length(),i=this.setFromMatrixColumn(e,2).length();return this.x=n,this.y=r,this.z=i,this}setFromMatrixColumn(e,n){return this.fromArray(e.elements,n*4)}setFromMatrix3Column(e,n){return this.fromArray(e.elements,n*3)}setFromEuler(e){return this.x=e._x,this.y=e._y,this.z=e._z,this}setFromColor(e){return this.x=e.r,this.y=e.g,this.z=e.b,this}equals(e){return e.x===this.x&&e.y===this.y&&e.z===this.z}fromArray(e,n=0){return this.x=e[n],this.y=e[n+1],this.z=e[n+2],this}toArray(e=[],n=0){return e[n]=this.x,e[n+1]=this.y,e[n+2]=this.z,e}fromBufferAttribute(e,n){return this.x=e.getX(n),this.y=e.getY(n),this.z=e.getZ(n),this}random(){return this.x=Math.random(),this.y=Math.random(),this.z=Math.random(),this}randomDirection(){const e=(Math.random()-.5)*2,n=Math.random()*Math.PI*2,r=Math.sqrt(1-e**2);return this.x=r*Math.cos(n),this.y=r*Math.sin(n),this.z=e,this}*[Symbol.iterator](){yield this.x,yield this.y,yield this.z}}const N2=new Z,lj=new _i;class fa{constructor(e=new Z(1/0,1/0,1/0),n=new Z(-1/0,-1/0,-1/0)){this.isBox3=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromArray(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n+=3)this.expandByPoint(No.fromArray(e,n));return this}setFromBufferAttribute(e){this.makeEmpty();for(let n=0,r=e.count;n<r;n++)this.expandByPoint(No.fromBufferAttribute(e,n));return this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=No.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}setFromObject(e,n=!1){return this.makeEmpty(),this.expandByObject(e,n)}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=this.min.z=1/0,this.max.x=this.max.y=this.max.z=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y||this.max.z<this.min.z}getCenter(e){return this.isEmpty()?e.set(0,0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}expandByObject(e,n=!1){if(e.updateWorldMatrix(!1,!1),e.boundingBox!==void 0)e.boundingBox===null&&e.computeBoundingBox(),Uf.copy(e.boundingBox),Uf.applyMatrix4(e.matrixWorld),this.union(Uf);else{const i=e.geometry;if(i!==void 0)if(n&&i.attributes!==void 0&&i.attributes.position!==void 0){const s=i.attributes.position;for(let a=0,o=s.count;a<o;a++)No.fromBufferAttribute(s,a).applyMatrix4(e.matrixWorld),this.expandByPoint(No)}else i.boundingBox===null&&i.computeBoundingBox(),Uf.copy(i.boundingBox),Uf.applyMatrix4(e.matrixWorld),this.union(Uf)}const r=e.children;for(let i=0,s=r.length;i<s;i++)this.expandByObject(r[i],n);return this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y||e.z<this.min.z||e.z>this.max.z)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y&&this.min.z<=e.min.z&&e.max.z<=this.max.z}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y),(e.z-this.min.z)/(this.max.z-this.min.z))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y||e.max.z<this.min.z||e.min.z>this.max.z)}intersectsSphere(e){return this.clampPoint(e.center,No),No.distanceToSquared(e.center)<=e.radius*e.radius}intersectsPlane(e){let n,r;return e.normal.x>0?(n=e.normal.x*this.min.x,r=e.normal.x*this.max.x):(n=e.normal.x*this.max.x,r=e.normal.x*this.min.x),e.normal.y>0?(n+=e.normal.y*this.min.y,r+=e.normal.y*this.max.y):(n+=e.normal.y*this.max.y,r+=e.normal.y*this.min.y),e.normal.z>0?(n+=e.normal.z*this.min.z,r+=e.normal.z*this.max.z):(n+=e.normal.z*this.max.z,r+=e.normal.z*this.min.z),n<=-e.constant&&r>=-e.constant}intersectsTriangle(e){if(this.isEmpty())return!1;this.getCenter(Hp),gy.subVectors(this.max,Hp),Ff.subVectors(e.a,Hp),Bf.subVectors(e.b,Hp),zf.subVectors(e.c,Hp),Rl.subVectors(Bf,Ff),Ol.subVectors(zf,Bf),Zc.subVectors(Ff,zf);let n=[0,-Rl.z,Rl.y,0,-Ol.z,Ol.y,0,-Zc.z,Zc.y,Rl.z,0,-Rl.x,Ol.z,0,-Ol.x,Zc.z,0,-Zc.x,-Rl.y,Rl.x,0,-Ol.y,Ol.x,0,-Zc.y,Zc.x,0];return!R2(n,Ff,Bf,zf,gy)||(n=[1,0,0,0,1,0,0,0,1],!R2(n,Ff,Bf,zf,gy))?!1:(vy.crossVectors(Rl,Ol),n=[vy.x,vy.y,vy.z],R2(n,Ff,Bf,zf,gy))}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,No).distanceTo(e)}getBoundingSphere(e){return this.isEmpty()?e.makeEmpty():(this.getCenter(e.center),e.radius=this.getSize(No).length()*.5),e}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}applyMatrix4(e){return this.isEmpty()?this:(Co[0].set(this.min.x,this.min.y,this.min.z).applyMatrix4(e),Co[1].set(this.min.x,this.min.y,this.max.z).applyMatrix4(e),Co[2].set(this.min.x,this.max.y,this.min.z).applyMatrix4(e),Co[3].set(this.min.x,this.max.y,this.max.z).applyMatrix4(e),Co[4].set(this.max.x,this.min.y,this.min.z).applyMatrix4(e),Co[5].set(this.max.x,this.min.y,this.max.z).applyMatrix4(e),Co[6].set(this.max.x,this.max.y,this.min.z).applyMatrix4(e),Co[7].set(this.max.x,this.max.y,this.max.z).applyMatrix4(e),this.setFromPoints(Co),this)}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Co=[new Z,new Z,new Z,new Z,new Z,new Z,new Z,new Z],No=new Z,Uf=new fa,Ff=new Z,Bf=new Z,zf=new Z,Rl=new Z,Ol=new Z,Zc=new Z,Hp=new Z,gy=new Z,vy=new Z,Jc=new Z;function R2(t,e,n,r,i){for(let s=0,a=t.length-3;s<=a;s+=3){Jc.fromArray(t,s);const o=i.x*Math.abs(Jc.x)+i.y*Math.abs(Jc.y)+i.z*Math.abs(Jc.z),l=e.dot(Jc),c=n.dot(Jc),u=r.dot(Jc);if(Math.max(-Math.max(l,c,u),Math.min(l,c,u))>o)return!1}return!0}const Ote=new fa,$p=new Z,O2=new Z;class da{constructor(e=new Z,n=-1){this.center=e,this.radius=n}set(e,n){return this.center.copy(e),this.radius=n,this}setFromPoints(e,n){const r=this.center;n!==void 0?r.copy(n):Ote.setFromPoints(e).getCenter(r);let i=0;for(let s=0,a=e.length;s<a;s++)i=Math.max(i,r.distanceToSquared(e[s]));return this.radius=Math.sqrt(i),this}copy(e){return this.center.copy(e.center),this.radius=e.radius,this}isEmpty(){return this.radius<0}makeEmpty(){return this.center.set(0,0,0),this.radius=-1,this}containsPoint(e){return e.distanceToSquared(this.center)<=this.radius*this.radius}distanceToPoint(e){return e.distanceTo(this.center)-this.radius}intersectsSphere(e){const n=this.radius+e.radius;return e.center.distanceToSquared(this.center)<=n*n}intersectsBox(e){return e.intersectsSphere(this)}intersectsPlane(e){return Math.abs(e.distanceToPoint(this.center))<=this.radius}clampPoint(e,n){const r=this.center.distanceToSquared(e);return n.copy(e),r>this.radius*this.radius&&(n.sub(this.center).normalize(),n.multiplyScalar(this.radius).add(this.center)),n}getBoundingBox(e){return this.isEmpty()?(e.makeEmpty(),e):(e.set(this.center,this.center),e.expandByScalar(this.radius),e)}applyMatrix4(e){return this.center.applyMatrix4(e),this.radius=this.radius*e.getMaxScaleOnAxis(),this}translate(e){return this.center.add(e),this}expandByPoint(e){if(this.isEmpty())return this.center.copy(e),this.radius=0,this;$p.subVectors(e,this.center);const n=$p.lengthSq();if(n>this.radius*this.radius){const r=Math.sqrt(n),i=(r-this.radius)*.5;this.center.addScaledVector($p,i/r),this.radius+=i}return this}union(e){return e.isEmpty()?this:this.isEmpty()?(this.copy(e),this):(this.center.equals(e.center)===!0?this.radius=Math.max(this.radius,e.radius):(O2.subVectors(e.center,this.center).setLength(e.radius),this.expandByPoint($p.copy(e.center).add(O2)),this.expandByPoint($p.copy(e.center).sub(O2))),this)}equals(e){return e.center.equals(this.center)&&e.radius===this.radius}clone(){return new this.constructor().copy(this)}}const Ro=new Z,L2=new Z,yy=new Z,Ll=new Z,I2=new Z,xy=new Z,j2=new Z;class uf{constructor(e=new Z,n=new Z(0,0,-1)){this.origin=e,this.direction=n}set(e,n){return this.origin.copy(e),this.direction.copy(n),this}copy(e){return this.origin.copy(e.origin),this.direction.copy(e.direction),this}at(e,n){return n.copy(this.origin).addScaledVector(this.direction,e)}lookAt(e){return this.direction.copy(e).sub(this.origin).normalize(),this}recast(e){return this.origin.copy(this.at(e,Ro)),this}closestPointToPoint(e,n){n.subVectors(e,this.origin);const r=n.dot(this.direction);return r<0?n.copy(this.origin):n.copy(this.origin).addScaledVector(this.direction,r)}distanceToPoint(e){return Math.sqrt(this.distanceSqToPoint(e))}distanceSqToPoint(e){const n=Ro.subVectors(e,this.origin).dot(this.direction);return n<0?this.origin.distanceToSquared(e):(Ro.copy(this.origin).addScaledVector(this.direction,n),Ro.distanceToSquared(e))}distanceSqToSegment(e,n,r,i){L2.copy(e).add(n).multiplyScalar(.5),yy.copy(n).sub(e).normalize(),Ll.copy(this.origin).sub(L2);const s=e.distanceTo(n)*.5,a=-this.direction.dot(yy),o=Ll.dot(this.direction),l=-Ll.dot(yy),c=Ll.lengthSq(),u=Math.abs(1-a*a);let f,d,p,v;if(u>0)if(f=a*l-o,d=a*o-l,v=s*u,f>=0)if(d>=-v)if(d<=v){const b=1/u;f*=b,d*=b,p=f*(f+a*d+2*o)+d*(a*f+d+2*l)+c}else d=s,f=Math.max(0,-(a*d+o)),p=-f*f+d*(d+2*l)+c;else d=-s,f=Math.max(0,-(a*d+o)),p=-f*f+d*(d+2*l)+c;else d<=-v?(f=Math.max(0,-(-a*s+o)),d=f>0?-s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c):d<=v?(f=0,d=Math.min(Math.max(-s,-l),s),p=d*(d+2*l)+c):(f=Math.max(0,-(a*s+o)),d=f>0?s:Math.min(Math.max(-s,-l),s),p=-f*f+d*(d+2*l)+c);else d=a>0?-s:s,f=Math.max(0,-(a*d+o)),p=-f*f+d*(d+2*l)+c;return r&&r.copy(this.origin).addScaledVector(this.direction,f),i&&i.copy(L2).addScaledVector(yy,d),p}intersectSphere(e,n){Ro.subVectors(e.center,this.origin);const r=Ro.dot(this.direction),i=Ro.dot(Ro)-r*r,s=e.radius*e.radius;if(i>s)return null;const a=Math.sqrt(s-i),o=r-a,l=r+a;return l<0?null:o<0?this.at(l,n):this.at(o,n)}intersectsSphere(e){return this.distanceSqToPoint(e.center)<=e.radius*e.radius}distanceToPlane(e){const n=e.normal.dot(this.direction);if(n===0)return e.distanceToPoint(this.origin)===0?0:null;const r=-(this.origin.dot(e.normal)+e.constant)/n;return r>=0?r:null}intersectPlane(e,n){const r=this.distanceToPlane(e);return r===null?null:this.at(r,n)}intersectsPlane(e){const n=e.distanceToPoint(this.origin);return n===0||e.normal.dot(this.direction)*n<0}intersectBox(e,n){let r,i,s,a,o,l;const c=1/this.direction.x,u=1/this.direction.y,f=1/this.direction.z,d=this.origin;return c>=0?(r=(e.min.x-d.x)*c,i=(e.max.x-d.x)*c):(r=(e.max.x-d.x)*c,i=(e.min.x-d.x)*c),u>=0?(s=(e.min.y-d.y)*u,a=(e.max.y-d.y)*u):(s=(e.max.y-d.y)*u,a=(e.min.y-d.y)*u),r>a||s>i||((s>r||isNaN(r))&&(r=s),(a<i||isNaN(i))&&(i=a),f>=0?(o=(e.min.z-d.z)*f,l=(e.max.z-d.z)*f):(o=(e.max.z-d.z)*f,l=(e.min.z-d.z)*f),r>l||o>i)||((o>r||r!==r)&&(r=o),(l<i||i!==i)&&(i=l),i<0)?null:this.at(r>=0?r:i,n)}intersectsBox(e){return this.intersectBox(e,Ro)!==null}intersectTriangle(e,n,r,i,s){I2.subVectors(n,e),xy.subVectors(r,e),j2.crossVectors(I2,xy);let a=this.direction.dot(j2),o;if(a>0){if(i)return null;o=1}else if(a<0)o=-1,a=-a;else return null;Ll.subVectors(this.origin,e);const l=o*this.direction.dot(xy.crossVectors(Ll,xy));if(l<0)return null;const c=o*this.direction.dot(I2.cross(Ll));if(c<0||l+c>a)return null;const u=-o*Ll.dot(j2);return u<0?null:this.at(u/a,s)}applyMatrix4(e){return this.origin.applyMatrix4(e),this.direction.transformDirection(e),this}equals(e){return e.origin.equals(this.origin)&&e.direction.equals(this.direction)}clone(){return new this.constructor().copy(this)}}class Nt{constructor(e,n,r,i,s,a,o,l,c,u,f,d,p,v,b,x){Nt.prototype.isMatrix4=!0,this.elements=[1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1],e!==void 0&&this.set(e,n,r,i,s,a,o,l,c,u,f,d,p,v,b,x)}set(e,n,r,i,s,a,o,l,c,u,f,d,p,v,b,x){const y=this.elements;return y[0]=e,y[4]=n,y[8]=r,y[12]=i,y[1]=s,y[5]=a,y[9]=o,y[13]=l,y[2]=c,y[6]=u,y[10]=f,y[14]=d,y[3]=p,y[7]=v,y[11]=b,y[15]=x,this}identity(){return this.set(1,0,0,0,0,1,0,0,0,0,1,0,0,0,0,1),this}clone(){return new Nt().fromArray(this.elements)}copy(e){const n=this.elements,r=e.elements;return n[0]=r[0],n[1]=r[1],n[2]=r[2],n[3]=r[3],n[4]=r[4],n[5]=r[5],n[6]=r[6],n[7]=r[7],n[8]=r[8],n[9]=r[9],n[10]=r[10],n[11]=r[11],n[12]=r[12],n[13]=r[13],n[14]=r[14],n[15]=r[15],this}copyPosition(e){const n=this.elements,r=e.elements;return n[12]=r[12],n[13]=r[13],n[14]=r[14],this}setFromMatrix3(e){const n=e.elements;return this.set(n[0],n[3],n[6],0,n[1],n[4],n[7],0,n[2],n[5],n[8],0,0,0,0,1),this}extractBasis(e,n,r){return e.setFromMatrixColumn(this,0),n.setFromMatrixColumn(this,1),r.setFromMatrixColumn(this,2),this}makeBasis(e,n,r){return this.set(e.x,n.x,r.x,0,e.y,n.y,r.y,0,e.z,n.z,r.z,0,0,0,0,1),this}extractRotation(e){const n=this.elements,r=e.elements,i=1/Vf.setFromMatrixColumn(e,0).length(),s=1/Vf.setFromMatrixColumn(e,1).length(),a=1/Vf.setFromMatrixColumn(e,2).length();return n[0]=r[0]*i,n[1]=r[1]*i,n[2]=r[2]*i,n[3]=0,n[4]=r[4]*s,n[5]=r[5]*s,n[6]=r[6]*s,n[7]=0,n[8]=r[8]*a,n[9]=r[9]*a,n[10]=r[10]*a,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromEuler(e){const n=this.elements,r=e.x,i=e.y,s=e.z,a=Math.cos(r),o=Math.sin(r),l=Math.cos(i),c=Math.sin(i),u=Math.cos(s),f=Math.sin(s);if(e.order==="XYZ"){const d=a*u,p=a*f,v=o*u,b=o*f;n[0]=l*u,n[4]=-l*f,n[8]=c,n[1]=p+v*c,n[5]=d-b*c,n[9]=-o*l,n[2]=b-d*c,n[6]=v+p*c,n[10]=a*l}else if(e.order==="YXZ"){const d=l*u,p=l*f,v=c*u,b=c*f;n[0]=d+b*o,n[4]=v*o-p,n[8]=a*c,n[1]=a*f,n[5]=a*u,n[9]=-o,n[2]=p*o-v,n[6]=b+d*o,n[10]=a*l}else if(e.order==="ZXY"){const d=l*u,p=l*f,v=c*u,b=c*f;n[0]=d-b*o,n[4]=-a*f,n[8]=v+p*o,n[1]=p+v*o,n[5]=a*u,n[9]=b-d*o,n[2]=-a*c,n[6]=o,n[10]=a*l}else if(e.order==="ZYX"){const d=a*u,p=a*f,v=o*u,b=o*f;n[0]=l*u,n[4]=v*c-p,n[8]=d*c+b,n[1]=l*f,n[5]=b*c+d,n[9]=p*c-v,n[2]=-c,n[6]=o*l,n[10]=a*l}else if(e.order==="YZX"){const d=a*l,p=a*c,v=o*l,b=o*c;n[0]=l*u,n[4]=b-d*f,n[8]=v*f+p,n[1]=f,n[5]=a*u,n[9]=-o*u,n[2]=-c*u,n[6]=p*f+v,n[10]=d-b*f}else if(e.order==="XZY"){const d=a*l,p=a*c,v=o*l,b=o*c;n[0]=l*u,n[4]=-f,n[8]=c*u,n[1]=d*f+b,n[5]=a*u,n[9]=p*f-v,n[2]=v*f-p,n[6]=o*u,n[10]=b*f+d}return n[3]=0,n[7]=0,n[11]=0,n[12]=0,n[13]=0,n[14]=0,n[15]=1,this}makeRotationFromQuaternion(e){return this.compose(Lte,e,Ite)}lookAt(e,n,r){const i=this.elements;return bs.subVectors(e,n),bs.lengthSq()===0&&(bs.z=1),bs.normalize(),Il.crossVectors(r,bs),Il.lengthSq()===0&&(Math.abs(r.z)===1?bs.x+=1e-4:bs.z+=1e-4,bs.normalize(),Il.crossVectors(r,bs)),Il.normalize(),by.crossVectors(bs,Il),i[0]=Il.x,i[4]=by.x,i[8]=bs.x,i[1]=Il.y,i[5]=by.y,i[9]=bs.y,i[2]=Il.z,i[6]=by.z,i[10]=bs.z,this}multiply(e){return this.multiplyMatrices(this,e)}premultiply(e){return this.multiplyMatrices(e,this)}multiplyMatrices(e,n){const r=e.elements,i=n.elements,s=this.elements,a=r[0],o=r[4],l=r[8],c=r[12],u=r[1],f=r[5],d=r[9],p=r[13],v=r[2],b=r[6],x=r[10],y=r[14],w=r[3],_=r[7],S=r[11],M=r[15],E=i[0],A=i[4],C=i[8],P=i[12],R=i[1],L=i[5],O=i[9],D=i[13],I=i[2],z=i[6],$=i[10],q=i[14],V=i[3],U=i[7],W=i[11],k=i[15];return s[0]=a*E+o*R+l*I+c*V,s[4]=a*A+o*L+l*z+c*U,s[8]=a*C+o*O+l*$+c*W,s[12]=a*P+o*D+l*q+c*k,s[1]=u*E+f*R+d*I+p*V,s[5]=u*A+f*L+d*z+p*U,s[9]=u*C+f*O+d*$+p*W,s[13]=u*P+f*D+d*q+p*k,s[2]=v*E+b*R+x*I+y*V,s[6]=v*A+b*L+x*z+y*U,s[10]=v*C+b*O+x*$+y*W,s[14]=v*P+b*D+x*q+y*k,s[3]=w*E+_*R+S*I+M*V,s[7]=w*A+_*L+S*z+M*U,s[11]=w*C+_*O+S*$+M*W,s[15]=w*P+_*D+S*q+M*k,this}multiplyScalar(e){const n=this.elements;return n[0]*=e,n[4]*=e,n[8]*=e,n[12]*=e,n[1]*=e,n[5]*=e,n[9]*=e,n[13]*=e,n[2]*=e,n[6]*=e,n[10]*=e,n[14]*=e,n[3]*=e,n[7]*=e,n[11]*=e,n[15]*=e,this}determinant(){const e=this.elements,n=e[0],r=e[4],i=e[8],s=e[12],a=e[1],o=e[5],l=e[9],c=e[13],u=e[2],f=e[6],d=e[10],p=e[14],v=e[3],b=e[7],x=e[11],y=e[15];return v*(+s*l*f-i*c*f-s*o*d+r*c*d+i*o*p-r*l*p)+b*(+n*l*p-n*c*d+s*a*d-i*a*p+i*c*u-s*l*u)+x*(+n*c*f-n*o*p-s*a*f+r*a*p+s*o*u-r*c*u)+y*(-i*o*u-n*l*f+n*o*d+i*a*f-r*a*d+r*l*u)}transpose(){const e=this.elements;let n;return n=e[1],e[1]=e[4],e[4]=n,n=e[2],e[2]=e[8],e[8]=n,n=e[6],e[6]=e[9],e[9]=n,n=e[3],e[3]=e[12],e[12]=n,n=e[7],e[7]=e[13],e[13]=n,n=e[11],e[11]=e[14],e[14]=n,this}setPosition(e,n,r){const i=this.elements;return e.isVector3?(i[12]=e.x,i[13]=e.y,i[14]=e.z):(i[12]=e,i[13]=n,i[14]=r),this}invert(){const e=this.elements,n=e[0],r=e[1],i=e[2],s=e[3],a=e[4],o=e[5],l=e[6],c=e[7],u=e[8],f=e[9],d=e[10],p=e[11],v=e[12],b=e[13],x=e[14],y=e[15],w=f*x*c-b*d*c+b*l*p-o*x*p-f*l*y+o*d*y,_=v*d*c-u*x*c-v*l*p+a*x*p+u*l*y-a*d*y,S=u*b*c-v*f*c+v*o*p-a*b*p-u*o*y+a*f*y,M=v*f*l-u*b*l-v*o*d+a*b*d+u*o*x-a*f*x,E=n*w+r*_+i*S+s*M;if(E===0)return this.set(0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0);const A=1/E;return e[0]=w*A,e[1]=(b*d*s-f*x*s-b*i*p+r*x*p+f*i*y-r*d*y)*A,e[2]=(o*x*s-b*l*s+b*i*c-r*x*c-o*i*y+r*l*y)*A,e[3]=(f*l*s-o*d*s-f*i*c+r*d*c+o*i*p-r*l*p)*A,e[4]=_*A,e[5]=(u*x*s-v*d*s+v*i*p-n*x*p-u*i*y+n*d*y)*A,e[6]=(v*l*s-a*x*s-v*i*c+n*x*c+a*i*y-n*l*y)*A,e[7]=(a*d*s-u*l*s+u*i*c-n*d*c-a*i*p+n*l*p)*A,e[8]=S*A,e[9]=(v*f*s-u*b*s-v*r*p+n*b*p+u*r*y-n*f*y)*A,e[10]=(a*b*s-v*o*s+v*r*c-n*b*c-a*r*y+n*o*y)*A,e[11]=(u*o*s-a*f*s-u*r*c+n*f*c+a*r*p-n*o*p)*A,e[12]=M*A,e[13]=(u*b*i-v*f*i+v*r*d-n*b*d-u*r*x+n*f*x)*A,e[14]=(v*o*i-a*b*i-v*r*l+n*b*l+a*r*x-n*o*x)*A,e[15]=(a*f*i-u*o*i+u*r*l-n*f*l-a*r*d+n*o*d)*A,this}scale(e){const n=this.elements,r=e.x,i=e.y,s=e.z;return n[0]*=r,n[4]*=i,n[8]*=s,n[1]*=r,n[5]*=i,n[9]*=s,n[2]*=r,n[6]*=i,n[10]*=s,n[3]*=r,n[7]*=i,n[11]*=s,this}getMaxScaleOnAxis(){const e=this.elements,n=e[0]*e[0]+e[1]*e[1]+e[2]*e[2],r=e[4]*e[4]+e[5]*e[5]+e[6]*e[6],i=e[8]*e[8]+e[9]*e[9]+e[10]*e[10];return Math.sqrt(Math.max(n,r,i))}makeTranslation(e,n,r){return e.isVector3?this.set(1,0,0,e.x,0,1,0,e.y,0,0,1,e.z,0,0,0,1):this.set(1,0,0,e,0,1,0,n,0,0,1,r,0,0,0,1),this}makeRotationX(e){const n=Math.cos(e),r=Math.sin(e);return this.set(1,0,0,0,0,n,-r,0,0,r,n,0,0,0,0,1),this}makeRotationY(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,0,r,0,0,1,0,0,-r,0,n,0,0,0,0,1),this}makeRotationZ(e){const n=Math.cos(e),r=Math.sin(e);return this.set(n,-r,0,0,r,n,0,0,0,0,1,0,0,0,0,1),this}makeRotationAxis(e,n){const r=Math.cos(n),i=Math.sin(n),s=1-r,a=e.x,o=e.y,l=e.z,c=s*a,u=s*o;return this.set(c*a+r,c*o-i*l,c*l+i*o,0,c*o+i*l,u*o+r,u*l-i*a,0,c*l-i*o,u*l+i*a,s*l*l+r,0,0,0,0,1),this}makeScale(e,n,r){return this.set(e,0,0,0,0,n,0,0,0,0,r,0,0,0,0,1),this}makeShear(e,n,r,i,s,a){return this.set(1,r,s,0,e,1,a,0,n,i,1,0,0,0,0,1),this}compose(e,n,r){const i=this.elements,s=n._x,a=n._y,o=n._z,l=n._w,c=s+s,u=a+a,f=o+o,d=s*c,p=s*u,v=s*f,b=a*u,x=a*f,y=o*f,w=l*c,_=l*u,S=l*f,M=r.x,E=r.y,A=r.z;return i[0]=(1-(b+y))*M,i[1]=(p+S)*M,i[2]=(v-_)*M,i[3]=0,i[4]=(p-S)*E,i[5]=(1-(d+y))*E,i[6]=(x+w)*E,i[7]=0,i[8]=(v+_)*A,i[9]=(x-w)*A,i[10]=(1-(d+b))*A,i[11]=0,i[12]=e.x,i[13]=e.y,i[14]=e.z,i[15]=1,this}decompose(e,n,r){const i=this.elements;let s=Vf.set(i[0],i[1],i[2]).length();const a=Vf.set(i[4],i[5],i[6]).length(),o=Vf.set(i[8],i[9],i[10]).length();this.determinant()<0&&(s=-s),e.x=i[12],e.y=i[13],e.z=i[14],xa.copy(this);const c=1/s,u=1/a,f=1/o;return xa.elements[0]*=c,xa.elements[1]*=c,xa.elements[2]*=c,xa.elements[4]*=u,xa.elements[5]*=u,xa.elements[6]*=u,xa.elements[8]*=f,xa.elements[9]*=f,xa.elements[10]*=f,n.setFromRotationMatrix(xa),r.x=s,r.y=a,r.z=o,this}makePerspective(e,n,r,i,s,a,o=to){const l=this.elements,c=2*s/(n-e),u=2*s/(r-i),f=(n+e)/(n-e),d=(r+i)/(r-i);let p,v;if(o===to)p=-(a+s)/(a-s),v=-2*a*s/(a-s);else if(o===Pg)p=-a/(a-s),v=-a*s/(a-s);else throw new Error("THREE.Matrix4.makePerspective(): Invalid coordinate system: "+o);return l[0]=c,l[4]=0,l[8]=f,l[12]=0,l[1]=0,l[5]=u,l[9]=d,l[13]=0,l[2]=0,l[6]=0,l[10]=p,l[14]=v,l[3]=0,l[7]=0,l[11]=-1,l[15]=0,this}makeOrthographic(e,n,r,i,s,a,o=to){const l=this.elements,c=1/(n-e),u=1/(r-i),f=1/(a-s),d=(n+e)*c,p=(r+i)*u;let v,b;if(o===to)v=(a+s)*f,b=-2*f;else if(o===Pg)v=s*f,b=-1*f;else throw new Error("THREE.Matrix4.makeOrthographic(): Invalid coordinate system: "+o);return l[0]=2*c,l[4]=0,l[8]=0,l[12]=-d,l[1]=0,l[5]=2*u,l[9]=0,l[13]=-p,l[2]=0,l[6]=0,l[10]=b,l[14]=-v,l[3]=0,l[7]=0,l[11]=0,l[15]=1,this}equals(e){const n=this.elements,r=e.elements;for(let i=0;i<16;i++)if(n[i]!==r[i])return!1;return!0}fromArray(e,n=0){for(let r=0;r<16;r++)this.elements[r]=e[r+n];return this}toArray(e=[],n=0){const r=this.elements;return e[n]=r[0],e[n+1]=r[1],e[n+2]=r[2],e[n+3]=r[3],e[n+4]=r[4],e[n+5]=r[5],e[n+6]=r[6],e[n+7]=r[7],e[n+8]=r[8],e[n+9]=r[9],e[n+10]=r[10],e[n+11]=r[11],e[n+12]=r[12],e[n+13]=r[13],e[n+14]=r[14],e[n+15]=r[15],e}}const Vf=new Z,xa=new Nt,Lte=new Z(0,0,0),Ite=new Z(1,1,1),Il=new Z,by=new Z,bs=new Z,cj=new Nt,uj=new _i;class k0{constructor(e=0,n=0,r=0,i=k0.DEFAULT_ORDER){this.isEuler=!0,this._x=e,this._y=n,this._z=r,this._order=i}get x(){return this._x}set x(e){this._x=e,this._onChangeCallback()}get y(){return this._y}set y(e){this._y=e,this._onChangeCallback()}get z(){return this._z}set z(e){this._z=e,this._onChangeCallback()}get order(){return this._order}set order(e){this._order=e,this._onChangeCallback()}set(e,n,r,i=this._order){return this._x=e,this._y=n,this._z=r,this._order=i,this._onChangeCallback(),this}clone(){return new this.constructor(this._x,this._y,this._z,this._order)}copy(e){return this._x=e._x,this._y=e._y,this._z=e._z,this._order=e._order,this._onChangeCallback(),this}setFromRotationMatrix(e,n=this._order,r=!0){const i=e.elements,s=i[0],a=i[4],o=i[8],l=i[1],c=i[5],u=i[9],f=i[2],d=i[6],p=i[10];switch(n){case"XYZ":this._y=Math.asin(Zn(o,-1,1)),Math.abs(o)<.9999999?(this._x=Math.atan2(-u,p),this._z=Math.atan2(-a,s)):(this._x=Math.atan2(d,c),this._z=0);break;case"YXZ":this._x=Math.asin(-Zn(u,-1,1)),Math.abs(u)<.9999999?(this._y=Math.atan2(o,p),this._z=Math.atan2(l,c)):(this._y=Math.atan2(-f,s),this._z=0);break;case"ZXY":this._x=Math.asin(Zn(d,-1,1)),Math.abs(d)<.9999999?(this._y=Math.atan2(-f,p),this._z=Math.atan2(-a,c)):(this._y=0,this._z=Math.atan2(l,s));break;case"ZYX":this._y=Math.asin(-Zn(f,-1,1)),Math.abs(f)<.9999999?(this._x=Math.atan2(d,p),this._z=Math.atan2(l,s)):(this._x=0,this._z=Math.atan2(-a,c));break;case"YZX":this._z=Math.asin(Zn(l,-1,1)),Math.abs(l)<.9999999?(this._x=Math.atan2(-u,c),this._y=Math.atan2(-f,s)):(this._x=0,this._y=Math.atan2(o,p));break;case"XZY":this._z=Math.asin(-Zn(a,-1,1)),Math.abs(a)<.9999999?(this._x=Math.atan2(d,c),this._y=Math.atan2(o,s)):(this._x=Math.atan2(-u,p),this._y=0);break;default:console.warn("THREE.Euler: .setFromRotationMatrix() encountered an unknown order: "+n)}return this._order=n,r===!0&&this._onChangeCallback(),this}setFromQuaternion(e,n,r){return cj.makeRotationFromQuaternion(e),this.setFromRotationMatrix(cj,n,r)}setFromVector3(e,n=this._order){return this.set(e.x,e.y,e.z,n)}reorder(e){return uj.setFromEuler(this),this.setFromQuaternion(uj,e)}equals(e){return e._x===this._x&&e._y===this._y&&e._z===this._z&&e._order===this._order}fromArray(e){return this._x=e[0],this._y=e[1],this._z=e[2],e[3]!==void 0&&(this._order=e[3]),this._onChangeCallback(),this}toArray(e=[],n=0){return e[n]=this._x,e[n+1]=this._y,e[n+2]=this._z,e[n+3]=this._order,e}_onChange(e){return this._onChangeCallback=e,this}_onChangeCallback(){}*[Symbol.iterator](){yield this._x,yield this._y,yield this._z,yield this._order}}k0.DEFAULT_ORDER="XYZ";class ku{constructor(){this.mask=1}set(e){this.mask=(1<<e|0)>>>0}enable(e){this.mask|=1<<e|0}enableAll(){this.mask=-1}toggle(e){this.mask^=1<<e|0}disable(e){this.mask&=~(1<<e|0)}disableAll(){this.mask=0}test(e){return(this.mask&e.mask)!==0}isEnabled(e){return(this.mask&(1<<e|0))!==0}}let jte=0;const fj=new Z,Hf=new _i,Oo=new Nt,_y=new Z,Wp=new Z,kte=new Z,Dte=new _i,dj=new Z(1,0,0),hj=new Z(0,1,0),pj=new Z(0,0,1),Ute={type:"added"},Fte={type:"removed"};class an extends ml{constructor(){super(),this.isObject3D=!0,Object.defineProperty(this,"id",{value:jte++}),this.uuid=Ns(),this.name="",this.type="Object3D",this.parent=null,this.children=[],this.up=an.DEFAULT_UP.clone();const e=new Z,n=new k0,r=new _i,i=new Z(1,1,1);function s(){r.setFromEuler(n,!1)}function a(){n.setFromQuaternion(r,void 0,!1)}n._onChange(s),r._onChange(a),Object.defineProperties(this,{position:{configurable:!0,enumerable:!0,value:e},rotation:{configurable:!0,enumerable:!0,value:n},quaternion:{configurable:!0,enumerable:!0,value:r},scale:{configurable:!0,enumerable:!0,value:i},modelViewMatrix:{value:new Nt},normalMatrix:{value:new Dt}}),this.matrix=new Nt,this.matrixWorld=new Nt,this.matrixAutoUpdate=an.DEFAULT_MATRIX_AUTO_UPDATE,this.matrixWorldNeedsUpdate=!1,this.matrixWorldAutoUpdate=an.DEFAULT_MATRIX_WORLD_AUTO_UPDATE,this.layers=new ku,this.visible=!0,this.castShadow=!1,this.receiveShadow=!1,this.frustumCulled=!0,this.renderOrder=0,this.animations=[],this.userData={}}onBeforeRender(){}onAfterRender(){}applyMatrix4(e){this.matrixAutoUpdate&&this.updateMatrix(),this.matrix.premultiply(e),this.matrix.decompose(this.position,this.quaternion,this.scale)}applyQuaternion(e){return this.quaternion.premultiply(e),this}setRotationFromAxisAngle(e,n){this.quaternion.setFromAxisAngle(e,n)}setRotationFromEuler(e){this.quaternion.setFromEuler(e,!0)}setRotationFromMatrix(e){this.quaternion.setFromRotationMatrix(e)}setRotationFromQuaternion(e){this.quaternion.copy(e)}rotateOnAxis(e,n){return Hf.setFromAxisAngle(e,n),this.quaternion.multiply(Hf),this}rotateOnWorldAxis(e,n){return Hf.setFromAxisAngle(e,n),this.quaternion.premultiply(Hf),this}rotateX(e){return this.rotateOnAxis(dj,e)}rotateY(e){return this.rotateOnAxis(hj,e)}rotateZ(e){return this.rotateOnAxis(pj,e)}translateOnAxis(e,n){return fj.copy(e).applyQuaternion(this.quaternion),this.position.add(fj.multiplyScalar(n)),this}translateX(e){return this.translateOnAxis(dj,e)}translateY(e){return this.translateOnAxis(hj,e)}translateZ(e){return this.translateOnAxis(pj,e)}localToWorld(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(this.matrixWorld)}worldToLocal(e){return this.updateWorldMatrix(!0,!1),e.applyMatrix4(Oo.copy(this.matrixWorld).invert())}lookAt(e,n,r){e.isVector3?_y.copy(e):_y.set(e,n,r);const i=this.parent;this.updateWorldMatrix(!0,!1),Wp.setFromMatrixPosition(this.matrixWorld),this.isCamera||this.isLight?Oo.lookAt(Wp,_y,this.up):Oo.lookAt(_y,Wp,this.up),this.quaternion.setFromRotationMatrix(Oo),i&&(Oo.extractRotation(i.matrixWorld),Hf.setFromRotationMatrix(Oo),this.quaternion.premultiply(Hf.invert()))}add(e){if(arguments.length>1){for(let n=0;n<arguments.length;n++)this.add(arguments[n]);return this}return e===this?(console.error("THREE.Object3D.add: object can't be added as a child of itself.",e),this):(e&&e.isObject3D?(e.parent!==null&&e.parent.remove(e),e.parent=this,this.children.push(e),e.dispatchEvent(Ute)):console.error("THREE.Object3D.add: object not an instance of THREE.Object3D.",e),this)}remove(e){if(arguments.length>1){for(let r=0;r<arguments.length;r++)this.remove(arguments[r]);return this}const n=this.children.indexOf(e);return n!==-1&&(e.parent=null,this.children.splice(n,1),e.dispatchEvent(Fte)),this}removeFromParent(){const e=this.parent;return e!==null&&e.remove(this),this}clear(){return this.remove(...this.children)}attach(e){return this.updateWorldMatrix(!0,!1),Oo.copy(this.matrixWorld).invert(),e.parent!==null&&(e.parent.updateWorldMatrix(!0,!1),Oo.multiply(e.parent.matrixWorld)),e.applyMatrix4(Oo),this.add(e),e.updateWorldMatrix(!1,!0),this}getObjectById(e){return this.getObjectByProperty("id",e)}getObjectByName(e){return this.getObjectByProperty("name",e)}getObjectByProperty(e,n){if(this[e]===n)return this;for(let r=0,i=this.children.length;r<i;r++){const a=this.children[r].getObjectByProperty(e,n);if(a!==void 0)return a}}getObjectsByProperty(e,n){let r=[];this[e]===n&&r.push(this);for(let i=0,s=this.children.length;i<s;i++){const a=this.children[i].getObjectsByProperty(e,n);a.length>0&&(r=r.concat(a))}return r}getWorldPosition(e){return this.updateWorldMatrix(!0,!1),e.setFromMatrixPosition(this.matrixWorld)}getWorldQuaternion(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wp,e,kte),e}getWorldScale(e){return this.updateWorldMatrix(!0,!1),this.matrixWorld.decompose(Wp,Dte,e),e}getWorldDirection(e){this.updateWorldMatrix(!0,!1);const n=this.matrixWorld.elements;return e.set(n[8],n[9],n[10]).normalize()}raycast(){}traverse(e){e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverse(e)}traverseVisible(e){if(this.visible===!1)return;e(this);const n=this.children;for(let r=0,i=n.length;r<i;r++)n[r].traverseVisible(e)}traverseAncestors(e){const n=this.parent;n!==null&&(e(n),n.traverseAncestors(e))}updateMatrix(){this.matrix.compose(this.position,this.quaternion,this.scale),this.matrixWorldNeedsUpdate=!0}updateMatrixWorld(e){this.matrixAutoUpdate&&this.updateMatrix(),(this.matrixWorldNeedsUpdate||e)&&(this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),this.matrixWorldNeedsUpdate=!1,e=!0);const n=this.children;for(let r=0,i=n.length;r<i;r++){const s=n[r];(s.matrixWorldAutoUpdate===!0||e===!0)&&s.updateMatrixWorld(e)}}updateWorldMatrix(e,n){const r=this.parent;if(e===!0&&r!==null&&r.matrixWorldAutoUpdate===!0&&r.updateWorldMatrix(!0,!1),this.matrixAutoUpdate&&this.updateMatrix(),this.parent===null?this.matrixWorld.copy(this.matrix):this.matrixWorld.multiplyMatrices(this.parent.matrixWorld,this.matrix),n===!0){const i=this.children;for(let s=0,a=i.length;s<a;s++){const o=i[s];o.matrixWorldAutoUpdate===!0&&o.updateWorldMatrix(!1,!0)}}}toJSON(e){const n=e===void 0||typeof e=="string",r={};n&&(e={geometries:{},materials:{},textures:{},images:{},shapes:{},skeletons:{},animations:{},nodes:{}},r.metadata={version:4.6,type:"Object",generator:"Object3D.toJSON"});const i={};i.uuid=this.uuid,i.type=this.type,this.name!==""&&(i.name=this.name),this.castShadow===!0&&(i.castShadow=!0),this.receiveShadow===!0&&(i.receiveShadow=!0),this.visible===!1&&(i.visible=!1),this.frustumCulled===!1&&(i.frustumCulled=!1),this.renderOrder!==0&&(i.renderOrder=this.renderOrder),Object.keys(this.userData).length>0&&(i.userData=this.userData),i.layers=this.layers.mask,i.matrix=this.matrix.toArray(),i.up=this.up.toArray(),this.matrixAutoUpdate===!1&&(i.matrixAutoUpdate=!1),this.isInstancedMesh&&(i.type="InstancedMesh",i.count=this.count,i.instanceMatrix=this.instanceMatrix.toJSON(),this.instanceColor!==null&&(i.instanceColor=this.instanceColor.toJSON()));function s(o,l){return o[l.uuid]===void 0&&(o[l.uuid]=l.toJSON(e)),l.uuid}if(this.isScene)this.background&&(this.background.isColor?i.background=this.background.toJSON():this.background.isTexture&&(i.background=this.background.toJSON(e).uuid)),this.environment&&this.environment.isTexture&&this.environment.isRenderTargetTexture!==!0&&(i.environment=this.environment.toJSON(e).uuid);else if(this.isMesh||this.isLine||this.isPoints){i.geometry=s(e.geometries,this.geometry);const o=this.geometry.parameters;if(o!==void 0&&o.shapes!==void 0){const l=o.shapes;if(Array.isArray(l))for(let c=0,u=l.length;c<u;c++){const f=l[c];s(e.shapes,f)}else s(e.shapes,l)}}if(this.isSkinnedMesh&&(i.bindMode=this.bindMode,i.bindMatrix=this.bindMatrix.toArray(),this.skeleton!==void 0&&(s(e.skeletons,this.skeleton),i.skeleton=this.skeleton.uuid)),this.material!==void 0)if(Array.isArray(this.material)){const o=[];for(let l=0,c=this.material.length;l<c;l++)o.push(s(e.materials,this.material[l]));i.material=o}else i.material=s(e.materials,this.material);if(this.children.length>0){i.children=[];for(let o=0;o<this.children.length;o++)i.children.push(this.children[o].toJSON(e).object)}if(this.animations.length>0){i.animations=[];for(let o=0;o<this.animations.length;o++){const l=this.animations[o];i.animations.push(s(e.animations,l))}}if(n){const o=a(e.geometries),l=a(e.materials),c=a(e.textures),u=a(e.images),f=a(e.shapes),d=a(e.skeletons),p=a(e.animations),v=a(e.nodes);o.length>0&&(r.geometries=o),l.length>0&&(r.materials=l),c.length>0&&(r.textures=c),u.length>0&&(r.images=u),f.length>0&&(r.shapes=f),d.length>0&&(r.skeletons=d),p.length>0&&(r.animations=p),v.length>0&&(r.nodes=v)}return r.object=i,r;function a(o){const l=[];for(const c in o){const u=o[c];delete u.metadata,l.push(u)}return l}}clone(e){return new this.constructor().copy(this,e)}copy(e,n=!0){if(this.name=e.name,this.up.copy(e.up),this.position.copy(e.position),this.rotation.order=e.rotation.order,this.quaternion.copy(e.quaternion),this.scale.copy(e.scale),this.matrix.copy(e.matrix),this.matrixWorld.copy(e.matrixWorld),this.matrixAutoUpdate=e.matrixAutoUpdate,this.matrixWorldNeedsUpdate=e.matrixWorldNeedsUpdate,this.matrixWorldAutoUpdate=e.matrixWorldAutoUpdate,this.layers.mask=e.layers.mask,this.visible=e.visible,this.castShadow=e.castShadow,this.receiveShadow=e.receiveShadow,this.frustumCulled=e.frustumCulled,this.renderOrder=e.renderOrder,this.animations=e.animations.slice(),this.userData=JSON.parse(JSON.stringify(e.userData)),n===!0)for(let r=0;r<e.children.length;r++){const i=e.children[r];this.add(i.clone())}return this}}an.DEFAULT_UP=new Z(0,1,0);an.DEFAULT_MATRIX_AUTO_UPDATE=!0;an.DEFAULT_MATRIX_WORLD_AUTO_UPDATE=!0;const ba=new Z,Lo=new Z,k2=new Z,Io=new Z,$f=new Z,Wf=new Z,mj=new Z,D2=new Z,U2=new Z,F2=new Z;let wy=!1;class Ki{constructor(e=new Z,n=new Z,r=new Z){this.a=e,this.b=n,this.c=r}static getNormal(e,n,r,i){i.subVectors(r,n),ba.subVectors(e,n),i.cross(ba);const s=i.lengthSq();return s>0?i.multiplyScalar(1/Math.sqrt(s)):i.set(0,0,0)}static getBarycoord(e,n,r,i,s){ba.subVectors(i,n),Lo.subVectors(r,n),k2.subVectors(e,n);const a=ba.dot(ba),o=ba.dot(Lo),l=ba.dot(k2),c=Lo.dot(Lo),u=Lo.dot(k2),f=a*c-o*o;if(f===0)return s.set(-2,-1,-1);const d=1/f,p=(c*l-o*u)*d,v=(a*u-o*l)*d;return s.set(1-p-v,v,p)}static containsPoint(e,n,r,i){return this.getBarycoord(e,n,r,i,Io),Io.x>=0&&Io.y>=0&&Io.x+Io.y<=1}static getUV(e,n,r,i,s,a,o,l){return wy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),wy=!0),this.getInterpolation(e,n,r,i,s,a,o,l)}static getInterpolation(e,n,r,i,s,a,o,l){return this.getBarycoord(e,n,r,i,Io),l.setScalar(0),l.addScaledVector(s,Io.x),l.addScaledVector(a,Io.y),l.addScaledVector(o,Io.z),l}static isFrontFacing(e,n,r,i){return ba.subVectors(r,n),Lo.subVectors(e,n),ba.cross(Lo).dot(i)<0}set(e,n,r){return this.a.copy(e),this.b.copy(n),this.c.copy(r),this}setFromPointsAndIndices(e,n,r,i){return this.a.copy(e[n]),this.b.copy(e[r]),this.c.copy(e[i]),this}setFromAttributeAndIndices(e,n,r,i){return this.a.fromBufferAttribute(e,n),this.b.fromBufferAttribute(e,r),this.c.fromBufferAttribute(e,i),this}clone(){return new this.constructor().copy(this)}copy(e){return this.a.copy(e.a),this.b.copy(e.b),this.c.copy(e.c),this}getArea(){return ba.subVectors(this.c,this.b),Lo.subVectors(this.a,this.b),ba.cross(Lo).length()*.5}getMidpoint(e){return e.addVectors(this.a,this.b).add(this.c).multiplyScalar(1/3)}getNormal(e){return Ki.getNormal(this.a,this.b,this.c,e)}getPlane(e){return e.setFromCoplanarPoints(this.a,this.b,this.c)}getBarycoord(e,n){return Ki.getBarycoord(e,this.a,this.b,this.c,n)}getUV(e,n,r,i,s){return wy===!1&&(console.warn("THREE.Triangle.getUV() has been renamed to THREE.Triangle.getInterpolation()."),wy=!0),Ki.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}getInterpolation(e,n,r,i,s){return Ki.getInterpolation(e,this.a,this.b,this.c,n,r,i,s)}containsPoint(e){return Ki.containsPoint(e,this.a,this.b,this.c)}isFrontFacing(e){return Ki.isFrontFacing(this.a,this.b,this.c,e)}intersectsBox(e){return e.intersectsTriangle(this)}closestPointToPoint(e,n){const r=this.a,i=this.b,s=this.c;let a,o;$f.subVectors(i,r),Wf.subVectors(s,r),D2.subVectors(e,r);const l=$f.dot(D2),c=Wf.dot(D2);if(l<=0&&c<=0)return n.copy(r);U2.subVectors(e,i);const u=$f.dot(U2),f=Wf.dot(U2);if(u>=0&&f<=u)return n.copy(i);const d=l*f-u*c;if(d<=0&&l>=0&&u<=0)return a=l/(l-u),n.copy(r).addScaledVector($f,a);F2.subVectors(e,s);const p=$f.dot(F2),v=Wf.dot(F2);if(v>=0&&p<=v)return n.copy(s);const b=p*c-l*v;if(b<=0&&c>=0&&v<=0)return o=c/(c-v),n.copy(r).addScaledVector(Wf,o);const x=u*v-p*f;if(x<=0&&f-u>=0&&p-v>=0)return mj.subVectors(s,i),o=(f-u)/(f-u+(p-v)),n.copy(i).addScaledVector(mj,o);const y=1/(x+b+d);return a=b*y,o=d*y,n.copy(r).addScaledVector($f,a).addScaledVector(Wf,o)}equals(e){return e.a.equals(this.a)&&e.b.equals(this.b)&&e.c.equals(this.c)}}let Bte=0;class Mi extends ml{constructor(){super(),this.isMaterial=!0,Object.defineProperty(this,"id",{value:Bte++}),this.uuid=Ns(),this.name="",this.type="Material",this.blending=Iu,this.side=ll,this.vertexColors=!1,this.opacity=1,this.transparent=!1,this.alphaHash=!1,this.blendSrc=tN,this.blendDst=nN,this.blendEquation=vu,this.blendSrcAlpha=null,this.blendDstAlpha=null,this.blendEquationAlpha=null,this.depthFunc=k1,this.depthTest=!0,this.depthWrite=!0,this.stencilWriteMask=255,this.stencilFunc=l8,this.stencilRef=0,this.stencilFuncMask=255,this.stencilFail=$x,this.stencilZFail=$x,this.stencilZPass=$x,this.stencilWrite=!1,this.clippingPlanes=null,this.clipIntersection=!1,this.clipShadows=!1,this.shadowSide=null,this.colorWrite=!0,this.precision=null,this.polygonOffset=!1,this.polygonOffsetFactor=0,this.polygonOffsetUnits=0,this.dithering=!1,this.alphaToCoverage=!1,this.premultipliedAlpha=!1,this.forceSinglePass=!1,this.visible=!0,this.toneMapped=!0,this.userData={},this.version=0,this._alphaTest=0}get alphaTest(){return this._alphaTest}set alphaTest(e){this._alphaTest>0!=e>0&&this.version++,this._alphaTest=e}onBuild(){}onBeforeRender(){}onBeforeCompile(){}customProgramCacheKey(){return this.onBeforeCompile.toString()}setValues(e){if(e!==void 0)for(const n in e){const r=e[n];if(r===void 0){console.warn(`THREE.Material: parameter '${n}' has value of undefined.`);continue}const i=this[n];if(i===void 0){console.warn(`THREE.Material: '${n}' is not a property of THREE.${this.type}.`);continue}i&&i.isColor?i.set(r):i&&i.isVector3&&r&&r.isVector3?i.copy(r):this[n]=r}}toJSON(e){const n=e===void 0||typeof e=="string";n&&(e={textures:{},images:{}});const r={metadata:{version:4.6,type:"Material",generator:"Material.toJSON"}};r.uuid=this.uuid,r.type=this.type,this.name!==""&&(r.name=this.name),this.color&&this.color.isColor&&(r.color=this.color.getHex()),this.roughness!==void 0&&(r.roughness=this.roughness),this.metalness!==void 0&&(r.metalness=this.metalness),this.sheen!==void 0&&(r.sheen=this.sheen),this.sheenColor&&this.sheenColor.isColor&&(r.sheenColor=this.sheenColor.getHex()),this.sheenRoughness!==void 0&&(r.sheenRoughness=this.sheenRoughness),this.emissive&&this.emissive.isColor&&(r.emissive=this.emissive.getHex()),this.emissiveIntensity&&this.emissiveIntensity!==1&&(r.emissiveIntensity=this.emissiveIntensity),this.specular&&this.specular.isColor&&(r.specular=this.specular.getHex()),this.specularIntensity!==void 0&&(r.specularIntensity=this.specularIntensity),this.specularColor&&this.specularColor.isColor&&(r.specularColor=this.specularColor.getHex()),this.shininess!==void 0&&(r.shininess=this.shininess),this.clearcoat!==void 0&&(r.clearcoat=this.clearcoat),this.clearcoatRoughness!==void 0&&(r.clearcoatRoughness=this.clearcoatRoughness),this.clearcoatMap&&this.clearcoatMap.isTexture&&(r.clearcoatMap=this.clearcoatMap.toJSON(e).uuid),this.clearcoatRoughnessMap&&this.clearcoatRoughnessMap.isTexture&&(r.clearcoatRoughnessMap=this.clearcoatRoughnessMap.toJSON(e).uuid),this.clearcoatNormalMap&&this.clearcoatNormalMap.isTexture&&(r.clearcoatNormalMap=this.clearcoatNormalMap.toJSON(e).uuid,r.clearcoatNormalScale=this.clearcoatNormalScale.toArray()),this.iridescence!==void 0&&(r.iridescence=this.iridescence),this.iridescenceIOR!==void 0&&(r.iridescenceIOR=this.iridescenceIOR),this.iridescenceThicknessRange!==void 0&&(r.iridescenceThicknessRange=this.iridescenceThicknessRange),this.iridescenceMap&&this.iridescenceMap.isTexture&&(r.iridescenceMap=this.iridescenceMap.toJSON(e).uuid),this.iridescenceThicknessMap&&this.iridescenceThicknessMap.isTexture&&(r.iridescenceThicknessMap=this.iridescenceThicknessMap.toJSON(e).uuid),this.anisotropy!==void 0&&(r.anisotropy=this.anisotropy),this.anisotropyRotation!==void 0&&(r.anisotropyRotation=this.anisotropyRotation),this.anisotropyMap&&this.anisotropyMap.isTexture&&(r.anisotropyMap=this.anisotropyMap.toJSON(e).uuid),this.map&&this.map.isTexture&&(r.map=this.map.toJSON(e).uuid),this.matcap&&this.matcap.isTexture&&(r.matcap=this.matcap.toJSON(e).uuid),this.alphaMap&&this.alphaMap.isTexture&&(r.alphaMap=this.alphaMap.toJSON(e).uuid),this.lightMap&&this.lightMap.isTexture&&(r.lightMap=this.lightMap.toJSON(e).uuid,r.lightMapIntensity=this.lightMapIntensity),this.aoMap&&this.aoMap.isTexture&&(r.aoMap=this.aoMap.toJSON(e).uuid,r.aoMapIntensity=this.aoMapIntensity),this.bumpMap&&this.bumpMap.isTexture&&(r.bumpMap=this.bumpMap.toJSON(e).uuid,r.bumpScale=this.bumpScale),this.normalMap&&this.normalMap.isTexture&&(r.normalMap=this.normalMap.toJSON(e).uuid,r.normalMapType=this.normalMapType,r.normalScale=this.normalScale.toArray()),this.displacementMap&&this.displacementMap.isTexture&&(r.displacementMap=this.displacementMap.toJSON(e).uuid,r.displacementScale=this.displacementScale,r.displacementBias=this.displacementBias),this.roughnessMap&&this.roughnessMap.isTexture&&(r.roughnessMap=this.roughnessMap.toJSON(e).uuid),this.metalnessMap&&this.metalnessMap.isTexture&&(r.metalnessMap=this.metalnessMap.toJSON(e).uuid),this.emissiveMap&&this.emissiveMap.isTexture&&(r.emissiveMap=this.emissiveMap.toJSON(e).uuid),this.specularMap&&this.specularMap.isTexture&&(r.specularMap=this.specularMap.toJSON(e).uuid),this.specularIntensityMap&&this.specularIntensityMap.isTexture&&(r.specularIntensityMap=this.specularIntensityMap.toJSON(e).uuid),this.specularColorMap&&this.specularColorMap.isTexture&&(r.specularColorMap=this.specularColorMap.toJSON(e).uuid),this.envMap&&this.envMap.isTexture&&(r.envMap=this.envMap.toJSON(e).uuid,this.combine!==void 0&&(r.combine=this.combine)),this.envMapIntensity!==void 0&&(r.envMapIntensity=this.envMapIntensity),this.reflectivity!==void 0&&(r.reflectivity=this.reflectivity),this.refractionRatio!==void 0&&(r.refractionRatio=this.refractionRatio),this.gradientMap&&this.gradientMap.isTexture&&(r.gradientMap=this.gradientMap.toJSON(e).uuid),this.transmission!==void 0&&(r.transmission=this.transmission),this.transmissionMap&&this.transmissionMap.isTexture&&(r.transmissionMap=this.transmissionMap.toJSON(e).uuid),this.thickness!==void 0&&(r.thickness=this.thickness),this.thicknessMap&&this.thicknessMap.isTexture&&(r.thicknessMap=this.thicknessMap.toJSON(e).uuid),this.attenuationDistance!==void 0&&this.attenuationDistance!==1/0&&(r.attenuationDistance=this.attenuationDistance),this.attenuationColor!==void 0&&(r.attenuationColor=this.attenuationColor.getHex()),this.size!==void 0&&(r.size=this.size),this.shadowSide!==null&&(r.shadowSide=this.shadowSide),this.sizeAttenuation!==void 0&&(r.sizeAttenuation=this.sizeAttenuation),this.blending!==Iu&&(r.blending=this.blending),this.side!==ll&&(r.side=this.side),this.vertexColors===!0&&(r.vertexColors=!0),this.opacity<1&&(r.opacity=this.opacity),this.transparent===!0&&(r.transparent=!0),r.depthFunc=this.depthFunc,r.depthTest=this.depthTest,r.depthWrite=this.depthWrite,r.colorWrite=this.colorWrite,r.stencilWrite=this.stencilWrite,r.stencilWriteMask=this.stencilWriteMask,r.stencilFunc=this.stencilFunc,r.stencilRef=this.stencilRef,r.stencilFuncMask=this.stencilFuncMask,r.stencilFail=this.stencilFail,r.stencilZFail=this.stencilZFail,r.stencilZPass=this.stencilZPass,this.rotation!==void 0&&this.rotation!==0&&(r.rotation=this.rotation),this.polygonOffset===!0&&(r.polygonOffset=!0),this.polygonOffsetFactor!==0&&(r.polygonOffsetFactor=this.polygonOffsetFactor),this.polygonOffsetUnits!==0&&(r.polygonOffsetUnits=this.polygonOffsetUnits),this.linewidth!==void 0&&this.linewidth!==1&&(r.linewidth=this.linewidth),this.dashSize!==void 0&&(r.dashSize=this.dashSize),this.gapSize!==void 0&&(r.gapSize=this.gapSize),this.scale!==void 0&&(r.scale=this.scale),this.dithering===!0&&(r.dithering=!0),this.alphaTest>0&&(r.alphaTest=this.alphaTest),this.alphaHash===!0&&(r.alphaHash=!0),this.alphaToCoverage===!0&&(r.alphaToCoverage=!0),this.premultipliedAlpha===!0&&(r.premultipliedAlpha=!0),this.forceSinglePass===!0&&(r.forceSinglePass=!0),this.wireframe===!0&&(r.wireframe=!0),this.wireframeLinewidth>1&&(r.wireframeLinewidth=this.wireframeLinewidth),this.wireframeLinecap!=="round"&&(r.wireframeLinecap=this.wireframeLinecap),this.wireframeLinejoin!=="round"&&(r.wireframeLinejoin=this.wireframeLinejoin),this.flatShading===!0&&(r.flatShading=!0),this.visible===!1&&(r.visible=!1),this.toneMapped===!1&&(r.toneMapped=!1),this.fog===!1&&(r.fog=!1),Object.keys(this.userData).length>0&&(r.userData=this.userData);function i(s){const a=[];for(const o in s){const l=s[o];delete l.metadata,a.push(l)}return a}if(n){const s=i(e.textures),a=i(e.images);s.length>0&&(r.textures=s),a.length>0&&(r.images=a)}return r}clone(){return new this.constructor().copy(this)}copy(e){this.name=e.name,this.blending=e.blending,this.side=e.side,this.vertexColors=e.vertexColors,this.opacity=e.opacity,this.transparent=e.transparent,this.blendSrc=e.blendSrc,this.blendDst=e.blendDst,this.blendEquation=e.blendEquation,this.blendSrcAlpha=e.blendSrcAlpha,this.blendDstAlpha=e.blendDstAlpha,this.blendEquationAlpha=e.blendEquationAlpha,this.depthFunc=e.depthFunc,this.depthTest=e.depthTest,this.depthWrite=e.depthWrite,this.stencilWriteMask=e.stencilWriteMask,this.stencilFunc=e.stencilFunc,this.stencilRef=e.stencilRef,this.stencilFuncMask=e.stencilFuncMask,this.stencilFail=e.stencilFail,this.stencilZFail=e.stencilZFail,this.stencilZPass=e.stencilZPass,this.stencilWrite=e.stencilWrite;const n=e.clippingPlanes;let r=null;if(n!==null){const i=n.length;r=new Array(i);for(let s=0;s!==i;++s)r[s]=n[s].clone()}return this.clippingPlanes=r,this.clipIntersection=e.clipIntersection,this.clipShadows=e.clipShadows,this.shadowSide=e.shadowSide,this.colorWrite=e.colorWrite,this.precision=e.precision,this.polygonOffset=e.polygonOffset,this.polygonOffsetFactor=e.polygonOffsetFactor,this.polygonOffsetUnits=e.polygonOffsetUnits,this.dithering=e.dithering,this.alphaTest=e.alphaTest,this.alphaHash=e.alphaHash,this.alphaToCoverage=e.alphaToCoverage,this.premultipliedAlpha=e.premultipliedAlpha,this.forceSinglePass=e.forceSinglePass,this.visible=e.visible,this.toneMapped=e.toneMapped,this.userData=JSON.parse(JSON.stringify(e.userData)),this}dispose(){this.dispatchEvent({type:"dispose"})}set needsUpdate(e){e===!0&&this.version++}}const _8={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074},jl={h:0,s:0,l:0},Sy={h:0,s:0,l:0};function B2(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*6*(2/3-n):t}let at=class{constructor(e,n,r){return this.isColor=!0,this.r=1,this.g=1,this.b=1,this.set(e,n,r)}set(e,n,r){if(n===void 0&&r===void 0){const i=e;i&&i.isColor?this.copy(i):typeof i=="number"?this.setHex(i):typeof i=="string"&&this.setStyle(i)}else this.setRGB(e,n,r);return this}setScalar(e){return this.r=e,this.g=e,this.b=e,this}setHex(e,n=Nr){return e=Math.floor(e),this.r=(e>>16&255)/255,this.g=(e>>8&255)/255,this.b=(e&255)/255,dn.toWorkingColorSpace(this,n),this}setRGB(e,n,r,i=dn.workingColorSpace){return this.r=e,this.g=n,this.b=r,dn.toWorkingColorSpace(this,i),this}setHSL(e,n,r,i=dn.workingColorSpace){if(e=pN(e,1),n=Zn(n,0,1),r=Zn(r,0,1),n===0)this.r=this.g=this.b=r;else{const s=r<=.5?r*(1+n):r+n-r*n,a=2*r-s;this.r=B2(a,s,e+1/3),this.g=B2(a,s,e),this.b=B2(a,s,e-1/3)}return dn.toWorkingColorSpace(this,i),this}setStyle(e,n=Nr){function r(s){s!==void 0&&parseFloat(s)<1&&console.warn("THREE.Color: Alpha component of "+e+" will be ignored.")}let i;if(i=/^(\w+)\(([^\)]*)\)/.exec(e)){let s;const a=i[1],o=i[2];switch(a){case"rgb":case"rgba":if(s=/^\s*(\d+)\s*,\s*(\d+)\s*,\s*(\d+)\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(255,parseInt(s[1],10))/255,Math.min(255,parseInt(s[2],10))/255,Math.min(255,parseInt(s[3],10))/255,n);if(s=/^\s*(\d+)\%\s*,\s*(\d+)\%\s*,\s*(\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setRGB(Math.min(100,parseInt(s[1],10))/100,Math.min(100,parseInt(s[2],10))/100,Math.min(100,parseInt(s[3],10))/100,n);break;case"hsl":case"hsla":if(s=/^\s*(\d*\.?\d+)\s*,\s*(\d*\.?\d+)\%\s*,\s*(\d*\.?\d+)\%\s*(?:,\s*(\d*\.?\d+)\s*)?$/.exec(o))return r(s[4]),this.setHSL(parseFloat(s[1])/360,parseFloat(s[2])/100,parseFloat(s[3])/100,n);break;default:console.warn("THREE.Color: Unknown color model "+e)}}else if(i=/^\#([A-Fa-f\d]+)$/.exec(e)){const s=i[1],a=s.length;if(a===3)return this.setRGB(parseInt(s.charAt(0),16)/15,parseInt(s.charAt(1),16)/15,parseInt(s.charAt(2),16)/15,n);if(a===6)return this.setHex(parseInt(s,16),n);console.warn("THREE.Color: Invalid hex color "+e)}else if(e&&e.length>0)return this.setColorName(e,n);return this}setColorName(e,n=Nr){const r=_8[e.toLowerCase()];return r!==void 0?this.setHex(r,n):console.warn("THREE.Color: Unknown color "+e),this}clone(){return new this.constructor(this.r,this.g,this.b)}copy(e){return this.r=e.r,this.g=e.g,this.b=e.b,this}copySRGBToLinear(e){return this.r=Xd(e.r),this.g=Xd(e.g),this.b=Xd(e.b),this}copyLinearToSRGB(e){return this.r=P2(e.r),this.g=P2(e.g),this.b=P2(e.b),this}convertSRGBToLinear(){return this.copySRGBToLinear(this),this}convertLinearToSRGB(){return this.copyLinearToSRGB(this),this}getHex(e=Nr){return dn.fromWorkingColorSpace(di.copy(this),e),Math.round(Zn(di.r*255,0,255))*65536+Math.round(Zn(di.g*255,0,255))*256+Math.round(Zn(di.b*255,0,255))}getHexString(e=Nr){return("000000"+this.getHex(e).toString(16)).slice(-6)}getHSL(e,n=dn.workingColorSpace){dn.fromWorkingColorSpace(di.copy(this),n);const r=di.r,i=di.g,s=di.b,a=Math.max(r,i,s),o=Math.min(r,i,s);let l,c;const u=(o+a)/2;if(o===a)l=0,c=0;else{const f=a-o;switch(c=u<=.5?f/(a+o):f/(2-a-o),a){case r:l=(i-s)/f+(i<s?6:0);break;case i:l=(s-r)/f+2;break;case s:l=(r-i)/f+4;break}l/=6}return e.h=l,e.s=c,e.l=u,e}getRGB(e,n=dn.workingColorSpace){return dn.fromWorkingColorSpace(di.copy(this),n),e.r=di.r,e.g=di.g,e.b=di.b,e}getStyle(e=Nr){dn.fromWorkingColorSpace(di.copy(this),e);const n=di.r,r=di.g,i=di.b;return e!==Nr?`color(${e} ${n.toFixed(3)} ${r.toFixed(3)} ${i.toFixed(3)})`:`rgb(${Math.round(n*255)},${Math.round(r*255)},${Math.round(i*255)})`}offsetHSL(e,n,r){return this.getHSL(jl),this.setHSL(jl.h+e,jl.s+n,jl.l+r)}add(e){return this.r+=e.r,this.g+=e.g,this.b+=e.b,this}addColors(e,n){return this.r=e.r+n.r,this.g=e.g+n.g,this.b=e.b+n.b,this}addScalar(e){return this.r+=e,this.g+=e,this.b+=e,this}sub(e){return this.r=Math.max(0,this.r-e.r),this.g=Math.max(0,this.g-e.g),this.b=Math.max(0,this.b-e.b),this}multiply(e){return this.r*=e.r,this.g*=e.g,this.b*=e.b,this}multiplyScalar(e){return this.r*=e,this.g*=e,this.b*=e,this}lerp(e,n){return this.r+=(e.r-this.r)*n,this.g+=(e.g-this.g)*n,this.b+=(e.b-this.b)*n,this}lerpColors(e,n,r){return this.r=e.r+(n.r-e.r)*r,this.g=e.g+(n.g-e.g)*r,this.b=e.b+(n.b-e.b)*r,this}lerpHSL(e,n){this.getHSL(jl),e.getHSL(Sy);const r=Dm(jl.h,Sy.h,n),i=Dm(jl.s,Sy.s,n),s=Dm(jl.l,Sy.l,n);return this.setHSL(r,i,s),this}setFromVector3(e){return this.r=e.x,this.g=e.y,this.b=e.z,this}applyMatrix3(e){const n=this.r,r=this.g,i=this.b,s=e.elements;return this.r=s[0]*n+s[3]*r+s[6]*i,this.g=s[1]*n+s[4]*r+s[7]*i,this.b=s[2]*n+s[5]*r+s[8]*i,this}equals(e){return e.r===this.r&&e.g===this.g&&e.b===this.b}fromArray(e,n=0){return this.r=e[n],this.g=e[n+1],this.b=e[n+2],this}toArray(e=[],n=0){return e[n]=this.r,e[n+1]=this.g,e[n+2]=this.b,e}fromBufferAttribute(e,n){return this.r=e.getX(n),this.g=e.getY(n),this.b=e.getZ(n),this}toJSON(){return this.getHex()}*[Symbol.iterator](){yield this.r,yield this.g,yield this.b}};const di=new at;at.NAMES=_8;class gl extends Mi{constructor(e){super(),this.isMeshBasicMaterial=!0,this.type="MeshBasicMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=I0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}const zo=zte();function zte(){const t=new ArrayBuffer(4),e=new Float32Array(t),n=new Uint32Array(t),r=new Uint32Array(512),i=new Uint32Array(512);for(let l=0;l<256;++l){const c=l-127;c<-27?(r[l]=0,r[l|256]=32768,i[l]=24,i[l|256]=24):c<-14?(r[l]=1024>>-c-14,r[l|256]=1024>>-c-14|32768,i[l]=-c-1,i[l|256]=-c-1):c<=15?(r[l]=c+15<<10,r[l|256]=c+15<<10|32768,i[l]=13,i[l|256]=13):c<128?(r[l]=31744,r[l|256]=64512,i[l]=24,i[l|256]=24):(r[l]=31744,r[l|256]=64512,i[l]=13,i[l|256]=13)}const s=new Uint32Array(2048),a=new Uint32Array(64),o=new Uint32Array(64);for(let l=1;l<1024;++l){let c=l<<13,u=0;for(;!(c&8388608);)c<<=1,u-=8388608;c&=-8388609,u+=947912704,s[l]=c|u}for(let l=1024;l<2048;++l)s[l]=939524096+(l-1024<<13);for(let l=1;l<31;++l)a[l]=l<<23;a[31]=1199570944,a[32]=2147483648;for(let l=33;l<63;++l)a[l]=2147483648+(l-32<<23);a[63]=3347054592;for(let l=1;l<64;++l)l!==32&&(o[l]=1024);return{floatView:e,uint32View:n,baseTable:r,shiftTable:i,mantissaTable:s,exponentTable:a,offsetTable:o}}function qi(t){Math.abs(t)>65504&&console.warn("THREE.DataUtils.toHalfFloat(): Value out of range."),t=Zn(t,-65504,65504),zo.floatView[0]=t;const e=zo.uint32View[0],n=e>>23&511;return zo.baseTable[n]+((e&8388607)>>zo.shiftTable[n])}function ym(t){const e=t>>10;return zo.uint32View[0]=zo.mantissaTable[zo.offsetTable[e]+(t&1023)]+zo.exponentTable[e],zo.floatView[0]}const Vte={toHalfFloat:qi,fromHalfFloat:ym},hr=new Z,My=new De;class fn{constructor(e,n,r=!1){if(Array.isArray(e))throw new TypeError("THREE.BufferAttribute: array should be a Typed Array.");this.isBufferAttribute=!0,this.name="",this.array=e,this.itemSize=n,this.count=e!==void 0?e.length/n:0,this.normalized=r,this.usage=Ag,this.updateRange={offset:0,count:-1},this.gpuType=Ra,this.version=0}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.name=e.name,this.array=new e.array.constructor(e.array),this.itemSize=e.itemSize,this.count=e.count,this.normalized=e.normalized,this.usage=e.usage,this.gpuType=e.gpuType,this}copyAt(e,n,r){e*=this.itemSize,r*=n.itemSize;for(let i=0,s=this.itemSize;i<s;i++)this.array[e+i]=n.array[r+i];return this}copyArray(e){return this.array.set(e),this}applyMatrix3(e){if(this.itemSize===2)for(let n=0,r=this.count;n<r;n++)My.fromBufferAttribute(this,n),My.applyMatrix3(e),this.setXY(n,My.x,My.y);else if(this.itemSize===3)for(let n=0,r=this.count;n<r;n++)hr.fromBufferAttribute(this,n),hr.applyMatrix3(e),this.setXYZ(n,hr.x,hr.y,hr.z);return this}applyMatrix4(e){for(let n=0,r=this.count;n<r;n++)hr.fromBufferAttribute(this,n),hr.applyMatrix4(e),this.setXYZ(n,hr.x,hr.y,hr.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)hr.fromBufferAttribute(this,n),hr.applyNormalMatrix(e),this.setXYZ(n,hr.x,hr.y,hr.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)hr.fromBufferAttribute(this,n),hr.transformDirection(e),this.setXYZ(n,hr.x,hr.y,hr.z);return this}set(e,n=0){return this.array.set(e,n),this}getComponent(e,n){let r=this.array[e*this.itemSize+n];return this.normalized&&(r=Ji(r,this.array)),r}setComponent(e,n,r){return this.normalized&&(r=Ut(r,this.array)),this.array[e*this.itemSize+n]=r,this}getX(e){let n=this.array[e*this.itemSize];return this.normalized&&(n=Ji(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize]=n,this}getY(e){let n=this.array[e*this.itemSize+1];return this.normalized&&(n=Ji(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+1]=n,this}getZ(e){let n=this.array[e*this.itemSize+2];return this.normalized&&(n=Ji(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+2]=n,this}getW(e){let n=this.array[e*this.itemSize+3];return this.normalized&&(n=Ji(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+3]=n,this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array)),this.array[e+0]=n,this.array[e+1]=r,this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array),s=Ut(s,this.array)),this.array[e+0]=n,this.array[e+1]=r,this.array[e+2]=i,this.array[e+3]=s,this}onUpload(e){return this.onUploadCallback=e,this}clone(){return new this.constructor(this.array,this.itemSize).copy(this)}toJSON(){const e={itemSize:this.itemSize,type:this.array.constructor.name,array:Array.from(this.array),normalized:this.normalized};return this.name!==""&&(e.name=this.name),this.usage!==Ag&&(e.usage=this.usage),(this.updateRange.offset!==0||this.updateRange.count!==-1)&&(e.updateRange=this.updateRange),e}}class Hte extends fn{constructor(e,n,r){super(new Int8Array(e),n,r)}}class $te extends fn{constructor(e,n,r){super(new Uint8Array(e),n,r)}}class Wte extends fn{constructor(e,n,r){super(new Uint8ClampedArray(e),n,r)}}class Gte extends fn{constructor(e,n,r){super(new Int16Array(e),n,r)}}class vN extends fn{constructor(e,n,r){super(new Uint16Array(e),n,r)}}class Xte extends fn{constructor(e,n,r){super(new Int32Array(e),n,r)}}class yN extends fn{constructor(e,n,r){super(new Uint32Array(e),n,r)}}class qte extends fn{constructor(e,n,r){super(new Uint16Array(e),n,r),this.isFloat16BufferAttribute=!0}getX(e){let n=ym(this.array[e*this.itemSize]);return this.normalized&&(n=Ji(n,this.array)),n}setX(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize]=qi(n),this}getY(e){let n=ym(this.array[e*this.itemSize+1]);return this.normalized&&(n=Ji(n,this.array)),n}setY(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+1]=qi(n),this}getZ(e){let n=ym(this.array[e*this.itemSize+2]);return this.normalized&&(n=Ji(n,this.array)),n}setZ(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+2]=qi(n),this}getW(e){let n=ym(this.array[e*this.itemSize+3]);return this.normalized&&(n=Ji(n,this.array)),n}setW(e,n){return this.normalized&&(n=Ut(n,this.array)),this.array[e*this.itemSize+3]=qi(n),this}setXY(e,n,r){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array)),this.array[e+0]=qi(n),this.array[e+1]=qi(r),this}setXYZ(e,n,r,i){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array)),this.array[e+0]=qi(n),this.array[e+1]=qi(r),this.array[e+2]=qi(i),this}setXYZW(e,n,r,i,s){return e*=this.itemSize,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array),s=Ut(s,this.array)),this.array[e+0]=qi(n),this.array[e+1]=qi(r),this.array[e+2]=qi(i),this.array[e+3]=qi(s),this}}class dt extends fn{constructor(e,n,r){super(new Float32Array(e),n,r)}}class Yte extends fn{constructor(e,n,r){super(new Float64Array(e),n,r)}}let Kte=0;const Gs=new Nt,z2=new an,Gf=new Z,_s=new fa,Gp=new fa,Vr=new Z;class Ht extends ml{constructor(){super(),this.isBufferGeometry=!0,Object.defineProperty(this,"id",{value:Kte++}),this.uuid=Ns(),this.name="",this.type="BufferGeometry",this.index=null,this.attributes={},this.morphAttributes={},this.morphTargetsRelative=!1,this.groups=[],this.boundingBox=null,this.boundingSphere=null,this.drawRange={start:0,count:1/0},this.userData={}}getIndex(){return this.index}setIndex(e){return Array.isArray(e)?this.index=new(y8(e)?yN:vN)(e,1):this.index=e,this}getAttribute(e){return this.attributes[e]}setAttribute(e,n){return this.attributes[e]=n,this}deleteAttribute(e){return delete this.attributes[e],this}hasAttribute(e){return this.attributes[e]!==void 0}addGroup(e,n,r=0){this.groups.push({start:e,count:n,materialIndex:r})}clearGroups(){this.groups=[]}setDrawRange(e,n){this.drawRange.start=e,this.drawRange.count=n}applyMatrix4(e){const n=this.attributes.position;n!==void 0&&(n.applyMatrix4(e),n.needsUpdate=!0);const r=this.attributes.normal;if(r!==void 0){const s=new Dt().getNormalMatrix(e);r.applyNormalMatrix(s),r.needsUpdate=!0}const i=this.attributes.tangent;return i!==void 0&&(i.transformDirection(e),i.needsUpdate=!0),this.boundingBox!==null&&this.computeBoundingBox(),this.boundingSphere!==null&&this.computeBoundingSphere(),this}applyQuaternion(e){return Gs.makeRotationFromQuaternion(e),this.applyMatrix4(Gs),this}rotateX(e){return Gs.makeRotationX(e),this.applyMatrix4(Gs),this}rotateY(e){return Gs.makeRotationY(e),this.applyMatrix4(Gs),this}rotateZ(e){return Gs.makeRotationZ(e),this.applyMatrix4(Gs),this}translate(e,n,r){return Gs.makeTranslation(e,n,r),this.applyMatrix4(Gs),this}scale(e,n,r){return Gs.makeScale(e,n,r),this.applyMatrix4(Gs),this}lookAt(e){return z2.lookAt(e),z2.updateMatrix(),this.applyMatrix4(z2.matrix),this}center(){return this.computeBoundingBox(),this.boundingBox.getCenter(Gf).negate(),this.translate(Gf.x,Gf.y,Gf.z),this}setFromPoints(e){const n=[];for(let r=0,i=e.length;r<i;r++){const s=e[r];n.push(s.x,s.y,s.z||0)}return this.setAttribute("position",new dt(n,3)),this}computeBoundingBox(){this.boundingBox===null&&(this.boundingBox=new fa);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingBox(): GLBufferAttribute requires a manual bounding box. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingBox.set(new Z(-1/0,-1/0,-1/0),new Z(1/0,1/0,1/0));return}if(e!==void 0){if(this.boundingBox.setFromBufferAttribute(e),n)for(let r=0,i=n.length;r<i;r++){const s=n[r];_s.setFromBufferAttribute(s),this.morphTargetsRelative?(Vr.addVectors(this.boundingBox.min,_s.min),this.boundingBox.expandByPoint(Vr),Vr.addVectors(this.boundingBox.max,_s.max),this.boundingBox.expandByPoint(Vr)):(this.boundingBox.expandByPoint(_s.min),this.boundingBox.expandByPoint(_s.max))}}else this.boundingBox.makeEmpty();(isNaN(this.boundingBox.min.x)||isNaN(this.boundingBox.min.y)||isNaN(this.boundingBox.min.z))&&console.error('THREE.BufferGeometry.computeBoundingBox(): Computed min/max have NaN values. The "position" attribute is likely to have NaN values.',this)}computeBoundingSphere(){this.boundingSphere===null&&(this.boundingSphere=new da);const e=this.attributes.position,n=this.morphAttributes.position;if(e&&e.isGLBufferAttribute){console.error('THREE.BufferGeometry.computeBoundingSphere(): GLBufferAttribute requires a manual bounding sphere. Alternatively set "mesh.frustumCulled" to "false".',this),this.boundingSphere.set(new Z,1/0);return}if(e){const r=this.boundingSphere.center;if(_s.setFromBufferAttribute(e),n)for(let s=0,a=n.length;s<a;s++){const o=n[s];Gp.setFromBufferAttribute(o),this.morphTargetsRelative?(Vr.addVectors(_s.min,Gp.min),_s.expandByPoint(Vr),Vr.addVectors(_s.max,Gp.max),_s.expandByPoint(Vr)):(_s.expandByPoint(Gp.min),_s.expandByPoint(Gp.max))}_s.getCenter(r);let i=0;for(let s=0,a=e.count;s<a;s++)Vr.fromBufferAttribute(e,s),i=Math.max(i,r.distanceToSquared(Vr));if(n)for(let s=0,a=n.length;s<a;s++){const o=n[s],l=this.morphTargetsRelative;for(let c=0,u=o.count;c<u;c++)Vr.fromBufferAttribute(o,c),l&&(Gf.fromBufferAttribute(e,c),Vr.add(Gf)),i=Math.max(i,r.distanceToSquared(Vr))}this.boundingSphere.radius=Math.sqrt(i),isNaN(this.boundingSphere.radius)&&console.error('THREE.BufferGeometry.computeBoundingSphere(): Computed radius is NaN. The "position" attribute is likely to have NaN values.',this)}}computeTangents(){const e=this.index,n=this.attributes;if(e===null||n.position===void 0||n.normal===void 0||n.uv===void 0){console.error("THREE.BufferGeometry: .computeTangents() failed. Missing required attributes (index, position, normal or uv)");return}const r=e.array,i=n.position.array,s=n.normal.array,a=n.uv.array,o=i.length/3;this.hasAttribute("tangent")===!1&&this.setAttribute("tangent",new fn(new Float32Array(4*o),4));const l=this.getAttribute("tangent").array,c=[],u=[];for(let R=0;R<o;R++)c[R]=new Z,u[R]=new Z;const f=new Z,d=new Z,p=new Z,v=new De,b=new De,x=new De,y=new Z,w=new Z;function _(R,L,O){f.fromArray(i,R*3),d.fromArray(i,L*3),p.fromArray(i,O*3),v.fromArray(a,R*2),b.fromArray(a,L*2),x.fromArray(a,O*2),d.sub(f),p.sub(f),b.sub(v),x.sub(v);const D=1/(b.x*x.y-x.x*b.y);isFinite(D)&&(y.copy(d).multiplyScalar(x.y).addScaledVector(p,-b.y).multiplyScalar(D),w.copy(p).multiplyScalar(b.x).addScaledVector(d,-x.x).multiplyScalar(D),c[R].add(y),c[L].add(y),c[O].add(y),u[R].add(w),u[L].add(w),u[O].add(w))}let S=this.groups;S.length===0&&(S=[{start:0,count:r.length}]);for(let R=0,L=S.length;R<L;++R){const O=S[R],D=O.start,I=O.count;for(let z=D,$=D+I;z<$;z+=3)_(r[z+0],r[z+1],r[z+2])}const M=new Z,E=new Z,A=new Z,C=new Z;function P(R){A.fromArray(s,R*3),C.copy(A);const L=c[R];M.copy(L),M.sub(A.multiplyScalar(A.dot(L))).normalize(),E.crossVectors(C,L);const D=E.dot(u[R])<0?-1:1;l[R*4]=M.x,l[R*4+1]=M.y,l[R*4+2]=M.z,l[R*4+3]=D}for(let R=0,L=S.length;R<L;++R){const O=S[R],D=O.start,I=O.count;for(let z=D,$=D+I;z<$;z+=3)P(r[z+0]),P(r[z+1]),P(r[z+2])}}computeVertexNormals(){const e=this.index,n=this.getAttribute("position");if(n!==void 0){let r=this.getAttribute("normal");if(r===void 0)r=new fn(new Float32Array(n.count*3),3),this.setAttribute("normal",r);else for(let d=0,p=r.count;d<p;d++)r.setXYZ(d,0,0,0);const i=new Z,s=new Z,a=new Z,o=new Z,l=new Z,c=new Z,u=new Z,f=new Z;if(e)for(let d=0,p=e.count;d<p;d+=3){const v=e.getX(d+0),b=e.getX(d+1),x=e.getX(d+2);i.fromBufferAttribute(n,v),s.fromBufferAttribute(n,b),a.fromBufferAttribute(n,x),u.subVectors(a,s),f.subVectors(i,s),u.cross(f),o.fromBufferAttribute(r,v),l.fromBufferAttribute(r,b),c.fromBufferAttribute(r,x),o.add(u),l.add(u),c.add(u),r.setXYZ(v,o.x,o.y,o.z),r.setXYZ(b,l.x,l.y,l.z),r.setXYZ(x,c.x,c.y,c.z)}else for(let d=0,p=n.count;d<p;d+=3)i.fromBufferAttribute(n,d+0),s.fromBufferAttribute(n,d+1),a.fromBufferAttribute(n,d+2),u.subVectors(a,s),f.subVectors(i,s),u.cross(f),r.setXYZ(d+0,u.x,u.y,u.z),r.setXYZ(d+1,u.x,u.y,u.z),r.setXYZ(d+2,u.x,u.y,u.z);this.normalizeNormals(),r.needsUpdate=!0}}normalizeNormals(){const e=this.attributes.normal;for(let n=0,r=e.count;n<r;n++)Vr.fromBufferAttribute(e,n),Vr.normalize(),e.setXYZ(n,Vr.x,Vr.y,Vr.z)}toNonIndexed(){function e(o,l){const c=o.array,u=o.itemSize,f=o.normalized,d=new c.constructor(l.length*u);let p=0,v=0;for(let b=0,x=l.length;b<x;b++){o.isInterleavedBufferAttribute?p=l[b]*o.data.stride+o.offset:p=l[b]*u;for(let y=0;y<u;y++)d[v++]=c[p++]}return new fn(d,u,f)}if(this.index===null)return console.warn("THREE.BufferGeometry.toNonIndexed(): BufferGeometry is already non-indexed."),this;const n=new Ht,r=this.index.array,i=this.attributes;for(const o in i){const l=i[o],c=e(l,r);n.setAttribute(o,c)}const s=this.morphAttributes;for(const o in s){const l=[],c=s[o];for(let u=0,f=c.length;u<f;u++){const d=c[u],p=e(d,r);l.push(p)}n.morphAttributes[o]=l}n.morphTargetsRelative=this.morphTargetsRelative;const a=this.groups;for(let o=0,l=a.length;o<l;o++){const c=a[o];n.addGroup(c.start,c.count,c.materialIndex)}return n}toJSON(){const e={metadata:{version:4.6,type:"BufferGeometry",generator:"BufferGeometry.toJSON"}};if(e.uuid=this.uuid,e.type=this.type,this.name!==""&&(e.name=this.name),Object.keys(this.userData).length>0&&(e.userData=this.userData),this.parameters!==void 0){const l=this.parameters;for(const c in l)l[c]!==void 0&&(e[c]=l[c]);return e}e.data={attributes:{}};const n=this.index;n!==null&&(e.data.index={type:n.array.constructor.name,array:Array.prototype.slice.call(n.array)});const r=this.attributes;for(const l in r){const c=r[l];e.data.attributes[l]=c.toJSON(e.data)}const i={};let s=!1;for(const l in this.morphAttributes){const c=this.morphAttributes[l],u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f];u.push(p.toJSON(e.data))}u.length>0&&(i[l]=u,s=!0)}s&&(e.data.morphAttributes=i,e.data.morphTargetsRelative=this.morphTargetsRelative);const a=this.groups;a.length>0&&(e.data.groups=JSON.parse(JSON.stringify(a)));const o=this.boundingSphere;return o!==null&&(e.data.boundingSphere={center:o.center.toArray(),radius:o.radius}),e}clone(){return new this.constructor().copy(this)}copy(e){this.index=null,this.attributes={},this.morphAttributes={},this.groups=[],this.boundingBox=null,this.boundingSphere=null;const n={};this.name=e.name;const r=e.index;r!==null&&this.setIndex(r.clone(n));const i=e.attributes;for(const c in i){const u=i[c];this.setAttribute(c,u.clone(n))}const s=e.morphAttributes;for(const c in s){const u=[],f=s[c];for(let d=0,p=f.length;d<p;d++)u.push(f[d].clone(n));this.morphAttributes[c]=u}this.morphTargetsRelative=e.morphTargetsRelative;const a=e.groups;for(let c=0,u=a.length;c<u;c++){const f=a[c];this.addGroup(f.start,f.count,f.materialIndex)}const o=e.boundingBox;o!==null&&(this.boundingBox=o.clone());const l=e.boundingSphere;return l!==null&&(this.boundingSphere=l.clone()),this.drawRange.start=e.drawRange.start,this.drawRange.count=e.drawRange.count,this.userData=e.userData,this}dispose(){this.dispatchEvent({type:"dispose"})}}const gj=new Nt,Qc=new uf,Ey=new da,vj=new Z,Xf=new Z,qf=new Z,Yf=new Z,V2=new Z,Ty=new Z,Ay=new De,Py=new De,Cy=new De,yj=new Z,xj=new Z,bj=new Z,Ny=new Z,Ry=new Z;class vr extends an{constructor(e=new Ht,n=new gl){super(),this.isMesh=!0,this.type="Mesh",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),e.morphTargetInfluences!==void 0&&(this.morphTargetInfluences=e.morphTargetInfluences.slice()),e.morphTargetDictionary!==void 0&&(this.morphTargetDictionary=Object.assign({},e.morphTargetDictionary)),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}getVertexPosition(e,n){const r=this.geometry,i=r.attributes.position,s=r.morphAttributes.position,a=r.morphTargetsRelative;n.fromBufferAttribute(i,e);const o=this.morphTargetInfluences;if(s&&o){Ty.set(0,0,0);for(let l=0,c=s.length;l<c;l++){const u=o[l],f=s[l];u!==0&&(V2.fromBufferAttribute(f,e),a?Ty.addScaledVector(V2,u):Ty.addScaledVector(V2.sub(n),u))}n.add(Ty)}return n}raycast(e,n){const r=this.geometry,i=this.material,s=this.matrixWorld;i!==void 0&&(r.boundingSphere===null&&r.computeBoundingSphere(),Ey.copy(r.boundingSphere),Ey.applyMatrix4(s),Qc.copy(e.ray).recast(e.near),!(Ey.containsPoint(Qc.origin)===!1&&(Qc.intersectSphere(Ey,vj)===null||Qc.origin.distanceToSquared(vj)>(e.far-e.near)**2))&&(gj.copy(s).invert(),Qc.copy(e.ray).applyMatrix4(gj),!(r.boundingBox!==null&&Qc.intersectsBox(r.boundingBox)===!1)&&this._computeIntersections(e,n,Qc)))}_computeIntersections(e,n,r){let i;const s=this.geometry,a=this.material,o=s.index,l=s.attributes.position,c=s.attributes.uv,u=s.attributes.uv1,f=s.attributes.normal,d=s.groups,p=s.drawRange;if(o!==null)if(Array.isArray(a))for(let v=0,b=d.length;v<b;v++){const x=d[v],y=a[x.materialIndex],w=Math.max(x.start,p.start),_=Math.min(o.count,Math.min(x.start+x.count,p.start+p.count));for(let S=w,M=_;S<M;S+=3){const E=o.getX(S),A=o.getX(S+1),C=o.getX(S+2);i=Oy(this,y,e,r,c,u,f,E,A,C),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const v=Math.max(0,p.start),b=Math.min(o.count,p.start+p.count);for(let x=v,y=b;x<y;x+=3){const w=o.getX(x),_=o.getX(x+1),S=o.getX(x+2);i=Oy(this,a,e,r,c,u,f,w,_,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}else if(l!==void 0)if(Array.isArray(a))for(let v=0,b=d.length;v<b;v++){const x=d[v],y=a[x.materialIndex],w=Math.max(x.start,p.start),_=Math.min(l.count,Math.min(x.start+x.count,p.start+p.count));for(let S=w,M=_;S<M;S+=3){const E=S,A=S+1,C=S+2;i=Oy(this,y,e,r,c,u,f,E,A,C),i&&(i.faceIndex=Math.floor(S/3),i.face.materialIndex=x.materialIndex,n.push(i))}}else{const v=Math.max(0,p.start),b=Math.min(l.count,p.start+p.count);for(let x=v,y=b;x<y;x+=3){const w=x,_=x+1,S=x+2;i=Oy(this,a,e,r,c,u,f,w,_,S),i&&(i.faceIndex=Math.floor(x/3),n.push(i))}}}}function Zte(t,e,n,r,i,s,a,o){let l;if(e.side===bi?l=r.intersectTriangle(a,s,i,!0,o):l=r.intersectTriangle(i,s,a,e.side===ll,o),l===null)return null;Ry.copy(o),Ry.applyMatrix4(t.matrixWorld);const c=n.ray.origin.distanceTo(Ry);return c<n.near||c>n.far?null:{distance:c,point:Ry.clone(),object:t}}function Oy(t,e,n,r,i,s,a,o,l,c){t.getVertexPosition(o,Xf),t.getVertexPosition(l,qf),t.getVertexPosition(c,Yf);const u=Zte(t,e,n,r,Xf,qf,Yf,Ny);if(u){i&&(Ay.fromBufferAttribute(i,o),Py.fromBufferAttribute(i,l),Cy.fromBufferAttribute(i,c),u.uv=Ki.getInterpolation(Ny,Xf,qf,Yf,Ay,Py,Cy,new De)),s&&(Ay.fromBufferAttribute(s,o),Py.fromBufferAttribute(s,l),Cy.fromBufferAttribute(s,c),u.uv1=Ki.getInterpolation(Ny,Xf,qf,Yf,Ay,Py,Cy,new De),u.uv2=u.uv1),a&&(yj.fromBufferAttribute(a,o),xj.fromBufferAttribute(a,l),bj.fromBufferAttribute(a,c),u.normal=Ki.getInterpolation(Ny,Xf,qf,Yf,yj,xj,bj,new Z),u.normal.dot(r.direction)>0&&u.normal.multiplyScalar(-1));const f={a:o,b:l,c,normal:new Z,materialIndex:0};Ki.getNormal(Xf,qf,Yf,f.normal),u.face=f}return u}class ff extends Ht{constructor(e=1,n=1,r=1,i=1,s=1,a=1){super(),this.type="BoxGeometry",this.parameters={width:e,height:n,depth:r,widthSegments:i,heightSegments:s,depthSegments:a};const o=this;i=Math.floor(i),s=Math.floor(s),a=Math.floor(a);const l=[],c=[],u=[],f=[];let d=0,p=0;v("z","y","x",-1,-1,r,n,e,a,s,0),v("z","y","x",1,-1,r,n,-e,a,s,1),v("x","z","y",1,1,e,r,n,i,a,2),v("x","z","y",1,-1,e,r,-n,i,a,3),v("x","y","z",1,-1,e,n,r,i,s,4),v("x","y","z",-1,-1,e,n,-r,i,s,5),this.setIndex(l),this.setAttribute("position",new dt(c,3)),this.setAttribute("normal",new dt(u,3)),this.setAttribute("uv",new dt(f,2));function v(b,x,y,w,_,S,M,E,A,C,P){const R=S/A,L=M/C,O=S/2,D=M/2,I=E/2,z=A+1,$=C+1;let q=0,V=0;const U=new Z;for(let W=0;W<$;W++){const k=W*L-D;for(let H=0;H<z;H++){const K=H*R-O;U[b]=K*w,U[x]=k*_,U[y]=I,c.push(U.x,U.y,U.z),U[b]=0,U[x]=0,U[y]=E>0?1:-1,u.push(U.x,U.y,U.z),f.push(H/A),f.push(1-W/C),q+=1}}for(let W=0;W<C;W++)for(let k=0;k<A;k++){const H=d+k+z*W,K=d+k+z*(W+1),ne=d+(k+1)+z*(W+1),te=d+(k+1)+z*W;l.push(H,K,te),l.push(K,ne,te),V+=6}o.addGroup(p,V,P),p+=V,d+=q}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new ff(e.width,e.height,e.depth,e.widthSegments,e.heightSegments,e.depthSegments)}}function fh(t){const e={};for(const n in t){e[n]={};for(const r in t[n]){const i=t[n][r];i&&(i.isColor||i.isMatrix3||i.isMatrix4||i.isVector2||i.isVector3||i.isVector4||i.isTexture||i.isQuaternion)?i.isRenderTargetTexture?(console.warn("UniformsUtils: Textures of render targets cannot be cloned via cloneUniforms() or mergeUniforms()."),e[n][r]=null):e[n][r]=i.clone():Array.isArray(i)?e[n][r]=i.slice():e[n][r]=i}}return e}function Li(t){const e={};for(let n=0;n<t.length;n++){const r=fh(t[n]);for(const i in r)e[i]=r[i]}return e}function Jte(t){const e=[];for(let n=0;n<t.length;n++)e.push(t[n].clone());return e}function w8(t){return t.getRenderTarget()===null?t.outputColorSpace:dn.workingColorSpace}const xN={clone:fh,merge:Li};var Qte=`void main() {
	gl_Position = projectionMatrix * modelViewMatrix * vec4( position, 1.0 );
}`,ene=`void main() {
	gl_FragColor = vec4( 1.0, 0.0, 0.0, 1.0 );
}`;class ca extends Mi{constructor(e){super(),this.isShaderMaterial=!0,this.type="ShaderMaterial",this.defines={},this.uniforms={},this.uniformsGroups=[],this.vertexShader=Qte,this.fragmentShader=ene,this.linewidth=1,this.wireframe=!1,this.wireframeLinewidth=1,this.fog=!1,this.lights=!1,this.clipping=!1,this.forceSinglePass=!0,this.extensions={derivatives:!1,fragDepth:!1,drawBuffers:!1,shaderTextureLOD:!1},this.defaultAttributeValues={color:[1,1,1],uv:[0,0],uv1:[0,0]},this.index0AttributeName=void 0,this.uniformsNeedUpdate=!1,this.glslVersion=null,e!==void 0&&this.setValues(e)}copy(e){return super.copy(e),this.fragmentShader=e.fragmentShader,this.vertexShader=e.vertexShader,this.uniforms=fh(e.uniforms),this.uniformsGroups=Jte(e.uniformsGroups),this.defines=Object.assign({},e.defines),this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.fog=e.fog,this.lights=e.lights,this.clipping=e.clipping,this.extensions=Object.assign({},e.extensions),this.glslVersion=e.glslVersion,this}toJSON(e){const n=super.toJSON(e);n.glslVersion=this.glslVersion,n.uniforms={};for(const i in this.uniforms){const a=this.uniforms[i].value;a&&a.isTexture?n.uniforms[i]={type:"t",value:a.toJSON(e).uuid}:a&&a.isColor?n.uniforms[i]={type:"c",value:a.getHex()}:a&&a.isVector2?n.uniforms[i]={type:"v2",value:a.toArray()}:a&&a.isVector3?n.uniforms[i]={type:"v3",value:a.toArray()}:a&&a.isVector4?n.uniforms[i]={type:"v4",value:a.toArray()}:a&&a.isMatrix3?n.uniforms[i]={type:"m3",value:a.toArray()}:a&&a.isMatrix4?n.uniforms[i]={type:"m4",value:a.toArray()}:n.uniforms[i]={value:a}}Object.keys(this.defines).length>0&&(n.defines=this.defines),n.vertexShader=this.vertexShader,n.fragmentShader=this.fragmentShader,n.lights=this.lights,n.clipping=this.clipping;const r={};for(const i in this.extensions)this.extensions[i]===!0&&(r[i]=!0);return Object.keys(r).length>0&&(n.extensions=r),n}}let D0=class extends an{constructor(){super(),this.isCamera=!0,this.type="Camera",this.matrixWorldInverse=new Nt,this.projectionMatrix=new Nt,this.projectionMatrixInverse=new Nt,this.coordinateSystem=to}copy(e,n){return super.copy(e,n),this.matrixWorldInverse.copy(e.matrixWorldInverse),this.projectionMatrix.copy(e.projectionMatrix),this.projectionMatrixInverse.copy(e.projectionMatrixInverse),this.coordinateSystem=e.coordinateSystem,this}getWorldDirection(e){return super.getWorldDirection(e).negate()}updateMatrixWorld(e){super.updateMatrixWorld(e),this.matrixWorldInverse.copy(this.matrixWorld).invert()}updateWorldMatrix(e,n){super.updateWorldMatrix(e,n),this.matrixWorldInverse.copy(this.matrixWorld).invert()}clone(){return new this.constructor().copy(this)}},or=class extends D0{constructor(e=50,n=1,r=.1,i=2e3){super(),this.isPerspectiveCamera=!0,this.type="PerspectiveCamera",this.fov=e,this.zoom=1,this.near=r,this.far=i,this.focus=10,this.aspect=n,this.view=null,this.filmGauge=35,this.filmOffset=0,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.fov=e.fov,this.zoom=e.zoom,this.near=e.near,this.far=e.far,this.focus=e.focus,this.aspect=e.aspect,this.view=e.view===null?null:Object.assign({},e.view),this.filmGauge=e.filmGauge,this.filmOffset=e.filmOffset,this}setFocalLength(e){const n=.5*this.getFilmHeight()/e;this.fov=uh*2*Math.atan(n),this.updateProjectionMatrix()}getFocalLength(){const e=Math.tan(ju*.5*this.fov);return .5*this.getFilmHeight()/e}getEffectiveFOV(){return uh*2*Math.atan(Math.tan(ju*.5*this.fov)/this.zoom)}getFilmWidth(){return this.filmGauge*Math.min(this.aspect,1)}getFilmHeight(){return this.filmGauge/Math.max(this.aspect,1)}setViewOffset(e,n,r,i,s,a){this.aspect=e/n,this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=this.near;let n=e*Math.tan(ju*.5*this.fov)/this.zoom,r=2*n,i=this.aspect*r,s=-.5*i;const a=this.view;if(this.view!==null&&this.view.enabled){const l=a.fullWidth,c=a.fullHeight;s+=a.offsetX*i/l,n-=a.offsetY*r/c,i*=a.width/l,r*=a.height/c}const o=this.filmOffset;o!==0&&(s+=e*o/this.getFilmWidth()),this.projectionMatrix.makePerspective(s,s+i,n,n-r,e,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.fov=this.fov,n.object.zoom=this.zoom,n.object.near=this.near,n.object.far=this.far,n.object.focus=this.focus,n.object.aspect=this.aspect,this.view!==null&&(n.object.view=Object.assign({},this.view)),n.object.filmGauge=this.filmGauge,n.object.filmOffset=this.filmOffset,n}};const Kf=-90,Zf=1;class S8 extends an{constructor(e,n,r){super(),this.type="CubeCamera",this.renderTarget=r,this.coordinateSystem=null,this.activeMipmapLevel=0;const i=new or(Kf,Zf,e,n);i.layers=this.layers,this.add(i);const s=new or(Kf,Zf,e,n);s.layers=this.layers,this.add(s);const a=new or(Kf,Zf,e,n);a.layers=this.layers,this.add(a);const o=new or(Kf,Zf,e,n);o.layers=this.layers,this.add(o);const l=new or(Kf,Zf,e,n);l.layers=this.layers,this.add(l);const c=new or(Kf,Zf,e,n);c.layers=this.layers,this.add(c)}updateCoordinateSystem(){const e=this.coordinateSystem,n=this.children.concat(),[r,i,s,a,o,l]=n;for(const c of n)this.remove(c);if(e===to)r.up.set(0,1,0),r.lookAt(1,0,0),i.up.set(0,1,0),i.lookAt(-1,0,0),s.up.set(0,0,-1),s.lookAt(0,1,0),a.up.set(0,0,1),a.lookAt(0,-1,0),o.up.set(0,1,0),o.lookAt(0,0,1),l.up.set(0,1,0),l.lookAt(0,0,-1);else if(e===Pg)r.up.set(0,-1,0),r.lookAt(-1,0,0),i.up.set(0,-1,0),i.lookAt(1,0,0),s.up.set(0,0,1),s.lookAt(0,1,0),a.up.set(0,0,-1),a.lookAt(0,-1,0),o.up.set(0,-1,0),o.lookAt(0,0,1),l.up.set(0,-1,0),l.lookAt(0,0,-1);else throw new Error("THREE.CubeCamera.updateCoordinateSystem(): Invalid coordinate system: "+e);for(const c of n)this.add(c),c.updateMatrixWorld()}update(e,n){this.parent===null&&this.updateMatrixWorld();const{renderTarget:r,activeMipmapLevel:i}=this;this.coordinateSystem!==e.coordinateSystem&&(this.coordinateSystem=e.coordinateSystem,this.updateCoordinateSystem());const[s,a,o,l,c,u]=this.children,f=e.getRenderTarget(),d=e.getActiveCubeFace(),p=e.getActiveMipmapLevel(),v=e.xr.enabled;e.xr.enabled=!1;const b=r.texture.generateMipmaps;r.texture.generateMipmaps=!1,e.setRenderTarget(r,0,i),e.render(n,s),e.setRenderTarget(r,1,i),e.render(n,a),e.setRenderTarget(r,2,i),e.render(n,o),e.setRenderTarget(r,3,i),e.render(n,l),e.setRenderTarget(r,4,i),e.render(n,c),r.texture.generateMipmaps=b,e.setRenderTarget(r,5,i),e.render(n,u),e.setRenderTarget(f,d,p),e.xr.enabled=v,r.texture.needsPMREMUpdate=!0}}class U0 extends Qn{constructor(e,n,r,i,s,a,o,l,c,u){e=e!==void 0?e:[],n=n!==void 0?n:cl,super(e,n,r,i,s,a,o,l,c,u),this.isCubeTexture=!0,this.flipY=!1}get images(){return this.image}set images(e){this.image=e}}class M8 extends la{constructor(e=1,n={}){super(e,e,n),this.isWebGLCubeRenderTarget=!0;const r={width:e,height:e,depth:1},i=[r,r,r,r,r,r];n.encoding!==void 0&&(Um("THREE.WebGLCubeRenderTarget: option.encoding has been replaced by option.colorSpace."),n.colorSpace=n.encoding===lc?Nr:Ts),this.texture=new U0(i,n.mapping,n.wrapS,n.wrapT,n.magFilter,n.minFilter,n.format,n.type,n.anisotropy,n.colorSpace),this.texture.isRenderTargetTexture=!0,this.texture.generateMipmaps=n.generateMipmaps!==void 0?n.generateMipmaps:!1,this.texture.minFilter=n.minFilter!==void 0?n.minFilter:Rn}fromEquirectangularTexture(e,n){this.texture.type=n.type,this.texture.colorSpace=n.colorSpace,this.texture.generateMipmaps=n.generateMipmaps,this.texture.minFilter=n.minFilter,this.texture.magFilter=n.magFilter;const r={uniforms:{tEquirect:{value:null}},vertexShader:`

				varying vec3 vWorldDirection;

				vec3 transformDirection( in vec3 dir, in mat4 matrix ) {

					return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );

				}

				void main() {

					vWorldDirection = transformDirection( position, modelMatrix );

					#include <begin_vertex>
					#include <project_vertex>

				}
			`,fragmentShader:`

				uniform sampler2D tEquirect;

				varying vec3 vWorldDirection;

				#include <common>

				void main() {

					vec3 direction = normalize( vWorldDirection );

					vec2 sampleUV = equirectUv( direction );

					gl_FragColor = texture2D( tEquirect, sampleUV );

				}
			`},i=new ff(5,5,5),s=new ca({name:"CubemapFromEquirect",uniforms:fh(r.uniforms),vertexShader:r.vertexShader,fragmentShader:r.fragmentShader,side:bi,blending:Jo});s.uniforms.tEquirect.value=n;const a=new vr(i,s),o=n.minFilter;return n.minFilter===vc&&(n.minFilter=Rn),new S8(1,10,this).update(e,a),n.minFilter=o,a.geometry.dispose(),a.material.dispose(),this}clear(e,n,r,i){const s=e.getRenderTarget();for(let a=0;a<6;a++)e.setRenderTarget(this,a),e.clear(n,r,i);e.setRenderTarget(s)}}const H2=new Z,tne=new Z,nne=new Dt;let Bo=class{constructor(e=new Z(1,0,0),n=0){this.isPlane=!0,this.normal=e,this.constant=n}set(e,n){return this.normal.copy(e),this.constant=n,this}setComponents(e,n,r,i){return this.normal.set(e,n,r),this.constant=i,this}setFromNormalAndCoplanarPoint(e,n){return this.normal.copy(e),this.constant=-n.dot(this.normal),this}setFromCoplanarPoints(e,n,r){const i=H2.subVectors(r,n).cross(tne.subVectors(e,n)).normalize();return this.setFromNormalAndCoplanarPoint(i,e),this}copy(e){return this.normal.copy(e.normal),this.constant=e.constant,this}normalize(){const e=1/this.normal.length();return this.normal.multiplyScalar(e),this.constant*=e,this}negate(){return this.constant*=-1,this.normal.negate(),this}distanceToPoint(e){return this.normal.dot(e)+this.constant}distanceToSphere(e){return this.distanceToPoint(e.center)-e.radius}projectPoint(e,n){return n.copy(e).addScaledVector(this.normal,-this.distanceToPoint(e))}intersectLine(e,n){const r=e.delta(H2),i=this.normal.dot(r);if(i===0)return this.distanceToPoint(e.start)===0?n.copy(e.start):null;const s=-(e.start.dot(this.normal)+this.constant)/i;return s<0||s>1?null:n.copy(e.start).addScaledVector(r,s)}intersectsLine(e){const n=this.distanceToPoint(e.start),r=this.distanceToPoint(e.end);return n<0&&r>0||r<0&&n>0}intersectsBox(e){return e.intersectsPlane(this)}intersectsSphere(e){return e.intersectsPlane(this)}coplanarPoint(e){return e.copy(this.normal).multiplyScalar(-this.constant)}applyMatrix4(e,n){const r=n||nne.getNormalMatrix(e),i=this.coplanarPoint(H2).applyMatrix4(e),s=this.normal.applyMatrix3(r).normalize();return this.constant=-i.dot(s),this}translate(e){return this.constant-=e.dot(this.normal),this}equals(e){return e.normal.equals(this.normal)&&e.constant===this.constant}clone(){return new this.constructor().copy(this)}};const eu=new da,Ly=new Z;class A_{constructor(e=new Bo,n=new Bo,r=new Bo,i=new Bo,s=new Bo,a=new Bo){this.planes=[e,n,r,i,s,a]}set(e,n,r,i,s,a){const o=this.planes;return o[0].copy(e),o[1].copy(n),o[2].copy(r),o[3].copy(i),o[4].copy(s),o[5].copy(a),this}copy(e){const n=this.planes;for(let r=0;r<6;r++)n[r].copy(e.planes[r]);return this}setFromProjectionMatrix(e,n=to){const r=this.planes,i=e.elements,s=i[0],a=i[1],o=i[2],l=i[3],c=i[4],u=i[5],f=i[6],d=i[7],p=i[8],v=i[9],b=i[10],x=i[11],y=i[12],w=i[13],_=i[14],S=i[15];if(r[0].setComponents(l-s,d-c,x-p,S-y).normalize(),r[1].setComponents(l+s,d+c,x+p,S+y).normalize(),r[2].setComponents(l+a,d+u,x+v,S+w).normalize(),r[3].setComponents(l-a,d-u,x-v,S-w).normalize(),r[4].setComponents(l-o,d-f,x-b,S-_).normalize(),n===to)r[5].setComponents(l+o,d+f,x+b,S+_).normalize();else if(n===Pg)r[5].setComponents(o,f,b,_).normalize();else throw new Error("THREE.Frustum.setFromProjectionMatrix(): Invalid coordinate system: "+n);return this}intersectsObject(e){if(e.boundingSphere!==void 0)e.boundingSphere===null&&e.computeBoundingSphere(),eu.copy(e.boundingSphere).applyMatrix4(e.matrixWorld);else{const n=e.geometry;n.boundingSphere===null&&n.computeBoundingSphere(),eu.copy(n.boundingSphere).applyMatrix4(e.matrixWorld)}return this.intersectsSphere(eu)}intersectsSprite(e){return eu.center.set(0,0,0),eu.radius=.7071067811865476,eu.applyMatrix4(e.matrixWorld),this.intersectsSphere(eu)}intersectsSphere(e){const n=this.planes,r=e.center,i=-e.radius;for(let s=0;s<6;s++)if(n[s].distanceToPoint(r)<i)return!1;return!0}intersectsBox(e){const n=this.planes;for(let r=0;r<6;r++){const i=n[r];if(Ly.x=i.normal.x>0?e.max.x:e.min.x,Ly.y=i.normal.y>0?e.max.y:e.min.y,Ly.z=i.normal.z>0?e.max.z:e.min.z,i.distanceToPoint(Ly)<0)return!1}return!0}containsPoint(e){const n=this.planes;for(let r=0;r<6;r++)if(n[r].distanceToPoint(e)<0)return!1;return!0}clone(){return new this.constructor().copy(this)}}function E8(){let t=null,e=!1,n=null,r=null;function i(s,a){n(s,a),r=t.requestAnimationFrame(i)}return{start:function(){e!==!0&&n!==null&&(r=t.requestAnimationFrame(i),e=!0)},stop:function(){t.cancelAnimationFrame(r),e=!1},setAnimationLoop:function(s){n=s},setContext:function(s){t=s}}}function rne(t,e){const n=e.isWebGL2,r=new WeakMap;function i(c,u){const f=c.array,d=c.usage,p=t.createBuffer();t.bindBuffer(u,p),t.bufferData(u,f,d),c.onUploadCallback();let v;if(f instanceof Float32Array)v=t.FLOAT;else if(f instanceof Uint16Array)if(c.isFloat16BufferAttribute)if(n)v=t.HALF_FLOAT;else throw new Error("THREE.WebGLAttributes: Usage of Float16BufferAttribute requires WebGL2.");else v=t.UNSIGNED_SHORT;else if(f instanceof Int16Array)v=t.SHORT;else if(f instanceof Uint32Array)v=t.UNSIGNED_INT;else if(f instanceof Int32Array)v=t.INT;else if(f instanceof Int8Array)v=t.BYTE;else if(f instanceof Uint8Array)v=t.UNSIGNED_BYTE;else if(f instanceof Uint8ClampedArray)v=t.UNSIGNED_BYTE;else throw new Error("THREE.WebGLAttributes: Unsupported buffer data format: "+f);return{buffer:p,type:v,bytesPerElement:f.BYTES_PER_ELEMENT,version:c.version}}function s(c,u,f){const d=u.array,p=u.updateRange;t.bindBuffer(f,c),p.count===-1?t.bufferSubData(f,0,d):(n?t.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d,p.offset,p.count):t.bufferSubData(f,p.offset*d.BYTES_PER_ELEMENT,d.subarray(p.offset,p.offset+p.count)),p.count=-1),u.onUploadCallback()}function a(c){return c.isInterleavedBufferAttribute&&(c=c.data),r.get(c)}function o(c){c.isInterleavedBufferAttribute&&(c=c.data);const u=r.get(c);u&&(t.deleteBuffer(u.buffer),r.delete(c))}function l(c,u){if(c.isGLBufferAttribute){const d=r.get(c);(!d||d.version<c.version)&&r.set(c,{buffer:c.buffer,type:c.type,bytesPerElement:c.elementSize,version:c.version});return}c.isInterleavedBufferAttribute&&(c=c.data);const f=r.get(c);f===void 0?r.set(c,i(c,u)):f.version<c.version&&(s(f.buffer,c,u),f.version=c.version)}return{get:a,remove:o,update:l}}class Tc extends Ht{constructor(e=1,n=1,r=1,i=1){super(),this.type="PlaneGeometry",this.parameters={width:e,height:n,widthSegments:r,heightSegments:i};const s=e/2,a=n/2,o=Math.floor(r),l=Math.floor(i),c=o+1,u=l+1,f=e/o,d=n/l,p=[],v=[],b=[],x=[];for(let y=0;y<u;y++){const w=y*d-a;for(let _=0;_<c;_++){const S=_*f-s;v.push(S,-w,0),b.push(0,0,1),x.push(_/o),x.push(1-y/l)}}for(let y=0;y<l;y++)for(let w=0;w<o;w++){const _=w+c*y,S=w+c*(y+1),M=w+1+c*(y+1),E=w+1+c*y;p.push(_,S,E),p.push(S,M,E)}this.setIndex(p),this.setAttribute("position",new dt(v,3)),this.setAttribute("normal",new dt(b,3)),this.setAttribute("uv",new dt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Tc(e.width,e.height,e.widthSegments,e.heightSegments)}}var ine=`#ifdef USE_ALPHAHASH
	if ( diffuseColor.a < getAlphaHashThreshold( vPosition ) ) discard;
#endif`,sne=`#ifdef USE_ALPHAHASH
	const float ALPHA_HASH_SCALE = 0.05;
	float hash2D( vec2 value ) {
		return fract( 1.0e4 * sin( 17.0 * value.x + 0.1 * value.y ) * ( 0.1 + abs( sin( 13.0 * value.y + value.x ) ) ) );
	}
	float hash3D( vec3 value ) {
		return hash2D( vec2( hash2D( value.xy ), value.z ) );
	}
	float getAlphaHashThreshold( vec3 position ) {
		float maxDeriv = max(
			length( dFdx( position.xyz ) ),
			length( dFdy( position.xyz ) )
		);
		float pixScale = 1.0 / ( ALPHA_HASH_SCALE * maxDeriv );
		vec2 pixScales = vec2(
			exp2( floor( log2( pixScale ) ) ),
			exp2( ceil( log2( pixScale ) ) )
		);
		vec2 alpha = vec2(
			hash3D( floor( pixScales.x * position.xyz ) ),
			hash3D( floor( pixScales.y * position.xyz ) )
		);
		float lerpFactor = fract( log2( pixScale ) );
		float x = ( 1.0 - lerpFactor ) * alpha.x + lerpFactor * alpha.y;
		float a = min( lerpFactor, 1.0 - lerpFactor );
		vec3 cases = vec3(
			x * x / ( 2.0 * a * ( 1.0 - a ) ),
			( x - 0.5 * a ) / ( 1.0 - a ),
			1.0 - ( ( 1.0 - x ) * ( 1.0 - x ) / ( 2.0 * a * ( 1.0 - a ) ) )
		);
		float threshold = ( x < ( 1.0 - a ) )
			? ( ( x < a ) ? cases.x : cases.y )
			: cases.z;
		return clamp( threshold , 1.0e-6, 1.0 );
	}
#endif`,ane=`#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, vAlphaMapUv ).g;
#endif`,one=`#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,lne=`#ifdef USE_ALPHATEST
	if ( diffuseColor.a < alphaTest ) discard;
#endif`,cne=`#ifdef USE_ALPHATEST
	uniform float alphaTest;
#endif`,une=`#ifdef USE_AOMAP
	float ambientOcclusion = ( texture2D( aoMap, vAoMapUv ).r - 1.0 ) * aoMapIntensity + 1.0;
	reflectedLight.indirectDiffuse *= ambientOcclusion;
	#if defined( USE_ENVMAP ) && defined( STANDARD )
		float dotNV = saturate( dot( geometryNormal, geometryViewDir ) );
		reflectedLight.indirectSpecular *= computeSpecularOcclusion( dotNV, ambientOcclusion, material.roughness );
	#endif
#endif`,fne=`#ifdef USE_AOMAP
	uniform sampler2D aoMap;
	uniform float aoMapIntensity;
#endif`,dne=`vec3 transformed = vec3( position );
#ifdef USE_ALPHAHASH
	vPosition = vec3( position );
#endif`,hne=`vec3 objectNormal = vec3( normal );
#ifdef USE_TANGENT
	vec3 objectTangent = vec3( tangent.xyz );
#endif`,pne=`float G_BlinnPhong_Implicit( ) {
	return 0.25;
}
float D_BlinnPhong( const in float shininess, const in float dotNH ) {
	return RECIPROCAL_PI * ( shininess * 0.5 + 1.0 ) * pow( dotNH, shininess );
}
vec3 BRDF_BlinnPhong( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in vec3 specularColor, const in float shininess ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( specularColor, 1.0, dotVH );
	float G = G_BlinnPhong_Implicit( );
	float D = D_BlinnPhong( shininess, dotNH );
	return F * ( G * D );
} // validated`,mne=`#ifdef USE_IRIDESCENCE
	const mat3 XYZ_TO_REC709 = mat3(
		 3.2404542, -0.9692660,  0.0556434,
		-1.5371385,  1.8760108, -0.2040259,
		-0.4985314,  0.0415560,  1.0572252
	);
	vec3 Fresnel0ToIor( vec3 fresnel0 ) {
		vec3 sqrtF0 = sqrt( fresnel0 );
		return ( vec3( 1.0 ) + sqrtF0 ) / ( vec3( 1.0 ) - sqrtF0 );
	}
	vec3 IorToFresnel0( vec3 transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - vec3( incidentIor ) ) / ( transmittedIor + vec3( incidentIor ) ) );
	}
	float IorToFresnel0( float transmittedIor, float incidentIor ) {
		return pow2( ( transmittedIor - incidentIor ) / ( transmittedIor + incidentIor ));
	}
	vec3 evalSensitivity( float OPD, vec3 shift ) {
		float phase = 2.0 * PI * OPD * 1.0e-9;
		vec3 val = vec3( 5.4856e-13, 4.4201e-13, 5.2481e-13 );
		vec3 pos = vec3( 1.6810e+06, 1.7953e+06, 2.2084e+06 );
		vec3 var = vec3( 4.3278e+09, 9.3046e+09, 6.6121e+09 );
		vec3 xyz = val * sqrt( 2.0 * PI * var ) * cos( pos * phase + shift ) * exp( - pow2( phase ) * var );
		xyz.x += 9.7470e-14 * sqrt( 2.0 * PI * 4.5282e+09 ) * cos( 2.2399e+06 * phase + shift[ 0 ] ) * exp( - 4.5282e+09 * pow2( phase ) );
		xyz /= 1.0685e-7;
		vec3 rgb = XYZ_TO_REC709 * xyz;
		return rgb;
	}
	vec3 evalIridescence( float outsideIOR, float eta2, float cosTheta1, float thinFilmThickness, vec3 baseF0 ) {
		vec3 I;
		float iridescenceIOR = mix( outsideIOR, eta2, smoothstep( 0.0, 0.03, thinFilmThickness ) );
		float sinTheta2Sq = pow2( outsideIOR / iridescenceIOR ) * ( 1.0 - pow2( cosTheta1 ) );
		float cosTheta2Sq = 1.0 - sinTheta2Sq;
		if ( cosTheta2Sq < 0.0 ) {
			return vec3( 1.0 );
		}
		float cosTheta2 = sqrt( cosTheta2Sq );
		float R0 = IorToFresnel0( iridescenceIOR, outsideIOR );
		float R12 = F_Schlick( R0, 1.0, cosTheta1 );
		float T121 = 1.0 - R12;
		float phi12 = 0.0;
		if ( iridescenceIOR < outsideIOR ) phi12 = PI;
		float phi21 = PI - phi12;
		vec3 baseIOR = Fresnel0ToIor( clamp( baseF0, 0.0, 0.9999 ) );		vec3 R1 = IorToFresnel0( baseIOR, iridescenceIOR );
		vec3 R23 = F_Schlick( R1, 1.0, cosTheta2 );
		vec3 phi23 = vec3( 0.0 );
		if ( baseIOR[ 0 ] < iridescenceIOR ) phi23[ 0 ] = PI;
		if ( baseIOR[ 1 ] < iridescenceIOR ) phi23[ 1 ] = PI;
		if ( baseIOR[ 2 ] < iridescenceIOR ) phi23[ 2 ] = PI;
		float OPD = 2.0 * iridescenceIOR * thinFilmThickness * cosTheta2;
		vec3 phi = vec3( phi21 ) + phi23;
		vec3 R123 = clamp( R12 * R23, 1e-5, 0.9999 );
		vec3 r123 = sqrt( R123 );
		vec3 Rs = pow2( T121 ) * R23 / ( vec3( 1.0 ) - R123 );
		vec3 C0 = R12 + Rs;
		I = C0;
		vec3 Cm = Rs - T121;
		for ( int m = 1; m <= 2; ++ m ) {
			Cm *= r123;
			vec3 Sm = 2.0 * evalSensitivity( float( m ) * OPD, float( m ) * phi );
			I += Cm * Sm;
		}
		return max( I, vec3( 0.0 ) );
	}
#endif`,gne=`#ifdef USE_BUMPMAP
	uniform sampler2D bumpMap;
	uniform float bumpScale;
	vec2 dHdxy_fwd() {
		vec2 dSTdx = dFdx( vBumpMapUv );
		vec2 dSTdy = dFdy( vBumpMapUv );
		float Hll = bumpScale * texture2D( bumpMap, vBumpMapUv ).x;
		float dBx = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdx ).x - Hll;
		float dBy = bumpScale * texture2D( bumpMap, vBumpMapUv + dSTdy ).x - Hll;
		return vec2( dBx, dBy );
	}
	vec3 perturbNormalArb( vec3 surf_pos, vec3 surf_norm, vec2 dHdxy, float faceDirection ) {
		vec3 vSigmaX = dFdx( surf_pos.xyz );
		vec3 vSigmaY = dFdy( surf_pos.xyz );
		vec3 vN = surf_norm;
		vec3 R1 = cross( vSigmaY, vN );
		vec3 R2 = cross( vN, vSigmaX );
		float fDet = dot( vSigmaX, R1 ) * faceDirection;
		vec3 vGrad = sign( fDet ) * ( dHdxy.x * R1 + dHdxy.y * R2 );
		return normalize( abs( fDet ) * surf_norm - vGrad );
	}
#endif`,vne=`#if NUM_CLIPPING_PLANES > 0
	vec4 plane;
	#pragma unroll_loop_start
	for ( int i = 0; i < UNION_CLIPPING_PLANES; i ++ ) {
		plane = clippingPlanes[ i ];
		if ( dot( vClipPosition, plane.xyz ) > plane.w ) discard;
	}
	#pragma unroll_loop_end
	#if UNION_CLIPPING_PLANES < NUM_CLIPPING_PLANES
		bool clipped = true;
		#pragma unroll_loop_start
		for ( int i = UNION_CLIPPING_PLANES; i < NUM_CLIPPING_PLANES; i ++ ) {
			plane = clippingPlanes[ i ];
			clipped = ( dot( vClipPosition, plane.xyz ) > plane.w ) && clipped;
		}
		#pragma unroll_loop_end
		if ( clipped ) discard;
	#endif
#endif`,yne=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
	uniform vec4 clippingPlanes[ NUM_CLIPPING_PLANES ];
#endif`,xne=`#if NUM_CLIPPING_PLANES > 0
	varying vec3 vClipPosition;
#endif`,bne=`#if NUM_CLIPPING_PLANES > 0
	vClipPosition = - mvPosition.xyz;
#endif`,_ne=`#if defined( USE_COLOR_ALPHA )
	diffuseColor *= vColor;
#elif defined( USE_COLOR )
	diffuseColor.rgb *= vColor;
#endif`,wne=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR )
	varying vec3 vColor;
#endif`,Sne=`#if defined( USE_COLOR_ALPHA )
	varying vec4 vColor;
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	varying vec3 vColor;
#endif`,Mne=`#if defined( USE_COLOR_ALPHA )
	vColor = vec4( 1.0 );
#elif defined( USE_COLOR ) || defined( USE_INSTANCING_COLOR )
	vColor = vec3( 1.0 );
#endif
#ifdef USE_COLOR
	vColor *= color;
#endif
#ifdef USE_INSTANCING_COLOR
	vColor.xyz *= instanceColor.xyz;
#endif`,Ene=`#define PI 3.141592653589793
#define PI2 6.283185307179586
#define PI_HALF 1.5707963267948966
#define RECIPROCAL_PI 0.3183098861837907
#define RECIPROCAL_PI2 0.15915494309189535
#define EPSILON 1e-6
#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
#define whiteComplement( a ) ( 1.0 - saturate( a ) )
float pow2( const in float x ) { return x*x; }
vec3 pow2( const in vec3 x ) { return x*x; }
float pow3( const in float x ) { return x*x*x; }
float pow4( const in float x ) { float x2 = x*x; return x2*x2; }
float max3( const in vec3 v ) { return max( max( v.x, v.y ), v.z ); }
float average( const in vec3 v ) { return dot( v, vec3( 0.3333333 ) ); }
highp float rand( const in vec2 uv ) {
	const highp float a = 12.9898, b = 78.233, c = 43758.5453;
	highp float dt = dot( uv.xy, vec2( a,b ) ), sn = mod( dt, PI );
	return fract( sin( sn ) * c );
}
#ifdef HIGH_PRECISION
	float precisionSafeLength( vec3 v ) { return length( v ); }
#else
	float precisionSafeLength( vec3 v ) {
		float maxComponent = max3( abs( v ) );
		return length( v / maxComponent ) * maxComponent;
	}
#endif
struct IncidentLight {
	vec3 color;
	vec3 direction;
	bool visible;
};
struct ReflectedLight {
	vec3 directDiffuse;
	vec3 directSpecular;
	vec3 indirectDiffuse;
	vec3 indirectSpecular;
};
#ifdef USE_ALPHAHASH
	varying vec3 vPosition;
#endif
vec3 transformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( matrix * vec4( dir, 0.0 ) ).xyz );
}
vec3 inverseTransformDirection( in vec3 dir, in mat4 matrix ) {
	return normalize( ( vec4( dir, 0.0 ) * matrix ).xyz );
}
mat3 transposeMat3( const in mat3 m ) {
	mat3 tmp;
	tmp[ 0 ] = vec3( m[ 0 ].x, m[ 1 ].x, m[ 2 ].x );
	tmp[ 1 ] = vec3( m[ 0 ].y, m[ 1 ].y, m[ 2 ].y );
	tmp[ 2 ] = vec3( m[ 0 ].z, m[ 1 ].z, m[ 2 ].z );
	return tmp;
}
float luminance( const in vec3 rgb ) {
	const vec3 weights = vec3( 0.2126729, 0.7151522, 0.0721750 );
	return dot( weights, rgb );
}
bool isPerspectiveMatrix( mat4 m ) {
	return m[ 2 ][ 3 ] == - 1.0;
}
vec2 equirectUv( in vec3 dir ) {
	float u = atan( dir.z, dir.x ) * RECIPROCAL_PI2 + 0.5;
	float v = asin( clamp( dir.y, - 1.0, 1.0 ) ) * RECIPROCAL_PI + 0.5;
	return vec2( u, v );
}
vec3 BRDF_Lambert( const in vec3 diffuseColor ) {
	return RECIPROCAL_PI * diffuseColor;
}
vec3 F_Schlick( const in vec3 f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
}
float F_Schlick( const in float f0, const in float f90, const in float dotVH ) {
	float fresnel = exp2( ( - 5.55473 * dotVH - 6.98316 ) * dotVH );
	return f0 * ( 1.0 - fresnel ) + ( f90 * fresnel );
} // validated`,Tne=`#ifdef ENVMAP_TYPE_CUBE_UV
	#define cubeUV_minMipLevel 4.0
	#define cubeUV_minTileSize 16.0
	float getFace( vec3 direction ) {
		vec3 absDirection = abs( direction );
		float face = - 1.0;
		if ( absDirection.x > absDirection.z ) {
			if ( absDirection.x > absDirection.y )
				face = direction.x > 0.0 ? 0.0 : 3.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		} else {
			if ( absDirection.z > absDirection.y )
				face = direction.z > 0.0 ? 2.0 : 5.0;
			else
				face = direction.y > 0.0 ? 1.0 : 4.0;
		}
		return face;
	}
	vec2 getUV( vec3 direction, float face ) {
		vec2 uv;
		if ( face == 0.0 ) {
			uv = vec2( direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 1.0 ) {
			uv = vec2( - direction.x, - direction.z ) / abs( direction.y );
		} else if ( face == 2.0 ) {
			uv = vec2( - direction.x, direction.y ) / abs( direction.z );
		} else if ( face == 3.0 ) {
			uv = vec2( - direction.z, direction.y ) / abs( direction.x );
		} else if ( face == 4.0 ) {
			uv = vec2( - direction.x, direction.z ) / abs( direction.y );
		} else {
			uv = vec2( direction.x, direction.y ) / abs( direction.z );
		}
		return 0.5 * ( uv + 1.0 );
	}
	vec3 bilinearCubeUV( sampler2D envMap, vec3 direction, float mipInt ) {
		float face = getFace( direction );
		float filterInt = max( cubeUV_minMipLevel - mipInt, 0.0 );
		mipInt = max( mipInt, cubeUV_minMipLevel );
		float faceSize = exp2( mipInt );
		highp vec2 uv = getUV( direction, face ) * ( faceSize - 2.0 ) + 1.0;
		if ( face > 2.0 ) {
			uv.y += faceSize;
			face -= 3.0;
		}
		uv.x += face * faceSize;
		uv.x += filterInt * 3.0 * cubeUV_minTileSize;
		uv.y += 4.0 * ( exp2( CUBEUV_MAX_MIP ) - faceSize );
		uv.x *= CUBEUV_TEXEL_WIDTH;
		uv.y *= CUBEUV_TEXEL_HEIGHT;
		#ifdef texture2DGradEXT
			return texture2DGradEXT( envMap, uv, vec2( 0.0 ), vec2( 0.0 ) ).rgb;
		#else
			return texture2D( envMap, uv ).rgb;
		#endif
	}
	#define cubeUV_r0 1.0
	#define cubeUV_v0 0.339
	#define cubeUV_m0 - 2.0
	#define cubeUV_r1 0.8
	#define cubeUV_v1 0.276
	#define cubeUV_m1 - 1.0
	#define cubeUV_r4 0.4
	#define cubeUV_v4 0.046
	#define cubeUV_m4 2.0
	#define cubeUV_r5 0.305
	#define cubeUV_v5 0.016
	#define cubeUV_m5 3.0
	#define cubeUV_r6 0.21
	#define cubeUV_v6 0.0038
	#define cubeUV_m6 4.0
	float roughnessToMip( float roughness ) {
		float mip = 0.0;
		if ( roughness >= cubeUV_r1 ) {
			mip = ( cubeUV_r0 - roughness ) * ( cubeUV_m1 - cubeUV_m0 ) / ( cubeUV_r0 - cubeUV_r1 ) + cubeUV_m0;
		} else if ( roughness >= cubeUV_r4 ) {
			mip = ( cubeUV_r1 - roughness ) * ( cubeUV_m4 - cubeUV_m1 ) / ( cubeUV_r1 - cubeUV_r4 ) + cubeUV_m1;
		} else if ( roughness >= cubeUV_r5 ) {
			mip = ( cubeUV_r4 - roughness ) * ( cubeUV_m5 - cubeUV_m4 ) / ( cubeUV_r4 - cubeUV_r5 ) + cubeUV_m4;
		} else if ( roughness >= cubeUV_r6 ) {
			mip = ( cubeUV_r5 - roughness ) * ( cubeUV_m6 - cubeUV_m5 ) / ( cubeUV_r5 - cubeUV_r6 ) + cubeUV_m5;
		} else {
			mip = - 2.0 * log2( 1.16 * roughness );		}
		return mip;
	}
	vec4 textureCubeUV( sampler2D envMap, vec3 sampleDir, float roughness ) {
		float mip = clamp( roughnessToMip( roughness ), cubeUV_m0, CUBEUV_MAX_MIP );
		float mipF = fract( mip );
		float mipInt = floor( mip );
		vec3 color0 = bilinearCubeUV( envMap, sampleDir, mipInt );
		if ( mipF == 0.0 ) {
			return vec4( color0, 1.0 );
		} else {
			vec3 color1 = bilinearCubeUV( envMap, sampleDir, mipInt + 1.0 );
			return vec4( mix( color0, color1, mipF ), 1.0 );
		}
	}
#endif`,Ane=`vec3 transformedNormal = objectNormal;
#ifdef USE_INSTANCING
	mat3 m = mat3( instanceMatrix );
	transformedNormal /= vec3( dot( m[ 0 ], m[ 0 ] ), dot( m[ 1 ], m[ 1 ] ), dot( m[ 2 ], m[ 2 ] ) );
	transformedNormal = m * transformedNormal;
#endif
transformedNormal = normalMatrix * transformedNormal;
#ifdef FLIP_SIDED
	transformedNormal = - transformedNormal;
#endif
#ifdef USE_TANGENT
	vec3 transformedTangent = ( modelViewMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#ifdef FLIP_SIDED
		transformedTangent = - transformedTangent;
	#endif
#endif`,Pne=`#ifdef USE_DISPLACEMENTMAP
	uniform sampler2D displacementMap;
	uniform float displacementScale;
	uniform float displacementBias;
#endif`,Cne=`#ifdef USE_DISPLACEMENTMAP
	transformed += normalize( objectNormal ) * ( texture2D( displacementMap, vDisplacementMapUv ).x * displacementScale + displacementBias );
#endif`,Nne=`#ifdef USE_EMISSIVEMAP
	vec4 emissiveColor = texture2D( emissiveMap, vEmissiveMapUv );
	totalEmissiveRadiance *= emissiveColor.rgb;
#endif`,Rne=`#ifdef USE_EMISSIVEMAP
	uniform sampler2D emissiveMap;
#endif`,One="gl_FragColor = linearToOutputTexel( gl_FragColor );",Lne=`
const mat3 LINEAR_SRGB_TO_LINEAR_DISPLAY_P3 = mat3(
	vec3( 0.8224621, 0.177538, 0.0 ),
	vec3( 0.0331941, 0.9668058, 0.0 ),
	vec3( 0.0170827, 0.0723974, 0.9105199 )
);
const mat3 LINEAR_DISPLAY_P3_TO_LINEAR_SRGB = mat3(
	vec3( 1.2249401, - 0.2249404, 0.0 ),
	vec3( - 0.0420569, 1.0420571, 0.0 ),
	vec3( - 0.0196376, - 0.0786361, 1.0982735 )
);
vec4 LinearSRGBToLinearDisplayP3( in vec4 value ) {
	return vec4( value.rgb * LINEAR_SRGB_TO_LINEAR_DISPLAY_P3, value.a );
}
vec4 LinearDisplayP3ToLinearSRGB( in vec4 value ) {
	return vec4( value.rgb * LINEAR_DISPLAY_P3_TO_LINEAR_SRGB, value.a );
}
vec4 LinearTransferOETF( in vec4 value ) {
	return value;
}
vec4 sRGBTransferOETF( in vec4 value ) {
	return vec4( mix( pow( value.rgb, vec3( 0.41666 ) ) * 1.055 - vec3( 0.055 ), value.rgb * 12.92, vec3( lessThanEqual( value.rgb, vec3( 0.0031308 ) ) ) ), value.a );
}
vec4 LinearToLinear( in vec4 value ) {
	return value;
}
vec4 LinearTosRGB( in vec4 value ) {
	return sRGBTransferOETF( value );
}`,Ine=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vec3 cameraToFrag;
		if ( isOrthographic ) {
			cameraToFrag = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToFrag = normalize( vWorldPosition - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vec3 reflectVec = reflect( cameraToFrag, worldNormal );
		#else
			vec3 reflectVec = refract( cameraToFrag, worldNormal, refractionRatio );
		#endif
	#else
		vec3 reflectVec = vReflect;
	#endif
	#ifdef ENVMAP_TYPE_CUBE
		vec4 envColor = textureCube( envMap, vec3( flipEnvMap * reflectVec.x, reflectVec.yz ) );
	#else
		vec4 envColor = vec4( 0.0 );
	#endif
	#ifdef ENVMAP_BLENDING_MULTIPLY
		outgoingLight = mix( outgoingLight, outgoingLight * envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_MIX )
		outgoingLight = mix( outgoingLight, envColor.xyz, specularStrength * reflectivity );
	#elif defined( ENVMAP_BLENDING_ADD )
		outgoingLight += envColor.xyz * specularStrength * reflectivity;
	#endif
#endif`,jne=`#ifdef USE_ENVMAP
	uniform float envMapIntensity;
	uniform float flipEnvMap;
	#ifdef ENVMAP_TYPE_CUBE
		uniform samplerCube envMap;
	#else
		uniform sampler2D envMap;
	#endif
	
#endif`,kne=`#ifdef USE_ENVMAP
	uniform float reflectivity;
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		varying vec3 vWorldPosition;
		uniform float refractionRatio;
	#else
		varying vec3 vReflect;
	#endif
#endif`,Dne=`#ifdef USE_ENVMAP
	#if defined( USE_BUMPMAP ) || defined( USE_NORMALMAP ) || defined( PHONG ) || defined( LAMBERT )
		#define ENV_WORLDPOS
	#endif
	#ifdef ENV_WORLDPOS
		
		varying vec3 vWorldPosition;
	#else
		varying vec3 vReflect;
		uniform float refractionRatio;
	#endif
#endif`,Une=`#ifdef USE_ENVMAP
	#ifdef ENV_WORLDPOS
		vWorldPosition = worldPosition.xyz;
	#else
		vec3 cameraToVertex;
		if ( isOrthographic ) {
			cameraToVertex = normalize( vec3( - viewMatrix[ 0 ][ 2 ], - viewMatrix[ 1 ][ 2 ], - viewMatrix[ 2 ][ 2 ] ) );
		} else {
			cameraToVertex = normalize( worldPosition.xyz - cameraPosition );
		}
		vec3 worldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
		#ifdef ENVMAP_MODE_REFLECTION
			vReflect = reflect( cameraToVertex, worldNormal );
		#else
			vReflect = refract( cameraToVertex, worldNormal, refractionRatio );
		#endif
	#endif
#endif`,Fne=`#ifdef USE_FOG
	vFogDepth = - mvPosition.z;
#endif`,Bne=`#ifdef USE_FOG
	varying float vFogDepth;
#endif`,zne=`#ifdef USE_FOG
	#ifdef FOG_EXP2
		float fogFactor = 1.0 - exp( - fogDensity * fogDensity * vFogDepth * vFogDepth );
	#else
		float fogFactor = smoothstep( fogNear, fogFar, vFogDepth );
	#endif
	gl_FragColor.rgb = mix( gl_FragColor.rgb, fogColor, fogFactor );
#endif`,Vne=`#ifdef USE_FOG
	uniform vec3 fogColor;
	varying float vFogDepth;
	#ifdef FOG_EXP2
		uniform float fogDensity;
	#else
		uniform float fogNear;
		uniform float fogFar;
	#endif
#endif`,Hne=`#ifdef USE_GRADIENTMAP
	uniform sampler2D gradientMap;
#endif
vec3 getGradientIrradiance( vec3 normal, vec3 lightDirection ) {
	float dotNL = dot( normal, lightDirection );
	vec2 coord = vec2( dotNL * 0.5 + 0.5, 0.0 );
	#ifdef USE_GRADIENTMAP
		return vec3( texture2D( gradientMap, coord ).r );
	#else
		vec2 fw = fwidth( coord ) * 0.5;
		return mix( vec3( 0.7 ), vec3( 1.0 ), smoothstep( 0.7 - fw.x, 0.7 + fw.x, coord.x ) );
	#endif
}`,$ne=`#ifdef USE_LIGHTMAP
	vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
	vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
	reflectedLight.indirectDiffuse += lightMapIrradiance;
#endif`,Wne=`#ifdef USE_LIGHTMAP
	uniform sampler2D lightMap;
	uniform float lightMapIntensity;
#endif`,Gne=`LambertMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularStrength = specularStrength;`,Xne=`varying vec3 vViewPosition;
struct LambertMaterial {
	vec3 diffuseColor;
	float specularStrength;
};
void RE_Direct_Lambert( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Lambert( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in LambertMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Lambert
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Lambert`,qne=`uniform bool receiveShadow;
uniform vec3 ambientLightColor;
#if defined( USE_LIGHT_PROBES )
	uniform vec3 lightProbe[ 9 ];
#endif
vec3 shGetIrradianceAt( in vec3 normal, in vec3 shCoefficients[ 9 ] ) {
	float x = normal.x, y = normal.y, z = normal.z;
	vec3 result = shCoefficients[ 0 ] * 0.886227;
	result += shCoefficients[ 1 ] * 2.0 * 0.511664 * y;
	result += shCoefficients[ 2 ] * 2.0 * 0.511664 * z;
	result += shCoefficients[ 3 ] * 2.0 * 0.511664 * x;
	result += shCoefficients[ 4 ] * 2.0 * 0.429043 * x * y;
	result += shCoefficients[ 5 ] * 2.0 * 0.429043 * y * z;
	result += shCoefficients[ 6 ] * ( 0.743125 * z * z - 0.247708 );
	result += shCoefficients[ 7 ] * 2.0 * 0.429043 * x * z;
	result += shCoefficients[ 8 ] * 0.429043 * ( x * x - y * y );
	return result;
}
vec3 getLightProbeIrradiance( const in vec3 lightProbe[ 9 ], const in vec3 normal ) {
	vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
	vec3 irradiance = shGetIrradianceAt( worldNormal, lightProbe );
	return irradiance;
}
vec3 getAmbientLightIrradiance( const in vec3 ambientLightColor ) {
	vec3 irradiance = ambientLightColor;
	return irradiance;
}
float getDistanceAttenuation( const in float lightDistance, const in float cutoffDistance, const in float decayExponent ) {
	#if defined ( LEGACY_LIGHTS )
		if ( cutoffDistance > 0.0 && decayExponent > 0.0 ) {
			return pow( saturate( - lightDistance / cutoffDistance + 1.0 ), decayExponent );
		}
		return 1.0;
	#else
		float distanceFalloff = 1.0 / max( pow( lightDistance, decayExponent ), 0.01 );
		if ( cutoffDistance > 0.0 ) {
			distanceFalloff *= pow2( saturate( 1.0 - pow4( lightDistance / cutoffDistance ) ) );
		}
		return distanceFalloff;
	#endif
}
float getSpotAttenuation( const in float coneCosine, const in float penumbraCosine, const in float angleCosine ) {
	return smoothstep( coneCosine, penumbraCosine, angleCosine );
}
#if NUM_DIR_LIGHTS > 0
	struct DirectionalLight {
		vec3 direction;
		vec3 color;
	};
	uniform DirectionalLight directionalLights[ NUM_DIR_LIGHTS ];
	void getDirectionalLightInfo( const in DirectionalLight directionalLight, out IncidentLight light ) {
		light.color = directionalLight.color;
		light.direction = directionalLight.direction;
		light.visible = true;
	}
#endif
#if NUM_POINT_LIGHTS > 0
	struct PointLight {
		vec3 position;
		vec3 color;
		float distance;
		float decay;
	};
	uniform PointLight pointLights[ NUM_POINT_LIGHTS ];
	void getPointLightInfo( const in PointLight pointLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = pointLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float lightDistance = length( lVector );
		light.color = pointLight.color;
		light.color *= getDistanceAttenuation( lightDistance, pointLight.distance, pointLight.decay );
		light.visible = ( light.color != vec3( 0.0 ) );
	}
#endif
#if NUM_SPOT_LIGHTS > 0
	struct SpotLight {
		vec3 position;
		vec3 direction;
		vec3 color;
		float distance;
		float decay;
		float coneCos;
		float penumbraCos;
	};
	uniform SpotLight spotLights[ NUM_SPOT_LIGHTS ];
	void getSpotLightInfo( const in SpotLight spotLight, const in vec3 geometryPosition, out IncidentLight light ) {
		vec3 lVector = spotLight.position - geometryPosition;
		light.direction = normalize( lVector );
		float angleCos = dot( light.direction, spotLight.direction );
		float spotAttenuation = getSpotAttenuation( spotLight.coneCos, spotLight.penumbraCos, angleCos );
		if ( spotAttenuation > 0.0 ) {
			float lightDistance = length( lVector );
			light.color = spotLight.color * spotAttenuation;
			light.color *= getDistanceAttenuation( lightDistance, spotLight.distance, spotLight.decay );
			light.visible = ( light.color != vec3( 0.0 ) );
		} else {
			light.color = vec3( 0.0 );
			light.visible = false;
		}
	}
#endif
#if NUM_RECT_AREA_LIGHTS > 0
	struct RectAreaLight {
		vec3 color;
		vec3 position;
		vec3 halfWidth;
		vec3 halfHeight;
	};
	uniform sampler2D ltc_1;	uniform sampler2D ltc_2;
	uniform RectAreaLight rectAreaLights[ NUM_RECT_AREA_LIGHTS ];
#endif
#if NUM_HEMI_LIGHTS > 0
	struct HemisphereLight {
		vec3 direction;
		vec3 skyColor;
		vec3 groundColor;
	};
	uniform HemisphereLight hemisphereLights[ NUM_HEMI_LIGHTS ];
	vec3 getHemisphereLightIrradiance( const in HemisphereLight hemiLight, const in vec3 normal ) {
		float dotNL = dot( normal, hemiLight.direction );
		float hemiDiffuseWeight = 0.5 * dotNL + 0.5;
		vec3 irradiance = mix( hemiLight.groundColor, hemiLight.skyColor, hemiDiffuseWeight );
		return irradiance;
	}
#endif`,Yne=`#ifdef USE_ENVMAP
	vec3 getIBLIrradiance( const in vec3 normal ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 worldNormal = inverseTransformDirection( normal, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, worldNormal, 1.0 );
			return PI * envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	vec3 getIBLRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness ) {
		#ifdef ENVMAP_TYPE_CUBE_UV
			vec3 reflectVec = reflect( - viewDir, normal );
			reflectVec = normalize( mix( reflectVec, normal, roughness * roughness) );
			reflectVec = inverseTransformDirection( reflectVec, viewMatrix );
			vec4 envMapColor = textureCubeUV( envMap, reflectVec, roughness );
			return envMapColor.rgb * envMapIntensity;
		#else
			return vec3( 0.0 );
		#endif
	}
	#ifdef USE_ANISOTROPY
		vec3 getIBLAnisotropyRadiance( const in vec3 viewDir, const in vec3 normal, const in float roughness, const in vec3 bitangent, const in float anisotropy ) {
			#ifdef ENVMAP_TYPE_CUBE_UV
				vec3 bentNormal = cross( bitangent, viewDir );
				bentNormal = normalize( cross( bentNormal, bitangent ) );
				bentNormal = normalize( mix( bentNormal, normal, pow2( pow2( 1.0 - anisotropy * ( 1.0 - roughness ) ) ) ) );
				return getIBLRadiance( viewDir, bentNormal, roughness );
			#else
				return vec3( 0.0 );
			#endif
		}
	#endif
#endif`,Kne=`ToonMaterial material;
material.diffuseColor = diffuseColor.rgb;`,Zne=`varying vec3 vViewPosition;
struct ToonMaterial {
	vec3 diffuseColor;
};
void RE_Direct_Toon( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	vec3 irradiance = getGradientIrradiance( geometryNormal, directLight.direction ) * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Toon( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in ToonMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_Toon
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Toon`,Jne=`BlinnPhongMaterial material;
material.diffuseColor = diffuseColor.rgb;
material.specularColor = specular;
material.specularShininess = shininess;
material.specularStrength = specularStrength;`,Qne=`varying vec3 vViewPosition;
struct BlinnPhongMaterial {
	vec3 diffuseColor;
	vec3 specularColor;
	float specularShininess;
	float specularStrength;
};
void RE_Direct_BlinnPhong( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
	reflectedLight.directSpecular += irradiance * BRDF_BlinnPhong( directLight.direction, geometryViewDir, geometryNormal, material.specularColor, material.specularShininess ) * material.specularStrength;
}
void RE_IndirectDiffuse_BlinnPhong( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in BlinnPhongMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
#define RE_Direct				RE_Direct_BlinnPhong
#define RE_IndirectDiffuse		RE_IndirectDiffuse_BlinnPhong`,ere=`PhysicalMaterial material;
material.diffuseColor = diffuseColor.rgb * ( 1.0 - metalnessFactor );
vec3 dxy = max( abs( dFdx( nonPerturbedNormal ) ), abs( dFdy( nonPerturbedNormal ) ) );
float geometryRoughness = max( max( dxy.x, dxy.y ), dxy.z );
material.roughness = max( roughnessFactor, 0.0525 );material.roughness += geometryRoughness;
material.roughness = min( material.roughness, 1.0 );
#ifdef IOR
	material.ior = ior;
	#ifdef USE_SPECULAR
		float specularIntensityFactor = specularIntensity;
		vec3 specularColorFactor = specularColor;
		#ifdef USE_SPECULAR_COLORMAP
			specularColorFactor *= texture2D( specularColorMap, vSpecularColorMapUv ).rgb;
		#endif
		#ifdef USE_SPECULAR_INTENSITYMAP
			specularIntensityFactor *= texture2D( specularIntensityMap, vSpecularIntensityMapUv ).a;
		#endif
		material.specularF90 = mix( specularIntensityFactor, 1.0, metalnessFactor );
	#else
		float specularIntensityFactor = 1.0;
		vec3 specularColorFactor = vec3( 1.0 );
		material.specularF90 = 1.0;
	#endif
	material.specularColor = mix( min( pow2( ( material.ior - 1.0 ) / ( material.ior + 1.0 ) ) * specularColorFactor, vec3( 1.0 ) ) * specularIntensityFactor, diffuseColor.rgb, metalnessFactor );
#else
	material.specularColor = mix( vec3( 0.04 ), diffuseColor.rgb, metalnessFactor );
	material.specularF90 = 1.0;
#endif
#ifdef USE_CLEARCOAT
	material.clearcoat = clearcoat;
	material.clearcoatRoughness = clearcoatRoughness;
	material.clearcoatF0 = vec3( 0.04 );
	material.clearcoatF90 = 1.0;
	#ifdef USE_CLEARCOATMAP
		material.clearcoat *= texture2D( clearcoatMap, vClearcoatMapUv ).x;
	#endif
	#ifdef USE_CLEARCOAT_ROUGHNESSMAP
		material.clearcoatRoughness *= texture2D( clearcoatRoughnessMap, vClearcoatRoughnessMapUv ).y;
	#endif
	material.clearcoat = saturate( material.clearcoat );	material.clearcoatRoughness = max( material.clearcoatRoughness, 0.0525 );
	material.clearcoatRoughness += geometryRoughness;
	material.clearcoatRoughness = min( material.clearcoatRoughness, 1.0 );
#endif
#ifdef USE_IRIDESCENCE
	material.iridescence = iridescence;
	material.iridescenceIOR = iridescenceIOR;
	#ifdef USE_IRIDESCENCEMAP
		material.iridescence *= texture2D( iridescenceMap, vIridescenceMapUv ).r;
	#endif
	#ifdef USE_IRIDESCENCE_THICKNESSMAP
		material.iridescenceThickness = (iridescenceThicknessMaximum - iridescenceThicknessMinimum) * texture2D( iridescenceThicknessMap, vIridescenceThicknessMapUv ).g + iridescenceThicknessMinimum;
	#else
		material.iridescenceThickness = iridescenceThicknessMaximum;
	#endif
#endif
#ifdef USE_SHEEN
	material.sheenColor = sheenColor;
	#ifdef USE_SHEEN_COLORMAP
		material.sheenColor *= texture2D( sheenColorMap, vSheenColorMapUv ).rgb;
	#endif
	material.sheenRoughness = clamp( sheenRoughness, 0.07, 1.0 );
	#ifdef USE_SHEEN_ROUGHNESSMAP
		material.sheenRoughness *= texture2D( sheenRoughnessMap, vSheenRoughnessMapUv ).a;
	#endif
#endif
#ifdef USE_ANISOTROPY
	#ifdef USE_ANISOTROPYMAP
		mat2 anisotropyMat = mat2( anisotropyVector.x, anisotropyVector.y, - anisotropyVector.y, anisotropyVector.x );
		vec3 anisotropyPolar = texture2D( anisotropyMap, vAnisotropyMapUv ).rgb;
		vec2 anisotropyV = anisotropyMat * normalize( 2.0 * anisotropyPolar.rg - vec2( 1.0 ) ) * anisotropyPolar.b;
	#else
		vec2 anisotropyV = anisotropyVector;
	#endif
	material.anisotropy = length( anisotropyV );
	anisotropyV /= material.anisotropy;
	material.anisotropy = saturate( material.anisotropy );
	material.alphaT = mix( pow2( material.roughness ), 1.0, pow2( material.anisotropy ) );
	material.anisotropyT = tbn[ 0 ] * anisotropyV.x - tbn[ 1 ] * anisotropyV.y;
	material.anisotropyB = tbn[ 1 ] * anisotropyV.x + tbn[ 0 ] * anisotropyV.y;
#endif`,tre=`struct PhysicalMaterial {
	vec3 diffuseColor;
	float roughness;
	vec3 specularColor;
	float specularF90;
	#ifdef USE_CLEARCOAT
		float clearcoat;
		float clearcoatRoughness;
		vec3 clearcoatF0;
		float clearcoatF90;
	#endif
	#ifdef USE_IRIDESCENCE
		float iridescence;
		float iridescenceIOR;
		float iridescenceThickness;
		vec3 iridescenceFresnel;
		vec3 iridescenceF0;
	#endif
	#ifdef USE_SHEEN
		vec3 sheenColor;
		float sheenRoughness;
	#endif
	#ifdef IOR
		float ior;
	#endif
	#ifdef USE_TRANSMISSION
		float transmission;
		float transmissionAlpha;
		float thickness;
		float attenuationDistance;
		vec3 attenuationColor;
	#endif
	#ifdef USE_ANISOTROPY
		float anisotropy;
		float alphaT;
		vec3 anisotropyT;
		vec3 anisotropyB;
	#endif
};
vec3 clearcoatSpecular = vec3( 0.0 );
vec3 sheenSpecular = vec3( 0.0 );
vec3 Schlick_to_F0( const in vec3 f, const in float f90, const in float dotVH ) {
    float x = clamp( 1.0 - dotVH, 0.0, 1.0 );
    float x2 = x * x;
    float x5 = clamp( x * x2 * x2, 0.0, 0.9999 );
    return ( f - vec3( f90 ) * x5 ) / ( 1.0 - x5 );
}
float V_GGX_SmithCorrelated( const in float alpha, const in float dotNL, const in float dotNV ) {
	float a2 = pow2( alpha );
	float gv = dotNL * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNV ) );
	float gl = dotNV * sqrt( a2 + ( 1.0 - a2 ) * pow2( dotNL ) );
	return 0.5 / max( gv + gl, EPSILON );
}
float D_GGX( const in float alpha, const in float dotNH ) {
	float a2 = pow2( alpha );
	float denom = pow2( dotNH ) * ( a2 - 1.0 ) + 1.0;
	return RECIPROCAL_PI * a2 / pow2( denom );
}
#ifdef USE_ANISOTROPY
	float V_GGX_SmithCorrelated_Anisotropic( const in float alphaT, const in float alphaB, const in float dotTV, const in float dotBV, const in float dotTL, const in float dotBL, const in float dotNV, const in float dotNL ) {
		float gv = dotNL * length( vec3( alphaT * dotTV, alphaB * dotBV, dotNV ) );
		float gl = dotNV * length( vec3( alphaT * dotTL, alphaB * dotBL, dotNL ) );
		float v = 0.5 / ( gv + gl );
		return saturate(v);
	}
	float D_GGX_Anisotropic( const in float alphaT, const in float alphaB, const in float dotNH, const in float dotTH, const in float dotBH ) {
		float a2 = alphaT * alphaB;
		highp vec3 v = vec3( alphaB * dotTH, alphaT * dotBH, a2 * dotNH );
		highp float v2 = dot( v, v );
		float w2 = a2 / v2;
		return RECIPROCAL_PI * a2 * pow2 ( w2 );
	}
#endif
#ifdef USE_CLEARCOAT
	vec3 BRDF_GGX_Clearcoat( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material) {
		vec3 f0 = material.clearcoatF0;
		float f90 = material.clearcoatF90;
		float roughness = material.clearcoatRoughness;
		float alpha = pow2( roughness );
		vec3 halfDir = normalize( lightDir + viewDir );
		float dotNL = saturate( dot( normal, lightDir ) );
		float dotNV = saturate( dot( normal, viewDir ) );
		float dotNH = saturate( dot( normal, halfDir ) );
		float dotVH = saturate( dot( viewDir, halfDir ) );
		vec3 F = F_Schlick( f0, f90, dotVH );
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
		return F * ( V * D );
	}
#endif
vec3 BRDF_GGX( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, const in PhysicalMaterial material ) {
	vec3 f0 = material.specularColor;
	float f90 = material.specularF90;
	float roughness = material.roughness;
	float alpha = pow2( roughness );
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float dotVH = saturate( dot( viewDir, halfDir ) );
	vec3 F = F_Schlick( f0, f90, dotVH );
	#ifdef USE_IRIDESCENCE
		F = mix( F, material.iridescenceFresnel, material.iridescence );
	#endif
	#ifdef USE_ANISOTROPY
		float dotTL = dot( material.anisotropyT, lightDir );
		float dotTV = dot( material.anisotropyT, viewDir );
		float dotTH = dot( material.anisotropyT, halfDir );
		float dotBL = dot( material.anisotropyB, lightDir );
		float dotBV = dot( material.anisotropyB, viewDir );
		float dotBH = dot( material.anisotropyB, halfDir );
		float V = V_GGX_SmithCorrelated_Anisotropic( material.alphaT, alpha, dotTV, dotBV, dotTL, dotBL, dotNV, dotNL );
		float D = D_GGX_Anisotropic( material.alphaT, alpha, dotNH, dotTH, dotBH );
	#else
		float V = V_GGX_SmithCorrelated( alpha, dotNL, dotNV );
		float D = D_GGX( alpha, dotNH );
	#endif
	return F * ( V * D );
}
vec2 LTC_Uv( const in vec3 N, const in vec3 V, const in float roughness ) {
	const float LUT_SIZE = 64.0;
	const float LUT_SCALE = ( LUT_SIZE - 1.0 ) / LUT_SIZE;
	const float LUT_BIAS = 0.5 / LUT_SIZE;
	float dotNV = saturate( dot( N, V ) );
	vec2 uv = vec2( roughness, sqrt( 1.0 - dotNV ) );
	uv = uv * LUT_SCALE + LUT_BIAS;
	return uv;
}
float LTC_ClippedSphereFormFactor( const in vec3 f ) {
	float l = length( f );
	return max( ( l * l + f.z ) / ( l + 1.0 ), 0.0 );
}
vec3 LTC_EdgeVectorFormFactor( const in vec3 v1, const in vec3 v2 ) {
	float x = dot( v1, v2 );
	float y = abs( x );
	float a = 0.8543985 + ( 0.4965155 + 0.0145206 * y ) * y;
	float b = 3.4175940 + ( 4.1616724 + y ) * y;
	float v = a / b;
	float theta_sintheta = ( x > 0.0 ) ? v : 0.5 * inversesqrt( max( 1.0 - x * x, 1e-7 ) ) - v;
	return cross( v1, v2 ) * theta_sintheta;
}
vec3 LTC_Evaluate( const in vec3 N, const in vec3 V, const in vec3 P, const in mat3 mInv, const in vec3 rectCoords[ 4 ] ) {
	vec3 v1 = rectCoords[ 1 ] - rectCoords[ 0 ];
	vec3 v2 = rectCoords[ 3 ] - rectCoords[ 0 ];
	vec3 lightNormal = cross( v1, v2 );
	if( dot( lightNormal, P - rectCoords[ 0 ] ) < 0.0 ) return vec3( 0.0 );
	vec3 T1, T2;
	T1 = normalize( V - N * dot( V, N ) );
	T2 = - cross( N, T1 );
	mat3 mat = mInv * transposeMat3( mat3( T1, T2, N ) );
	vec3 coords[ 4 ];
	coords[ 0 ] = mat * ( rectCoords[ 0 ] - P );
	coords[ 1 ] = mat * ( rectCoords[ 1 ] - P );
	coords[ 2 ] = mat * ( rectCoords[ 2 ] - P );
	coords[ 3 ] = mat * ( rectCoords[ 3 ] - P );
	coords[ 0 ] = normalize( coords[ 0 ] );
	coords[ 1 ] = normalize( coords[ 1 ] );
	coords[ 2 ] = normalize( coords[ 2 ] );
	coords[ 3 ] = normalize( coords[ 3 ] );
	vec3 vectorFormFactor = vec3( 0.0 );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 0 ], coords[ 1 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 1 ], coords[ 2 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 2 ], coords[ 3 ] );
	vectorFormFactor += LTC_EdgeVectorFormFactor( coords[ 3 ], coords[ 0 ] );
	float result = LTC_ClippedSphereFormFactor( vectorFormFactor );
	return vec3( result );
}
#if defined( USE_SHEEN )
float D_Charlie( float roughness, float dotNH ) {
	float alpha = pow2( roughness );
	float invAlpha = 1.0 / alpha;
	float cos2h = dotNH * dotNH;
	float sin2h = max( 1.0 - cos2h, 0.0078125 );
	return ( 2.0 + invAlpha ) * pow( sin2h, invAlpha * 0.5 ) / ( 2.0 * PI );
}
float V_Neubelt( float dotNV, float dotNL ) {
	return saturate( 1.0 / ( 4.0 * ( dotNL + dotNV - dotNL * dotNV ) ) );
}
vec3 BRDF_Sheen( const in vec3 lightDir, const in vec3 viewDir, const in vec3 normal, vec3 sheenColor, const in float sheenRoughness ) {
	vec3 halfDir = normalize( lightDir + viewDir );
	float dotNL = saturate( dot( normal, lightDir ) );
	float dotNV = saturate( dot( normal, viewDir ) );
	float dotNH = saturate( dot( normal, halfDir ) );
	float D = D_Charlie( sheenRoughness, dotNH );
	float V = V_Neubelt( dotNV, dotNL );
	return sheenColor * ( D * V );
}
#endif
float IBLSheenBRDF( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	float r2 = roughness * roughness;
	float a = roughness < 0.25 ? -339.2 * r2 + 161.4 * roughness - 25.9 : -8.48 * r2 + 14.3 * roughness - 9.95;
	float b = roughness < 0.25 ? 44.0 * r2 - 23.7 * roughness + 3.26 : 1.97 * r2 - 3.27 * roughness + 0.72;
	float DG = exp( a * dotNV + b ) + ( roughness < 0.25 ? 0.0 : 0.1 * ( roughness - 0.25 ) );
	return saturate( DG * RECIPROCAL_PI );
}
vec2 DFGApprox( const in vec3 normal, const in vec3 viewDir, const in float roughness ) {
	float dotNV = saturate( dot( normal, viewDir ) );
	const vec4 c0 = vec4( - 1, - 0.0275, - 0.572, 0.022 );
	const vec4 c1 = vec4( 1, 0.0425, 1.04, - 0.04 );
	vec4 r = roughness * c0 + c1;
	float a004 = min( r.x * r.x, exp2( - 9.28 * dotNV ) ) * r.x + r.y;
	vec2 fab = vec2( - 1.04, 1.04 ) * a004 + r.zw;
	return fab;
}
vec3 EnvironmentBRDF( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness ) {
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	return specularColor * fab.x + specularF90 * fab.y;
}
#ifdef USE_IRIDESCENCE
void computeMultiscatteringIridescence( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float iridescence, const in vec3 iridescenceF0, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#else
void computeMultiscattering( const in vec3 normal, const in vec3 viewDir, const in vec3 specularColor, const in float specularF90, const in float roughness, inout vec3 singleScatter, inout vec3 multiScatter ) {
#endif
	vec2 fab = DFGApprox( normal, viewDir, roughness );
	#ifdef USE_IRIDESCENCE
		vec3 Fr = mix( specularColor, iridescenceF0, iridescence );
	#else
		vec3 Fr = specularColor;
	#endif
	vec3 FssEss = Fr * fab.x + specularF90 * fab.y;
	float Ess = fab.x + fab.y;
	float Ems = 1.0 - Ess;
	vec3 Favg = Fr + ( 1.0 - Fr ) * 0.047619;	vec3 Fms = FssEss * Favg / ( 1.0 - Ems * Favg );
	singleScatter += FssEss;
	multiScatter += Fms * Ems;
}
#if NUM_RECT_AREA_LIGHTS > 0
	void RE_Direct_RectArea_Physical( const in RectAreaLight rectAreaLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
		vec3 normal = geometryNormal;
		vec3 viewDir = geometryViewDir;
		vec3 position = geometryPosition;
		vec3 lightPos = rectAreaLight.position;
		vec3 halfWidth = rectAreaLight.halfWidth;
		vec3 halfHeight = rectAreaLight.halfHeight;
		vec3 lightColor = rectAreaLight.color;
		float roughness = material.roughness;
		vec3 rectCoords[ 4 ];
		rectCoords[ 0 ] = lightPos + halfWidth - halfHeight;		rectCoords[ 1 ] = lightPos - halfWidth - halfHeight;
		rectCoords[ 2 ] = lightPos - halfWidth + halfHeight;
		rectCoords[ 3 ] = lightPos + halfWidth + halfHeight;
		vec2 uv = LTC_Uv( normal, viewDir, roughness );
		vec4 t1 = texture2D( ltc_1, uv );
		vec4 t2 = texture2D( ltc_2, uv );
		mat3 mInv = mat3(
			vec3( t1.x, 0, t1.y ),
			vec3(    0, 1,    0 ),
			vec3( t1.z, 0, t1.w )
		);
		vec3 fresnel = ( material.specularColor * t2.x + ( vec3( 1.0 ) - material.specularColor ) * t2.y );
		reflectedLight.directSpecular += lightColor * fresnel * LTC_Evaluate( normal, viewDir, position, mInv, rectCoords );
		reflectedLight.directDiffuse += lightColor * material.diffuseColor * LTC_Evaluate( normal, viewDir, position, mat3( 1.0 ), rectCoords );
	}
#endif
void RE_Direct_Physical( const in IncidentLight directLight, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	float dotNL = saturate( dot( geometryNormal, directLight.direction ) );
	vec3 irradiance = dotNL * directLight.color;
	#ifdef USE_CLEARCOAT
		float dotNLcc = saturate( dot( geometryClearcoatNormal, directLight.direction ) );
		vec3 ccIrradiance = dotNLcc * directLight.color;
		clearcoatSpecular += ccIrradiance * BRDF_GGX_Clearcoat( directLight.direction, geometryViewDir, geometryClearcoatNormal, material );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * BRDF_Sheen( directLight.direction, geometryViewDir, geometryNormal, material.sheenColor, material.sheenRoughness );
	#endif
	reflectedLight.directSpecular += irradiance * BRDF_GGX( directLight.direction, geometryViewDir, geometryNormal, material );
	reflectedLight.directDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectDiffuse_Physical( const in vec3 irradiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight ) {
	reflectedLight.indirectDiffuse += irradiance * BRDF_Lambert( material.diffuseColor );
}
void RE_IndirectSpecular_Physical( const in vec3 radiance, const in vec3 irradiance, const in vec3 clearcoatRadiance, const in vec3 geometryPosition, const in vec3 geometryNormal, const in vec3 geometryViewDir, const in vec3 geometryClearcoatNormal, const in PhysicalMaterial material, inout ReflectedLight reflectedLight) {
	#ifdef USE_CLEARCOAT
		clearcoatSpecular += clearcoatRadiance * EnvironmentBRDF( geometryClearcoatNormal, geometryViewDir, material.clearcoatF0, material.clearcoatF90, material.clearcoatRoughness );
	#endif
	#ifdef USE_SHEEN
		sheenSpecular += irradiance * material.sheenColor * IBLSheenBRDF( geometryNormal, geometryViewDir, material.sheenRoughness );
	#endif
	vec3 singleScattering = vec3( 0.0 );
	vec3 multiScattering = vec3( 0.0 );
	vec3 cosineWeightedIrradiance = irradiance * RECIPROCAL_PI;
	#ifdef USE_IRIDESCENCE
		computeMultiscatteringIridescence( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.iridescence, material.iridescenceFresnel, material.roughness, singleScattering, multiScattering );
	#else
		computeMultiscattering( geometryNormal, geometryViewDir, material.specularColor, material.specularF90, material.roughness, singleScattering, multiScattering );
	#endif
	vec3 totalScattering = singleScattering + multiScattering;
	vec3 diffuse = material.diffuseColor * ( 1.0 - max( max( totalScattering.r, totalScattering.g ), totalScattering.b ) );
	reflectedLight.indirectSpecular += radiance * singleScattering;
	reflectedLight.indirectSpecular += multiScattering * cosineWeightedIrradiance;
	reflectedLight.indirectDiffuse += diffuse * cosineWeightedIrradiance;
}
#define RE_Direct				RE_Direct_Physical
#define RE_Direct_RectArea		RE_Direct_RectArea_Physical
#define RE_IndirectDiffuse		RE_IndirectDiffuse_Physical
#define RE_IndirectSpecular		RE_IndirectSpecular_Physical
float computeSpecularOcclusion( const in float dotNV, const in float ambientOcclusion, const in float roughness ) {
	return saturate( pow( dotNV + ambientOcclusion, exp2( - 16.0 * roughness - 1.0 ) ) - 1.0 + ambientOcclusion );
}`,nre=`
vec3 geometryPosition = - vViewPosition;
vec3 geometryNormal = normal;
vec3 geometryViewDir = ( isOrthographic ) ? vec3( 0, 0, 1 ) : normalize( vViewPosition );
vec3 geometryClearcoatNormal;
#ifdef USE_CLEARCOAT
	geometryClearcoatNormal = clearcoatNormal;
#endif
#ifdef USE_IRIDESCENCE
	float dotNVi = saturate( dot( normal, geometryViewDir ) );
	if ( material.iridescenceThickness == 0.0 ) {
		material.iridescence = 0.0;
	} else {
		material.iridescence = saturate( material.iridescence );
	}
	if ( material.iridescence > 0.0 ) {
		material.iridescenceFresnel = evalIridescence( 1.0, material.iridescenceIOR, dotNVi, material.iridescenceThickness, material.specularColor );
		material.iridescenceF0 = Schlick_to_F0( material.iridescenceFresnel, 1.0, dotNVi );
	}
#endif
IncidentLight directLight;
#if ( NUM_POINT_LIGHTS > 0 ) && defined( RE_Direct )
	PointLight pointLight;
	#if defined( USE_SHADOWMAP ) && NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHTS; i ++ ) {
		pointLight = pointLights[ i ];
		getPointLightInfo( pointLight, geometryPosition, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_POINT_LIGHT_SHADOWS )
		pointLightShadow = pointLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getPointShadow( pointShadowMap[ i ], pointLightShadow.shadowMapSize, pointLightShadow.shadowBias, pointLightShadow.shadowRadius, vPointShadowCoord[ i ], pointLightShadow.shadowCameraNear, pointLightShadow.shadowCameraFar ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_SPOT_LIGHTS > 0 ) && defined( RE_Direct )
	SpotLight spotLight;
	vec4 spotColor;
	vec3 spotLightCoord;
	bool inSpotLightMap;
	#if defined( USE_SHADOWMAP ) && NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHTS; i ++ ) {
		spotLight = spotLights[ i ];
		getSpotLightInfo( spotLight, geometryPosition, directLight );
		#if ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#define SPOT_LIGHT_MAP_INDEX UNROLLED_LOOP_INDEX
		#elif ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		#define SPOT_LIGHT_MAP_INDEX NUM_SPOT_LIGHT_MAPS
		#else
		#define SPOT_LIGHT_MAP_INDEX ( UNROLLED_LOOP_INDEX - NUM_SPOT_LIGHT_SHADOWS + NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS )
		#endif
		#if ( SPOT_LIGHT_MAP_INDEX < NUM_SPOT_LIGHT_MAPS )
			spotLightCoord = vSpotLightCoord[ i ].xyz / vSpotLightCoord[ i ].w;
			inSpotLightMap = all( lessThan( abs( spotLightCoord * 2. - 1. ), vec3( 1.0 ) ) );
			spotColor = texture2D( spotLightMap[ SPOT_LIGHT_MAP_INDEX ], spotLightCoord.xy );
			directLight.color = inSpotLightMap ? directLight.color * spotColor.rgb : directLight.color;
		#endif
		#undef SPOT_LIGHT_MAP_INDEX
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
		spotLightShadow = spotLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( spotShadowMap[ i ], spotLightShadow.shadowMapSize, spotLightShadow.shadowBias, spotLightShadow.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_DIR_LIGHTS > 0 ) && defined( RE_Direct )
	DirectionalLight directionalLight;
	#if defined( USE_SHADOWMAP ) && NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLightShadow;
	#endif
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHTS; i ++ ) {
		directionalLight = directionalLights[ i ];
		getDirectionalLightInfo( directionalLight, directLight );
		#if defined( USE_SHADOWMAP ) && ( UNROLLED_LOOP_INDEX < NUM_DIR_LIGHT_SHADOWS )
		directionalLightShadow = directionalLightShadows[ i ];
		directLight.color *= ( directLight.visible && receiveShadow ) ? getShadow( directionalShadowMap[ i ], directionalLightShadow.shadowMapSize, directionalLightShadow.shadowBias, directionalLightShadow.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
		#endif
		RE_Direct( directLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if ( NUM_RECT_AREA_LIGHTS > 0 ) && defined( RE_Direct_RectArea )
	RectAreaLight rectAreaLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_RECT_AREA_LIGHTS; i ++ ) {
		rectAreaLight = rectAreaLights[ i ];
		RE_Direct_RectArea( rectAreaLight, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
	}
	#pragma unroll_loop_end
#endif
#if defined( RE_IndirectDiffuse )
	vec3 iblIrradiance = vec3( 0.0 );
	vec3 irradiance = getAmbientLightIrradiance( ambientLightColor );
	#if defined( USE_LIGHT_PROBES )
		irradiance += getLightProbeIrradiance( lightProbe, geometryNormal );
	#endif
	#if ( NUM_HEMI_LIGHTS > 0 )
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_HEMI_LIGHTS; i ++ ) {
			irradiance += getHemisphereLightIrradiance( hemisphereLights[ i ], geometryNormal );
		}
		#pragma unroll_loop_end
	#endif
#endif
#if defined( RE_IndirectSpecular )
	vec3 radiance = vec3( 0.0 );
	vec3 clearcoatRadiance = vec3( 0.0 );
#endif`,rre=`#if defined( RE_IndirectDiffuse )
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		vec3 lightMapIrradiance = lightMapTexel.rgb * lightMapIntensity;
		irradiance += lightMapIrradiance;
	#endif
	#if defined( USE_ENVMAP ) && defined( STANDARD ) && defined( ENVMAP_TYPE_CUBE_UV )
		iblIrradiance += getIBLIrradiance( geometryNormal );
	#endif
#endif
#if defined( USE_ENVMAP ) && defined( RE_IndirectSpecular )
	#ifdef USE_ANISOTROPY
		radiance += getIBLAnisotropyRadiance( geometryViewDir, geometryNormal, material.roughness, material.anisotropyB, material.anisotropy );
	#else
		radiance += getIBLRadiance( geometryViewDir, geometryNormal, material.roughness );
	#endif
	#ifdef USE_CLEARCOAT
		clearcoatRadiance += getIBLRadiance( geometryViewDir, geometryClearcoatNormal, material.clearcoatRoughness );
	#endif
#endif`,ire=`#if defined( RE_IndirectDiffuse )
	RE_IndirectDiffuse( irradiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif
#if defined( RE_IndirectSpecular )
	RE_IndirectSpecular( radiance, iblIrradiance, clearcoatRadiance, geometryPosition, geometryNormal, geometryViewDir, geometryClearcoatNormal, material, reflectedLight );
#endif`,sre=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	gl_FragDepthEXT = vIsPerspective == 0.0 ? gl_FragCoord.z : log2( vFragDepth ) * logDepthBufFC * 0.5;
#endif`,are=`#if defined( USE_LOGDEPTHBUF ) && defined( USE_LOGDEPTHBUF_EXT )
	uniform float logDepthBufFC;
	varying float vFragDepth;
	varying float vIsPerspective;
#endif`,ore=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		varying float vFragDepth;
		varying float vIsPerspective;
	#else
		uniform float logDepthBufFC;
	#endif
#endif`,lre=`#ifdef USE_LOGDEPTHBUF
	#ifdef USE_LOGDEPTHBUF_EXT
		vFragDepth = 1.0 + gl_Position.w;
		vIsPerspective = float( isPerspectiveMatrix( projectionMatrix ) );
	#else
		if ( isPerspectiveMatrix( projectionMatrix ) ) {
			gl_Position.z = log2( max( EPSILON, gl_Position.w + 1.0 ) ) * logDepthBufFC - 1.0;
			gl_Position.z *= gl_Position.w;
		}
	#endif
#endif`,cre=`#ifdef USE_MAP
	vec4 sampledDiffuseColor = texture2D( map, vMapUv );
	#ifdef DECODE_VIDEO_TEXTURE
		sampledDiffuseColor = vec4( mix( pow( sampledDiffuseColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), sampledDiffuseColor.rgb * 0.0773993808, vec3( lessThanEqual( sampledDiffuseColor.rgb, vec3( 0.04045 ) ) ) ), sampledDiffuseColor.w );
	
	#endif
	diffuseColor *= sampledDiffuseColor;
#endif`,ure=`#ifdef USE_MAP
	uniform sampler2D map;
#endif`,fre=`#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
	#if defined( USE_POINTS_UV )
		vec2 uv = vUv;
	#else
		vec2 uv = ( uvTransform * vec3( gl_PointCoord.x, 1.0 - gl_PointCoord.y, 1 ) ).xy;
	#endif
#endif
#ifdef USE_MAP
	diffuseColor *= texture2D( map, uv );
#endif
#ifdef USE_ALPHAMAP
	diffuseColor.a *= texture2D( alphaMap, uv ).g;
#endif`,dre=`#if defined( USE_POINTS_UV )
	varying vec2 vUv;
#else
	#if defined( USE_MAP ) || defined( USE_ALPHAMAP )
		uniform mat3 uvTransform;
	#endif
#endif
#ifdef USE_MAP
	uniform sampler2D map;
#endif
#ifdef USE_ALPHAMAP
	uniform sampler2D alphaMap;
#endif`,hre=`float metalnessFactor = metalness;
#ifdef USE_METALNESSMAP
	vec4 texelMetalness = texture2D( metalnessMap, vMetalnessMapUv );
	metalnessFactor *= texelMetalness.b;
#endif`,pre=`#ifdef USE_METALNESSMAP
	uniform sampler2D metalnessMap;
#endif`,mre=`#if defined( USE_MORPHCOLORS ) && defined( MORPHTARGETS_TEXTURE )
	vColor *= morphTargetBaseInfluence;
	for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
		#if defined( USE_COLOR_ALPHA )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ) * morphTargetInfluences[ i ];
		#elif defined( USE_COLOR )
			if ( morphTargetInfluences[ i ] != 0.0 ) vColor += getMorph( gl_VertexID, i, 2 ).rgb * morphTargetInfluences[ i ];
		#endif
	}
#endif`,gre=`#ifdef USE_MORPHNORMALS
	objectNormal *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) objectNormal += getMorph( gl_VertexID, i, 1 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		objectNormal += morphNormal0 * morphTargetInfluences[ 0 ];
		objectNormal += morphNormal1 * morphTargetInfluences[ 1 ];
		objectNormal += morphNormal2 * morphTargetInfluences[ 2 ];
		objectNormal += morphNormal3 * morphTargetInfluences[ 3 ];
	#endif
#endif`,vre=`#ifdef USE_MORPHTARGETS
	uniform float morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		uniform float morphTargetInfluences[ MORPHTARGETS_COUNT ];
		uniform sampler2DArray morphTargetsTexture;
		uniform ivec2 morphTargetsTextureSize;
		vec4 getMorph( const in int vertexIndex, const in int morphTargetIndex, const in int offset ) {
			int texelIndex = vertexIndex * MORPHTARGETS_TEXTURE_STRIDE + offset;
			int y = texelIndex / morphTargetsTextureSize.x;
			int x = texelIndex - y * morphTargetsTextureSize.x;
			ivec3 morphUV = ivec3( x, y, morphTargetIndex );
			return texelFetch( morphTargetsTexture, morphUV, 0 );
		}
	#else
		#ifndef USE_MORPHNORMALS
			uniform float morphTargetInfluences[ 8 ];
		#else
			uniform float morphTargetInfluences[ 4 ];
		#endif
	#endif
#endif`,yre=`#ifdef USE_MORPHTARGETS
	transformed *= morphTargetBaseInfluence;
	#ifdef MORPHTARGETS_TEXTURE
		for ( int i = 0; i < MORPHTARGETS_COUNT; i ++ ) {
			if ( morphTargetInfluences[ i ] != 0.0 ) transformed += getMorph( gl_VertexID, i, 0 ).xyz * morphTargetInfluences[ i ];
		}
	#else
		transformed += morphTarget0 * morphTargetInfluences[ 0 ];
		transformed += morphTarget1 * morphTargetInfluences[ 1 ];
		transformed += morphTarget2 * morphTargetInfluences[ 2 ];
		transformed += morphTarget3 * morphTargetInfluences[ 3 ];
		#ifndef USE_MORPHNORMALS
			transformed += morphTarget4 * morphTargetInfluences[ 4 ];
			transformed += morphTarget5 * morphTargetInfluences[ 5 ];
			transformed += morphTarget6 * morphTargetInfluences[ 6 ];
			transformed += morphTarget7 * morphTargetInfluences[ 7 ];
		#endif
	#endif
#endif`,xre=`float faceDirection = gl_FrontFacing ? 1.0 : - 1.0;
#ifdef FLAT_SHADED
	vec3 fdx = dFdx( vViewPosition );
	vec3 fdy = dFdy( vViewPosition );
	vec3 normal = normalize( cross( fdx, fdy ) );
#else
	vec3 normal = normalize( vNormal );
	#ifdef DOUBLE_SIDED
		normal *= faceDirection;
	#endif
#endif
#if defined( USE_NORMALMAP_TANGENTSPACE ) || defined( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY )
	#ifdef USE_TANGENT
		mat3 tbn = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn = getTangentFrame( - vViewPosition, normal,
		#if defined( USE_NORMALMAP )
			vNormalMapUv
		#elif defined( USE_CLEARCOAT_NORMALMAP )
			vClearcoatNormalMapUv
		#else
			vUv
		#endif
		);
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn[0] *= faceDirection;
		tbn[1] *= faceDirection;
	#endif
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	#ifdef USE_TANGENT
		mat3 tbn2 = mat3( normalize( vTangent ), normalize( vBitangent ), normal );
	#else
		mat3 tbn2 = getTangentFrame( - vViewPosition, normal, vClearcoatNormalMapUv );
	#endif
	#if defined( DOUBLE_SIDED ) && ! defined( FLAT_SHADED )
		tbn2[0] *= faceDirection;
		tbn2[1] *= faceDirection;
	#endif
#endif
vec3 nonPerturbedNormal = normal;`,bre=`#ifdef USE_NORMALMAP_OBJECTSPACE
	normal = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	#ifdef FLIP_SIDED
		normal = - normal;
	#endif
	#ifdef DOUBLE_SIDED
		normal = normal * faceDirection;
	#endif
	normal = normalize( normalMatrix * normal );
#elif defined( USE_NORMALMAP_TANGENTSPACE )
	vec3 mapN = texture2D( normalMap, vNormalMapUv ).xyz * 2.0 - 1.0;
	mapN.xy *= normalScale;
	normal = normalize( tbn * mapN );
#elif defined( USE_BUMPMAP )
	normal = perturbNormalArb( - vViewPosition, normal, dHdxy_fwd(), faceDirection );
#endif`,_re=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,wre=`#ifndef FLAT_SHADED
	varying vec3 vNormal;
	#ifdef USE_TANGENT
		varying vec3 vTangent;
		varying vec3 vBitangent;
	#endif
#endif`,Sre=`#ifndef FLAT_SHADED
	vNormal = normalize( transformedNormal );
	#ifdef USE_TANGENT
		vTangent = normalize( transformedTangent );
		vBitangent = normalize( cross( vNormal, vTangent ) * tangent.w );
	#endif
#endif`,Mre=`#ifdef USE_NORMALMAP
	uniform sampler2D normalMap;
	uniform vec2 normalScale;
#endif
#ifdef USE_NORMALMAP_OBJECTSPACE
	uniform mat3 normalMatrix;
#endif
#if ! defined ( USE_TANGENT ) && ( defined ( USE_NORMALMAP_TANGENTSPACE ) || defined ( USE_CLEARCOAT_NORMALMAP ) || defined( USE_ANISOTROPY ) )
	mat3 getTangentFrame( vec3 eye_pos, vec3 surf_norm, vec2 uv ) {
		vec3 q0 = dFdx( eye_pos.xyz );
		vec3 q1 = dFdy( eye_pos.xyz );
		vec2 st0 = dFdx( uv.st );
		vec2 st1 = dFdy( uv.st );
		vec3 N = surf_norm;
		vec3 q1perp = cross( q1, N );
		vec3 q0perp = cross( N, q0 );
		vec3 T = q1perp * st0.x + q0perp * st1.x;
		vec3 B = q1perp * st0.y + q0perp * st1.y;
		float det = max( dot( T, T ), dot( B, B ) );
		float scale = ( det == 0.0 ) ? 0.0 : inversesqrt( det );
		return mat3( T * scale, B * scale, N );
	}
#endif`,Ere=`#ifdef USE_CLEARCOAT
	vec3 clearcoatNormal = nonPerturbedNormal;
#endif`,Tre=`#ifdef USE_CLEARCOAT_NORMALMAP
	vec3 clearcoatMapN = texture2D( clearcoatNormalMap, vClearcoatNormalMapUv ).xyz * 2.0 - 1.0;
	clearcoatMapN.xy *= clearcoatNormalScale;
	clearcoatNormal = normalize( tbn2 * clearcoatMapN );
#endif`,Are=`#ifdef USE_CLEARCOATMAP
	uniform sampler2D clearcoatMap;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform sampler2D clearcoatNormalMap;
	uniform vec2 clearcoatNormalScale;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform sampler2D clearcoatRoughnessMap;
#endif`,Pre=`#ifdef USE_IRIDESCENCEMAP
	uniform sampler2D iridescenceMap;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform sampler2D iridescenceThicknessMap;
#endif`,Cre=`#ifdef OPAQUE
diffuseColor.a = 1.0;
#endif
#ifdef USE_TRANSMISSION
diffuseColor.a *= material.transmissionAlpha;
#endif
gl_FragColor = vec4( outgoingLight, diffuseColor.a );`,Nre=`vec3 packNormalToRGB( const in vec3 normal ) {
	return normalize( normal ) * 0.5 + 0.5;
}
vec3 unpackRGBToNormal( const in vec3 rgb ) {
	return 2.0 * rgb.xyz - 1.0;
}
const float PackUpscale = 256. / 255.;const float UnpackDownscale = 255. / 256.;
const vec3 PackFactors = vec3( 256. * 256. * 256., 256. * 256., 256. );
const vec4 UnpackFactors = UnpackDownscale / vec4( PackFactors, 1. );
const float ShiftRight8 = 1. / 256.;
vec4 packDepthToRGBA( const in float v ) {
	vec4 r = vec4( fract( v * PackFactors ), v );
	r.yzw -= r.xyz * ShiftRight8;	return r * PackUpscale;
}
float unpackRGBAToDepth( const in vec4 v ) {
	return dot( v, UnpackFactors );
}
vec2 packDepthToRG( in highp float v ) {
	return packDepthToRGBA( v ).yx;
}
float unpackRGToDepth( const in highp vec2 v ) {
	return unpackRGBAToDepth( vec4( v.xy, 0.0, 0.0 ) );
}
vec4 pack2HalfToRGBA( vec2 v ) {
	vec4 r = vec4( v.x, fract( v.x * 255.0 ), v.y, fract( v.y * 255.0 ) );
	return vec4( r.x - r.y / 255.0, r.y, r.z - r.w / 255.0, r.w );
}
vec2 unpackRGBATo2Half( vec4 v ) {
	return vec2( v.x + ( v.y / 255.0 ), v.z + ( v.w / 255.0 ) );
}
float viewZToOrthographicDepth( const in float viewZ, const in float near, const in float far ) {
	return ( viewZ + near ) / ( near - far );
}
float orthographicDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return depth * ( near - far ) - near;
}
float viewZToPerspectiveDepth( const in float viewZ, const in float near, const in float far ) {
	return ( ( near + viewZ ) * far ) / ( ( far - near ) * viewZ );
}
float perspectiveDepthToViewZ( const in float depth, const in float near, const in float far ) {
	return ( near * far ) / ( ( far - near ) * depth - far );
}`,Rre=`#ifdef PREMULTIPLIED_ALPHA
	gl_FragColor.rgb *= gl_FragColor.a;
#endif`,Ore=`vec4 mvPosition = vec4( transformed, 1.0 );
#ifdef USE_INSTANCING
	mvPosition = instanceMatrix * mvPosition;
#endif
mvPosition = modelViewMatrix * mvPosition;
gl_Position = projectionMatrix * mvPosition;`,Lre=`#ifdef DITHERING
	gl_FragColor.rgb = dithering( gl_FragColor.rgb );
#endif`,Ire=`#ifdef DITHERING
	vec3 dithering( vec3 color ) {
		float grid_position = rand( gl_FragCoord.xy );
		vec3 dither_shift_RGB = vec3( 0.25 / 255.0, -0.25 / 255.0, 0.25 / 255.0 );
		dither_shift_RGB = mix( 2.0 * dither_shift_RGB, -2.0 * dither_shift_RGB, grid_position );
		return color + dither_shift_RGB;
	}
#endif`,jre=`float roughnessFactor = roughness;
#ifdef USE_ROUGHNESSMAP
	vec4 texelRoughness = texture2D( roughnessMap, vRoughnessMapUv );
	roughnessFactor *= texelRoughness.g;
#endif`,kre=`#ifdef USE_ROUGHNESSMAP
	uniform sampler2D roughnessMap;
#endif`,Dre=`#if NUM_SPOT_LIGHT_COORDS > 0
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#if NUM_SPOT_LIGHT_MAPS > 0
	uniform sampler2D spotLightMap[ NUM_SPOT_LIGHT_MAPS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform sampler2D directionalShadowMap[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		uniform sampler2D spotShadowMap[ NUM_SPOT_LIGHT_SHADOWS ];
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform sampler2D pointShadowMap[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
	float texture2DCompare( sampler2D depths, vec2 uv, float compare ) {
		return step( compare, unpackRGBAToDepth( texture2D( depths, uv ) ) );
	}
	vec2 texture2DDistribution( sampler2D shadow, vec2 uv ) {
		return unpackRGBATo2Half( texture2D( shadow, uv ) );
	}
	float VSMShadow (sampler2D shadow, vec2 uv, float compare ){
		float occlusion = 1.0;
		vec2 distribution = texture2DDistribution( shadow, uv );
		float hard_shadow = step( compare , distribution.x );
		if (hard_shadow != 1.0 ) {
			float distance = compare - distribution.x ;
			float variance = max( 0.00000, distribution.y * distribution.y );
			float softness_probability = variance / (variance + distance * distance );			softness_probability = clamp( ( softness_probability - 0.3 ) / ( 0.95 - 0.3 ), 0.0, 1.0 );			occlusion = clamp( max( hard_shadow, softness_probability ), 0.0, 1.0 );
		}
		return occlusion;
	}
	float getShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord ) {
		float shadow = 1.0;
		shadowCoord.xyz /= shadowCoord.w;
		shadowCoord.z += shadowBias;
		bool inFrustum = shadowCoord.x >= 0.0 && shadowCoord.x <= 1.0 && shadowCoord.y >= 0.0 && shadowCoord.y <= 1.0;
		bool frustumTest = inFrustum && shadowCoord.z <= 1.0;
		if ( frustumTest ) {
		#if defined( SHADOWMAP_TYPE_PCF )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx0 = - texelSize.x * shadowRadius;
			float dy0 = - texelSize.y * shadowRadius;
			float dx1 = + texelSize.x * shadowRadius;
			float dy1 = + texelSize.y * shadowRadius;
			float dx2 = dx0 / 2.0;
			float dy2 = dy0 / 2.0;
			float dx3 = dx1 / 2.0;
			float dy3 = dy1 / 2.0;
			shadow = (
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy2 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx2, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx3, dy3 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( 0.0, dy1 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, shadowCoord.xy + vec2( dx1, dy1 ), shadowCoord.z )
			) * ( 1.0 / 17.0 );
		#elif defined( SHADOWMAP_TYPE_PCF_SOFT )
			vec2 texelSize = vec2( 1.0 ) / shadowMapSize;
			float dx = texelSize.x;
			float dy = texelSize.y;
			vec2 uv = shadowCoord.xy;
			vec2 f = fract( uv * shadowMapSize + 0.5 );
			uv -= f * texelSize;
			shadow = (
				texture2DCompare( shadowMap, uv, shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( dx, 0.0 ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + vec2( 0.0, dy ), shadowCoord.z ) +
				texture2DCompare( shadowMap, uv + texelSize, shadowCoord.z ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, 0.0 ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 0.0 ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( -dx, dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, dy ), shadowCoord.z ),
					 f.x ) +
				mix( texture2DCompare( shadowMap, uv + vec2( 0.0, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( 0.0, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( texture2DCompare( shadowMap, uv + vec2( dx, -dy ), shadowCoord.z ),
					 texture2DCompare( shadowMap, uv + vec2( dx, 2.0 * dy ), shadowCoord.z ),
					 f.y ) +
				mix( mix( texture2DCompare( shadowMap, uv + vec2( -dx, -dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, -dy ), shadowCoord.z ),
						  f.x ),
					 mix( texture2DCompare( shadowMap, uv + vec2( -dx, 2.0 * dy ), shadowCoord.z ),
						  texture2DCompare( shadowMap, uv + vec2( 2.0 * dx, 2.0 * dy ), shadowCoord.z ),
						  f.x ),
					 f.y )
			) * ( 1.0 / 9.0 );
		#elif defined( SHADOWMAP_TYPE_VSM )
			shadow = VSMShadow( shadowMap, shadowCoord.xy, shadowCoord.z );
		#else
			shadow = texture2DCompare( shadowMap, shadowCoord.xy, shadowCoord.z );
		#endif
		}
		return shadow;
	}
	vec2 cubeToUV( vec3 v, float texelSizeY ) {
		vec3 absV = abs( v );
		float scaleToCube = 1.0 / max( absV.x, max( absV.y, absV.z ) );
		absV *= scaleToCube;
		v *= scaleToCube * ( 1.0 - 2.0 * texelSizeY );
		vec2 planar = v.xy;
		float almostATexel = 1.5 * texelSizeY;
		float almostOne = 1.0 - almostATexel;
		if ( absV.z >= almostOne ) {
			if ( v.z > 0.0 )
				planar.x = 4.0 - v.x;
		} else if ( absV.x >= almostOne ) {
			float signX = sign( v.x );
			planar.x = v.z * signX + 2.0 * signX;
		} else if ( absV.y >= almostOne ) {
			float signY = sign( v.y );
			planar.x = v.x + 2.0 * signY + 2.0;
			planar.y = v.z * signY - 2.0;
		}
		return vec2( 0.125, 0.25 ) * planar + vec2( 0.375, 0.75 );
	}
	float getPointShadow( sampler2D shadowMap, vec2 shadowMapSize, float shadowBias, float shadowRadius, vec4 shadowCoord, float shadowCameraNear, float shadowCameraFar ) {
		vec2 texelSize = vec2( 1.0 ) / ( shadowMapSize * vec2( 4.0, 2.0 ) );
		vec3 lightToPosition = shadowCoord.xyz;
		float dp = ( length( lightToPosition ) - shadowCameraNear ) / ( shadowCameraFar - shadowCameraNear );		dp += shadowBias;
		vec3 bd3D = normalize( lightToPosition );
		#if defined( SHADOWMAP_TYPE_PCF ) || defined( SHADOWMAP_TYPE_PCF_SOFT ) || defined( SHADOWMAP_TYPE_VSM )
			vec2 offset = vec2( - 1, 1 ) * shadowRadius * texelSize.y;
			return (
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yyx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxy, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.xxx, texelSize.y ), dp ) +
				texture2DCompare( shadowMap, cubeToUV( bd3D + offset.yxx, texelSize.y ), dp )
			) * ( 1.0 / 9.0 );
		#else
			return texture2DCompare( shadowMap, cubeToUV( bd3D, texelSize.y ), dp );
		#endif
	}
#endif`,Ure=`#if NUM_SPOT_LIGHT_COORDS > 0
	uniform mat4 spotLightMatrix[ NUM_SPOT_LIGHT_COORDS ];
	varying vec4 vSpotLightCoord[ NUM_SPOT_LIGHT_COORDS ];
#endif
#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
		uniform mat4 directionalShadowMatrix[ NUM_DIR_LIGHT_SHADOWS ];
		varying vec4 vDirectionalShadowCoord[ NUM_DIR_LIGHT_SHADOWS ];
		struct DirectionalLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform DirectionalLightShadow directionalLightShadows[ NUM_DIR_LIGHT_SHADOWS ];
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
		struct SpotLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
		};
		uniform SpotLightShadow spotLightShadows[ NUM_SPOT_LIGHT_SHADOWS ];
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		uniform mat4 pointShadowMatrix[ NUM_POINT_LIGHT_SHADOWS ];
		varying vec4 vPointShadowCoord[ NUM_POINT_LIGHT_SHADOWS ];
		struct PointLightShadow {
			float shadowBias;
			float shadowNormalBias;
			float shadowRadius;
			vec2 shadowMapSize;
			float shadowCameraNear;
			float shadowCameraFar;
		};
		uniform PointLightShadow pointLightShadows[ NUM_POINT_LIGHT_SHADOWS ];
	#endif
#endif`,Fre=`#if ( defined( USE_SHADOWMAP ) && ( NUM_DIR_LIGHT_SHADOWS > 0 || NUM_POINT_LIGHT_SHADOWS > 0 ) ) || ( NUM_SPOT_LIGHT_COORDS > 0 )
	vec3 shadowWorldNormal = inverseTransformDirection( transformedNormal, viewMatrix );
	vec4 shadowWorldPosition;
#endif
#if defined( USE_SHADOWMAP )
	#if NUM_DIR_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * directionalLightShadows[ i ].shadowNormalBias, 0 );
			vDirectionalShadowCoord[ i ] = directionalShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
		#pragma unroll_loop_start
		for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
			shadowWorldPosition = worldPosition + vec4( shadowWorldNormal * pointLightShadows[ i ].shadowNormalBias, 0 );
			vPointShadowCoord[ i ] = pointShadowMatrix[ i ] * shadowWorldPosition;
		}
		#pragma unroll_loop_end
	#endif
#endif
#if NUM_SPOT_LIGHT_COORDS > 0
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_COORDS; i ++ ) {
		shadowWorldPosition = worldPosition;
		#if ( defined( USE_SHADOWMAP ) && UNROLLED_LOOP_INDEX < NUM_SPOT_LIGHT_SHADOWS )
			shadowWorldPosition.xyz += shadowWorldNormal * spotLightShadows[ i ].shadowNormalBias;
		#endif
		vSpotLightCoord[ i ] = spotLightMatrix[ i ] * shadowWorldPosition;
	}
	#pragma unroll_loop_end
#endif`,Bre=`float getShadowMask() {
	float shadow = 1.0;
	#ifdef USE_SHADOWMAP
	#if NUM_DIR_LIGHT_SHADOWS > 0
	DirectionalLightShadow directionalLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_DIR_LIGHT_SHADOWS; i ++ ) {
		directionalLight = directionalLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( directionalShadowMap[ i ], directionalLight.shadowMapSize, directionalLight.shadowBias, directionalLight.shadowRadius, vDirectionalShadowCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_SPOT_LIGHT_SHADOWS > 0
	SpotLightShadow spotLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_SPOT_LIGHT_SHADOWS; i ++ ) {
		spotLight = spotLightShadows[ i ];
		shadow *= receiveShadow ? getShadow( spotShadowMap[ i ], spotLight.shadowMapSize, spotLight.shadowBias, spotLight.shadowRadius, vSpotLightCoord[ i ] ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#if NUM_POINT_LIGHT_SHADOWS > 0
	PointLightShadow pointLight;
	#pragma unroll_loop_start
	for ( int i = 0; i < NUM_POINT_LIGHT_SHADOWS; i ++ ) {
		pointLight = pointLightShadows[ i ];
		shadow *= receiveShadow ? getPointShadow( pointShadowMap[ i ], pointLight.shadowMapSize, pointLight.shadowBias, pointLight.shadowRadius, vPointShadowCoord[ i ], pointLight.shadowCameraNear, pointLight.shadowCameraFar ) : 1.0;
	}
	#pragma unroll_loop_end
	#endif
	#endif
	return shadow;
}`,zre=`#ifdef USE_SKINNING
	mat4 boneMatX = getBoneMatrix( skinIndex.x );
	mat4 boneMatY = getBoneMatrix( skinIndex.y );
	mat4 boneMatZ = getBoneMatrix( skinIndex.z );
	mat4 boneMatW = getBoneMatrix( skinIndex.w );
#endif`,Vre=`#ifdef USE_SKINNING
	uniform mat4 bindMatrix;
	uniform mat4 bindMatrixInverse;
	uniform highp sampler2D boneTexture;
	uniform int boneTextureSize;
	mat4 getBoneMatrix( const in float i ) {
		float j = i * 4.0;
		float x = mod( j, float( boneTextureSize ) );
		float y = floor( j / float( boneTextureSize ) );
		float dx = 1.0 / float( boneTextureSize );
		float dy = 1.0 / float( boneTextureSize );
		y = dy * ( y + 0.5 );
		vec4 v1 = texture2D( boneTexture, vec2( dx * ( x + 0.5 ), y ) );
		vec4 v2 = texture2D( boneTexture, vec2( dx * ( x + 1.5 ), y ) );
		vec4 v3 = texture2D( boneTexture, vec2( dx * ( x + 2.5 ), y ) );
		vec4 v4 = texture2D( boneTexture, vec2( dx * ( x + 3.5 ), y ) );
		mat4 bone = mat4( v1, v2, v3, v4 );
		return bone;
	}
#endif`,Hre=`#ifdef USE_SKINNING
	vec4 skinVertex = bindMatrix * vec4( transformed, 1.0 );
	vec4 skinned = vec4( 0.0 );
	skinned += boneMatX * skinVertex * skinWeight.x;
	skinned += boneMatY * skinVertex * skinWeight.y;
	skinned += boneMatZ * skinVertex * skinWeight.z;
	skinned += boneMatW * skinVertex * skinWeight.w;
	transformed = ( bindMatrixInverse * skinned ).xyz;
#endif`,$re=`#ifdef USE_SKINNING
	mat4 skinMatrix = mat4( 0.0 );
	skinMatrix += skinWeight.x * boneMatX;
	skinMatrix += skinWeight.y * boneMatY;
	skinMatrix += skinWeight.z * boneMatZ;
	skinMatrix += skinWeight.w * boneMatW;
	skinMatrix = bindMatrixInverse * skinMatrix * bindMatrix;
	objectNormal = vec4( skinMatrix * vec4( objectNormal, 0.0 ) ).xyz;
	#ifdef USE_TANGENT
		objectTangent = vec4( skinMatrix * vec4( objectTangent, 0.0 ) ).xyz;
	#endif
#endif`,Wre=`float specularStrength;
#ifdef USE_SPECULARMAP
	vec4 texelSpecular = texture2D( specularMap, vSpecularMapUv );
	specularStrength = texelSpecular.r;
#else
	specularStrength = 1.0;
#endif`,Gre=`#ifdef USE_SPECULARMAP
	uniform sampler2D specularMap;
#endif`,Xre=`#if defined( TONE_MAPPING )
	gl_FragColor.rgb = toneMapping( gl_FragColor.rgb );
#endif`,qre=`#ifndef saturate
#define saturate( a ) clamp( a, 0.0, 1.0 )
#endif
uniform float toneMappingExposure;
vec3 LinearToneMapping( vec3 color ) {
	return saturate( toneMappingExposure * color );
}
vec3 ReinhardToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	return saturate( color / ( vec3( 1.0 ) + color ) );
}
vec3 OptimizedCineonToneMapping( vec3 color ) {
	color *= toneMappingExposure;
	color = max( vec3( 0.0 ), color - 0.004 );
	return pow( ( color * ( 6.2 * color + 0.5 ) ) / ( color * ( 6.2 * color + 1.7 ) + 0.06 ), vec3( 2.2 ) );
}
vec3 RRTAndODTFit( vec3 v ) {
	vec3 a = v * ( v + 0.0245786 ) - 0.000090537;
	vec3 b = v * ( 0.983729 * v + 0.4329510 ) + 0.238081;
	return a / b;
}
vec3 ACESFilmicToneMapping( vec3 color ) {
	const mat3 ACESInputMat = mat3(
		vec3( 0.59719, 0.07600, 0.02840 ),		vec3( 0.35458, 0.90834, 0.13383 ),
		vec3( 0.04823, 0.01566, 0.83777 )
	);
	const mat3 ACESOutputMat = mat3(
		vec3(  1.60475, -0.10208, -0.00327 ),		vec3( -0.53108,  1.10813, -0.07276 ),
		vec3( -0.07367, -0.00605,  1.07602 )
	);
	color *= toneMappingExposure / 0.6;
	color = ACESInputMat * color;
	color = RRTAndODTFit( color );
	color = ACESOutputMat * color;
	return saturate( color );
}
vec3 CustomToneMapping( vec3 color ) { return color; }`,Yre=`#ifdef USE_TRANSMISSION
	material.transmission = transmission;
	material.transmissionAlpha = 1.0;
	material.thickness = thickness;
	material.attenuationDistance = attenuationDistance;
	material.attenuationColor = attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		material.transmission *= texture2D( transmissionMap, vTransmissionMapUv ).r;
	#endif
	#ifdef USE_THICKNESSMAP
		material.thickness *= texture2D( thicknessMap, vThicknessMapUv ).g;
	#endif
	vec3 pos = vWorldPosition;
	vec3 v = normalize( cameraPosition - pos );
	vec3 n = inverseTransformDirection( normal, viewMatrix );
	vec4 transmitted = getIBLVolumeRefraction(
		n, v, material.roughness, material.diffuseColor, material.specularColor, material.specularF90,
		pos, modelMatrix, viewMatrix, projectionMatrix, material.ior, material.thickness,
		material.attenuationColor, material.attenuationDistance );
	material.transmissionAlpha = mix( material.transmissionAlpha, transmitted.a, material.transmission );
	totalDiffuse = mix( totalDiffuse, transmitted.rgb, material.transmission );
#endif`,Kre=`#ifdef USE_TRANSMISSION
	uniform float transmission;
	uniform float thickness;
	uniform float attenuationDistance;
	uniform vec3 attenuationColor;
	#ifdef USE_TRANSMISSIONMAP
		uniform sampler2D transmissionMap;
	#endif
	#ifdef USE_THICKNESSMAP
		uniform sampler2D thicknessMap;
	#endif
	uniform vec2 transmissionSamplerSize;
	uniform sampler2D transmissionSamplerMap;
	uniform mat4 modelMatrix;
	uniform mat4 projectionMatrix;
	varying vec3 vWorldPosition;
	float w0( float a ) {
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - a + 3.0 ) - 3.0 ) + 1.0 );
	}
	float w1( float a ) {
		return ( 1.0 / 6.0 ) * ( a *  a * ( 3.0 * a - 6.0 ) + 4.0 );
	}
	float w2( float a ){
		return ( 1.0 / 6.0 ) * ( a * ( a * ( - 3.0 * a + 3.0 ) + 3.0 ) + 1.0 );
	}
	float w3( float a ) {
		return ( 1.0 / 6.0 ) * ( a * a * a );
	}
	float g0( float a ) {
		return w0( a ) + w1( a );
	}
	float g1( float a ) {
		return w2( a ) + w3( a );
	}
	float h0( float a ) {
		return - 1.0 + w1( a ) / ( w0( a ) + w1( a ) );
	}
	float h1( float a ) {
		return 1.0 + w3( a ) / ( w2( a ) + w3( a ) );
	}
	vec4 bicubic( sampler2D tex, vec2 uv, vec4 texelSize, float lod ) {
		uv = uv * texelSize.zw + 0.5;
		vec2 iuv = floor( uv );
		vec2 fuv = fract( uv );
		float g0x = g0( fuv.x );
		float g1x = g1( fuv.x );
		float h0x = h0( fuv.x );
		float h1x = h1( fuv.x );
		float h0y = h0( fuv.y );
		float h1y = h1( fuv.y );
		vec2 p0 = ( vec2( iuv.x + h0x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p1 = ( vec2( iuv.x + h1x, iuv.y + h0y ) - 0.5 ) * texelSize.xy;
		vec2 p2 = ( vec2( iuv.x + h0x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		vec2 p3 = ( vec2( iuv.x + h1x, iuv.y + h1y ) - 0.5 ) * texelSize.xy;
		return g0( fuv.y ) * ( g0x * textureLod( tex, p0, lod ) + g1x * textureLod( tex, p1, lod ) ) +
			g1( fuv.y ) * ( g0x * textureLod( tex, p2, lod ) + g1x * textureLod( tex, p3, lod ) );
	}
	vec4 textureBicubic( sampler2D sampler, vec2 uv, float lod ) {
		vec2 fLodSize = vec2( textureSize( sampler, int( lod ) ) );
		vec2 cLodSize = vec2( textureSize( sampler, int( lod + 1.0 ) ) );
		vec2 fLodSizeInv = 1.0 / fLodSize;
		vec2 cLodSizeInv = 1.0 / cLodSize;
		vec4 fSample = bicubic( sampler, uv, vec4( fLodSizeInv, fLodSize ), floor( lod ) );
		vec4 cSample = bicubic( sampler, uv, vec4( cLodSizeInv, cLodSize ), ceil( lod ) );
		return mix( fSample, cSample, fract( lod ) );
	}
	vec3 getVolumeTransmissionRay( const in vec3 n, const in vec3 v, const in float thickness, const in float ior, const in mat4 modelMatrix ) {
		vec3 refractionVector = refract( - v, normalize( n ), 1.0 / ior );
		vec3 modelScale;
		modelScale.x = length( vec3( modelMatrix[ 0 ].xyz ) );
		modelScale.y = length( vec3( modelMatrix[ 1 ].xyz ) );
		modelScale.z = length( vec3( modelMatrix[ 2 ].xyz ) );
		return normalize( refractionVector ) * thickness * modelScale;
	}
	float applyIorToRoughness( const in float roughness, const in float ior ) {
		return roughness * clamp( ior * 2.0 - 2.0, 0.0, 1.0 );
	}
	vec4 getTransmissionSample( const in vec2 fragCoord, const in float roughness, const in float ior ) {
		float lod = log2( transmissionSamplerSize.x ) * applyIorToRoughness( roughness, ior );
		return textureBicubic( transmissionSamplerMap, fragCoord.xy, lod );
	}
	vec3 volumeAttenuation( const in float transmissionDistance, const in vec3 attenuationColor, const in float attenuationDistance ) {
		if ( isinf( attenuationDistance ) ) {
			return vec3( 1.0 );
		} else {
			vec3 attenuationCoefficient = -log( attenuationColor ) / attenuationDistance;
			vec3 transmittance = exp( - attenuationCoefficient * transmissionDistance );			return transmittance;
		}
	}
	vec4 getIBLVolumeRefraction( const in vec3 n, const in vec3 v, const in float roughness, const in vec3 diffuseColor,
		const in vec3 specularColor, const in float specularF90, const in vec3 position, const in mat4 modelMatrix,
		const in mat4 viewMatrix, const in mat4 projMatrix, const in float ior, const in float thickness,
		const in vec3 attenuationColor, const in float attenuationDistance ) {
		vec3 transmissionRay = getVolumeTransmissionRay( n, v, thickness, ior, modelMatrix );
		vec3 refractedRayExit = position + transmissionRay;
		vec4 ndcPos = projMatrix * viewMatrix * vec4( refractedRayExit, 1.0 );
		vec2 refractionCoords = ndcPos.xy / ndcPos.w;
		refractionCoords += 1.0;
		refractionCoords /= 2.0;
		vec4 transmittedLight = getTransmissionSample( refractionCoords, roughness, ior );
		vec3 transmittance = diffuseColor * volumeAttenuation( length( transmissionRay ), attenuationColor, attenuationDistance );
		vec3 attenuatedColor = transmittance * transmittedLight.rgb;
		vec3 F = EnvironmentBRDF( n, v, specularColor, specularF90, roughness );
		float transmittanceFactor = ( transmittance.r + transmittance.g + transmittance.b ) / 3.0;
		return vec4( ( 1.0 - F ) * attenuatedColor, 1.0 - ( 1.0 - transmittedLight.a ) * transmittanceFactor );
	}
#endif`,Zre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_SPECULARMAP
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Jre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	varying vec2 vUv;
#endif
#ifdef USE_MAP
	uniform mat3 mapTransform;
	varying vec2 vMapUv;
#endif
#ifdef USE_ALPHAMAP
	uniform mat3 alphaMapTransform;
	varying vec2 vAlphaMapUv;
#endif
#ifdef USE_LIGHTMAP
	uniform mat3 lightMapTransform;
	varying vec2 vLightMapUv;
#endif
#ifdef USE_AOMAP
	uniform mat3 aoMapTransform;
	varying vec2 vAoMapUv;
#endif
#ifdef USE_BUMPMAP
	uniform mat3 bumpMapTransform;
	varying vec2 vBumpMapUv;
#endif
#ifdef USE_NORMALMAP
	uniform mat3 normalMapTransform;
	varying vec2 vNormalMapUv;
#endif
#ifdef USE_DISPLACEMENTMAP
	uniform mat3 displacementMapTransform;
	varying vec2 vDisplacementMapUv;
#endif
#ifdef USE_EMISSIVEMAP
	uniform mat3 emissiveMapTransform;
	varying vec2 vEmissiveMapUv;
#endif
#ifdef USE_METALNESSMAP
	uniform mat3 metalnessMapTransform;
	varying vec2 vMetalnessMapUv;
#endif
#ifdef USE_ROUGHNESSMAP
	uniform mat3 roughnessMapTransform;
	varying vec2 vRoughnessMapUv;
#endif
#ifdef USE_ANISOTROPYMAP
	uniform mat3 anisotropyMapTransform;
	varying vec2 vAnisotropyMapUv;
#endif
#ifdef USE_CLEARCOATMAP
	uniform mat3 clearcoatMapTransform;
	varying vec2 vClearcoatMapUv;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	uniform mat3 clearcoatNormalMapTransform;
	varying vec2 vClearcoatNormalMapUv;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	uniform mat3 clearcoatRoughnessMapTransform;
	varying vec2 vClearcoatRoughnessMapUv;
#endif
#ifdef USE_SHEEN_COLORMAP
	uniform mat3 sheenColorMapTransform;
	varying vec2 vSheenColorMapUv;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	uniform mat3 sheenRoughnessMapTransform;
	varying vec2 vSheenRoughnessMapUv;
#endif
#ifdef USE_IRIDESCENCEMAP
	uniform mat3 iridescenceMapTransform;
	varying vec2 vIridescenceMapUv;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	uniform mat3 iridescenceThicknessMapTransform;
	varying vec2 vIridescenceThicknessMapUv;
#endif
#ifdef USE_SPECULARMAP
	uniform mat3 specularMapTransform;
	varying vec2 vSpecularMapUv;
#endif
#ifdef USE_SPECULAR_COLORMAP
	uniform mat3 specularColorMapTransform;
	varying vec2 vSpecularColorMapUv;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	uniform mat3 specularIntensityMapTransform;
	varying vec2 vSpecularIntensityMapUv;
#endif
#ifdef USE_TRANSMISSIONMAP
	uniform mat3 transmissionMapTransform;
	varying vec2 vTransmissionMapUv;
#endif
#ifdef USE_THICKNESSMAP
	uniform mat3 thicknessMapTransform;
	varying vec2 vThicknessMapUv;
#endif`,Qre=`#if defined( USE_UV ) || defined( USE_ANISOTROPY )
	vUv = vec3( uv, 1 ).xy;
#endif
#ifdef USE_MAP
	vMapUv = ( mapTransform * vec3( MAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ALPHAMAP
	vAlphaMapUv = ( alphaMapTransform * vec3( ALPHAMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_LIGHTMAP
	vLightMapUv = ( lightMapTransform * vec3( LIGHTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_AOMAP
	vAoMapUv = ( aoMapTransform * vec3( AOMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_BUMPMAP
	vBumpMapUv = ( bumpMapTransform * vec3( BUMPMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_NORMALMAP
	vNormalMapUv = ( normalMapTransform * vec3( NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_DISPLACEMENTMAP
	vDisplacementMapUv = ( displacementMapTransform * vec3( DISPLACEMENTMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_EMISSIVEMAP
	vEmissiveMapUv = ( emissiveMapTransform * vec3( EMISSIVEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_METALNESSMAP
	vMetalnessMapUv = ( metalnessMapTransform * vec3( METALNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ROUGHNESSMAP
	vRoughnessMapUv = ( roughnessMapTransform * vec3( ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_ANISOTROPYMAP
	vAnisotropyMapUv = ( anisotropyMapTransform * vec3( ANISOTROPYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOATMAP
	vClearcoatMapUv = ( clearcoatMapTransform * vec3( CLEARCOATMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_NORMALMAP
	vClearcoatNormalMapUv = ( clearcoatNormalMapTransform * vec3( CLEARCOAT_NORMALMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_CLEARCOAT_ROUGHNESSMAP
	vClearcoatRoughnessMapUv = ( clearcoatRoughnessMapTransform * vec3( CLEARCOAT_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCEMAP
	vIridescenceMapUv = ( iridescenceMapTransform * vec3( IRIDESCENCEMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_IRIDESCENCE_THICKNESSMAP
	vIridescenceThicknessMapUv = ( iridescenceThicknessMapTransform * vec3( IRIDESCENCE_THICKNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_COLORMAP
	vSheenColorMapUv = ( sheenColorMapTransform * vec3( SHEEN_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SHEEN_ROUGHNESSMAP
	vSheenRoughnessMapUv = ( sheenRoughnessMapTransform * vec3( SHEEN_ROUGHNESSMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULARMAP
	vSpecularMapUv = ( specularMapTransform * vec3( SPECULARMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_COLORMAP
	vSpecularColorMapUv = ( specularColorMapTransform * vec3( SPECULAR_COLORMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_SPECULAR_INTENSITYMAP
	vSpecularIntensityMapUv = ( specularIntensityMapTransform * vec3( SPECULAR_INTENSITYMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_TRANSMISSIONMAP
	vTransmissionMapUv = ( transmissionMapTransform * vec3( TRANSMISSIONMAP_UV, 1 ) ).xy;
#endif
#ifdef USE_THICKNESSMAP
	vThicknessMapUv = ( thicknessMapTransform * vec3( THICKNESSMAP_UV, 1 ) ).xy;
#endif`,eie=`#if defined( USE_ENVMAP ) || defined( DISTANCE ) || defined ( USE_SHADOWMAP ) || defined ( USE_TRANSMISSION ) || NUM_SPOT_LIGHT_COORDS > 0
	vec4 worldPosition = vec4( transformed, 1.0 );
	#ifdef USE_INSTANCING
		worldPosition = instanceMatrix * worldPosition;
	#endif
	worldPosition = modelMatrix * worldPosition;
#endif`;const tie=`varying vec2 vUv;
uniform mat3 uvTransform;
void main() {
	vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	gl_Position = vec4( position.xy, 1.0, 1.0 );
}`,nie=`uniform sampler2D t2D;
uniform float backgroundIntensity;
varying vec2 vUv;
void main() {
	vec4 texColor = texture2D( t2D, vUv );
	#ifdef DECODE_VIDEO_TEXTURE
		texColor = vec4( mix( pow( texColor.rgb * 0.9478672986 + vec3( 0.0521327014 ), vec3( 2.4 ) ), texColor.rgb * 0.0773993808, vec3( lessThanEqual( texColor.rgb, vec3( 0.04045 ) ) ) ), texColor.w );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,rie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,iie=`#ifdef ENVMAP_TYPE_CUBE
	uniform samplerCube envMap;
#elif defined( ENVMAP_TYPE_CUBE_UV )
	uniform sampler2D envMap;
#endif
uniform float flipEnvMap;
uniform float backgroundBlurriness;
uniform float backgroundIntensity;
varying vec3 vWorldDirection;
#include <cube_uv_reflection_fragment>
void main() {
	#ifdef ENVMAP_TYPE_CUBE
		vec4 texColor = textureCube( envMap, vec3( flipEnvMap * vWorldDirection.x, vWorldDirection.yz ) );
	#elif defined( ENVMAP_TYPE_CUBE_UV )
		vec4 texColor = textureCubeUV( envMap, vWorldDirection, backgroundBlurriness );
	#else
		vec4 texColor = vec4( 0.0, 0.0, 0.0, 1.0 );
	#endif
	texColor.rgb *= backgroundIntensity;
	gl_FragColor = texColor;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,sie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
	gl_Position.z = gl_Position.w;
}`,aie=`uniform samplerCube tCube;
uniform float tFlip;
uniform float opacity;
varying vec3 vWorldDirection;
void main() {
	vec4 texColor = textureCube( tCube, vec3( tFlip * vWorldDirection.x, vWorldDirection.yz ) );
	gl_FragColor = texColor;
	gl_FragColor.a *= opacity;
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,oie=`#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
varying vec2 vHighPrecisionZW;
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vHighPrecisionZW = gl_Position.zw;
}`,lie=`#if DEPTH_PACKING == 3200
	uniform float opacity;
#endif
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
varying vec2 vHighPrecisionZW;
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#if DEPTH_PACKING == 3200
		diffuseColor.a = opacity;
	#endif
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <logdepthbuf_fragment>
	float fragCoordZ = 0.5 * vHighPrecisionZW[0] / vHighPrecisionZW[1] + 0.5;
	#if DEPTH_PACKING == 3200
		gl_FragColor = vec4( vec3( 1.0 - fragCoordZ ), opacity );
	#elif DEPTH_PACKING == 3201
		gl_FragColor = packDepthToRGBA( fragCoordZ );
	#endif
}`,cie=`#define DISTANCE
varying vec3 vWorldPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <skinbase_vertex>
	#ifdef USE_DISPLACEMENTMAP
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <worldpos_vertex>
	#include <clipping_planes_vertex>
	vWorldPosition = worldPosition.xyz;
}`,uie=`#define DISTANCE
uniform vec3 referencePosition;
uniform float nearDistance;
uniform float farDistance;
varying vec3 vWorldPosition;
#include <common>
#include <packing>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <clipping_planes_pars_fragment>
void main () {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( 1.0 );
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	float dist = length( vWorldPosition - referencePosition );
	dist = ( dist - nearDistance ) / ( farDistance - nearDistance );
	dist = saturate( dist );
	gl_FragColor = packDepthToRGBA( dist );
}`,fie=`varying vec3 vWorldDirection;
#include <common>
void main() {
	vWorldDirection = transformDirection( position, modelMatrix );
	#include <begin_vertex>
	#include <project_vertex>
}`,die=`uniform sampler2D tEquirect;
varying vec3 vWorldDirection;
#include <common>
void main() {
	vec3 direction = normalize( vWorldDirection );
	vec2 sampleUV = equirectUv( direction );
	gl_FragColor = texture2D( tEquirect, sampleUV );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
}`,hie=`uniform float scale;
attribute float lineDistance;
varying float vLineDistance;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	vLineDistance = scale * lineDistance;
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,pie=`uniform vec3 diffuse;
uniform float opacity;
uniform float dashSize;
uniform float totalSize;
varying float vLineDistance;
#include <common>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	if ( mod( vLineDistance, totalSize ) > dashSize ) {
		discard;
	}
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,mie=`#include <common>
#include <uv_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#if defined ( USE_ENVMAP ) || defined ( USE_SKINNING )
		#include <beginnormal_vertex>
		#include <morphnormal_vertex>
		#include <skinbase_vertex>
		#include <skinnormal_vertex>
		#include <defaultnormal_vertex>
	#endif
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <fog_vertex>
}`,gie=`uniform vec3 diffuse;
uniform float opacity;
#ifndef FLAT_SHADED
	varying vec3 vNormal;
#endif
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	#ifdef USE_LIGHTMAP
		vec4 lightMapTexel = texture2D( lightMap, vLightMapUv );
		reflectedLight.indirectDiffuse += lightMapTexel.rgb * lightMapIntensity * RECIPROCAL_PI;
	#else
		reflectedLight.indirectDiffuse += vec3( 1.0 );
	#endif
	#include <aomap_fragment>
	reflectedLight.indirectDiffuse *= diffuseColor.rgb;
	vec3 outgoingLight = reflectedLight.indirectDiffuse;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,vie=`#define LAMBERT
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,yie=`#define LAMBERT
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_lambert_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_lambert_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,xie=`#define MATCAP
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <color_pars_vertex>
#include <displacementmap_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
	vViewPosition = - mvPosition.xyz;
}`,bie=`#define MATCAP
uniform vec3 diffuse;
uniform float opacity;
uniform sampler2D matcap;
varying vec3 vViewPosition;
#include <common>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	vec3 viewDir = normalize( vViewPosition );
	vec3 x = normalize( vec3( viewDir.z, 0.0, - viewDir.x ) );
	vec3 y = cross( viewDir, x );
	vec2 uv = vec2( dot( x, normal ), dot( y, normal ) ) * 0.495 + 0.5;
	#ifdef USE_MATCAP
		vec4 matcapColor = texture2D( matcap, uv );
	#else
		vec4 matcapColor = vec4( vec3( mix( 0.2, 0.8, uv.y ) ), 1.0 );
	#endif
	vec3 outgoingLight = diffuseColor.rgb * matcapColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,_ie=`#define NORMAL
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	vViewPosition = - mvPosition.xyz;
#endif
}`,wie=`#define NORMAL
uniform float opacity;
#if defined( FLAT_SHADED ) || defined( USE_BUMPMAP ) || defined( USE_NORMALMAP_TANGENTSPACE )
	varying vec3 vViewPosition;
#endif
#include <packing>
#include <uv_pars_fragment>
#include <normal_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	#include <logdepthbuf_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	gl_FragColor = vec4( packNormalToRGB( normal ), opacity );
	#ifdef OPAQUE
		gl_FragColor.a = 1.0;
	#endif
}`,Sie=`#define PHONG
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <envmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <envmap_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Mie=`#define PHONG
uniform vec3 diffuse;
uniform vec3 emissive;
uniform vec3 specular;
uniform float shininess;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_phong_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <specularmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <specularmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_phong_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + reflectedLight.directSpecular + reflectedLight.indirectSpecular + totalEmissiveRadiance;
	#include <envmap_fragment>
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Eie=`#define STANDARD
varying vec3 vViewPosition;
#ifdef USE_TRANSMISSION
	varying vec3 vWorldPosition;
#endif
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
#ifdef USE_TRANSMISSION
	vWorldPosition = worldPosition.xyz;
#endif
}`,Tie=`#define STANDARD
#ifdef PHYSICAL
	#define IOR
	#define USE_SPECULAR
#endif
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float roughness;
uniform float metalness;
uniform float opacity;
#ifdef IOR
	uniform float ior;
#endif
#ifdef USE_SPECULAR
	uniform float specularIntensity;
	uniform vec3 specularColor;
	#ifdef USE_SPECULAR_COLORMAP
		uniform sampler2D specularColorMap;
	#endif
	#ifdef USE_SPECULAR_INTENSITYMAP
		uniform sampler2D specularIntensityMap;
	#endif
#endif
#ifdef USE_CLEARCOAT
	uniform float clearcoat;
	uniform float clearcoatRoughness;
#endif
#ifdef USE_IRIDESCENCE
	uniform float iridescence;
	uniform float iridescenceIOR;
	uniform float iridescenceThicknessMinimum;
	uniform float iridescenceThicknessMaximum;
#endif
#ifdef USE_SHEEN
	uniform vec3 sheenColor;
	uniform float sheenRoughness;
	#ifdef USE_SHEEN_COLORMAP
		uniform sampler2D sheenColorMap;
	#endif
	#ifdef USE_SHEEN_ROUGHNESSMAP
		uniform sampler2D sheenRoughnessMap;
	#endif
#endif
#ifdef USE_ANISOTROPY
	uniform vec2 anisotropyVector;
	#ifdef USE_ANISOTROPYMAP
		uniform sampler2D anisotropyMap;
	#endif
#endif
varying vec3 vViewPosition;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <iridescence_fragment>
#include <cube_uv_reflection_fragment>
#include <envmap_common_pars_fragment>
#include <envmap_physical_pars_fragment>
#include <fog_pars_fragment>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_physical_pars_fragment>
#include <transmission_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <clearcoat_pars_fragment>
#include <iridescence_pars_fragment>
#include <roughnessmap_pars_fragment>
#include <metalnessmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <roughnessmap_fragment>
	#include <metalnessmap_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <clearcoat_normal_fragment_begin>
	#include <clearcoat_normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_physical_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 totalDiffuse = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse;
	vec3 totalSpecular = reflectedLight.directSpecular + reflectedLight.indirectSpecular;
	#include <transmission_fragment>
	vec3 outgoingLight = totalDiffuse + totalSpecular + totalEmissiveRadiance;
	#ifdef USE_SHEEN
		float sheenEnergyComp = 1.0 - 0.157 * max3( material.sheenColor );
		outgoingLight = outgoingLight * sheenEnergyComp + sheenSpecular;
	#endif
	#ifdef USE_CLEARCOAT
		float dotNVcc = saturate( dot( geometryClearcoatNormal, geometryViewDir ) );
		vec3 Fcc = F_Schlick( material.clearcoatF0, material.clearcoatF90, dotNVcc );
		outgoingLight = outgoingLight * ( 1.0 - material.clearcoat * Fcc ) + clearcoatSpecular * material.clearcoat;
	#endif
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Aie=`#define TOON
varying vec3 vViewPosition;
#include <common>
#include <uv_pars_vertex>
#include <displacementmap_pars_vertex>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <normal_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <shadowmap_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <normal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <displacementmap_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	vViewPosition = - mvPosition.xyz;
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Pie=`#define TOON
uniform vec3 diffuse;
uniform vec3 emissive;
uniform float opacity;
#include <common>
#include <packing>
#include <dithering_pars_fragment>
#include <color_pars_fragment>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <aomap_pars_fragment>
#include <lightmap_pars_fragment>
#include <emissivemap_pars_fragment>
#include <gradientmap_pars_fragment>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <normal_pars_fragment>
#include <lights_toon_pars_fragment>
#include <shadowmap_pars_fragment>
#include <bumpmap_pars_fragment>
#include <normalmap_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec4 diffuseColor = vec4( diffuse, opacity );
	ReflectedLight reflectedLight = ReflectedLight( vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ), vec3( 0.0 ) );
	vec3 totalEmissiveRadiance = emissive;
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <color_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	#include <normal_fragment_begin>
	#include <normal_fragment_maps>
	#include <emissivemap_fragment>
	#include <lights_toon_fragment>
	#include <lights_fragment_begin>
	#include <lights_fragment_maps>
	#include <lights_fragment_end>
	#include <aomap_fragment>
	vec3 outgoingLight = reflectedLight.directDiffuse + reflectedLight.indirectDiffuse + totalEmissiveRadiance;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
	#include <dithering_fragment>
}`,Cie=`uniform float size;
uniform float scale;
#include <common>
#include <color_pars_vertex>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
#ifdef USE_POINTS_UV
	varying vec2 vUv;
	uniform mat3 uvTransform;
#endif
void main() {
	#ifdef USE_POINTS_UV
		vUv = ( uvTransform * vec3( uv, 1 ) ).xy;
	#endif
	#include <color_vertex>
	#include <morphcolor_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <project_vertex>
	gl_PointSize = size;
	#ifdef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) gl_PointSize *= ( scale / - mvPosition.z );
	#endif
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <worldpos_vertex>
	#include <fog_vertex>
}`,Nie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <color_pars_fragment>
#include <map_particle_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_particle_fragment>
	#include <color_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
	#include <premultiplied_alpha_fragment>
}`,Rie=`#include <common>
#include <fog_pars_vertex>
#include <morphtarget_pars_vertex>
#include <skinning_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <shadowmap_pars_vertex>
void main() {
	#include <beginnormal_vertex>
	#include <morphnormal_vertex>
	#include <skinbase_vertex>
	#include <skinnormal_vertex>
	#include <defaultnormal_vertex>
	#include <begin_vertex>
	#include <morphtarget_vertex>
	#include <skinning_vertex>
	#include <project_vertex>
	#include <logdepthbuf_vertex>
	#include <worldpos_vertex>
	#include <shadowmap_vertex>
	#include <fog_vertex>
}`,Oie=`uniform vec3 color;
uniform float opacity;
#include <common>
#include <packing>
#include <fog_pars_fragment>
#include <bsdfs>
#include <lights_pars_begin>
#include <logdepthbuf_pars_fragment>
#include <shadowmap_pars_fragment>
#include <shadowmask_pars_fragment>
void main() {
	#include <logdepthbuf_fragment>
	gl_FragColor = vec4( color, opacity * ( 1.0 - getShadowMask() ) );
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,Lie=`uniform float rotation;
uniform vec2 center;
#include <common>
#include <uv_pars_vertex>
#include <fog_pars_vertex>
#include <logdepthbuf_pars_vertex>
#include <clipping_planes_pars_vertex>
void main() {
	#include <uv_vertex>
	vec4 mvPosition = modelViewMatrix * vec4( 0.0, 0.0, 0.0, 1.0 );
	vec2 scale;
	scale.x = length( vec3( modelMatrix[ 0 ].x, modelMatrix[ 0 ].y, modelMatrix[ 0 ].z ) );
	scale.y = length( vec3( modelMatrix[ 1 ].x, modelMatrix[ 1 ].y, modelMatrix[ 1 ].z ) );
	#ifndef USE_SIZEATTENUATION
		bool isPerspective = isPerspectiveMatrix( projectionMatrix );
		if ( isPerspective ) scale *= - mvPosition.z;
	#endif
	vec2 alignedPosition = ( position.xy - ( center - vec2( 0.5 ) ) ) * scale;
	vec2 rotatedPosition;
	rotatedPosition.x = cos( rotation ) * alignedPosition.x - sin( rotation ) * alignedPosition.y;
	rotatedPosition.y = sin( rotation ) * alignedPosition.x + cos( rotation ) * alignedPosition.y;
	mvPosition.xy += rotatedPosition;
	gl_Position = projectionMatrix * mvPosition;
	#include <logdepthbuf_vertex>
	#include <clipping_planes_vertex>
	#include <fog_vertex>
}`,Iie=`uniform vec3 diffuse;
uniform float opacity;
#include <common>
#include <uv_pars_fragment>
#include <map_pars_fragment>
#include <alphamap_pars_fragment>
#include <alphatest_pars_fragment>
#include <alphahash_pars_fragment>
#include <fog_pars_fragment>
#include <logdepthbuf_pars_fragment>
#include <clipping_planes_pars_fragment>
void main() {
	#include <clipping_planes_fragment>
	vec3 outgoingLight = vec3( 0.0 );
	vec4 diffuseColor = vec4( diffuse, opacity );
	#include <logdepthbuf_fragment>
	#include <map_fragment>
	#include <alphamap_fragment>
	#include <alphatest_fragment>
	#include <alphahash_fragment>
	outgoingLight = diffuseColor.rgb;
	#include <opaque_fragment>
	#include <tonemapping_fragment>
	#include <colorspace_fragment>
	#include <fog_fragment>
}`,It={alphahash_fragment:ine,alphahash_pars_fragment:sne,alphamap_fragment:ane,alphamap_pars_fragment:one,alphatest_fragment:lne,alphatest_pars_fragment:cne,aomap_fragment:une,aomap_pars_fragment:fne,begin_vertex:dne,beginnormal_vertex:hne,bsdfs:pne,iridescence_fragment:mne,bumpmap_pars_fragment:gne,clipping_planes_fragment:vne,clipping_planes_pars_fragment:yne,clipping_planes_pars_vertex:xne,clipping_planes_vertex:bne,color_fragment:_ne,color_pars_fragment:wne,color_pars_vertex:Sne,color_vertex:Mne,common:Ene,cube_uv_reflection_fragment:Tne,defaultnormal_vertex:Ane,displacementmap_pars_vertex:Pne,displacementmap_vertex:Cne,emissivemap_fragment:Nne,emissivemap_pars_fragment:Rne,colorspace_fragment:One,colorspace_pars_fragment:Lne,envmap_fragment:Ine,envmap_common_pars_fragment:jne,envmap_pars_fragment:kne,envmap_pars_vertex:Dne,envmap_physical_pars_fragment:Yne,envmap_vertex:Une,fog_vertex:Fne,fog_pars_vertex:Bne,fog_fragment:zne,fog_pars_fragment:Vne,gradientmap_pars_fragment:Hne,lightmap_fragment:$ne,lightmap_pars_fragment:Wne,lights_lambert_fragment:Gne,lights_lambert_pars_fragment:Xne,lights_pars_begin:qne,lights_toon_fragment:Kne,lights_toon_pars_fragment:Zne,lights_phong_fragment:Jne,lights_phong_pars_fragment:Qne,lights_physical_fragment:ere,lights_physical_pars_fragment:tre,lights_fragment_begin:nre,lights_fragment_maps:rre,lights_fragment_end:ire,logdepthbuf_fragment:sre,logdepthbuf_pars_fragment:are,logdepthbuf_pars_vertex:ore,logdepthbuf_vertex:lre,map_fragment:cre,map_pars_fragment:ure,map_particle_fragment:fre,map_particle_pars_fragment:dre,metalnessmap_fragment:hre,metalnessmap_pars_fragment:pre,morphcolor_vertex:mre,morphnormal_vertex:gre,morphtarget_pars_vertex:vre,morphtarget_vertex:yre,normal_fragment_begin:xre,normal_fragment_maps:bre,normal_pars_fragment:_re,normal_pars_vertex:wre,normal_vertex:Sre,normalmap_pars_fragment:Mre,clearcoat_normal_fragment_begin:Ere,clearcoat_normal_fragment_maps:Tre,clearcoat_pars_fragment:Are,iridescence_pars_fragment:Pre,opaque_fragment:Cre,packing:Nre,premultiplied_alpha_fragment:Rre,project_vertex:Ore,dithering_fragment:Lre,dithering_pars_fragment:Ire,roughnessmap_fragment:jre,roughnessmap_pars_fragment:kre,shadowmap_pars_fragment:Dre,shadowmap_pars_vertex:Ure,shadowmap_vertex:Fre,shadowmask_pars_fragment:Bre,skinbase_vertex:zre,skinning_pars_vertex:Vre,skinning_vertex:Hre,skinnormal_vertex:$re,specularmap_fragment:Wre,specularmap_pars_fragment:Gre,tonemapping_fragment:Xre,tonemapping_pars_fragment:qre,transmission_fragment:Yre,transmission_pars_fragment:Kre,uv_pars_fragment:Zre,uv_pars_vertex:Jre,uv_vertex:Qre,worldpos_vertex:eie,background_vert:tie,background_frag:nie,backgroundCube_vert:rie,backgroundCube_frag:iie,cube_vert:sie,cube_frag:aie,depth_vert:oie,depth_frag:lie,distanceRGBA_vert:cie,distanceRGBA_frag:uie,equirect_vert:fie,equirect_frag:die,linedashed_vert:hie,linedashed_frag:pie,meshbasic_vert:mie,meshbasic_frag:gie,meshlambert_vert:vie,meshlambert_frag:yie,meshmatcap_vert:xie,meshmatcap_frag:bie,meshnormal_vert:_ie,meshnormal_frag:wie,meshphong_vert:Sie,meshphong_frag:Mie,meshphysical_vert:Eie,meshphysical_frag:Tie,meshtoon_vert:Aie,meshtoon_frag:Pie,points_vert:Cie,points_frag:Nie,shadow_vert:Rie,shadow_frag:Oie,sprite_vert:Lie,sprite_frag:Iie},rt={common:{diffuse:{value:new at(16777215)},opacity:{value:1},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}},specularmap:{specularMap:{value:null},specularMapTransform:{value:new Dt}},envmap:{envMap:{value:null},flipEnvMap:{value:-1},reflectivity:{value:1},ior:{value:1.5},refractionRatio:{value:.98}},aomap:{aoMap:{value:null},aoMapIntensity:{value:1},aoMapTransform:{value:new Dt}},lightmap:{lightMap:{value:null},lightMapIntensity:{value:1},lightMapTransform:{value:new Dt}},bumpmap:{bumpMap:{value:null},bumpMapTransform:{value:new Dt},bumpScale:{value:1}},normalmap:{normalMap:{value:null},normalMapTransform:{value:new Dt},normalScale:{value:new De(1,1)}},displacementmap:{displacementMap:{value:null},displacementMapTransform:{value:new Dt},displacementScale:{value:1},displacementBias:{value:0}},emissivemap:{emissiveMap:{value:null},emissiveMapTransform:{value:new Dt}},metalnessmap:{metalnessMap:{value:null},metalnessMapTransform:{value:new Dt}},roughnessmap:{roughnessMap:{value:null},roughnessMapTransform:{value:new Dt}},gradientmap:{gradientMap:{value:null}},fog:{fogDensity:{value:25e-5},fogNear:{value:1},fogFar:{value:2e3},fogColor:{value:new at(16777215)}},lights:{ambientLightColor:{value:[]},lightProbe:{value:[]},directionalLights:{value:[],properties:{direction:{},color:{}}},directionalLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},directionalShadowMap:{value:[]},directionalShadowMatrix:{value:[]},spotLights:{value:[],properties:{color:{},position:{},direction:{},distance:{},coneCos:{},penumbraCos:{},decay:{}}},spotLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{}}},spotLightMap:{value:[]},spotShadowMap:{value:[]},spotLightMatrix:{value:[]},pointLights:{value:[],properties:{color:{},position:{},decay:{},distance:{}}},pointLightShadows:{value:[],properties:{shadowBias:{},shadowNormalBias:{},shadowRadius:{},shadowMapSize:{},shadowCameraNear:{},shadowCameraFar:{}}},pointShadowMap:{value:[]},pointShadowMatrix:{value:[]},hemisphereLights:{value:[],properties:{direction:{},skyColor:{},groundColor:{}}},rectAreaLights:{value:[],properties:{color:{},position:{},width:{},height:{}}},ltc_1:{value:null},ltc_2:{value:null}},points:{diffuse:{value:new at(16777215)},opacity:{value:1},size:{value:1},scale:{value:1},map:{value:null},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0},uvTransform:{value:new Dt}},sprite:{diffuse:{value:new at(16777215)},opacity:{value:1},center:{value:new De(.5,.5)},rotation:{value:0},map:{value:null},mapTransform:{value:new Dt},alphaMap:{value:null},alphaMapTransform:{value:new Dt},alphaTest:{value:0}}},Pa={basic:{uniforms:Li([rt.common,rt.specularmap,rt.envmap,rt.aomap,rt.lightmap,rt.fog]),vertexShader:It.meshbasic_vert,fragmentShader:It.meshbasic_frag},lambert:{uniforms:Li([rt.common,rt.specularmap,rt.envmap,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.fog,rt.lights,{emissive:{value:new at(0)}}]),vertexShader:It.meshlambert_vert,fragmentShader:It.meshlambert_frag},phong:{uniforms:Li([rt.common,rt.specularmap,rt.envmap,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.fog,rt.lights,{emissive:{value:new at(0)},specular:{value:new at(1118481)},shininess:{value:30}}]),vertexShader:It.meshphong_vert,fragmentShader:It.meshphong_frag},standard:{uniforms:Li([rt.common,rt.envmap,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.roughnessmap,rt.metalnessmap,rt.fog,rt.lights,{emissive:{value:new at(0)},roughness:{value:1},metalness:{value:0},envMapIntensity:{value:1}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag},toon:{uniforms:Li([rt.common,rt.aomap,rt.lightmap,rt.emissivemap,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.gradientmap,rt.fog,rt.lights,{emissive:{value:new at(0)}}]),vertexShader:It.meshtoon_vert,fragmentShader:It.meshtoon_frag},matcap:{uniforms:Li([rt.common,rt.bumpmap,rt.normalmap,rt.displacementmap,rt.fog,{matcap:{value:null}}]),vertexShader:It.meshmatcap_vert,fragmentShader:It.meshmatcap_frag},points:{uniforms:Li([rt.points,rt.fog]),vertexShader:It.points_vert,fragmentShader:It.points_frag},dashed:{uniforms:Li([rt.common,rt.fog,{scale:{value:1},dashSize:{value:1},totalSize:{value:2}}]),vertexShader:It.linedashed_vert,fragmentShader:It.linedashed_frag},depth:{uniforms:Li([rt.common,rt.displacementmap]),vertexShader:It.depth_vert,fragmentShader:It.depth_frag},normal:{uniforms:Li([rt.common,rt.bumpmap,rt.normalmap,rt.displacementmap,{opacity:{value:1}}]),vertexShader:It.meshnormal_vert,fragmentShader:It.meshnormal_frag},sprite:{uniforms:Li([rt.sprite,rt.fog]),vertexShader:It.sprite_vert,fragmentShader:It.sprite_frag},background:{uniforms:{uvTransform:{value:new Dt},t2D:{value:null},backgroundIntensity:{value:1}},vertexShader:It.background_vert,fragmentShader:It.background_frag},backgroundCube:{uniforms:{envMap:{value:null},flipEnvMap:{value:-1},backgroundBlurriness:{value:0},backgroundIntensity:{value:1}},vertexShader:It.backgroundCube_vert,fragmentShader:It.backgroundCube_frag},cube:{uniforms:{tCube:{value:null},tFlip:{value:-1},opacity:{value:1}},vertexShader:It.cube_vert,fragmentShader:It.cube_frag},equirect:{uniforms:{tEquirect:{value:null}},vertexShader:It.equirect_vert,fragmentShader:It.equirect_frag},distanceRGBA:{uniforms:Li([rt.common,rt.displacementmap,{referencePosition:{value:new Z},nearDistance:{value:1},farDistance:{value:1e3}}]),vertexShader:It.distanceRGBA_vert,fragmentShader:It.distanceRGBA_frag},shadow:{uniforms:Li([rt.lights,rt.fog,{color:{value:new at(0)},opacity:{value:1}}]),vertexShader:It.shadow_vert,fragmentShader:It.shadow_frag}};Pa.physical={uniforms:Li([Pa.standard.uniforms,{clearcoat:{value:0},clearcoatMap:{value:null},clearcoatMapTransform:{value:new Dt},clearcoatNormalMap:{value:null},clearcoatNormalMapTransform:{value:new Dt},clearcoatNormalScale:{value:new De(1,1)},clearcoatRoughness:{value:0},clearcoatRoughnessMap:{value:null},clearcoatRoughnessMapTransform:{value:new Dt},iridescence:{value:0},iridescenceMap:{value:null},iridescenceMapTransform:{value:new Dt},iridescenceIOR:{value:1.3},iridescenceThicknessMinimum:{value:100},iridescenceThicknessMaximum:{value:400},iridescenceThicknessMap:{value:null},iridescenceThicknessMapTransform:{value:new Dt},sheen:{value:0},sheenColor:{value:new at(0)},sheenColorMap:{value:null},sheenColorMapTransform:{value:new Dt},sheenRoughness:{value:1},sheenRoughnessMap:{value:null},sheenRoughnessMapTransform:{value:new Dt},transmission:{value:0},transmissionMap:{value:null},transmissionMapTransform:{value:new Dt},transmissionSamplerSize:{value:new De},transmissionSamplerMap:{value:null},thickness:{value:0},thicknessMap:{value:null},thicknessMapTransform:{value:new Dt},attenuationDistance:{value:0},attenuationColor:{value:new at(0)},specularColor:{value:new at(1,1,1)},specularColorMap:{value:null},specularColorMapTransform:{value:new Dt},specularIntensity:{value:1},specularIntensityMap:{value:null},specularIntensityMapTransform:{value:new Dt},anisotropyVector:{value:new De},anisotropyMap:{value:null},anisotropyMapTransform:{value:new Dt}}]),vertexShader:It.meshphysical_vert,fragmentShader:It.meshphysical_frag};const Iy={r:0,b:0,g:0};function jie(t,e,n,r,i,s,a){const o=new at(0);let l=s===!0?0:1,c,u,f=null,d=0,p=null;function v(x,y){let w=!1,_=y.isScene===!0?y.background:null;_&&_.isTexture&&(_=(y.backgroundBlurriness>0?n:e).get(_)),_===null?b(o,l):_&&_.isColor&&(b(_,1),w=!0);const S=t.xr.getEnvironmentBlendMode();S==="additive"?r.buffers.color.setClear(0,0,0,1,a):S==="alpha-blend"&&r.buffers.color.setClear(0,0,0,0,a),(t.autoClear||w)&&t.clear(t.autoClearColor,t.autoClearDepth,t.autoClearStencil),_&&(_.isCubeTexture||_.mapping===Hh)?(u===void 0&&(u=new vr(new ff(1,1,1),new ca({name:"BackgroundCubeMaterial",uniforms:fh(Pa.backgroundCube.uniforms),vertexShader:Pa.backgroundCube.vertexShader,fragmentShader:Pa.backgroundCube.fragmentShader,side:bi,depthTest:!1,depthWrite:!1,fog:!1})),u.geometry.deleteAttribute("normal"),u.geometry.deleteAttribute("uv"),u.onBeforeRender=function(M,E,A){this.matrixWorld.copyPosition(A.matrixWorld)},Object.defineProperty(u.material,"envMap",{get:function(){return this.uniforms.envMap.value}}),i.update(u)),u.material.uniforms.envMap.value=_,u.material.uniforms.flipEnvMap.value=_.isCubeTexture&&_.isRenderTargetTexture===!1?-1:1,u.material.uniforms.backgroundBlurriness.value=y.backgroundBlurriness,u.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,u.material.toneMapped=dn.getTransfer(_.colorSpace)!==Sn,(f!==_||d!==_.version||p!==t.toneMapping)&&(u.material.needsUpdate=!0,f=_,d=_.version,p=t.toneMapping),u.layers.enableAll(),x.unshift(u,u.geometry,u.material,0,0,null)):_&&_.isTexture&&(c===void 0&&(c=new vr(new Tc(2,2),new ca({name:"BackgroundMaterial",uniforms:fh(Pa.background.uniforms),vertexShader:Pa.background.vertexShader,fragmentShader:Pa.background.fragmentShader,side:ll,depthTest:!1,depthWrite:!1,fog:!1})),c.geometry.deleteAttribute("normal"),Object.defineProperty(c.material,"map",{get:function(){return this.uniforms.t2D.value}}),i.update(c)),c.material.uniforms.t2D.value=_,c.material.uniforms.backgroundIntensity.value=y.backgroundIntensity,c.material.toneMapped=dn.getTransfer(_.colorSpace)!==Sn,_.matrixAutoUpdate===!0&&_.updateMatrix(),c.material.uniforms.uvTransform.value.copy(_.matrix),(f!==_||d!==_.version||p!==t.toneMapping)&&(c.material.needsUpdate=!0,f=_,d=_.version,p=t.toneMapping),c.layers.enableAll(),x.unshift(c,c.geometry,c.material,0,0,null))}function b(x,y){x.getRGB(Iy,w8(t)),r.buffers.color.setClear(Iy.r,Iy.g,Iy.b,y,a)}return{getClearColor:function(){return o},setClearColor:function(x,y=1){o.set(x),l=y,b(o,l)},getClearAlpha:function(){return l},setClearAlpha:function(x){l=x,b(o,l)},render:v}}function kie(t,e,n,r){const i=t.getParameter(t.MAX_VERTEX_ATTRIBS),s=r.isWebGL2?null:e.get("OES_vertex_array_object"),a=r.isWebGL2||s!==null,o={},l=x(null);let c=l,u=!1;function f(I,z,$,q,V){let U=!1;if(a){const W=b(q,$,z);c!==W&&(c=W,p(c.object)),U=y(I,q,$,V),U&&w(I,q,$,V)}else{const W=z.wireframe===!0;(c.geometry!==q.id||c.program!==$.id||c.wireframe!==W)&&(c.geometry=q.id,c.program=$.id,c.wireframe=W,U=!0)}V!==null&&n.update(V,t.ELEMENT_ARRAY_BUFFER),(U||u)&&(u=!1,C(I,z,$,q),V!==null&&t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,n.get(V).buffer))}function d(){return r.isWebGL2?t.createVertexArray():s.createVertexArrayOES()}function p(I){return r.isWebGL2?t.bindVertexArray(I):s.bindVertexArrayOES(I)}function v(I){return r.isWebGL2?t.deleteVertexArray(I):s.deleteVertexArrayOES(I)}function b(I,z,$){const q=$.wireframe===!0;let V=o[I.id];V===void 0&&(V={},o[I.id]=V);let U=V[z.id];U===void 0&&(U={},V[z.id]=U);let W=U[q];return W===void 0&&(W=x(d()),U[q]=W),W}function x(I){const z=[],$=[],q=[];for(let V=0;V<i;V++)z[V]=0,$[V]=0,q[V]=0;return{geometry:null,program:null,wireframe:!1,newAttributes:z,enabledAttributes:$,attributeDivisors:q,object:I,attributes:{},index:null}}function y(I,z,$,q){const V=c.attributes,U=z.attributes;let W=0;const k=$.getAttributes();for(const H in k)if(k[H].location>=0){const ne=V[H];let te=U[H];if(te===void 0&&(H==="instanceMatrix"&&I.instanceMatrix&&(te=I.instanceMatrix),H==="instanceColor"&&I.instanceColor&&(te=I.instanceColor)),ne===void 0||ne.attribute!==te||te&&ne.data!==te.data)return!0;W++}return c.attributesNum!==W||c.index!==q}function w(I,z,$,q){const V={},U=z.attributes;let W=0;const k=$.getAttributes();for(const H in k)if(k[H].location>=0){let ne=U[H];ne===void 0&&(H==="instanceMatrix"&&I.instanceMatrix&&(ne=I.instanceMatrix),H==="instanceColor"&&I.instanceColor&&(ne=I.instanceColor));const te={};te.attribute=ne,ne&&ne.data&&(te.data=ne.data),V[H]=te,W++}c.attributes=V,c.attributesNum=W,c.index=q}function _(){const I=c.newAttributes;for(let z=0,$=I.length;z<$;z++)I[z]=0}function S(I){M(I,0)}function M(I,z){const $=c.newAttributes,q=c.enabledAttributes,V=c.attributeDivisors;$[I]=1,q[I]===0&&(t.enableVertexAttribArray(I),q[I]=1),V[I]!==z&&((r.isWebGL2?t:e.get("ANGLE_instanced_arrays"))[r.isWebGL2?"vertexAttribDivisor":"vertexAttribDivisorANGLE"](I,z),V[I]=z)}function E(){const I=c.newAttributes,z=c.enabledAttributes;for(let $=0,q=z.length;$<q;$++)z[$]!==I[$]&&(t.disableVertexAttribArray($),z[$]=0)}function A(I,z,$,q,V,U,W){W===!0?t.vertexAttribIPointer(I,z,$,V,U):t.vertexAttribPointer(I,z,$,q,V,U)}function C(I,z,$,q){if(r.isWebGL2===!1&&(I.isInstancedMesh||q.isInstancedBufferGeometry)&&e.get("ANGLE_instanced_arrays")===null)return;_();const V=q.attributes,U=$.getAttributes(),W=z.defaultAttributeValues;for(const k in U){const H=U[k];if(H.location>=0){let K=V[k];if(K===void 0&&(k==="instanceMatrix"&&I.instanceMatrix&&(K=I.instanceMatrix),k==="instanceColor"&&I.instanceColor&&(K=I.instanceColor)),K!==void 0){const ne=K.normalized,te=K.itemSize,ae=n.get(K);if(ae===void 0)continue;const oe=ae.buffer,he=ae.type,fe=ae.bytesPerElement,Ce=r.isWebGL2===!0&&(he===t.INT||he===t.UNSIGNED_INT||K.gpuType===sN);if(K.isInterleavedBufferAttribute){const le=K.data,G=le.stride,me=K.offset;if(le.isInstancedInterleavedBuffer){for(let se=0;se<H.locationSize;se++)M(H.location+se,le.meshPerAttribute);I.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=le.meshPerAttribute*le.count)}else for(let se=0;se<H.locationSize;se++)S(H.location+se);t.bindBuffer(t.ARRAY_BUFFER,oe);for(let se=0;se<H.locationSize;se++)A(H.location+se,te/H.locationSize,he,ne,G*fe,(me+te/H.locationSize*se)*fe,Ce)}else{if(K.isInstancedBufferAttribute){for(let le=0;le<H.locationSize;le++)M(H.location+le,K.meshPerAttribute);I.isInstancedMesh!==!0&&q._maxInstanceCount===void 0&&(q._maxInstanceCount=K.meshPerAttribute*K.count)}else for(let le=0;le<H.locationSize;le++)S(H.location+le);t.bindBuffer(t.ARRAY_BUFFER,oe);for(let le=0;le<H.locationSize;le++)A(H.location+le,te/H.locationSize,he,ne,te*fe,te/H.locationSize*le*fe,Ce)}}else if(W!==void 0){const ne=W[k];if(ne!==void 0)switch(ne.length){case 2:t.vertexAttrib2fv(H.location,ne);break;case 3:t.vertexAttrib3fv(H.location,ne);break;case 4:t.vertexAttrib4fv(H.location,ne);break;default:t.vertexAttrib1fv(H.location,ne)}}}}E()}function P(){O();for(const I in o){const z=o[I];for(const $ in z){const q=z[$];for(const V in q)v(q[V].object),delete q[V];delete z[$]}delete o[I]}}function R(I){if(o[I.id]===void 0)return;const z=o[I.id];for(const $ in z){const q=z[$];for(const V in q)v(q[V].object),delete q[V];delete z[$]}delete o[I.id]}function L(I){for(const z in o){const $=o[z];if($[I.id]===void 0)continue;const q=$[I.id];for(const V in q)v(q[V].object),delete q[V];delete $[I.id]}}function O(){D(),u=!0,c!==l&&(c=l,p(c.object))}function D(){l.geometry=null,l.program=null,l.wireframe=!1}return{setup:f,reset:O,resetDefaultState:D,dispose:P,releaseStatesOfGeometry:R,releaseStatesOfProgram:L,initAttributes:_,enableAttribute:S,disableUnusedAttributes:E}}function Die(t,e,n,r){const i=r.isWebGL2;let s;function a(c){s=c}function o(c,u){t.drawArrays(s,c,u),n.update(u,s,1)}function l(c,u,f){if(f===0)return;let d,p;if(i)d=t,p="drawArraysInstanced";else if(d=e.get("ANGLE_instanced_arrays"),p="drawArraysInstancedANGLE",d===null){console.error("THREE.WebGLBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}d[p](s,c,u,f),n.update(u,s,f)}this.setMode=a,this.render=o,this.renderInstances=l}function Uie(t,e,n){let r;function i(){if(r!==void 0)return r;if(e.has("EXT_texture_filter_anisotropic")===!0){const A=e.get("EXT_texture_filter_anisotropic");r=t.getParameter(A.MAX_TEXTURE_MAX_ANISOTROPY_EXT)}else r=0;return r}function s(A){if(A==="highp"){if(t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.HIGH_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT).precision>0)return"highp";A="mediump"}return A==="mediump"&&t.getShaderPrecisionFormat(t.VERTEX_SHADER,t.MEDIUM_FLOAT).precision>0&&t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.MEDIUM_FLOAT).precision>0?"mediump":"lowp"}const a=typeof WebGL2RenderingContext<"u"&&t.constructor.name==="WebGL2RenderingContext";let o=n.precision!==void 0?n.precision:"highp";const l=s(o);l!==o&&(console.warn("THREE.WebGLRenderer:",o,"not supported, using",l,"instead."),o=l);const c=a||e.has("WEBGL_draw_buffers"),u=n.logarithmicDepthBuffer===!0,f=t.getParameter(t.MAX_TEXTURE_IMAGE_UNITS),d=t.getParameter(t.MAX_VERTEX_TEXTURE_IMAGE_UNITS),p=t.getParameter(t.MAX_TEXTURE_SIZE),v=t.getParameter(t.MAX_CUBE_MAP_TEXTURE_SIZE),b=t.getParameter(t.MAX_VERTEX_ATTRIBS),x=t.getParameter(t.MAX_VERTEX_UNIFORM_VECTORS),y=t.getParameter(t.MAX_VARYING_VECTORS),w=t.getParameter(t.MAX_FRAGMENT_UNIFORM_VECTORS),_=d>0,S=a||e.has("OES_texture_float"),M=_&&S,E=a?t.getParameter(t.MAX_SAMPLES):0;return{isWebGL2:a,drawBuffers:c,getMaxAnisotropy:i,getMaxPrecision:s,precision:o,logarithmicDepthBuffer:u,maxTextures:f,maxVertexTextures:d,maxTextureSize:p,maxCubemapSize:v,maxAttributes:b,maxVertexUniforms:x,maxVaryings:y,maxFragmentUniforms:w,vertexTextures:_,floatFragmentTextures:S,floatVertexTextures:M,maxSamples:E}}function Fie(t){const e=this;let n=null,r=0,i=!1,s=!1;const a=new Bo,o=new Dt,l={value:null,needsUpdate:!1};this.uniform=l,this.numPlanes=0,this.numIntersection=0,this.init=function(f,d){const p=f.length!==0||d||r!==0||i;return i=d,r=f.length,p},this.beginShadows=function(){s=!0,u(null)},this.endShadows=function(){s=!1},this.setGlobalState=function(f,d){n=u(f,d,0)},this.setState=function(f,d,p){const v=f.clippingPlanes,b=f.clipIntersection,x=f.clipShadows,y=t.get(f);if(!i||v===null||v.length===0||s&&!x)s?u(null):c();else{const w=s?0:r,_=w*4;let S=y.clippingState||null;l.value=S,S=u(v,d,_,p);for(let M=0;M!==_;++M)S[M]=n[M];y.clippingState=S,this.numIntersection=b?this.numPlanes:0,this.numPlanes+=w}};function c(){l.value!==n&&(l.value=n,l.needsUpdate=r>0),e.numPlanes=r,e.numIntersection=0}function u(f,d,p,v){const b=f!==null?f.length:0;let x=null;if(b!==0){if(x=l.value,v!==!0||x===null){const y=p+b*4,w=d.matrixWorldInverse;o.getNormalMatrix(w),(x===null||x.length<y)&&(x=new Float32Array(y));for(let _=0,S=p;_!==b;++_,S+=4)a.copy(f[_]).applyMatrix4(w,o),a.normal.toArray(x,S),x[S+3]=a.constant}l.value=x,l.needsUpdate=!0}return e.numPlanes=b,e.numIntersection=0,x}}function Bie(t){let e=new WeakMap;function n(a,o){return o===vg?a.mapping=cl:o===yg&&(a.mapping=gc),a}function r(a){if(a&&a.isTexture&&a.isRenderTargetTexture===!1){const o=a.mapping;if(o===vg||o===yg)if(e.has(a)){const l=e.get(a).texture;return n(l,a.mapping)}else{const l=a.image;if(l&&l.height>0){const c=new M8(l.height/2);return c.fromEquirectangularTexture(t,a),e.set(a,c),a.addEventListener("dispose",i),n(c.texture,a.mapping)}else return null}}return a}function i(a){const o=a.target;o.removeEventListener("dispose",i);const l=e.get(o);l!==void 0&&(e.delete(o),l.dispose())}function s(){e=new WeakMap}return{get:r,dispose:s}}class cc extends D0{constructor(e=-1,n=1,r=1,i=-1,s=.1,a=2e3){super(),this.isOrthographicCamera=!0,this.type="OrthographicCamera",this.zoom=1,this.view=null,this.left=e,this.right=n,this.top=r,this.bottom=i,this.near=s,this.far=a,this.updateProjectionMatrix()}copy(e,n){return super.copy(e,n),this.left=e.left,this.right=e.right,this.top=e.top,this.bottom=e.bottom,this.near=e.near,this.far=e.far,this.zoom=e.zoom,this.view=e.view===null?null:Object.assign({},e.view),this}setViewOffset(e,n,r,i,s,a){this.view===null&&(this.view={enabled:!0,fullWidth:1,fullHeight:1,offsetX:0,offsetY:0,width:1,height:1}),this.view.enabled=!0,this.view.fullWidth=e,this.view.fullHeight=n,this.view.offsetX=r,this.view.offsetY=i,this.view.width=s,this.view.height=a,this.updateProjectionMatrix()}clearViewOffset(){this.view!==null&&(this.view.enabled=!1),this.updateProjectionMatrix()}updateProjectionMatrix(){const e=(this.right-this.left)/(2*this.zoom),n=(this.top-this.bottom)/(2*this.zoom),r=(this.right+this.left)/2,i=(this.top+this.bottom)/2;let s=r-e,a=r+e,o=i+n,l=i-n;if(this.view!==null&&this.view.enabled){const c=(this.right-this.left)/this.view.fullWidth/this.zoom,u=(this.top-this.bottom)/this.view.fullHeight/this.zoom;s+=c*this.view.offsetX,a=s+c*this.view.width,o-=u*this.view.offsetY,l=o-u*this.view.height}this.projectionMatrix.makeOrthographic(s,a,o,l,this.near,this.far,this.coordinateSystem),this.projectionMatrixInverse.copy(this.projectionMatrix).invert()}toJSON(e){const n=super.toJSON(e);return n.object.zoom=this.zoom,n.object.left=this.left,n.object.right=this.right,n.object.top=this.top,n.object.bottom=this.bottom,n.object.near=this.near,n.object.far=this.far,this.view!==null&&(n.object.view=Object.assign({},this.view)),n}}const Od=4,_j=[.125,.215,.35,.446,.526,.582],yu=20,$2=new cc,wj=new at;let W2=null;const hu=(1+Math.sqrt(5))/2,Jf=1/hu,Sj=[new Z(1,1,1),new Z(-1,1,1),new Z(1,1,-1),new Z(-1,1,-1),new Z(0,hu,Jf),new Z(0,hu,-Jf),new Z(Jf,0,hu),new Z(-Jf,0,hu),new Z(hu,Jf,0),new Z(-hu,Jf,0)];class zT{constructor(e){this._renderer=e,this._pingPongRenderTarget=null,this._lodMax=0,this._cubeSize=0,this._lodPlanes=[],this._sizeLods=[],this._sigmas=[],this._blurMaterial=null,this._cubemapMaterial=null,this._equirectMaterial=null,this._compileMaterial(this._blurMaterial)}fromScene(e,n=0,r=.1,i=100){W2=this._renderer.getRenderTarget(),this._setSize(256);const s=this._allocateTargets();return s.depthBuffer=!0,this._sceneToCubeUV(e,r,i,s),n>0&&this._blur(s,0,0,n),this._applyPMREM(s),this._cleanup(s),s}fromEquirectangular(e,n=null){return this._fromTexture(e,n)}fromCubemap(e,n=null){return this._fromTexture(e,n)}compileCubemapShader(){this._cubemapMaterial===null&&(this._cubemapMaterial=Tj(),this._compileMaterial(this._cubemapMaterial))}compileEquirectangularShader(){this._equirectMaterial===null&&(this._equirectMaterial=Ej(),this._compileMaterial(this._equirectMaterial))}dispose(){this._dispose(),this._cubemapMaterial!==null&&this._cubemapMaterial.dispose(),this._equirectMaterial!==null&&this._equirectMaterial.dispose()}_setSize(e){this._lodMax=Math.floor(Math.log2(e)),this._cubeSize=Math.pow(2,this._lodMax)}_dispose(){this._blurMaterial!==null&&this._blurMaterial.dispose(),this._pingPongRenderTarget!==null&&this._pingPongRenderTarget.dispose();for(let e=0;e<this._lodPlanes.length;e++)this._lodPlanes[e].dispose()}_cleanup(e){this._renderer.setRenderTarget(W2),e.scissorTest=!1,jy(e,0,0,e.width,e.height)}_fromTexture(e,n){e.mapping===cl||e.mapping===gc?this._setSize(e.image.length===0?16:e.image[0].width||e.image[0].image.width):this._setSize(e.image.width/4),W2=this._renderer.getRenderTarget();const r=n||this._allocateTargets();return this._textureToCubeUV(e,r),this._applyPMREM(r),this._cleanup(r),r}_allocateTargets(){const e=3*Math.max(this._cubeSize,112),n=4*this._cubeSize,r={magFilter:Rn,minFilter:Rn,generateMipmaps:!1,type:Xu,format:Zi,colorSpace:mo,depthBuffer:!1},i=Mj(e,n,r);if(this._pingPongRenderTarget===null||this._pingPongRenderTarget.width!==e||this._pingPongRenderTarget.height!==n){this._pingPongRenderTarget!==null&&this._dispose(),this._pingPongRenderTarget=Mj(e,n,r);const{_lodMax:s}=this;({sizeLods:this._sizeLods,lodPlanes:this._lodPlanes,sigmas:this._sigmas}=zie(s)),this._blurMaterial=Vie(s,e,n)}return i}_compileMaterial(e){const n=new vr(this._lodPlanes[0],e);this._renderer.compile(n,$2)}_sceneToCubeUV(e,n,r,i){const o=new or(90,1,n,r),l=[1,-1,1,1,1,1],c=[1,1,1,-1,-1,-1],u=this._renderer,f=u.autoClear,d=u.toneMapping;u.getClearColor(wj),u.toneMapping=ao,u.autoClear=!1;const p=new gl({name:"PMREM.Background",side:bi,depthWrite:!1,depthTest:!1}),v=new vr(new ff,p);let b=!1;const x=e.background;x?x.isColor&&(p.color.copy(x),e.background=null,b=!0):(p.color.copy(wj),b=!0);for(let y=0;y<6;y++){const w=y%3;w===0?(o.up.set(0,l[y],0),o.lookAt(c[y],0,0)):w===1?(o.up.set(0,0,l[y]),o.lookAt(0,c[y],0)):(o.up.set(0,l[y],0),o.lookAt(0,0,c[y]));const _=this._cubeSize;jy(i,w*_,y>2?_:0,_,_),u.setRenderTarget(i),b&&u.render(v,o),u.render(e,o)}v.geometry.dispose(),v.material.dispose(),u.toneMapping=d,u.autoClear=f,e.background=x}_textureToCubeUV(e,n){const r=this._renderer,i=e.mapping===cl||e.mapping===gc;i?(this._cubemapMaterial===null&&(this._cubemapMaterial=Tj()),this._cubemapMaterial.uniforms.flipEnvMap.value=e.isRenderTargetTexture===!1?-1:1):this._equirectMaterial===null&&(this._equirectMaterial=Ej());const s=i?this._cubemapMaterial:this._equirectMaterial,a=new vr(this._lodPlanes[0],s),o=s.uniforms;o.envMap.value=e;const l=this._cubeSize;jy(n,0,0,3*l,2*l),r.setRenderTarget(n),r.render(a,$2)}_applyPMREM(e){const n=this._renderer,r=n.autoClear;n.autoClear=!1;for(let i=1;i<this._lodPlanes.length;i++){const s=Math.sqrt(this._sigmas[i]*this._sigmas[i]-this._sigmas[i-1]*this._sigmas[i-1]),a=Sj[(i-1)%Sj.length];this._blur(e,i-1,i,s,a)}n.autoClear=r}_blur(e,n,r,i,s){const a=this._pingPongRenderTarget;this._halfBlur(e,a,n,r,i,"latitudinal",s),this._halfBlur(a,e,r,r,i,"longitudinal",s)}_halfBlur(e,n,r,i,s,a,o){const l=this._renderer,c=this._blurMaterial;a!=="latitudinal"&&a!=="longitudinal"&&console.error("blur direction must be either latitudinal or longitudinal!");const u=3,f=new vr(this._lodPlanes[i],c),d=c.uniforms,p=this._sizeLods[r]-1,v=isFinite(s)?Math.PI/(2*p):2*Math.PI/(2*yu-1),b=s/v,x=isFinite(s)?1+Math.floor(u*b):yu;x>yu&&console.warn(`sigmaRadians, ${s}, is too large and will clip, as it requested ${x} samples when the maximum is set to ${yu}`);const y=[];let w=0;for(let A=0;A<yu;++A){const C=A/b,P=Math.exp(-C*C/2);y.push(P),A===0?w+=P:A<x&&(w+=2*P)}for(let A=0;A<y.length;A++)y[A]=y[A]/w;d.envMap.value=e.texture,d.samples.value=x,d.weights.value=y,d.latitudinal.value=a==="latitudinal",o&&(d.poleAxis.value=o);const{_lodMax:_}=this;d.dTheta.value=v,d.mipInt.value=_-r;const S=this._sizeLods[i],M=3*S*(i>_-Od?i-_+Od:0),E=4*(this._cubeSize-S);jy(n,M,E,3*S,2*S),l.setRenderTarget(n),l.render(f,$2)}}function zie(t){const e=[],n=[],r=[];let i=t;const s=t-Od+1+_j.length;for(let a=0;a<s;a++){const o=Math.pow(2,i);n.push(o);let l=1/o;a>t-Od?l=_j[a-t+Od-1]:a===0&&(l=0),r.push(l);const c=1/(o-2),u=-c,f=1+c,d=[u,u,f,u,f,f,u,u,f,f,u,f],p=6,v=6,b=3,x=2,y=1,w=new Float32Array(b*v*p),_=new Float32Array(x*v*p),S=new Float32Array(y*v*p);for(let E=0;E<p;E++){const A=E%3*2/3-1,C=E>2?0:-1,P=[A,C,0,A+2/3,C,0,A+2/3,C+1,0,A,C,0,A+2/3,C+1,0,A,C+1,0];w.set(P,b*v*E),_.set(d,x*v*E);const R=[E,E,E,E,E,E];S.set(R,y*v*E)}const M=new Ht;M.setAttribute("position",new fn(w,b)),M.setAttribute("uv",new fn(_,x)),M.setAttribute("faceIndex",new fn(S,y)),e.push(M),i>Od&&i--}return{lodPlanes:e,sizeLods:n,sigmas:r}}function Mj(t,e,n){const r=new la(t,e,n);return r.texture.mapping=Hh,r.texture.name="PMREM.cubeUv",r.scissorTest=!0,r}function jy(t,e,n,r,i){t.viewport.set(e,n,r,i),t.scissor.set(e,n,r,i)}function Vie(t,e,n){const r=new Float32Array(yu),i=new Z(0,1,0);return new ca({name:"SphericalGaussianBlur",defines:{n:yu,CUBEUV_TEXEL_WIDTH:1/e,CUBEUV_TEXEL_HEIGHT:1/n,CUBEUV_MAX_MIP:`${t}.0`},uniforms:{envMap:{value:null},samples:{value:1},weights:{value:r},latitudinal:{value:!1},dTheta:{value:0},mipInt:{value:0},poleAxis:{value:i}},vertexShader:bN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;
			uniform int samples;
			uniform float weights[ n ];
			uniform bool latitudinal;
			uniform float dTheta;
			uniform float mipInt;
			uniform vec3 poleAxis;

			#define ENVMAP_TYPE_CUBE_UV
			#include <cube_uv_reflection_fragment>

			vec3 getSample( float theta, vec3 axis ) {

				float cosTheta = cos( theta );
				// Rodrigues' axis-angle rotation
				vec3 sampleDirection = vOutputDirection * cosTheta
					+ cross( axis, vOutputDirection ) * sin( theta )
					+ axis * dot( axis, vOutputDirection ) * ( 1.0 - cosTheta );

				return bilinearCubeUV( envMap, sampleDirection, mipInt );

			}

			void main() {

				vec3 axis = latitudinal ? poleAxis : cross( poleAxis, vOutputDirection );

				if ( all( equal( axis, vec3( 0.0 ) ) ) ) {

					axis = vec3( vOutputDirection.z, 0.0, - vOutputDirection.x );

				}

				axis = normalize( axis );

				gl_FragColor = vec4( 0.0, 0.0, 0.0, 1.0 );
				gl_FragColor.rgb += weights[ 0 ] * getSample( 0.0, axis );

				for ( int i = 1; i < n; i++ ) {

					if ( i >= samples ) {

						break;

					}

					float theta = dTheta * float( i );
					gl_FragColor.rgb += weights[ i ] * getSample( -1.0 * theta, axis );
					gl_FragColor.rgb += weights[ i ] * getSample( theta, axis );

				}

			}
		`,blending:Jo,depthTest:!1,depthWrite:!1})}function Ej(){return new ca({name:"EquirectangularToCubeUV",uniforms:{envMap:{value:null}},vertexShader:bN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			varying vec3 vOutputDirection;

			uniform sampler2D envMap;

			#include <common>

			void main() {

				vec3 outputDirection = normalize( vOutputDirection );
				vec2 uv = equirectUv( outputDirection );

				gl_FragColor = vec4( texture2D ( envMap, uv ).rgb, 1.0 );

			}
		`,blending:Jo,depthTest:!1,depthWrite:!1})}function Tj(){return new ca({name:"CubemapToCubeUV",uniforms:{envMap:{value:null},flipEnvMap:{value:-1}},vertexShader:bN(),fragmentShader:`

			precision mediump float;
			precision mediump int;

			uniform float flipEnvMap;

			varying vec3 vOutputDirection;

			uniform samplerCube envMap;

			void main() {

				gl_FragColor = textureCube( envMap, vec3( flipEnvMap * vOutputDirection.x, vOutputDirection.yz ) );

			}
		`,blending:Jo,depthTest:!1,depthWrite:!1})}function bN(){return`

		precision mediump float;
		precision mediump int;

		attribute float faceIndex;

		varying vec3 vOutputDirection;

		// RH coordinate system; PMREM face-indexing convention
		vec3 getDirection( vec2 uv, float face ) {

			uv = 2.0 * uv - 1.0;

			vec3 direction = vec3( uv, 1.0 );

			if ( face == 0.0 ) {

				direction = direction.zyx; // ( 1, v, u ) pos x

			} else if ( face == 1.0 ) {

				direction = direction.xzy;
				direction.xz *= -1.0; // ( -u, 1, -v ) pos y

			} else if ( face == 2.0 ) {

				direction.x *= -1.0; // ( -u, v, 1 ) pos z

			} else if ( face == 3.0 ) {

				direction = direction.zyx;
				direction.xz *= -1.0; // ( -1, v, -u ) neg x

			} else if ( face == 4.0 ) {

				direction = direction.xzy;
				direction.xy *= -1.0; // ( -u, -1, v ) neg y

			} else if ( face == 5.0 ) {

				direction.z *= -1.0; // ( u, v, -1 ) neg z

			}

			return direction;

		}

		void main() {

			vOutputDirection = getDirection( uv, faceIndex );
			gl_Position = vec4( position, 1.0 );

		}
	`}function Hie(t){let e=new WeakMap,n=null;function r(o){if(o&&o.isTexture){const l=o.mapping,c=l===vg||l===yg,u=l===cl||l===gc;if(c||u)if(o.isRenderTargetTexture&&o.needsPMREMUpdate===!0){o.needsPMREMUpdate=!1;let f=e.get(o);return n===null&&(n=new zT(t)),f=c?n.fromEquirectangular(o,f):n.fromCubemap(o,f),e.set(o,f),f.texture}else{if(e.has(o))return e.get(o).texture;{const f=o.image;if(c&&f&&f.height>0||u&&f&&i(f)){n===null&&(n=new zT(t));const d=c?n.fromEquirectangular(o):n.fromCubemap(o);return e.set(o,d),o.addEventListener("dispose",s),d.texture}else return null}}}return o}function i(o){let l=0;const c=6;for(let u=0;u<c;u++)o[u]!==void 0&&l++;return l===c}function s(o){const l=o.target;l.removeEventListener("dispose",s);const c=e.get(l);c!==void 0&&(e.delete(l),c.dispose())}function a(){e=new WeakMap,n!==null&&(n.dispose(),n=null)}return{get:r,dispose:a}}function $ie(t){const e={};function n(r){if(e[r]!==void 0)return e[r];let i;switch(r){case"WEBGL_depth_texture":i=t.getExtension("WEBGL_depth_texture")||t.getExtension("MOZ_WEBGL_depth_texture")||t.getExtension("WEBKIT_WEBGL_depth_texture");break;case"EXT_texture_filter_anisotropic":i=t.getExtension("EXT_texture_filter_anisotropic")||t.getExtension("MOZ_EXT_texture_filter_anisotropic")||t.getExtension("WEBKIT_EXT_texture_filter_anisotropic");break;case"WEBGL_compressed_texture_s3tc":i=t.getExtension("WEBGL_compressed_texture_s3tc")||t.getExtension("MOZ_WEBGL_compressed_texture_s3tc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc");break;case"WEBGL_compressed_texture_pvrtc":i=t.getExtension("WEBGL_compressed_texture_pvrtc")||t.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc");break;default:i=t.getExtension(r)}return e[r]=i,i}return{has:function(r){return n(r)!==null},init:function(r){r.isWebGL2?n("EXT_color_buffer_float"):(n("WEBGL_depth_texture"),n("OES_texture_float"),n("OES_texture_half_float"),n("OES_texture_half_float_linear"),n("OES_standard_derivatives"),n("OES_element_index_uint"),n("OES_vertex_array_object"),n("ANGLE_instanced_arrays")),n("OES_texture_float_linear"),n("EXT_color_buffer_half_float"),n("WEBGL_multisampled_render_to_texture")},get:function(r){const i=n(r);return i===null&&console.warn("THREE.WebGLRenderer: "+r+" extension not supported."),i}}}function Wie(t,e,n,r){const i={},s=new WeakMap;function a(f){const d=f.target;d.index!==null&&e.remove(d.index);for(const v in d.attributes)e.remove(d.attributes[v]);for(const v in d.morphAttributes){const b=d.morphAttributes[v];for(let x=0,y=b.length;x<y;x++)e.remove(b[x])}d.removeEventListener("dispose",a),delete i[d.id];const p=s.get(d);p&&(e.remove(p),s.delete(d)),r.releaseStatesOfGeometry(d),d.isInstancedBufferGeometry===!0&&delete d._maxInstanceCount,n.memory.geometries--}function o(f,d){return i[d.id]===!0||(d.addEventListener("dispose",a),i[d.id]=!0,n.memory.geometries++),d}function l(f){const d=f.attributes;for(const v in d)e.update(d[v],t.ARRAY_BUFFER);const p=f.morphAttributes;for(const v in p){const b=p[v];for(let x=0,y=b.length;x<y;x++)e.update(b[x],t.ARRAY_BUFFER)}}function c(f){const d=[],p=f.index,v=f.attributes.position;let b=0;if(p!==null){const w=p.array;b=p.version;for(let _=0,S=w.length;_<S;_+=3){const M=w[_+0],E=w[_+1],A=w[_+2];d.push(M,E,E,A,A,M)}}else if(v!==void 0){const w=v.array;b=v.version;for(let _=0,S=w.length/3-1;_<S;_+=3){const M=_+0,E=_+1,A=_+2;d.push(M,E,E,A,A,M)}}else return;const x=new(y8(d)?yN:vN)(d,1);x.version=b;const y=s.get(f);y&&e.remove(y),s.set(f,x)}function u(f){const d=s.get(f);if(d){const p=f.index;p!==null&&d.version<p.version&&c(f)}else c(f);return s.get(f)}return{get:o,update:l,getWireframeAttribute:u}}function Gie(t,e,n,r){const i=r.isWebGL2;let s;function a(d){s=d}let o,l;function c(d){o=d.type,l=d.bytesPerElement}function u(d,p){t.drawElements(s,p,o,d*l),n.update(p,s,1)}function f(d,p,v){if(v===0)return;let b,x;if(i)b=t,x="drawElementsInstanced";else if(b=e.get("ANGLE_instanced_arrays"),x="drawElementsInstancedANGLE",b===null){console.error("THREE.WebGLIndexedBufferRenderer: using THREE.InstancedBufferGeometry but hardware does not support extension ANGLE_instanced_arrays.");return}b[x](s,p,o,d*l,v),n.update(p,s,v)}this.setMode=a,this.setIndex=c,this.render=u,this.renderInstances=f}function Xie(t){const e={geometries:0,textures:0},n={frame:0,calls:0,triangles:0,points:0,lines:0};function r(s,a,o){switch(n.calls++,a){case t.TRIANGLES:n.triangles+=o*(s/3);break;case t.LINES:n.lines+=o*(s/2);break;case t.LINE_STRIP:n.lines+=o*(s-1);break;case t.LINE_LOOP:n.lines+=o*s;break;case t.POINTS:n.points+=o*s;break;default:console.error("THREE.WebGLInfo: Unknown draw mode:",a);break}}function i(){n.calls=0,n.triangles=0,n.points=0,n.lines=0}return{memory:e,render:n,programs:null,autoReset:!0,reset:i,update:r}}function qie(t,e){return t[0]-e[0]}function Yie(t,e){return Math.abs(e[1])-Math.abs(t[1])}function Kie(t,e,n){const r={},i=new Float32Array(8),s=new WeakMap,a=new cn,o=[];for(let c=0;c<8;c++)o[c]=[c,0];function l(c,u,f){const d=c.morphTargetInfluences;if(e.isWebGL2===!0){const v=u.morphAttributes.position||u.morphAttributes.normal||u.morphAttributes.color,b=v!==void 0?v.length:0;let x=s.get(u);if(x===void 0||x.count!==b){let z=function(){D.dispose(),s.delete(u),u.removeEventListener("dispose",z)};var p=z;x!==void 0&&x.texture.dispose();const _=u.morphAttributes.position!==void 0,S=u.morphAttributes.normal!==void 0,M=u.morphAttributes.color!==void 0,E=u.morphAttributes.position||[],A=u.morphAttributes.normal||[],C=u.morphAttributes.color||[];let P=0;_===!0&&(P=1),S===!0&&(P=2),M===!0&&(P=3);let R=u.attributes.position.count*P,L=1;R>e.maxTextureSize&&(L=Math.ceil(R/e.maxTextureSize),R=e.maxTextureSize);const O=new Float32Array(R*L*4*b),D=new T_(O,R,L,b);D.type=Ra,D.needsUpdate=!0;const I=P*4;for(let $=0;$<b;$++){const q=E[$],V=A[$],U=C[$],W=R*L*4*$;for(let k=0;k<q.count;k++){const H=k*I;_===!0&&(a.fromBufferAttribute(q,k),O[W+H+0]=a.x,O[W+H+1]=a.y,O[W+H+2]=a.z,O[W+H+3]=0),S===!0&&(a.fromBufferAttribute(V,k),O[W+H+4]=a.x,O[W+H+5]=a.y,O[W+H+6]=a.z,O[W+H+7]=0),M===!0&&(a.fromBufferAttribute(U,k),O[W+H+8]=a.x,O[W+H+9]=a.y,O[W+H+10]=a.z,O[W+H+11]=U.itemSize===4?a.w:1)}}x={count:b,texture:D,size:new De(R,L)},s.set(u,x),u.addEventListener("dispose",z)}let y=0;for(let _=0;_<d.length;_++)y+=d[_];const w=u.morphTargetsRelative?1:1-y;f.getUniforms().setValue(t,"morphTargetBaseInfluence",w),f.getUniforms().setValue(t,"morphTargetInfluences",d),f.getUniforms().setValue(t,"morphTargetsTexture",x.texture,n),f.getUniforms().setValue(t,"morphTargetsTextureSize",x.size)}else{const v=d===void 0?0:d.length;let b=r[u.id];if(b===void 0||b.length!==v){b=[];for(let S=0;S<v;S++)b[S]=[S,0];r[u.id]=b}for(let S=0;S<v;S++){const M=b[S];M[0]=S,M[1]=d[S]}b.sort(Yie);for(let S=0;S<8;S++)S<v&&b[S][1]?(o[S][0]=b[S][0],o[S][1]=b[S][1]):(o[S][0]=Number.MAX_SAFE_INTEGER,o[S][1]=0);o.sort(qie);const x=u.morphAttributes.position,y=u.morphAttributes.normal;let w=0;for(let S=0;S<8;S++){const M=o[S],E=M[0],A=M[1];E!==Number.MAX_SAFE_INTEGER&&A?(x&&u.getAttribute("morphTarget"+S)!==x[E]&&u.setAttribute("morphTarget"+S,x[E]),y&&u.getAttribute("morphNormal"+S)!==y[E]&&u.setAttribute("morphNormal"+S,y[E]),i[S]=A,w+=A):(x&&u.hasAttribute("morphTarget"+S)===!0&&u.deleteAttribute("morphTarget"+S),y&&u.hasAttribute("morphNormal"+S)===!0&&u.deleteAttribute("morphNormal"+S),i[S]=0)}const _=u.morphTargetsRelative?1:1-w;f.getUniforms().setValue(t,"morphTargetBaseInfluence",_),f.getUniforms().setValue(t,"morphTargetInfluences",i)}}return{update:l}}function Zie(t,e,n,r){let i=new WeakMap;function s(l){const c=r.render.frame,u=l.geometry,f=e.get(l,u);if(i.get(f)!==c&&(e.update(f),i.set(f,c)),l.isInstancedMesh&&(l.hasEventListener("dispose",o)===!1&&l.addEventListener("dispose",o),i.get(l)!==c&&(n.update(l.instanceMatrix,t.ARRAY_BUFFER),l.instanceColor!==null&&n.update(l.instanceColor,t.ARRAY_BUFFER),i.set(l,c))),l.isSkinnedMesh){const d=l.skeleton;i.get(d)!==c&&(d.update(),i.set(d,c))}return f}function a(){i=new WeakMap}function o(l){const c=l.target;c.removeEventListener("dispose",o),n.remove(c.instanceMatrix),c.instanceColor!==null&&n.remove(c.instanceColor)}return{update:s,dispose:a}}const T8=new Qn,A8=new T_,P8=new gN,C8=new U0,Aj=[],Pj=[],Cj=new Float32Array(16),Nj=new Float32Array(9),Rj=new Float32Array(4);function $h(t,e,n){const r=t[0];if(r<=0||r>0)return t;const i=e*n;let s=Aj[i];if(s===void 0&&(s=new Float32Array(i),Aj[i]=s),e!==0){r.toArray(s,0);for(let a=1,o=0;a!==e;++a)o+=n,t[a].toArray(s,o)}return s}function Lr(t,e){if(t.length!==e.length)return!1;for(let n=0,r=t.length;n<r;n++)if(t[n]!==e[n])return!1;return!0}function Ir(t,e){for(let n=0,r=e.length;n<r;n++)t[n]=e[n]}function P_(t,e){let n=Pj[e];n===void 0&&(n=new Int32Array(e),Pj[e]=n);for(let r=0;r!==e;++r)n[r]=t.allocateTextureUnit();return n}function Jie(t,e){const n=this.cache;n[0]!==e&&(t.uniform1f(this.addr,e),n[0]=e)}function Qie(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2f(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lr(n,e))return;t.uniform2fv(this.addr,e),Ir(n,e)}}function ese(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3f(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else if(e.r!==void 0)(n[0]!==e.r||n[1]!==e.g||n[2]!==e.b)&&(t.uniform3f(this.addr,e.r,e.g,e.b),n[0]=e.r,n[1]=e.g,n[2]=e.b);else{if(Lr(n,e))return;t.uniform3fv(this.addr,e),Ir(n,e)}}function tse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4f(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lr(n,e))return;t.uniform4fv(this.addr,e),Ir(n,e)}}function nse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Lr(n,e))return;t.uniformMatrix2fv(this.addr,!1,e),Ir(n,e)}else{if(Lr(n,r))return;Rj.set(r),t.uniformMatrix2fv(this.addr,!1,Rj),Ir(n,r)}}function rse(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Lr(n,e))return;t.uniformMatrix3fv(this.addr,!1,e),Ir(n,e)}else{if(Lr(n,r))return;Nj.set(r),t.uniformMatrix3fv(this.addr,!1,Nj),Ir(n,r)}}function ise(t,e){const n=this.cache,r=e.elements;if(r===void 0){if(Lr(n,e))return;t.uniformMatrix4fv(this.addr,!1,e),Ir(n,e)}else{if(Lr(n,r))return;Cj.set(r),t.uniformMatrix4fv(this.addr,!1,Cj),Ir(n,r)}}function sse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1i(this.addr,e),n[0]=e)}function ase(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2i(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lr(n,e))return;t.uniform2iv(this.addr,e),Ir(n,e)}}function ose(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3i(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Lr(n,e))return;t.uniform3iv(this.addr,e),Ir(n,e)}}function lse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4i(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lr(n,e))return;t.uniform4iv(this.addr,e),Ir(n,e)}}function cse(t,e){const n=this.cache;n[0]!==e&&(t.uniform1ui(this.addr,e),n[0]=e)}function use(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y)&&(t.uniform2ui(this.addr,e.x,e.y),n[0]=e.x,n[1]=e.y);else{if(Lr(n,e))return;t.uniform2uiv(this.addr,e),Ir(n,e)}}function fse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z)&&(t.uniform3ui(this.addr,e.x,e.y,e.z),n[0]=e.x,n[1]=e.y,n[2]=e.z);else{if(Lr(n,e))return;t.uniform3uiv(this.addr,e),Ir(n,e)}}function dse(t,e){const n=this.cache;if(e.x!==void 0)(n[0]!==e.x||n[1]!==e.y||n[2]!==e.z||n[3]!==e.w)&&(t.uniform4ui(this.addr,e.x,e.y,e.z,e.w),n[0]=e.x,n[1]=e.y,n[2]=e.z,n[3]=e.w);else{if(Lr(n,e))return;t.uniform4uiv(this.addr,e),Ir(n,e)}}function hse(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2D(e||T8,i)}function pse(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture3D(e||P8,i)}function mse(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTextureCube(e||C8,i)}function gse(t,e,n){const r=this.cache,i=n.allocateTextureUnit();r[0]!==i&&(t.uniform1i(this.addr,i),r[0]=i),n.setTexture2DArray(e||A8,i)}function vse(t){switch(t){case 5126:return Jie;case 35664:return Qie;case 35665:return ese;case 35666:return tse;case 35674:return nse;case 35675:return rse;case 35676:return ise;case 5124:case 35670:return sse;case 35667:case 35671:return ase;case 35668:case 35672:return ose;case 35669:case 35673:return lse;case 5125:return cse;case 36294:return use;case 36295:return fse;case 36296:return dse;case 35678:case 36198:case 36298:case 36306:case 35682:return hse;case 35679:case 36299:case 36307:return pse;case 35680:case 36300:case 36308:case 36293:return mse;case 36289:case 36303:case 36311:case 36292:return gse}}function yse(t,e){t.uniform1fv(this.addr,e)}function xse(t,e){const n=$h(e,this.size,2);t.uniform2fv(this.addr,n)}function bse(t,e){const n=$h(e,this.size,3);t.uniform3fv(this.addr,n)}function _se(t,e){const n=$h(e,this.size,4);t.uniform4fv(this.addr,n)}function wse(t,e){const n=$h(e,this.size,4);t.uniformMatrix2fv(this.addr,!1,n)}function Sse(t,e){const n=$h(e,this.size,9);t.uniformMatrix3fv(this.addr,!1,n)}function Mse(t,e){const n=$h(e,this.size,16);t.uniformMatrix4fv(this.addr,!1,n)}function Ese(t,e){t.uniform1iv(this.addr,e)}function Tse(t,e){t.uniform2iv(this.addr,e)}function Ase(t,e){t.uniform3iv(this.addr,e)}function Pse(t,e){t.uniform4iv(this.addr,e)}function Cse(t,e){t.uniform1uiv(this.addr,e)}function Nse(t,e){t.uniform2uiv(this.addr,e)}function Rse(t,e){t.uniform3uiv(this.addr,e)}function Ose(t,e){t.uniform4uiv(this.addr,e)}function Lse(t,e,n){const r=this.cache,i=e.length,s=P_(n,i);Lr(r,s)||(t.uniform1iv(this.addr,s),Ir(r,s));for(let a=0;a!==i;++a)n.setTexture2D(e[a]||T8,s[a])}function Ise(t,e,n){const r=this.cache,i=e.length,s=P_(n,i);Lr(r,s)||(t.uniform1iv(this.addr,s),Ir(r,s));for(let a=0;a!==i;++a)n.setTexture3D(e[a]||P8,s[a])}function jse(t,e,n){const r=this.cache,i=e.length,s=P_(n,i);Lr(r,s)||(t.uniform1iv(this.addr,s),Ir(r,s));for(let a=0;a!==i;++a)n.setTextureCube(e[a]||C8,s[a])}function kse(t,e,n){const r=this.cache,i=e.length,s=P_(n,i);Lr(r,s)||(t.uniform1iv(this.addr,s),Ir(r,s));for(let a=0;a!==i;++a)n.setTexture2DArray(e[a]||A8,s[a])}function Dse(t){switch(t){case 5126:return yse;case 35664:return xse;case 35665:return bse;case 35666:return _se;case 35674:return wse;case 35675:return Sse;case 35676:return Mse;case 5124:case 35670:return Ese;case 35667:case 35671:return Tse;case 35668:case 35672:return Ase;case 35669:case 35673:return Pse;case 5125:return Cse;case 36294:return Nse;case 36295:return Rse;case 36296:return Ose;case 35678:case 36198:case 36298:case 36306:case 35682:return Lse;case 35679:case 36299:case 36307:return Ise;case 35680:case 36300:case 36308:case 36293:return jse;case 36289:case 36303:case 36311:case 36292:return kse}}class Use{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.setValue=vse(n.type)}}class Fse{constructor(e,n,r){this.id=e,this.addr=r,this.cache=[],this.size=n.size,this.setValue=Dse(n.type)}}class Bse{constructor(e){this.id=e,this.seq=[],this.map={}}setValue(e,n,r){const i=this.seq;for(let s=0,a=i.length;s!==a;++s){const o=i[s];o.setValue(e,n[o.id],r)}}}const G2=/(\w+)(\])?(\[|\.)?/g;function Oj(t,e){t.seq.push(e),t.map[e.id]=e}function zse(t,e,n){const r=t.name,i=r.length;for(G2.lastIndex=0;;){const s=G2.exec(r),a=G2.lastIndex;let o=s[1];const l=s[2]==="]",c=s[3];if(l&&(o=o|0),c===void 0||c==="["&&a+2===i){Oj(n,c===void 0?new Use(o,t,e):new Fse(o,t,e));break}else{let f=n.map[o];f===void 0&&(f=new Bse(o),Oj(n,f)),n=f}}}class Wx{constructor(e,n){this.seq=[],this.map={};const r=e.getProgramParameter(n,e.ACTIVE_UNIFORMS);for(let i=0;i<r;++i){const s=e.getActiveUniform(n,i),a=e.getUniformLocation(n,s.name);zse(s,a,this)}}setValue(e,n,r,i){const s=this.map[n];s!==void 0&&s.setValue(e,r,i)}setOptional(e,n,r){const i=n[r];i!==void 0&&this.setValue(e,r,i)}static upload(e,n,r,i){for(let s=0,a=n.length;s!==a;++s){const o=n[s],l=r[o.id];l.needsUpdate!==!1&&o.setValue(e,l.value,i)}}static seqWithValue(e,n){const r=[];for(let i=0,s=e.length;i!==s;++i){const a=e[i];a.id in n&&r.push(a)}return r}}function Lj(t,e,n){const r=t.createShader(e);return t.shaderSource(r,n),t.compileShader(r),r}let Vse=0;function Hse(t,e){const n=t.split(`
`),r=[],i=Math.max(e-6,0),s=Math.min(e+6,n.length);for(let a=i;a<s;a++){const o=a+1;r.push(`${o===e?">":" "} ${o}: ${n[a]}`)}return r.join(`
`)}function $se(t){const e=dn.getPrimaries(dn.workingColorSpace),n=dn.getPrimaries(t);let r;switch(e===n?r="":e===Tg&&n===Eg?r="LinearDisplayP3ToLinearSRGB":e===Eg&&n===Tg&&(r="LinearSRGBToLinearDisplayP3"),t){case mo:case j0:return[r,"LinearTransferOETF"];case Nr:case E_:return[r,"sRGBTransferOETF"];default:return console.warn("THREE.WebGLProgram: Unsupported color space:",t),[r,"LinearTransferOETF"]}}function Ij(t,e,n){const r=t.getShaderParameter(e,t.COMPILE_STATUS),i=t.getShaderInfoLog(e).trim();if(r&&i==="")return"";const s=/ERROR: 0:(\d+)/.exec(i);if(s){const a=parseInt(s[1]);return n.toUpperCase()+`

`+i+`

`+Hse(t.getShaderSource(e),a)}else return i}function Wse(t,e){const n=$se(e);return`vec4 ${t}( vec4 value ) { return ${n[0]}( ${n[1]}( value ) ); }`}function Gse(t,e){let n;switch(e){case $V:n="Linear";break;case WV:n="Reinhard";break;case GV:n="OptimizedCineon";break;case rN:n="ACESFilmic";break;case XV:n="Custom";break;default:console.warn("THREE.WebGLProgram: Unsupported toneMapping:",e),n="Linear"}return"vec3 "+t+"( vec3 color ) { return "+n+"ToneMapping( color ); }"}function Xse(t){return[t.extensionDerivatives||t.envMapCubeUVHeight||t.bumpMap||t.normalMapTangentSpace||t.clearcoatNormalMap||t.flatShading||t.shaderID==="physical"?"#extension GL_OES_standard_derivatives : enable":"",(t.extensionFragDepth||t.logarithmicDepthBuffer)&&t.rendererExtensionFragDepth?"#extension GL_EXT_frag_depth : enable":"",t.extensionDrawBuffers&&t.rendererExtensionDrawBuffers?"#extension GL_EXT_draw_buffers : require":"",(t.extensionShaderTextureLOD||t.envMap||t.transmission)&&t.rendererExtensionShaderTextureLod?"#extension GL_EXT_shader_texture_lod : enable":""].filter(xm).join(`
`)}function qse(t){const e=[];for(const n in t){const r=t[n];r!==!1&&e.push("#define "+n+" "+r)}return e.join(`
`)}function Yse(t,e){const n={},r=t.getProgramParameter(e,t.ACTIVE_ATTRIBUTES);for(let i=0;i<r;i++){const s=t.getActiveAttrib(e,i),a=s.name;let o=1;s.type===t.FLOAT_MAT2&&(o=2),s.type===t.FLOAT_MAT3&&(o=3),s.type===t.FLOAT_MAT4&&(o=4),n[a]={type:s.type,location:t.getAttribLocation(e,a),locationSize:o}}return n}function xm(t){return t!==""}function jj(t,e){const n=e.numSpotLightShadows+e.numSpotLightMaps-e.numSpotLightShadowsWithMaps;return t.replace(/NUM_DIR_LIGHTS/g,e.numDirLights).replace(/NUM_SPOT_LIGHTS/g,e.numSpotLights).replace(/NUM_SPOT_LIGHT_MAPS/g,e.numSpotLightMaps).replace(/NUM_SPOT_LIGHT_COORDS/g,n).replace(/NUM_RECT_AREA_LIGHTS/g,e.numRectAreaLights).replace(/NUM_POINT_LIGHTS/g,e.numPointLights).replace(/NUM_HEMI_LIGHTS/g,e.numHemiLights).replace(/NUM_DIR_LIGHT_SHADOWS/g,e.numDirLightShadows).replace(/NUM_SPOT_LIGHT_SHADOWS_WITH_MAPS/g,e.numSpotLightShadowsWithMaps).replace(/NUM_SPOT_LIGHT_SHADOWS/g,e.numSpotLightShadows).replace(/NUM_POINT_LIGHT_SHADOWS/g,e.numPointLightShadows)}function kj(t,e){return t.replace(/NUM_CLIPPING_PLANES/g,e.numClippingPlanes).replace(/UNION_CLIPPING_PLANES/g,e.numClippingPlanes-e.numClipIntersection)}const Kse=/^[ \t]*#include +<([\w\d./]+)>/gm;function VT(t){return t.replace(Kse,Jse)}const Zse=new Map([["encodings_fragment","colorspace_fragment"],["encodings_pars_fragment","colorspace_pars_fragment"],["output_fragment","opaque_fragment"]]);function Jse(t,e){let n=It[e];if(n===void 0){const r=Zse.get(e);if(r!==void 0)n=It[r],console.warn('THREE.WebGLRenderer: Shader chunk "%s" has been deprecated. Use "%s" instead.',e,r);else throw new Error("Can not resolve #include <"+e+">")}return VT(n)}const Qse=/#pragma unroll_loop_start\s+for\s*\(\s*int\s+i\s*=\s*(\d+)\s*;\s*i\s*<\s*(\d+)\s*;\s*i\s*\+\+\s*\)\s*{([\s\S]+?)}\s+#pragma unroll_loop_end/g;function Dj(t){return t.replace(Qse,eae)}function eae(t,e,n,r){let i="";for(let s=parseInt(e);s<parseInt(n);s++)i+=r.replace(/\[\s*i\s*\]/g,"[ "+s+" ]").replace(/UNROLLED_LOOP_INDEX/g,s);return i}function Uj(t){let e="precision "+t.precision+` float;
precision `+t.precision+" int;";return t.precision==="highp"?e+=`
#define HIGH_PRECISION`:t.precision==="mediump"?e+=`
#define MEDIUM_PRECISION`:t.precision==="lowp"&&(e+=`
#define LOW_PRECISION`),e}function tae(t){let e="SHADOWMAP_TYPE_BASIC";return t.shadowMapType===__?e="SHADOWMAP_TYPE_PCF":t.shadowMapType===jm?e="SHADOWMAP_TYPE_PCF_SOFT":t.shadowMapType===Sa&&(e="SHADOWMAP_TYPE_VSM"),e}function nae(t){let e="ENVMAP_TYPE_CUBE";if(t.envMap)switch(t.envMapMode){case cl:case gc:e="ENVMAP_TYPE_CUBE";break;case Hh:e="ENVMAP_TYPE_CUBE_UV";break}return e}function rae(t){let e="ENVMAP_MODE_REFLECTION";if(t.envMap)switch(t.envMapMode){case gc:e="ENVMAP_MODE_REFRACTION";break}return e}function iae(t){let e="ENVMAP_BLENDING_NONE";if(t.envMap)switch(t.combine){case I0:e="ENVMAP_BLENDING_MULTIPLY";break;case VV:e="ENVMAP_BLENDING_MIX";break;case HV:e="ENVMAP_BLENDING_ADD";break}return e}function sae(t){const e=t.envMapCubeUVHeight;if(e===null)return null;const n=Math.log2(e)-2,r=1/e;return{texelWidth:1/(3*Math.max(Math.pow(2,n),7*16)),texelHeight:r,maxMip:n}}function aae(t,e,n,r){const i=t.getContext(),s=n.defines;let a=n.vertexShader,o=n.fragmentShader;const l=tae(n),c=nae(n),u=rae(n),f=iae(n),d=sae(n),p=n.isWebGL2?"":Xse(n),v=qse(s),b=i.createProgram();let x,y,w=n.glslVersion?"#version "+n.glslVersion+`
`:"";n.isRawShaderMaterial?(x=["#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(xm).join(`
`),x.length>0&&(x+=`
`),y=[p,"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v].filter(xm).join(`
`),y.length>0&&(y+=`
`)):(x=[Uj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.instancing?"#define USE_INSTANCING":"",n.instancingColor?"#define USE_INSTANCING_COLOR":"",n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+u:"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.displacementMap?"#define USE_DISPLACEMENTMAP":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.mapUv?"#define MAP_UV "+n.mapUv:"",n.alphaMapUv?"#define ALPHAMAP_UV "+n.alphaMapUv:"",n.lightMapUv?"#define LIGHTMAP_UV "+n.lightMapUv:"",n.aoMapUv?"#define AOMAP_UV "+n.aoMapUv:"",n.emissiveMapUv?"#define EMISSIVEMAP_UV "+n.emissiveMapUv:"",n.bumpMapUv?"#define BUMPMAP_UV "+n.bumpMapUv:"",n.normalMapUv?"#define NORMALMAP_UV "+n.normalMapUv:"",n.displacementMapUv?"#define DISPLACEMENTMAP_UV "+n.displacementMapUv:"",n.metalnessMapUv?"#define METALNESSMAP_UV "+n.metalnessMapUv:"",n.roughnessMapUv?"#define ROUGHNESSMAP_UV "+n.roughnessMapUv:"",n.anisotropyMapUv?"#define ANISOTROPYMAP_UV "+n.anisotropyMapUv:"",n.clearcoatMapUv?"#define CLEARCOATMAP_UV "+n.clearcoatMapUv:"",n.clearcoatNormalMapUv?"#define CLEARCOAT_NORMALMAP_UV "+n.clearcoatNormalMapUv:"",n.clearcoatRoughnessMapUv?"#define CLEARCOAT_ROUGHNESSMAP_UV "+n.clearcoatRoughnessMapUv:"",n.iridescenceMapUv?"#define IRIDESCENCEMAP_UV "+n.iridescenceMapUv:"",n.iridescenceThicknessMapUv?"#define IRIDESCENCE_THICKNESSMAP_UV "+n.iridescenceThicknessMapUv:"",n.sheenColorMapUv?"#define SHEEN_COLORMAP_UV "+n.sheenColorMapUv:"",n.sheenRoughnessMapUv?"#define SHEEN_ROUGHNESSMAP_UV "+n.sheenRoughnessMapUv:"",n.specularMapUv?"#define SPECULARMAP_UV "+n.specularMapUv:"",n.specularColorMapUv?"#define SPECULAR_COLORMAP_UV "+n.specularColorMapUv:"",n.specularIntensityMapUv?"#define SPECULAR_INTENSITYMAP_UV "+n.specularIntensityMapUv:"",n.transmissionMapUv?"#define TRANSMISSIONMAP_UV "+n.transmissionMapUv:"",n.thicknessMapUv?"#define THICKNESSMAP_UV "+n.thicknessMapUv:"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.flatShading?"#define FLAT_SHADED":"",n.skinning?"#define USE_SKINNING":"",n.morphTargets?"#define USE_MORPHTARGETS":"",n.morphNormals&&n.flatShading===!1?"#define USE_MORPHNORMALS":"",n.morphColors&&n.isWebGL2?"#define USE_MORPHCOLORS":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE":"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_TEXTURE_STRIDE "+n.morphTextureStride:"",n.morphTargetsCount>0&&n.isWebGL2?"#define MORPHTARGETS_COUNT "+n.morphTargetsCount:"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.sizeAttenuation?"#define USE_SIZEATTENUATION":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 modelMatrix;","uniform mat4 modelViewMatrix;","uniform mat4 projectionMatrix;","uniform mat4 viewMatrix;","uniform mat3 normalMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;","#ifdef USE_INSTANCING","	attribute mat4 instanceMatrix;","#endif","#ifdef USE_INSTANCING_COLOR","	attribute vec3 instanceColor;","#endif","attribute vec3 position;","attribute vec3 normal;","attribute vec2 uv;","#ifdef USE_UV1","	attribute vec2 uv1;","#endif","#ifdef USE_UV2","	attribute vec2 uv2;","#endif","#ifdef USE_UV3","	attribute vec2 uv3;","#endif","#ifdef USE_TANGENT","	attribute vec4 tangent;","#endif","#if defined( USE_COLOR_ALPHA )","	attribute vec4 color;","#elif defined( USE_COLOR )","	attribute vec3 color;","#endif","#if ( defined( USE_MORPHTARGETS ) && ! defined( MORPHTARGETS_TEXTURE ) )","	attribute vec3 morphTarget0;","	attribute vec3 morphTarget1;","	attribute vec3 morphTarget2;","	attribute vec3 morphTarget3;","	#ifdef USE_MORPHNORMALS","		attribute vec3 morphNormal0;","		attribute vec3 morphNormal1;","		attribute vec3 morphNormal2;","		attribute vec3 morphNormal3;","	#else","		attribute vec3 morphTarget4;","		attribute vec3 morphTarget5;","		attribute vec3 morphTarget6;","		attribute vec3 morphTarget7;","	#endif","#endif","#ifdef USE_SKINNING","	attribute vec4 skinIndex;","	attribute vec4 skinWeight;","#endif",`
`].filter(xm).join(`
`),y=[p,Uj(n),"#define SHADER_TYPE "+n.shaderType,"#define SHADER_NAME "+n.shaderName,v,n.useFog&&n.fog?"#define USE_FOG":"",n.useFog&&n.fogExp2?"#define FOG_EXP2":"",n.map?"#define USE_MAP":"",n.matcap?"#define USE_MATCAP":"",n.envMap?"#define USE_ENVMAP":"",n.envMap?"#define "+c:"",n.envMap?"#define "+u:"",n.envMap?"#define "+f:"",d?"#define CUBEUV_TEXEL_WIDTH "+d.texelWidth:"",d?"#define CUBEUV_TEXEL_HEIGHT "+d.texelHeight:"",d?"#define CUBEUV_MAX_MIP "+d.maxMip+".0":"",n.lightMap?"#define USE_LIGHTMAP":"",n.aoMap?"#define USE_AOMAP":"",n.bumpMap?"#define USE_BUMPMAP":"",n.normalMap?"#define USE_NORMALMAP":"",n.normalMapObjectSpace?"#define USE_NORMALMAP_OBJECTSPACE":"",n.normalMapTangentSpace?"#define USE_NORMALMAP_TANGENTSPACE":"",n.emissiveMap?"#define USE_EMISSIVEMAP":"",n.anisotropy?"#define USE_ANISOTROPY":"",n.anisotropyMap?"#define USE_ANISOTROPYMAP":"",n.clearcoat?"#define USE_CLEARCOAT":"",n.clearcoatMap?"#define USE_CLEARCOATMAP":"",n.clearcoatRoughnessMap?"#define USE_CLEARCOAT_ROUGHNESSMAP":"",n.clearcoatNormalMap?"#define USE_CLEARCOAT_NORMALMAP":"",n.iridescence?"#define USE_IRIDESCENCE":"",n.iridescenceMap?"#define USE_IRIDESCENCEMAP":"",n.iridescenceThicknessMap?"#define USE_IRIDESCENCE_THICKNESSMAP":"",n.specularMap?"#define USE_SPECULARMAP":"",n.specularColorMap?"#define USE_SPECULAR_COLORMAP":"",n.specularIntensityMap?"#define USE_SPECULAR_INTENSITYMAP":"",n.roughnessMap?"#define USE_ROUGHNESSMAP":"",n.metalnessMap?"#define USE_METALNESSMAP":"",n.alphaMap?"#define USE_ALPHAMAP":"",n.alphaTest?"#define USE_ALPHATEST":"",n.alphaHash?"#define USE_ALPHAHASH":"",n.sheen?"#define USE_SHEEN":"",n.sheenColorMap?"#define USE_SHEEN_COLORMAP":"",n.sheenRoughnessMap?"#define USE_SHEEN_ROUGHNESSMAP":"",n.transmission?"#define USE_TRANSMISSION":"",n.transmissionMap?"#define USE_TRANSMISSIONMAP":"",n.thicknessMap?"#define USE_THICKNESSMAP":"",n.vertexTangents&&n.flatShading===!1?"#define USE_TANGENT":"",n.vertexColors||n.instancingColor?"#define USE_COLOR":"",n.vertexAlphas?"#define USE_COLOR_ALPHA":"",n.vertexUv1s?"#define USE_UV1":"",n.vertexUv2s?"#define USE_UV2":"",n.vertexUv3s?"#define USE_UV3":"",n.pointsUvs?"#define USE_POINTS_UV":"",n.gradientMap?"#define USE_GRADIENTMAP":"",n.flatShading?"#define FLAT_SHADED":"",n.doubleSided?"#define DOUBLE_SIDED":"",n.flipSided?"#define FLIP_SIDED":"",n.shadowMapEnabled?"#define USE_SHADOWMAP":"",n.shadowMapEnabled?"#define "+l:"",n.premultipliedAlpha?"#define PREMULTIPLIED_ALPHA":"",n.numLightProbes>0?"#define USE_LIGHT_PROBES":"",n.useLegacyLights?"#define LEGACY_LIGHTS":"",n.decodeVideoTexture?"#define DECODE_VIDEO_TEXTURE":"",n.logarithmicDepthBuffer?"#define USE_LOGDEPTHBUF":"",n.logarithmicDepthBuffer&&n.rendererExtensionFragDepth?"#define USE_LOGDEPTHBUF_EXT":"","uniform mat4 viewMatrix;","uniform vec3 cameraPosition;","uniform bool isOrthographic;",n.toneMapping!==ao?"#define TONE_MAPPING":"",n.toneMapping!==ao?It.tonemapping_pars_fragment:"",n.toneMapping!==ao?Gse("toneMapping",n.toneMapping):"",n.dithering?"#define DITHERING":"",n.opaque?"#define OPAQUE":"",It.colorspace_pars_fragment,Wse("linearToOutputTexel",n.outputColorSpace),n.useDepthPacking?"#define DEPTH_PACKING "+n.depthPacking:"",`
`].filter(xm).join(`
`)),a=VT(a),a=jj(a,n),a=kj(a,n),o=VT(o),o=jj(o,n),o=kj(o,n),a=Dj(a),o=Dj(o),n.isWebGL2&&n.isRawShaderMaterial!==!0&&(w=`#version 300 es
`,x=["precision mediump sampler2DArray;","#define attribute in","#define varying out","#define texture2D texture"].join(`
`)+`
`+x,y=["#define varying in",n.glslVersion===FT?"":"layout(location = 0) out highp vec4 pc_fragColor;",n.glslVersion===FT?"":"#define gl_FragColor pc_fragColor","#define gl_FragDepthEXT gl_FragDepth","#define texture2D texture","#define textureCube texture","#define texture2DProj textureProj","#define texture2DLodEXT textureLod","#define texture2DProjLodEXT textureProjLod","#define textureCubeLodEXT textureLod","#define texture2DGradEXT textureGrad","#define texture2DProjGradEXT textureProjGrad","#define textureCubeGradEXT textureGrad"].join(`
`)+`
`+y);const _=w+x+a,S=w+y+o,M=Lj(i,i.VERTEX_SHADER,_),E=Lj(i,i.FRAGMENT_SHADER,S);if(i.attachShader(b,M),i.attachShader(b,E),n.index0AttributeName!==void 0?i.bindAttribLocation(b,0,n.index0AttributeName):n.morphTargets===!0&&i.bindAttribLocation(b,0,"position"),i.linkProgram(b),t.debug.checkShaderErrors){const P=i.getProgramInfoLog(b).trim(),R=i.getShaderInfoLog(M).trim(),L=i.getShaderInfoLog(E).trim();let O=!0,D=!0;if(i.getProgramParameter(b,i.LINK_STATUS)===!1)if(O=!1,typeof t.debug.onShaderError=="function")t.debug.onShaderError(i,b,M,E);else{const I=Ij(i,M,"vertex"),z=Ij(i,E,"fragment");console.error("THREE.WebGLProgram: Shader Error "+i.getError()+" - VALIDATE_STATUS "+i.getProgramParameter(b,i.VALIDATE_STATUS)+`

Program Info Log: `+P+`
`+I+`
`+z)}else P!==""?console.warn("THREE.WebGLProgram: Program Info Log:",P):(R===""||L==="")&&(D=!1);D&&(this.diagnostics={runnable:O,programLog:P,vertexShader:{log:R,prefix:x},fragmentShader:{log:L,prefix:y}})}i.deleteShader(M),i.deleteShader(E);let A;this.getUniforms=function(){return A===void 0&&(A=new Wx(i,b)),A};let C;return this.getAttributes=function(){return C===void 0&&(C=Yse(i,b)),C},this.destroy=function(){r.releaseStatesOfProgram(this),i.deleteProgram(b),this.program=void 0},this.type=n.shaderType,this.name=n.shaderName,this.id=Vse++,this.cacheKey=e,this.usedTimes=1,this.program=b,this.vertexShader=M,this.fragmentShader=E,this}let oae=0;class lae{constructor(){this.shaderCache=new Map,this.materialCache=new Map}update(e){const n=e.vertexShader,r=e.fragmentShader,i=this._getShaderStage(n),s=this._getShaderStage(r),a=this._getShaderCacheForMaterial(e);return a.has(i)===!1&&(a.add(i),i.usedTimes++),a.has(s)===!1&&(a.add(s),s.usedTimes++),this}remove(e){const n=this.materialCache.get(e);for(const r of n)r.usedTimes--,r.usedTimes===0&&this.shaderCache.delete(r.code);return this.materialCache.delete(e),this}getVertexShaderID(e){return this._getShaderStage(e.vertexShader).id}getFragmentShaderID(e){return this._getShaderStage(e.fragmentShader).id}dispose(){this.shaderCache.clear(),this.materialCache.clear()}_getShaderCacheForMaterial(e){const n=this.materialCache;let r=n.get(e);return r===void 0&&(r=new Set,n.set(e,r)),r}_getShaderStage(e){const n=this.shaderCache;let r=n.get(e);return r===void 0&&(r=new cae(e),n.set(e,r)),r}}class cae{constructor(e){this.id=oae++,this.code=e,this.usedTimes=0}}function uae(t,e,n,r,i,s,a){const o=new ku,l=new lae,c=[],u=i.isWebGL2,f=i.logarithmicDepthBuffer,d=i.vertexTextures;let p=i.precision;const v={MeshDepthMaterial:"depth",MeshDistanceMaterial:"distanceRGBA",MeshNormalMaterial:"normal",MeshBasicMaterial:"basic",MeshLambertMaterial:"lambert",MeshPhongMaterial:"phong",MeshToonMaterial:"toon",MeshStandardMaterial:"physical",MeshPhysicalMaterial:"physical",MeshMatcapMaterial:"matcap",LineBasicMaterial:"basic",LineDashedMaterial:"dashed",PointsMaterial:"points",ShadowMaterial:"shadow",SpriteMaterial:"sprite"};function b(P){return P===0?"uv":`uv${P}`}function x(P,R,L,O,D){const I=O.fog,z=D.geometry,$=P.isMeshStandardMaterial?O.environment:null,q=(P.isMeshStandardMaterial?n:e).get(P.envMap||$),V=q&&q.mapping===Hh?q.image.height:null,U=v[P.type];P.precision!==null&&(p=i.getMaxPrecision(P.precision),p!==P.precision&&console.warn("THREE.WebGLProgram.getParameters:",P.precision,"not supported, using",p,"instead."));const W=z.morphAttributes.position||z.morphAttributes.normal||z.morphAttributes.color,k=W!==void 0?W.length:0;let H=0;z.morphAttributes.position!==void 0&&(H=1),z.morphAttributes.normal!==void 0&&(H=2),z.morphAttributes.color!==void 0&&(H=3);let K,ne,te,ae;if(U){const ht=Pa[U];K=ht.vertexShader,ne=ht.fragmentShader}else K=P.vertexShader,ne=P.fragmentShader,l.update(P),te=l.getVertexShaderID(P),ae=l.getFragmentShaderID(P);const oe=t.getRenderTarget(),he=D.isInstancedMesh===!0,fe=!!P.map,Ce=!!P.matcap,le=!!q,G=!!P.aoMap,me=!!P.lightMap,se=!!P.bumpMap,xe=!!P.normalMap,pe=!!P.displacementMap,ze=!!P.emissiveMap,ve=!!P.metalnessMap,Re=!!P.roughnessMap,Be=P.anisotropy>0,ge=P.clearcoat>0,Ye=P.iridescence>0,Y=P.sheen>0,X=P.transmission>0,ie=Be&&!!P.anisotropyMap,Fe=ge&&!!P.clearcoatMap,ye=ge&&!!P.clearcoatNormalMap,Ee=ge&&!!P.clearcoatRoughnessMap,He=Ye&&!!P.iridescenceMap,Ue=Ye&&!!P.iridescenceThicknessMap,$e=Y&&!!P.sheenColorMap,et=Y&&!!P.sheenRoughnessMap,tt=!!P.specularMap,Ne=!!P.specularColorMap,Xe=!!P.specularIntensityMap,re=X&&!!P.transmissionMap,we=X&&!!P.thicknessMap,Ve=!!P.gradientMap,J=!!P.alphaMap,Me=P.alphaTest>0,ke=!!P.alphaHash,Je=!!P.extensions,Ge=!!z.attributes.uv1,Te=!!z.attributes.uv2,Ke=!!z.attributes.uv3;let nt=ao;return P.toneMapped&&(oe===null||oe.isXRRenderTarget===!0)&&(nt=t.toneMapping),{isWebGL2:u,shaderID:U,shaderType:P.type,shaderName:P.name,vertexShader:K,fragmentShader:ne,defines:P.defines,customVertexShaderID:te,customFragmentShaderID:ae,isRawShaderMaterial:P.isRawShaderMaterial===!0,glslVersion:P.glslVersion,precision:p,instancing:he,instancingColor:he&&D.instanceColor!==null,supportsVertexTextures:d,outputColorSpace:oe===null?t.outputColorSpace:oe.isXRRenderTarget===!0?oe.texture.colorSpace:mo,map:fe,matcap:Ce,envMap:le,envMapMode:le&&q.mapping,envMapCubeUVHeight:V,aoMap:G,lightMap:me,bumpMap:se,normalMap:xe,displacementMap:d&&pe,emissiveMap:ze,normalMapObjectSpace:xe&&P.normalMapType===o8,normalMapTangentSpace:xe&&P.normalMapType===Ec,metalnessMap:ve,roughnessMap:Re,anisotropy:Be,anisotropyMap:ie,clearcoat:ge,clearcoatMap:Fe,clearcoatNormalMap:ye,clearcoatRoughnessMap:Ee,iridescence:Ye,iridescenceMap:He,iridescenceThicknessMap:Ue,sheen:Y,sheenColorMap:$e,sheenRoughnessMap:et,specularMap:tt,specularColorMap:Ne,specularIntensityMap:Xe,transmission:X,transmissionMap:re,thicknessMap:we,gradientMap:Ve,opaque:P.transparent===!1&&P.blending===Iu,alphaMap:J,alphaTest:Me,alphaHash:ke,combine:P.combine,mapUv:fe&&b(P.map.channel),aoMapUv:G&&b(P.aoMap.channel),lightMapUv:me&&b(P.lightMap.channel),bumpMapUv:se&&b(P.bumpMap.channel),normalMapUv:xe&&b(P.normalMap.channel),displacementMapUv:pe&&b(P.displacementMap.channel),emissiveMapUv:ze&&b(P.emissiveMap.channel),metalnessMapUv:ve&&b(P.metalnessMap.channel),roughnessMapUv:Re&&b(P.roughnessMap.channel),anisotropyMapUv:ie&&b(P.anisotropyMap.channel),clearcoatMapUv:Fe&&b(P.clearcoatMap.channel),clearcoatNormalMapUv:ye&&b(P.clearcoatNormalMap.channel),clearcoatRoughnessMapUv:Ee&&b(P.clearcoatRoughnessMap.channel),iridescenceMapUv:He&&b(P.iridescenceMap.channel),iridescenceThicknessMapUv:Ue&&b(P.iridescenceThicknessMap.channel),sheenColorMapUv:$e&&b(P.sheenColorMap.channel),sheenRoughnessMapUv:et&&b(P.sheenRoughnessMap.channel),specularMapUv:tt&&b(P.specularMap.channel),specularColorMapUv:Ne&&b(P.specularColorMap.channel),specularIntensityMapUv:Xe&&b(P.specularIntensityMap.channel),transmissionMapUv:re&&b(P.transmissionMap.channel),thicknessMapUv:we&&b(P.thicknessMap.channel),alphaMapUv:J&&b(P.alphaMap.channel),vertexTangents:!!z.attributes.tangent&&(xe||Be),vertexColors:P.vertexColors,vertexAlphas:P.vertexColors===!0&&!!z.attributes.color&&z.attributes.color.itemSize===4,vertexUv1s:Ge,vertexUv2s:Te,vertexUv3s:Ke,pointsUvs:D.isPoints===!0&&!!z.attributes.uv&&(fe||J),fog:!!I,useFog:P.fog===!0,fogExp2:I&&I.isFogExp2,flatShading:P.flatShading===!0,sizeAttenuation:P.sizeAttenuation===!0,logarithmicDepthBuffer:f,skinning:D.isSkinnedMesh===!0,morphTargets:z.morphAttributes.position!==void 0,morphNormals:z.morphAttributes.normal!==void 0,morphColors:z.morphAttributes.color!==void 0,morphTargetsCount:k,morphTextureStride:H,numDirLights:R.directional.length,numPointLights:R.point.length,numSpotLights:R.spot.length,numSpotLightMaps:R.spotLightMap.length,numRectAreaLights:R.rectArea.length,numHemiLights:R.hemi.length,numDirLightShadows:R.directionalShadowMap.length,numPointLightShadows:R.pointShadowMap.length,numSpotLightShadows:R.spotShadowMap.length,numSpotLightShadowsWithMaps:R.numSpotLightShadowsWithMaps,numLightProbes:R.numLightProbes,numClippingPlanes:a.numPlanes,numClipIntersection:a.numIntersection,dithering:P.dithering,shadowMapEnabled:t.shadowMap.enabled&&L.length>0,shadowMapType:t.shadowMap.type,toneMapping:nt,useLegacyLights:t._useLegacyLights,decodeVideoTexture:fe&&P.map.isVideoTexture===!0&&dn.getTransfer(P.map.colorSpace)===Sn,premultipliedAlpha:P.premultipliedAlpha,doubleSided:P.side===ea,flipSided:P.side===bi,useDepthPacking:P.depthPacking>=0,depthPacking:P.depthPacking||0,index0AttributeName:P.index0AttributeName,extensionDerivatives:Je&&P.extensions.derivatives===!0,extensionFragDepth:Je&&P.extensions.fragDepth===!0,extensionDrawBuffers:Je&&P.extensions.drawBuffers===!0,extensionShaderTextureLOD:Je&&P.extensions.shaderTextureLOD===!0,rendererExtensionFragDepth:u||r.has("EXT_frag_depth"),rendererExtensionDrawBuffers:u||r.has("WEBGL_draw_buffers"),rendererExtensionShaderTextureLod:u||r.has("EXT_shader_texture_lod"),customProgramCacheKey:P.customProgramCacheKey()}}function y(P){const R=[];if(P.shaderID?R.push(P.shaderID):(R.push(P.customVertexShaderID),R.push(P.customFragmentShaderID)),P.defines!==void 0)for(const L in P.defines)R.push(L),R.push(P.defines[L]);return P.isRawShaderMaterial===!1&&(w(R,P),_(R,P),R.push(t.outputColorSpace)),R.push(P.customProgramCacheKey),R.join()}function w(P,R){P.push(R.precision),P.push(R.outputColorSpace),P.push(R.envMapMode),P.push(R.envMapCubeUVHeight),P.push(R.mapUv),P.push(R.alphaMapUv),P.push(R.lightMapUv),P.push(R.aoMapUv),P.push(R.bumpMapUv),P.push(R.normalMapUv),P.push(R.displacementMapUv),P.push(R.emissiveMapUv),P.push(R.metalnessMapUv),P.push(R.roughnessMapUv),P.push(R.anisotropyMapUv),P.push(R.clearcoatMapUv),P.push(R.clearcoatNormalMapUv),P.push(R.clearcoatRoughnessMapUv),P.push(R.iridescenceMapUv),P.push(R.iridescenceThicknessMapUv),P.push(R.sheenColorMapUv),P.push(R.sheenRoughnessMapUv),P.push(R.specularMapUv),P.push(R.specularColorMapUv),P.push(R.specularIntensityMapUv),P.push(R.transmissionMapUv),P.push(R.thicknessMapUv),P.push(R.combine),P.push(R.fogExp2),P.push(R.sizeAttenuation),P.push(R.morphTargetsCount),P.push(R.morphAttributeCount),P.push(R.numDirLights),P.push(R.numPointLights),P.push(R.numSpotLights),P.push(R.numSpotLightMaps),P.push(R.numHemiLights),P.push(R.numRectAreaLights),P.push(R.numDirLightShadows),P.push(R.numPointLightShadows),P.push(R.numSpotLightShadows),P.push(R.numSpotLightShadowsWithMaps),P.push(R.numLightProbes),P.push(R.shadowMapType),P.push(R.toneMapping),P.push(R.numClippingPlanes),P.push(R.numClipIntersection),P.push(R.depthPacking)}function _(P,R){o.disableAll(),R.isWebGL2&&o.enable(0),R.supportsVertexTextures&&o.enable(1),R.instancing&&o.enable(2),R.instancingColor&&o.enable(3),R.matcap&&o.enable(4),R.envMap&&o.enable(5),R.normalMapObjectSpace&&o.enable(6),R.normalMapTangentSpace&&o.enable(7),R.clearcoat&&o.enable(8),R.iridescence&&o.enable(9),R.alphaTest&&o.enable(10),R.vertexColors&&o.enable(11),R.vertexAlphas&&o.enable(12),R.vertexUv1s&&o.enable(13),R.vertexUv2s&&o.enable(14),R.vertexUv3s&&o.enable(15),R.vertexTangents&&o.enable(16),R.anisotropy&&o.enable(17),P.push(o.mask),o.disableAll(),R.fog&&o.enable(0),R.useFog&&o.enable(1),R.flatShading&&o.enable(2),R.logarithmicDepthBuffer&&o.enable(3),R.skinning&&o.enable(4),R.morphTargets&&o.enable(5),R.morphNormals&&o.enable(6),R.morphColors&&o.enable(7),R.premultipliedAlpha&&o.enable(8),R.shadowMapEnabled&&o.enable(9),R.useLegacyLights&&o.enable(10),R.doubleSided&&o.enable(11),R.flipSided&&o.enable(12),R.useDepthPacking&&o.enable(13),R.dithering&&o.enable(14),R.transmission&&o.enable(15),R.sheen&&o.enable(16),R.opaque&&o.enable(17),R.pointsUvs&&o.enable(18),R.decodeVideoTexture&&o.enable(19),P.push(o.mask)}function S(P){const R=v[P.type];let L;if(R){const O=Pa[R];L=xN.clone(O.uniforms)}else L=P.uniforms;return L}function M(P,R){let L;for(let O=0,D=c.length;O<D;O++){const I=c[O];if(I.cacheKey===R){L=I,++L.usedTimes;break}}return L===void 0&&(L=new aae(t,R,P,s),c.push(L)),L}function E(P){if(--P.usedTimes===0){const R=c.indexOf(P);c[R]=c[c.length-1],c.pop(),P.destroy()}}function A(P){l.remove(P)}function C(){l.dispose()}return{getParameters:x,getProgramCacheKey:y,getUniforms:S,acquireProgram:M,releaseProgram:E,releaseShaderCache:A,programs:c,dispose:C}}function fae(){let t=new WeakMap;function e(s){let a=t.get(s);return a===void 0&&(a={},t.set(s,a)),a}function n(s){t.delete(s)}function r(s,a,o){t.get(s)[a]=o}function i(){t=new WeakMap}return{get:e,remove:n,update:r,dispose:i}}function dae(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.material.id!==e.material.id?t.material.id-e.material.id:t.z!==e.z?t.z-e.z:t.id-e.id}function Fj(t,e){return t.groupOrder!==e.groupOrder?t.groupOrder-e.groupOrder:t.renderOrder!==e.renderOrder?t.renderOrder-e.renderOrder:t.z!==e.z?e.z-t.z:t.id-e.id}function Bj(){const t=[];let e=0;const n=[],r=[],i=[];function s(){e=0,n.length=0,r.length=0,i.length=0}function a(f,d,p,v,b,x){let y=t[e];return y===void 0?(y={id:f.id,object:f,geometry:d,material:p,groupOrder:v,renderOrder:f.renderOrder,z:b,group:x},t[e]=y):(y.id=f.id,y.object=f,y.geometry=d,y.material=p,y.groupOrder=v,y.renderOrder=f.renderOrder,y.z=b,y.group=x),e++,y}function o(f,d,p,v,b,x){const y=a(f,d,p,v,b,x);p.transmission>0?r.push(y):p.transparent===!0?i.push(y):n.push(y)}function l(f,d,p,v,b,x){const y=a(f,d,p,v,b,x);p.transmission>0?r.unshift(y):p.transparent===!0?i.unshift(y):n.unshift(y)}function c(f,d){n.length>1&&n.sort(f||dae),r.length>1&&r.sort(d||Fj),i.length>1&&i.sort(d||Fj)}function u(){for(let f=e,d=t.length;f<d;f++){const p=t[f];if(p.id===null)break;p.id=null,p.object=null,p.geometry=null,p.material=null,p.group=null}}return{opaque:n,transmissive:r,transparent:i,init:s,push:o,unshift:l,finish:u,sort:c}}function hae(){let t=new WeakMap;function e(r,i){const s=t.get(r);let a;return s===void 0?(a=new Bj,t.set(r,[a])):i>=s.length?(a=new Bj,s.push(a)):a=s[i],a}function n(){t=new WeakMap}return{get:e,dispose:n}}function pae(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={direction:new Z,color:new at};break;case"SpotLight":n={position:new Z,direction:new Z,color:new at,distance:0,coneCos:0,penumbraCos:0,decay:0};break;case"PointLight":n={position:new Z,color:new at,distance:0,decay:0};break;case"HemisphereLight":n={direction:new Z,skyColor:new at,groundColor:new at};break;case"RectAreaLight":n={color:new at,position:new Z,halfWidth:new Z,halfHeight:new Z};break}return t[e.id]=n,n}}}function mae(){const t={};return{get:function(e){if(t[e.id]!==void 0)return t[e.id];let n;switch(e.type){case"DirectionalLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"SpotLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De};break;case"PointLight":n={shadowBias:0,shadowNormalBias:0,shadowRadius:1,shadowMapSize:new De,shadowCameraNear:1,shadowCameraFar:1e3};break}return t[e.id]=n,n}}}let gae=0;function vae(t,e){return(e.castShadow?2:0)-(t.castShadow?2:0)+(e.map?1:0)-(t.map?1:0)}function yae(t,e){const n=new pae,r=mae(),i={version:0,hash:{directionalLength:-1,pointLength:-1,spotLength:-1,rectAreaLength:-1,hemiLength:-1,numDirectionalShadows:-1,numPointShadows:-1,numSpotShadows:-1,numSpotMaps:-1,numLightProbes:-1},ambient:[0,0,0],probe:[],directional:[],directionalShadow:[],directionalShadowMap:[],directionalShadowMatrix:[],spot:[],spotLightMap:[],spotShadow:[],spotShadowMap:[],spotLightMatrix:[],rectArea:[],rectAreaLTC1:null,rectAreaLTC2:null,point:[],pointShadow:[],pointShadowMap:[],pointShadowMatrix:[],hemi:[],numSpotLightShadowsWithMaps:0,numLightProbes:0};for(let u=0;u<9;u++)i.probe.push(new Z);const s=new Z,a=new Nt,o=new Nt;function l(u,f){let d=0,p=0,v=0;for(let O=0;O<9;O++)i.probe[O].set(0,0,0);let b=0,x=0,y=0,w=0,_=0,S=0,M=0,E=0,A=0,C=0,P=0;u.sort(vae);const R=f===!0?Math.PI:1;for(let O=0,D=u.length;O<D;O++){const I=u[O],z=I.color,$=I.intensity,q=I.distance,V=I.shadow&&I.shadow.map?I.shadow.map.texture:null;if(I.isAmbientLight)d+=z.r*$*R,p+=z.g*$*R,v+=z.b*$*R;else if(I.isLightProbe){for(let U=0;U<9;U++)i.probe[U].addScaledVector(I.sh.coefficients[U],$);P++}else if(I.isDirectionalLight){const U=n.get(I);if(U.color.copy(I.color).multiplyScalar(I.intensity*R),I.castShadow){const W=I.shadow,k=r.get(I);k.shadowBias=W.bias,k.shadowNormalBias=W.normalBias,k.shadowRadius=W.radius,k.shadowMapSize=W.mapSize,i.directionalShadow[b]=k,i.directionalShadowMap[b]=V,i.directionalShadowMatrix[b]=I.shadow.matrix,S++}i.directional[b]=U,b++}else if(I.isSpotLight){const U=n.get(I);U.position.setFromMatrixPosition(I.matrixWorld),U.color.copy(z).multiplyScalar($*R),U.distance=q,U.coneCos=Math.cos(I.angle),U.penumbraCos=Math.cos(I.angle*(1-I.penumbra)),U.decay=I.decay,i.spot[y]=U;const W=I.shadow;if(I.map&&(i.spotLightMap[A]=I.map,A++,W.updateMatrices(I),I.castShadow&&C++),i.spotLightMatrix[y]=W.matrix,I.castShadow){const k=r.get(I);k.shadowBias=W.bias,k.shadowNormalBias=W.normalBias,k.shadowRadius=W.radius,k.shadowMapSize=W.mapSize,i.spotShadow[y]=k,i.spotShadowMap[y]=V,E++}y++}else if(I.isRectAreaLight){const U=n.get(I);U.color.copy(z).multiplyScalar($),U.halfWidth.set(I.width*.5,0,0),U.halfHeight.set(0,I.height*.5,0),i.rectArea[w]=U,w++}else if(I.isPointLight){const U=n.get(I);if(U.color.copy(I.color).multiplyScalar(I.intensity*R),U.distance=I.distance,U.decay=I.decay,I.castShadow){const W=I.shadow,k=r.get(I);k.shadowBias=W.bias,k.shadowNormalBias=W.normalBias,k.shadowRadius=W.radius,k.shadowMapSize=W.mapSize,k.shadowCameraNear=W.camera.near,k.shadowCameraFar=W.camera.far,i.pointShadow[x]=k,i.pointShadowMap[x]=V,i.pointShadowMatrix[x]=I.shadow.matrix,M++}i.point[x]=U,x++}else if(I.isHemisphereLight){const U=n.get(I);U.skyColor.copy(I.color).multiplyScalar($*R),U.groundColor.copy(I.groundColor).multiplyScalar($*R),i.hemi[_]=U,_++}}w>0&&(e.isWebGL2||t.has("OES_texture_float_linear")===!0?(i.rectAreaLTC1=rt.LTC_FLOAT_1,i.rectAreaLTC2=rt.LTC_FLOAT_2):t.has("OES_texture_half_float_linear")===!0?(i.rectAreaLTC1=rt.LTC_HALF_1,i.rectAreaLTC2=rt.LTC_HALF_2):console.error("THREE.WebGLRenderer: Unable to use RectAreaLight. Missing WebGL extensions.")),i.ambient[0]=d,i.ambient[1]=p,i.ambient[2]=v;const L=i.hash;(L.directionalLength!==b||L.pointLength!==x||L.spotLength!==y||L.rectAreaLength!==w||L.hemiLength!==_||L.numDirectionalShadows!==S||L.numPointShadows!==M||L.numSpotShadows!==E||L.numSpotMaps!==A||L.numLightProbes!==P)&&(i.directional.length=b,i.spot.length=y,i.rectArea.length=w,i.point.length=x,i.hemi.length=_,i.directionalShadow.length=S,i.directionalShadowMap.length=S,i.pointShadow.length=M,i.pointShadowMap.length=M,i.spotShadow.length=E,i.spotShadowMap.length=E,i.directionalShadowMatrix.length=S,i.pointShadowMatrix.length=M,i.spotLightMatrix.length=E+A-C,i.spotLightMap.length=A,i.numSpotLightShadowsWithMaps=C,i.numLightProbes=P,L.directionalLength=b,L.pointLength=x,L.spotLength=y,L.rectAreaLength=w,L.hemiLength=_,L.numDirectionalShadows=S,L.numPointShadows=M,L.numSpotShadows=E,L.numSpotMaps=A,L.numLightProbes=P,i.version=gae++)}function c(u,f){let d=0,p=0,v=0,b=0,x=0;const y=f.matrixWorldInverse;for(let w=0,_=u.length;w<_;w++){const S=u[w];if(S.isDirectionalLight){const M=i.directional[d];M.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(y),d++}else if(S.isSpotLight){const M=i.spot[v];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),M.direction.setFromMatrixPosition(S.matrixWorld),s.setFromMatrixPosition(S.target.matrixWorld),M.direction.sub(s),M.direction.transformDirection(y),v++}else if(S.isRectAreaLight){const M=i.rectArea[b];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),o.identity(),a.copy(S.matrixWorld),a.premultiply(y),o.extractRotation(a),M.halfWidth.set(S.width*.5,0,0),M.halfHeight.set(0,S.height*.5,0),M.halfWidth.applyMatrix4(o),M.halfHeight.applyMatrix4(o),b++}else if(S.isPointLight){const M=i.point[p];M.position.setFromMatrixPosition(S.matrixWorld),M.position.applyMatrix4(y),p++}else if(S.isHemisphereLight){const M=i.hemi[x];M.direction.setFromMatrixPosition(S.matrixWorld),M.direction.transformDirection(y),x++}}}return{setup:l,setupView:c,state:i}}function zj(t,e){const n=new yae(t,e),r=[],i=[];function s(){r.length=0,i.length=0}function a(f){r.push(f)}function o(f){i.push(f)}function l(f){n.setup(r,f)}function c(f){n.setupView(r,f)}return{init:s,state:{lightsArray:r,shadowsArray:i,lights:n},setupLights:l,setupLightsView:c,pushLight:a,pushShadow:o}}function xae(t,e){let n=new WeakMap;function r(s,a=0){const o=n.get(s);let l;return o===void 0?(l=new zj(t,e),n.set(s,[l])):a>=o.length?(l=new zj(t,e),o.push(l)):l=o[a],l}function i(){n=new WeakMap}return{get:r,dispose:i}}class C_ extends Mi{constructor(e){super(),this.isMeshDepthMaterial=!0,this.type="MeshDepthMaterial",this.depthPacking=a8,this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.setValues(e)}copy(e){return super.copy(e),this.depthPacking=e.depthPacking,this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this}}class N_ extends Mi{constructor(e){super(),this.isMeshDistanceMaterial=!0,this.type="MeshDistanceMaterial",this.map=null,this.alphaMap=null,this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.setValues(e)}copy(e){return super.copy(e),this.map=e.map,this.alphaMap=e.alphaMap,this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this}}const bae=`void main() {
	gl_Position = vec4( position, 1.0 );
}`,_ae=`uniform sampler2D shadow_pass;
uniform vec2 resolution;
uniform float radius;
#include <packing>
void main() {
	const float samples = float( VSM_SAMPLES );
	float mean = 0.0;
	float squared_mean = 0.0;
	float uvStride = samples <= 1.0 ? 0.0 : 2.0 / ( samples - 1.0 );
	float uvStart = samples <= 1.0 ? 0.0 : - 1.0;
	for ( float i = 0.0; i < samples; i ++ ) {
		float uvOffset = uvStart + i * uvStride;
		#ifdef HORIZONTAL_PASS
			vec2 distribution = unpackRGBATo2Half( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( uvOffset, 0.0 ) * radius ) / resolution ) );
			mean += distribution.x;
			squared_mean += distribution.y * distribution.y + distribution.x * distribution.x;
		#else
			float depth = unpackRGBAToDepth( texture2D( shadow_pass, ( gl_FragCoord.xy + vec2( 0.0, uvOffset ) * radius ) / resolution ) );
			mean += depth;
			squared_mean += depth * depth;
		#endif
	}
	mean = mean / samples;
	squared_mean = squared_mean / samples;
	float std_dev = sqrt( squared_mean - mean * mean );
	gl_FragColor = pack2HalfToRGBA( vec2( mean, std_dev ) );
}`;function wae(t,e,n){let r=new A_;const i=new De,s=new De,a=new cn,o=new C_({depthPacking:hN}),l=new N_,c={},u=n.maxTextureSize,f={[ll]:bi,[bi]:ll,[ea]:ea},d=new ca({defines:{VSM_SAMPLES:8},uniforms:{shadow_pass:{value:null},resolution:{value:new De},radius:{value:4}},vertexShader:bae,fragmentShader:_ae}),p=d.clone();p.defines.HORIZONTAL_PASS=1;const v=new Ht;v.setAttribute("position",new fn(new Float32Array([-1,-1,.5,3,-1,.5,-1,3,.5]),3));const b=new vr(v,d),x=this;this.enabled=!1,this.autoUpdate=!0,this.needsUpdate=!1,this.type=__;let y=this.type;this.render=function(M,E,A){if(x.enabled===!1||x.autoUpdate===!1&&x.needsUpdate===!1||M.length===0)return;const C=t.getRenderTarget(),P=t.getActiveCubeFace(),R=t.getActiveMipmapLevel(),L=t.state;L.setBlending(Jo),L.buffers.color.setClear(1,1,1,1),L.buffers.depth.setTest(!0),L.setScissorTest(!1);const O=y!==Sa&&this.type===Sa,D=y===Sa&&this.type!==Sa;for(let I=0,z=M.length;I<z;I++){const $=M[I],q=$.shadow;if(q===void 0){console.warn("THREE.WebGLShadowMap:",$,"has no shadow.");continue}if(q.autoUpdate===!1&&q.needsUpdate===!1)continue;i.copy(q.mapSize);const V=q.getFrameExtents();if(i.multiply(V),s.copy(q.mapSize),(i.x>u||i.y>u)&&(i.x>u&&(s.x=Math.floor(u/V.x),i.x=s.x*V.x,q.mapSize.x=s.x),i.y>u&&(s.y=Math.floor(u/V.y),i.y=s.y*V.y,q.mapSize.y=s.y)),q.map===null||O===!0||D===!0){const W=this.type!==Sa?{minFilter:sr,magFilter:sr}:{};q.map!==null&&q.map.dispose(),q.map=new la(i.x,i.y,W),q.map.texture.name=$.name+".shadowMap",q.camera.updateProjectionMatrix()}t.setRenderTarget(q.map),t.clear();const U=q.getViewportCount();for(let W=0;W<U;W++){const k=q.getViewport(W);a.set(s.x*k.x,s.y*k.y,s.x*k.z,s.y*k.w),L.viewport(a),q.updateMatrices($,W),r=q.getFrustum(),S(E,A,q.camera,$,this.type)}q.isPointLightShadow!==!0&&this.type===Sa&&w(q,A),q.needsUpdate=!1}y=this.type,x.needsUpdate=!1,t.setRenderTarget(C,P,R)};function w(M,E){const A=e.update(b);d.defines.VSM_SAMPLES!==M.blurSamples&&(d.defines.VSM_SAMPLES=M.blurSamples,p.defines.VSM_SAMPLES=M.blurSamples,d.needsUpdate=!0,p.needsUpdate=!0),M.mapPass===null&&(M.mapPass=new la(i.x,i.y)),d.uniforms.shadow_pass.value=M.map.texture,d.uniforms.resolution.value=M.mapSize,d.uniforms.radius.value=M.radius,t.setRenderTarget(M.mapPass),t.clear(),t.renderBufferDirect(E,null,A,d,b,null),p.uniforms.shadow_pass.value=M.mapPass.texture,p.uniforms.resolution.value=M.mapSize,p.uniforms.radius.value=M.radius,t.setRenderTarget(M.map),t.clear(),t.renderBufferDirect(E,null,A,p,b,null)}function _(M,E,A,C){let P=null;const R=A.isPointLight===!0?M.customDistanceMaterial:M.customDepthMaterial;if(R!==void 0)P=R;else if(P=A.isPointLight===!0?l:o,t.localClippingEnabled&&E.clipShadows===!0&&Array.isArray(E.clippingPlanes)&&E.clippingPlanes.length!==0||E.displacementMap&&E.displacementScale!==0||E.alphaMap&&E.alphaTest>0||E.map&&E.alphaTest>0){const L=P.uuid,O=E.uuid;let D=c[L];D===void 0&&(D={},c[L]=D);let I=D[O];I===void 0&&(I=P.clone(),D[O]=I),P=I}if(P.visible=E.visible,P.wireframe=E.wireframe,C===Sa?P.side=E.shadowSide!==null?E.shadowSide:E.side:P.side=E.shadowSide!==null?E.shadowSide:f[E.side],P.alphaMap=E.alphaMap,P.alphaTest=E.alphaTest,P.map=E.map,P.clipShadows=E.clipShadows,P.clippingPlanes=E.clippingPlanes,P.clipIntersection=E.clipIntersection,P.displacementMap=E.displacementMap,P.displacementScale=E.displacementScale,P.displacementBias=E.displacementBias,P.wireframeLinewidth=E.wireframeLinewidth,P.linewidth=E.linewidth,A.isPointLight===!0&&P.isMeshDistanceMaterial===!0){const L=t.properties.get(P);L.light=A}return P}function S(M,E,A,C,P){if(M.visible===!1)return;if(M.layers.test(E.layers)&&(M.isMesh||M.isLine||M.isPoints)&&(M.castShadow||M.receiveShadow&&P===Sa)&&(!M.frustumCulled||r.intersectsObject(M))){M.modelViewMatrix.multiplyMatrices(A.matrixWorldInverse,M.matrixWorld);const O=e.update(M),D=M.material;if(Array.isArray(D)){const I=O.groups;for(let z=0,$=I.length;z<$;z++){const q=I[z],V=D[q.materialIndex];if(V&&V.visible){const U=_(M,V,C,P);t.renderBufferDirect(A,null,O,U,M,q)}}}else if(D.visible){const I=_(M,D,C,P);t.renderBufferDirect(A,null,O,I,M,null)}}const L=M.children;for(let O=0,D=L.length;O<D;O++)S(L[O],E,A,C,P)}}function Sae(t,e,n){const r=n.isWebGL2;function i(){let J=!1;const Me=new cn;let ke=null;const Je=new cn(0,0,0,0);return{setMask:function(Ge){ke!==Ge&&!J&&(t.colorMask(Ge,Ge,Ge,Ge),ke=Ge)},setLocked:function(Ge){J=Ge},setClear:function(Ge,Te,Ke,nt,lt){lt===!0&&(Ge*=nt,Te*=nt,Ke*=nt),Me.set(Ge,Te,Ke,nt),Je.equals(Me)===!1&&(t.clearColor(Ge,Te,Ke,nt),Je.copy(Me))},reset:function(){J=!1,ke=null,Je.set(-1,0,0,0)}}}function s(){let J=!1,Me=null,ke=null,Je=null;return{setTest:function(Ge){Ge?oe(t.DEPTH_TEST):he(t.DEPTH_TEST)},setMask:function(Ge){Me!==Ge&&!J&&(t.depthMask(Ge),Me=Ge)},setFunc:function(Ge){if(ke!==Ge){switch(Ge){case jV:t.depthFunc(t.NEVER);break;case kV:t.depthFunc(t.ALWAYS);break;case DV:t.depthFunc(t.LESS);break;case k1:t.depthFunc(t.LEQUAL);break;case UV:t.depthFunc(t.EQUAL);break;case FV:t.depthFunc(t.GEQUAL);break;case BV:t.depthFunc(t.GREATER);break;case zV:t.depthFunc(t.NOTEQUAL);break;default:t.depthFunc(t.LEQUAL)}ke=Ge}},setLocked:function(Ge){J=Ge},setClear:function(Ge){Je!==Ge&&(t.clearDepth(Ge),Je=Ge)},reset:function(){J=!1,Me=null,ke=null,Je=null}}}function a(){let J=!1,Me=null,ke=null,Je=null,Ge=null,Te=null,Ke=null,nt=null,lt=null;return{setTest:function(ht){J||(ht?oe(t.STENCIL_TEST):he(t.STENCIL_TEST))},setMask:function(ht){Me!==ht&&!J&&(t.stencilMask(ht),Me=ht)},setFunc:function(ht,qt,Bt){(ke!==ht||Je!==qt||Ge!==Bt)&&(t.stencilFunc(ht,qt,Bt),ke=ht,Je=qt,Ge=Bt)},setOp:function(ht,qt,Bt){(Te!==ht||Ke!==qt||nt!==Bt)&&(t.stencilOp(ht,qt,Bt),Te=ht,Ke=qt,nt=Bt)},setLocked:function(ht){J=ht},setClear:function(ht){lt!==ht&&(t.clearStencil(ht),lt=ht)},reset:function(){J=!1,Me=null,ke=null,Je=null,Ge=null,Te=null,Ke=null,nt=null,lt=null}}}const o=new i,l=new s,c=new a,u=new WeakMap,f=new WeakMap;let d={},p={},v=new WeakMap,b=[],x=null,y=!1,w=null,_=null,S=null,M=null,E=null,A=null,C=null,P=!1,R=null,L=null,O=null,D=null,I=null;const z=t.getParameter(t.MAX_COMBINED_TEXTURE_IMAGE_UNITS);let $=!1,q=0;const V=t.getParameter(t.VERSION);V.indexOf("WebGL")!==-1?(q=parseFloat(/^WebGL (\d)/.exec(V)[1]),$=q>=1):V.indexOf("OpenGL ES")!==-1&&(q=parseFloat(/^OpenGL ES (\d)/.exec(V)[1]),$=q>=2);let U=null,W={};const k=t.getParameter(t.SCISSOR_BOX),H=t.getParameter(t.VIEWPORT),K=new cn().fromArray(k),ne=new cn().fromArray(H);function te(J,Me,ke,Je){const Ge=new Uint8Array(4),Te=t.createTexture();t.bindTexture(J,Te),t.texParameteri(J,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(J,t.TEXTURE_MAG_FILTER,t.NEAREST);for(let Ke=0;Ke<ke;Ke++)r&&(J===t.TEXTURE_3D||J===t.TEXTURE_2D_ARRAY)?t.texImage3D(Me,0,t.RGBA,1,1,Je,0,t.RGBA,t.UNSIGNED_BYTE,Ge):t.texImage2D(Me+Ke,0,t.RGBA,1,1,0,t.RGBA,t.UNSIGNED_BYTE,Ge);return Te}const ae={};ae[t.TEXTURE_2D]=te(t.TEXTURE_2D,t.TEXTURE_2D,1),ae[t.TEXTURE_CUBE_MAP]=te(t.TEXTURE_CUBE_MAP,t.TEXTURE_CUBE_MAP_POSITIVE_X,6),r&&(ae[t.TEXTURE_2D_ARRAY]=te(t.TEXTURE_2D_ARRAY,t.TEXTURE_2D_ARRAY,1,1),ae[t.TEXTURE_3D]=te(t.TEXTURE_3D,t.TEXTURE_3D,1,1)),o.setClear(0,0,0,1),l.setClear(1),c.setClear(0),oe(t.DEPTH_TEST),l.setFunc(k1),pe(!1),ze(cT),oe(t.CULL_FACE),se(Jo);function oe(J){d[J]!==!0&&(t.enable(J),d[J]=!0)}function he(J){d[J]!==!1&&(t.disable(J),d[J]=!1)}function fe(J,Me){return p[J]!==Me?(t.bindFramebuffer(J,Me),p[J]=Me,r&&(J===t.DRAW_FRAMEBUFFER&&(p[t.FRAMEBUFFER]=Me),J===t.FRAMEBUFFER&&(p[t.DRAW_FRAMEBUFFER]=Me)),!0):!1}function Ce(J,Me){let ke=b,Je=!1;if(J)if(ke=v.get(Me),ke===void 0&&(ke=[],v.set(Me,ke)),J.isWebGLMultipleRenderTargets){const Ge=J.texture;if(ke.length!==Ge.length||ke[0]!==t.COLOR_ATTACHMENT0){for(let Te=0,Ke=Ge.length;Te<Ke;Te++)ke[Te]=t.COLOR_ATTACHMENT0+Te;ke.length=Ge.length,Je=!0}}else ke[0]!==t.COLOR_ATTACHMENT0&&(ke[0]=t.COLOR_ATTACHMENT0,Je=!0);else ke[0]!==t.BACK&&(ke[0]=t.BACK,Je=!0);Je&&(n.isWebGL2?t.drawBuffers(ke):e.get("WEBGL_draw_buffers").drawBuffersWEBGL(ke))}function le(J){return x!==J?(t.useProgram(J),x=J,!0):!1}const G={[vu]:t.FUNC_ADD,[MV]:t.FUNC_SUBTRACT,[EV]:t.FUNC_REVERSE_SUBTRACT};if(r)G[dT]=t.MIN,G[hT]=t.MAX;else{const J=e.get("EXT_blend_minmax");J!==null&&(G[dT]=J.MIN_EXT,G[hT]=J.MAX_EXT)}const me={[TV]:t.ZERO,[AV]:t.ONE,[PV]:t.SRC_COLOR,[tN]:t.SRC_ALPHA,[IV]:t.SRC_ALPHA_SATURATE,[OV]:t.DST_COLOR,[NV]:t.DST_ALPHA,[CV]:t.ONE_MINUS_SRC_COLOR,[nN]:t.ONE_MINUS_SRC_ALPHA,[LV]:t.ONE_MINUS_DST_COLOR,[RV]:t.ONE_MINUS_DST_ALPHA};function se(J,Me,ke,Je,Ge,Te,Ke,nt){if(J===Jo){y===!0&&(he(t.BLEND),y=!1);return}if(y===!1&&(oe(t.BLEND),y=!0),J!==SV){if(J!==w||nt!==P){if((_!==vu||E!==vu)&&(t.blendEquation(t.FUNC_ADD),_=vu,E=vu),nt)switch(J){case Iu:t.blendFuncSeparate(t.ONE,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gg:t.blendFunc(t.ONE,t.ONE);break;case uT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case fT:t.blendFuncSeparate(t.ZERO,t.SRC_COLOR,t.ZERO,t.SRC_ALPHA);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}else switch(J){case Iu:t.blendFuncSeparate(t.SRC_ALPHA,t.ONE_MINUS_SRC_ALPHA,t.ONE,t.ONE_MINUS_SRC_ALPHA);break;case gg:t.blendFunc(t.SRC_ALPHA,t.ONE);break;case uT:t.blendFuncSeparate(t.ZERO,t.ONE_MINUS_SRC_COLOR,t.ZERO,t.ONE);break;case fT:t.blendFunc(t.ZERO,t.SRC_COLOR);break;default:console.error("THREE.WebGLState: Invalid blending: ",J);break}S=null,M=null,A=null,C=null,w=J,P=nt}return}Ge=Ge||Me,Te=Te||ke,Ke=Ke||Je,(Me!==_||Ge!==E)&&(t.blendEquationSeparate(G[Me],G[Ge]),_=Me,E=Ge),(ke!==S||Je!==M||Te!==A||Ke!==C)&&(t.blendFuncSeparate(me[ke],me[Je],me[Te],me[Ke]),S=ke,M=Je,A=Te,C=Ke),w=J,P=!1}function xe(J,Me){J.side===ea?he(t.CULL_FACE):oe(t.CULL_FACE);let ke=J.side===bi;Me&&(ke=!ke),pe(ke),J.blending===Iu&&J.transparent===!1?se(Jo):se(J.blending,J.blendEquation,J.blendSrc,J.blendDst,J.blendEquationAlpha,J.blendSrcAlpha,J.blendDstAlpha,J.premultipliedAlpha),l.setFunc(J.depthFunc),l.setTest(J.depthTest),l.setMask(J.depthWrite),o.setMask(J.colorWrite);const Je=J.stencilWrite;c.setTest(Je),Je&&(c.setMask(J.stencilWriteMask),c.setFunc(J.stencilFunc,J.stencilRef,J.stencilFuncMask),c.setOp(J.stencilFail,J.stencilZFail,J.stencilZPass)),Re(J.polygonOffset,J.polygonOffsetFactor,J.polygonOffsetUnits),J.alphaToCoverage===!0?oe(t.SAMPLE_ALPHA_TO_COVERAGE):he(t.SAMPLE_ALPHA_TO_COVERAGE)}function pe(J){R!==J&&(J?t.frontFace(t.CW):t.frontFace(t.CCW),R=J)}function ze(J){J!==bV?(oe(t.CULL_FACE),J!==L&&(J===cT?t.cullFace(t.BACK):J===_V?t.cullFace(t.FRONT):t.cullFace(t.FRONT_AND_BACK))):he(t.CULL_FACE),L=J}function ve(J){J!==O&&($&&t.lineWidth(J),O=J)}function Re(J,Me,ke){J?(oe(t.POLYGON_OFFSET_FILL),(D!==Me||I!==ke)&&(t.polygonOffset(Me,ke),D=Me,I=ke)):he(t.POLYGON_OFFSET_FILL)}function Be(J){J?oe(t.SCISSOR_TEST):he(t.SCISSOR_TEST)}function ge(J){J===void 0&&(J=t.TEXTURE0+z-1),U!==J&&(t.activeTexture(J),U=J)}function Ye(J,Me,ke){ke===void 0&&(U===null?ke=t.TEXTURE0+z-1:ke=U);let Je=W[ke];Je===void 0&&(Je={type:void 0,texture:void 0},W[ke]=Je),(Je.type!==J||Je.texture!==Me)&&(U!==ke&&(t.activeTexture(ke),U=ke),t.bindTexture(J,Me||ae[J]),Je.type=J,Je.texture=Me)}function Y(){const J=W[U];J!==void 0&&J.type!==void 0&&(t.bindTexture(J.type,null),J.type=void 0,J.texture=void 0)}function X(){try{t.compressedTexImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ie(){try{t.compressedTexImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Fe(){try{t.texSubImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function ye(){try{t.texSubImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ee(){try{t.compressedTexSubImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function He(){try{t.compressedTexSubImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ue(){try{t.texStorage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function $e(){try{t.texStorage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function et(){try{t.texImage2D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function tt(){try{t.texImage3D.apply(t,arguments)}catch(J){console.error("THREE.WebGLState:",J)}}function Ne(J){K.equals(J)===!1&&(t.scissor(J.x,J.y,J.z,J.w),K.copy(J))}function Xe(J){ne.equals(J)===!1&&(t.viewport(J.x,J.y,J.z,J.w),ne.copy(J))}function re(J,Me){let ke=f.get(Me);ke===void 0&&(ke=new WeakMap,f.set(Me,ke));let Je=ke.get(J);Je===void 0&&(Je=t.getUniformBlockIndex(Me,J.name),ke.set(J,Je))}function we(J,Me){const Je=f.get(Me).get(J);u.get(Me)!==Je&&(t.uniformBlockBinding(Me,Je,J.__bindingPointIndex),u.set(Me,Je))}function Ve(){t.disable(t.BLEND),t.disable(t.CULL_FACE),t.disable(t.DEPTH_TEST),t.disable(t.POLYGON_OFFSET_FILL),t.disable(t.SCISSOR_TEST),t.disable(t.STENCIL_TEST),t.disable(t.SAMPLE_ALPHA_TO_COVERAGE),t.blendEquation(t.FUNC_ADD),t.blendFunc(t.ONE,t.ZERO),t.blendFuncSeparate(t.ONE,t.ZERO,t.ONE,t.ZERO),t.colorMask(!0,!0,!0,!0),t.clearColor(0,0,0,0),t.depthMask(!0),t.depthFunc(t.LESS),t.clearDepth(1),t.stencilMask(4294967295),t.stencilFunc(t.ALWAYS,0,4294967295),t.stencilOp(t.KEEP,t.KEEP,t.KEEP),t.clearStencil(0),t.cullFace(t.BACK),t.frontFace(t.CCW),t.polygonOffset(0,0),t.activeTexture(t.TEXTURE0),t.bindFramebuffer(t.FRAMEBUFFER,null),r===!0&&(t.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),t.bindFramebuffer(t.READ_FRAMEBUFFER,null)),t.useProgram(null),t.lineWidth(1),t.scissor(0,0,t.canvas.width,t.canvas.height),t.viewport(0,0,t.canvas.width,t.canvas.height),d={},U=null,W={},p={},v=new WeakMap,b=[],x=null,y=!1,w=null,_=null,S=null,M=null,E=null,A=null,C=null,P=!1,R=null,L=null,O=null,D=null,I=null,K.set(0,0,t.canvas.width,t.canvas.height),ne.set(0,0,t.canvas.width,t.canvas.height),o.reset(),l.reset(),c.reset()}return{buffers:{color:o,depth:l,stencil:c},enable:oe,disable:he,bindFramebuffer:fe,drawBuffers:Ce,useProgram:le,setBlending:se,setMaterial:xe,setFlipSided:pe,setCullFace:ze,setLineWidth:ve,setPolygonOffset:Re,setScissorTest:Be,activeTexture:ge,bindTexture:Ye,unbindTexture:Y,compressedTexImage2D:X,compressedTexImage3D:ie,texImage2D:et,texImage3D:tt,updateUBOMapping:re,uniformBlockBinding:we,texStorage2D:Ue,texStorage3D:$e,texSubImage2D:Fe,texSubImage3D:ye,compressedTexSubImage2D:Ee,compressedTexSubImage3D:He,scissor:Ne,viewport:Xe,reset:Ve}}function Mae(t,e,n,r,i,s,a){const o=i.isWebGL2,l=i.maxTextures,c=i.maxCubemapSize,u=i.maxTextureSize,f=i.maxSamples,d=e.has("WEBGL_multisampled_render_to_texture")?e.get("WEBGL_multisampled_render_to_texture"):null,p=typeof navigator>"u"?!1:/OculusBrowser/g.test(navigator.userAgent),v=new WeakMap;let b;const x=new WeakMap;let y=!1;try{y=typeof OffscreenCanvas<"u"&&new OffscreenCanvas(1,1).getContext("2d")!==null}catch{}function w(Y,X){return y?new OffscreenCanvas(Y,X):Cg("canvas")}function _(Y,X,ie,Fe){let ye=1;if((Y.width>Fe||Y.height>Fe)&&(ye=Fe/Math.max(Y.width,Y.height)),ye<1||X===!0)if(typeof HTMLImageElement<"u"&&Y instanceof HTMLImageElement||typeof HTMLCanvasElement<"u"&&Y instanceof HTMLCanvasElement||typeof ImageBitmap<"u"&&Y instanceof ImageBitmap){const Ee=X?F1:Math.floor,He=Ee(ye*Y.width),Ue=Ee(ye*Y.height);b===void 0&&(b=w(He,Ue));const $e=ie?w(He,Ue):b;return $e.width=He,$e.height=Ue,$e.getContext("2d").drawImage(Y,0,0,He,Ue),console.warn("THREE.WebGLRenderer: Texture has been resized from ("+Y.width+"x"+Y.height+") to ("+He+"x"+Ue+")."),$e}else return"data"in Y&&console.warn("THREE.WebGLRenderer: Image in DataTexture is too big ("+Y.width+"x"+Y.height+")."),Y;return Y}function S(Y){return BT(Y.width)&&BT(Y.height)}function M(Y){return o?!1:Y.wrapS!==yi||Y.wrapT!==yi||Y.minFilter!==sr&&Y.minFilter!==Rn}function E(Y,X){return Y.generateMipmaps&&X&&Y.minFilter!==sr&&Y.minFilter!==Rn}function A(Y){t.generateMipmap(Y)}function C(Y,X,ie,Fe,ye=!1){if(o===!1)return X;if(Y!==null){if(t[Y]!==void 0)return t[Y];console.warn("THREE.WebGLRenderer: Attempt to use non-existing WebGL internal format '"+Y+"'")}let Ee=X;if(X===t.RED&&(ie===t.FLOAT&&(Ee=t.R32F),ie===t.HALF_FLOAT&&(Ee=t.R16F),ie===t.UNSIGNED_BYTE&&(Ee=t.R8)),X===t.RED_INTEGER&&(ie===t.UNSIGNED_BYTE&&(Ee=t.R8UI),ie===t.UNSIGNED_SHORT&&(Ee=t.R16UI),ie===t.UNSIGNED_INT&&(Ee=t.R32UI),ie===t.BYTE&&(Ee=t.R8I),ie===t.SHORT&&(Ee=t.R16I),ie===t.INT&&(Ee=t.R32I)),X===t.RG&&(ie===t.FLOAT&&(Ee=t.RG32F),ie===t.HALF_FLOAT&&(Ee=t.RG16F),ie===t.UNSIGNED_BYTE&&(Ee=t.RG8)),X===t.RGBA){const He=ye?Mg:dn.getTransfer(Fe);ie===t.FLOAT&&(Ee=t.RGBA32F),ie===t.HALF_FLOAT&&(Ee=t.RGBA16F),ie===t.UNSIGNED_BYTE&&(Ee=He===Sn?t.SRGB8_ALPHA8:t.RGBA8),ie===t.UNSIGNED_SHORT_4_4_4_4&&(Ee=t.RGBA4),ie===t.UNSIGNED_SHORT_5_5_5_1&&(Ee=t.RGB5_A1)}return(Ee===t.R16F||Ee===t.R32F||Ee===t.RG16F||Ee===t.RG32F||Ee===t.RGBA16F||Ee===t.RGBA32F)&&e.get("EXT_color_buffer_float"),Ee}function P(Y,X,ie){return E(Y,ie)===!0||Y.isFramebufferTexture&&Y.minFilter!==sr&&Y.minFilter!==Rn?Math.log2(Math.max(X.width,X.height))+1:Y.mipmaps!==void 0&&Y.mipmaps.length>0?Y.mipmaps.length:Y.isCompressedTexture&&Array.isArray(Y.image)?X.mipmaps.length:1}function R(Y){return Y===sr||Y===D1||Y===km?t.NEAREST:t.LINEAR}function L(Y){const X=Y.target;X.removeEventListener("dispose",L),D(X),X.isVideoTexture&&v.delete(X)}function O(Y){const X=Y.target;X.removeEventListener("dispose",O),z(X)}function D(Y){const X=r.get(Y);if(X.__webglInit===void 0)return;const ie=Y.source,Fe=x.get(ie);if(Fe){const ye=Fe[X.__cacheKey];ye.usedTimes--,ye.usedTimes===0&&I(Y),Object.keys(Fe).length===0&&x.delete(ie)}r.remove(Y)}function I(Y){const X=r.get(Y);t.deleteTexture(X.__webglTexture);const ie=Y.source,Fe=x.get(ie);delete Fe[X.__cacheKey],a.memory.textures--}function z(Y){const X=Y.texture,ie=r.get(Y),Fe=r.get(X);if(Fe.__webglTexture!==void 0&&(t.deleteTexture(Fe.__webglTexture),a.memory.textures--),Y.depthTexture&&Y.depthTexture.dispose(),Y.isWebGLCubeRenderTarget)for(let ye=0;ye<6;ye++){if(Array.isArray(ie.__webglFramebuffer[ye]))for(let Ee=0;Ee<ie.__webglFramebuffer[ye].length;Ee++)t.deleteFramebuffer(ie.__webglFramebuffer[ye][Ee]);else t.deleteFramebuffer(ie.__webglFramebuffer[ye]);ie.__webglDepthbuffer&&t.deleteRenderbuffer(ie.__webglDepthbuffer[ye])}else{if(Array.isArray(ie.__webglFramebuffer))for(let ye=0;ye<ie.__webglFramebuffer.length;ye++)t.deleteFramebuffer(ie.__webglFramebuffer[ye]);else t.deleteFramebuffer(ie.__webglFramebuffer);if(ie.__webglDepthbuffer&&t.deleteRenderbuffer(ie.__webglDepthbuffer),ie.__webglMultisampledFramebuffer&&t.deleteFramebuffer(ie.__webglMultisampledFramebuffer),ie.__webglColorRenderbuffer)for(let ye=0;ye<ie.__webglColorRenderbuffer.length;ye++)ie.__webglColorRenderbuffer[ye]&&t.deleteRenderbuffer(ie.__webglColorRenderbuffer[ye]);ie.__webglDepthRenderbuffer&&t.deleteRenderbuffer(ie.__webglDepthRenderbuffer)}if(Y.isWebGLMultipleRenderTargets)for(let ye=0,Ee=X.length;ye<Ee;ye++){const He=r.get(X[ye]);He.__webglTexture&&(t.deleteTexture(He.__webglTexture),a.memory.textures--),r.remove(X[ye])}r.remove(X),r.remove(Y)}let $=0;function q(){$=0}function V(){const Y=$;return Y>=l&&console.warn("THREE.WebGLTextures: Trying to use "+Y+" texture units while this GPU supports only "+l),$+=1,Y}function U(Y){const X=[];return X.push(Y.wrapS),X.push(Y.wrapT),X.push(Y.wrapR||0),X.push(Y.magFilter),X.push(Y.minFilter),X.push(Y.anisotropy),X.push(Y.internalFormat),X.push(Y.format),X.push(Y.type),X.push(Y.generateMipmaps),X.push(Y.premultiplyAlpha),X.push(Y.flipY),X.push(Y.unpackAlignment),X.push(Y.colorSpace),X.join()}function W(Y,X){const ie=r.get(Y);if(Y.isVideoTexture&&ge(Y),Y.isRenderTargetTexture===!1&&Y.version>0&&ie.__version!==Y.version){const Fe=Y.image;if(Fe===null)console.warn("THREE.WebGLRenderer: Texture marked for update but no image data found.");else if(Fe.complete===!1)console.warn("THREE.WebGLRenderer: Texture marked for update but image is incomplete");else{fe(ie,Y,X);return}}n.bindTexture(t.TEXTURE_2D,ie.__webglTexture,t.TEXTURE0+X)}function k(Y,X){const ie=r.get(Y);if(Y.version>0&&ie.__version!==Y.version){fe(ie,Y,X);return}n.bindTexture(t.TEXTURE_2D_ARRAY,ie.__webglTexture,t.TEXTURE0+X)}function H(Y,X){const ie=r.get(Y);if(Y.version>0&&ie.__version!==Y.version){fe(ie,Y,X);return}n.bindTexture(t.TEXTURE_3D,ie.__webglTexture,t.TEXTURE0+X)}function K(Y,X){const ie=r.get(Y);if(Y.version>0&&ie.__version!==Y.version){Ce(ie,Y,X);return}n.bindTexture(t.TEXTURE_CUBE_MAP,ie.__webglTexture,t.TEXTURE0+X)}const ne={[xg]:t.REPEAT,[yi]:t.CLAMP_TO_EDGE,[bg]:t.MIRRORED_REPEAT},te={[sr]:t.NEAREST,[D1]:t.NEAREST_MIPMAP_NEAREST,[km]:t.NEAREST_MIPMAP_LINEAR,[Rn]:t.LINEAR,[iN]:t.LINEAR_MIPMAP_NEAREST,[vc]:t.LINEAR_MIPMAP_LINEAR},ae={[c8]:t.NEVER,[g8]:t.ALWAYS,[u8]:t.LESS,[d8]:t.LEQUAL,[f8]:t.EQUAL,[m8]:t.GEQUAL,[h8]:t.GREATER,[p8]:t.NOTEQUAL};function oe(Y,X,ie){if(ie?(t.texParameteri(Y,t.TEXTURE_WRAP_S,ne[X.wrapS]),t.texParameteri(Y,t.TEXTURE_WRAP_T,ne[X.wrapT]),(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Y,t.TEXTURE_WRAP_R,ne[X.wrapR]),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,te[X.magFilter]),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,te[X.minFilter])):(t.texParameteri(Y,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE),t.texParameteri(Y,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE),(Y===t.TEXTURE_3D||Y===t.TEXTURE_2D_ARRAY)&&t.texParameteri(Y,t.TEXTURE_WRAP_R,t.CLAMP_TO_EDGE),(X.wrapS!==yi||X.wrapT!==yi)&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.wrapS and Texture.wrapT should be set to THREE.ClampToEdgeWrapping."),t.texParameteri(Y,t.TEXTURE_MAG_FILTER,R(X.magFilter)),t.texParameteri(Y,t.TEXTURE_MIN_FILTER,R(X.minFilter)),X.minFilter!==sr&&X.minFilter!==Rn&&console.warn("THREE.WebGLRenderer: Texture is not power of two. Texture.minFilter should be set to THREE.NearestFilter or THREE.LinearFilter.")),X.compareFunction&&(t.texParameteri(Y,t.TEXTURE_COMPARE_MODE,t.COMPARE_REF_TO_TEXTURE),t.texParameteri(Y,t.TEXTURE_COMPARE_FUNC,ae[X.compareFunction])),e.has("EXT_texture_filter_anisotropic")===!0){const Fe=e.get("EXT_texture_filter_anisotropic");if(X.magFilter===sr||X.minFilter!==km&&X.minFilter!==vc||X.type===Ra&&e.has("OES_texture_float_linear")===!1||o===!1&&X.type===Xu&&e.has("OES_texture_half_float_linear")===!1)return;(X.anisotropy>1||r.get(X).__currentAnisotropy)&&(t.texParameterf(Y,Fe.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(X.anisotropy,i.getMaxAnisotropy())),r.get(X).__currentAnisotropy=X.anisotropy)}}function he(Y,X){let ie=!1;Y.__webglInit===void 0&&(Y.__webglInit=!0,X.addEventListener("dispose",L));const Fe=X.source;let ye=x.get(Fe);ye===void 0&&(ye={},x.set(Fe,ye));const Ee=U(X);if(Ee!==Y.__cacheKey){ye[Ee]===void 0&&(ye[Ee]={texture:t.createTexture(),usedTimes:0},a.memory.textures++,ie=!0),ye[Ee].usedTimes++;const He=ye[Y.__cacheKey];He!==void 0&&(ye[Y.__cacheKey].usedTimes--,He.usedTimes===0&&I(X)),Y.__cacheKey=Ee,Y.__webglTexture=ye[Ee].texture}return ie}function fe(Y,X,ie){let Fe=t.TEXTURE_2D;(X.isDataArrayTexture||X.isCompressedArrayTexture)&&(Fe=t.TEXTURE_2D_ARRAY),X.isData3DTexture&&(Fe=t.TEXTURE_3D);const ye=he(Y,X),Ee=X.source;n.bindTexture(Fe,Y.__webglTexture,t.TEXTURE0+ie);const He=r.get(Ee);if(Ee.version!==He.__version||ye===!0){n.activeTexture(t.TEXTURE0+ie);const Ue=dn.getPrimaries(dn.workingColorSpace),$e=X.colorSpace===Ts?null:dn.getPrimaries(X.colorSpace),et=X.colorSpace===Ts||Ue===$e?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,X.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,X.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,et);const tt=M(X)&&S(X.image)===!1;let Ne=_(X.image,tt,!1,u);Ne=Ye(X,Ne);const Xe=S(Ne)||o,re=s.convert(X.format,X.colorSpace);let we=s.convert(X.type),Ve=C(X.internalFormat,re,we,X.colorSpace,X.isVideoTexture);oe(Fe,X,Xe);let J;const Me=X.mipmaps,ke=o&&X.isVideoTexture!==!0,Je=He.__version===void 0||ye===!0,Ge=P(X,Ne,Xe);if(X.isDepthTexture)Ve=t.DEPTH_COMPONENT,o?X.type===Ra?Ve=t.DEPTH_COMPONENT32F:X.type===Wo?Ve=t.DEPTH_COMPONENT24:X.type===ac?Ve=t.DEPTH24_STENCIL8:Ve=t.DEPTH_COMPONENT16:X.type===Ra&&console.error("WebGLRenderer: Floating point depth texture requires WebGL2."),X.format===oc&&Ve===t.DEPTH_COMPONENT&&X.type!==S_&&X.type!==Wo&&(console.warn("THREE.WebGLRenderer: Use UnsignedShortType or UnsignedIntType for DepthFormat DepthTexture."),X.type=Wo,we=s.convert(X.type)),X.format===qu&&Ve===t.DEPTH_COMPONENT&&(Ve=t.DEPTH_STENCIL,X.type!==ac&&(console.warn("THREE.WebGLRenderer: Use UnsignedInt248Type for DepthStencilFormat DepthTexture."),X.type=ac,we=s.convert(X.type))),Je&&(ke?n.texStorage2D(t.TEXTURE_2D,1,Ve,Ne.width,Ne.height):n.texImage2D(t.TEXTURE_2D,0,Ve,Ne.width,Ne.height,0,re,we,null));else if(X.isDataTexture)if(Me.length>0&&Xe){ke&&Je&&n.texStorage2D(t.TEXTURE_2D,Ge,Ve,Me[0].width,Me[0].height);for(let Te=0,Ke=Me.length;Te<Ke;Te++)J=Me[Te],ke?n.texSubImage2D(t.TEXTURE_2D,Te,0,0,J.width,J.height,re,we,J.data):n.texImage2D(t.TEXTURE_2D,Te,Ve,J.width,J.height,0,re,we,J.data);X.generateMipmaps=!1}else ke?(Je&&n.texStorage2D(t.TEXTURE_2D,Ge,Ve,Ne.width,Ne.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,Ne.width,Ne.height,re,we,Ne.data)):n.texImage2D(t.TEXTURE_2D,0,Ve,Ne.width,Ne.height,0,re,we,Ne.data);else if(X.isCompressedTexture)if(X.isCompressedArrayTexture){ke&&Je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,Ve,Me[0].width,Me[0].height,Ne.depth);for(let Te=0,Ke=Me.length;Te<Ke;Te++)J=Me[Te],X.format!==Zi?re!==null?ke?n.compressedTexSubImage3D(t.TEXTURE_2D_ARRAY,Te,0,0,0,J.width,J.height,Ne.depth,re,J.data,0,0):n.compressedTexImage3D(t.TEXTURE_2D_ARRAY,Te,Ve,J.width,J.height,Ne.depth,0,J.data,0,0):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ke?n.texSubImage3D(t.TEXTURE_2D_ARRAY,Te,0,0,0,J.width,J.height,Ne.depth,re,we,J.data):n.texImage3D(t.TEXTURE_2D_ARRAY,Te,Ve,J.width,J.height,Ne.depth,0,re,we,J.data)}else{ke&&Je&&n.texStorage2D(t.TEXTURE_2D,Ge,Ve,Me[0].width,Me[0].height);for(let Te=0,Ke=Me.length;Te<Ke;Te++)J=Me[Te],X.format!==Zi?re!==null?ke?n.compressedTexSubImage2D(t.TEXTURE_2D,Te,0,0,J.width,J.height,re,J.data):n.compressedTexImage2D(t.TEXTURE_2D,Te,Ve,J.width,J.height,0,J.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .uploadTexture()"):ke?n.texSubImage2D(t.TEXTURE_2D,Te,0,0,J.width,J.height,re,we,J.data):n.texImage2D(t.TEXTURE_2D,Te,Ve,J.width,J.height,0,re,we,J.data)}else if(X.isDataArrayTexture)ke?(Je&&n.texStorage3D(t.TEXTURE_2D_ARRAY,Ge,Ve,Ne.width,Ne.height,Ne.depth),n.texSubImage3D(t.TEXTURE_2D_ARRAY,0,0,0,0,Ne.width,Ne.height,Ne.depth,re,we,Ne.data)):n.texImage3D(t.TEXTURE_2D_ARRAY,0,Ve,Ne.width,Ne.height,Ne.depth,0,re,we,Ne.data);else if(X.isData3DTexture)ke?(Je&&n.texStorage3D(t.TEXTURE_3D,Ge,Ve,Ne.width,Ne.height,Ne.depth),n.texSubImage3D(t.TEXTURE_3D,0,0,0,0,Ne.width,Ne.height,Ne.depth,re,we,Ne.data)):n.texImage3D(t.TEXTURE_3D,0,Ve,Ne.width,Ne.height,Ne.depth,0,re,we,Ne.data);else if(X.isFramebufferTexture){if(Je)if(ke)n.texStorage2D(t.TEXTURE_2D,Ge,Ve,Ne.width,Ne.height);else{let Te=Ne.width,Ke=Ne.height;for(let nt=0;nt<Ge;nt++)n.texImage2D(t.TEXTURE_2D,nt,Ve,Te,Ke,0,re,we,null),Te>>=1,Ke>>=1}}else if(Me.length>0&&Xe){ke&&Je&&n.texStorage2D(t.TEXTURE_2D,Ge,Ve,Me[0].width,Me[0].height);for(let Te=0,Ke=Me.length;Te<Ke;Te++)J=Me[Te],ke?n.texSubImage2D(t.TEXTURE_2D,Te,0,0,re,we,J):n.texImage2D(t.TEXTURE_2D,Te,Ve,re,we,J);X.generateMipmaps=!1}else ke?(Je&&n.texStorage2D(t.TEXTURE_2D,Ge,Ve,Ne.width,Ne.height),n.texSubImage2D(t.TEXTURE_2D,0,0,0,re,we,Ne)):n.texImage2D(t.TEXTURE_2D,0,Ve,re,we,Ne);E(X,Xe)&&A(Fe),He.__version=Ee.version,X.onUpdate&&X.onUpdate(X)}Y.__version=X.version}function Ce(Y,X,ie){if(X.image.length!==6)return;const Fe=he(Y,X),ye=X.source;n.bindTexture(t.TEXTURE_CUBE_MAP,Y.__webglTexture,t.TEXTURE0+ie);const Ee=r.get(ye);if(ye.version!==Ee.__version||Fe===!0){n.activeTexture(t.TEXTURE0+ie);const He=dn.getPrimaries(dn.workingColorSpace),Ue=X.colorSpace===Ts?null:dn.getPrimaries(X.colorSpace),$e=X.colorSpace===Ts||He===Ue?t.NONE:t.BROWSER_DEFAULT_WEBGL;t.pixelStorei(t.UNPACK_FLIP_Y_WEBGL,X.flipY),t.pixelStorei(t.UNPACK_PREMULTIPLY_ALPHA_WEBGL,X.premultiplyAlpha),t.pixelStorei(t.UNPACK_ALIGNMENT,X.unpackAlignment),t.pixelStorei(t.UNPACK_COLORSPACE_CONVERSION_WEBGL,$e);const et=X.isCompressedTexture||X.image[0].isCompressedTexture,tt=X.image[0]&&X.image[0].isDataTexture,Ne=[];for(let Te=0;Te<6;Te++)!et&&!tt?Ne[Te]=_(X.image[Te],!1,!0,c):Ne[Te]=tt?X.image[Te].image:X.image[Te],Ne[Te]=Ye(X,Ne[Te]);const Xe=Ne[0],re=S(Xe)||o,we=s.convert(X.format,X.colorSpace),Ve=s.convert(X.type),J=C(X.internalFormat,we,Ve,X.colorSpace),Me=o&&X.isVideoTexture!==!0,ke=Ee.__version===void 0||Fe===!0;let Je=P(X,Xe,re);oe(t.TEXTURE_CUBE_MAP,X,re);let Ge;if(et){Me&&ke&&n.texStorage2D(t.TEXTURE_CUBE_MAP,Je,J,Xe.width,Xe.height);for(let Te=0;Te<6;Te++){Ge=Ne[Te].mipmaps;for(let Ke=0;Ke<Ge.length;Ke++){const nt=Ge[Ke];X.format!==Zi?we!==null?Me?n.compressedTexSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ke,0,0,nt.width,nt.height,we,nt.data):n.compressedTexImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ke,J,nt.width,nt.height,0,nt.data):console.warn("THREE.WebGLRenderer: Attempt to load unsupported compressed texture format in .setTextureCube()"):Me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ke,0,0,nt.width,nt.height,we,Ve,nt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ke,J,nt.width,nt.height,0,we,Ve,nt.data)}}}else{Ge=X.mipmaps,Me&&ke&&(Ge.length>0&&Je++,n.texStorage2D(t.TEXTURE_CUBE_MAP,Je,J,Ne[0].width,Ne[0].height));for(let Te=0;Te<6;Te++)if(tt){Me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,Ne[Te].width,Ne[Te].height,we,Ve,Ne[Te].data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,J,Ne[Te].width,Ne[Te].height,0,we,Ve,Ne[Te].data);for(let Ke=0;Ke<Ge.length;Ke++){const lt=Ge[Ke].image[Te].image;Me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ke+1,0,0,lt.width,lt.height,we,Ve,lt.data):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ke+1,J,lt.width,lt.height,0,we,Ve,lt.data)}}else{Me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,0,0,we,Ve,Ne[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,0,J,we,Ve,Ne[Te]);for(let Ke=0;Ke<Ge.length;Ke++){const nt=Ge[Ke];Me?n.texSubImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ke+1,0,0,we,Ve,nt.image[Te]):n.texImage2D(t.TEXTURE_CUBE_MAP_POSITIVE_X+Te,Ke+1,J,we,Ve,nt.image[Te])}}}E(X,re)&&A(t.TEXTURE_CUBE_MAP),Ee.__version=ye.version,X.onUpdate&&X.onUpdate(X)}Y.__version=X.version}function le(Y,X,ie,Fe,ye,Ee){const He=s.convert(ie.format,ie.colorSpace),Ue=s.convert(ie.type),$e=C(ie.internalFormat,He,Ue,ie.colorSpace);if(!r.get(X).__hasExternalTextures){const tt=Math.max(1,X.width>>Ee),Ne=Math.max(1,X.height>>Ee);ye===t.TEXTURE_3D||ye===t.TEXTURE_2D_ARRAY?n.texImage3D(ye,Ee,$e,tt,Ne,X.depth,0,He,Ue,null):n.texImage2D(ye,Ee,$e,tt,Ne,0,He,Ue,null)}n.bindFramebuffer(t.FRAMEBUFFER,Y),Be(X)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,Fe,ye,r.get(ie).__webglTexture,0,Re(X)):(ye===t.TEXTURE_2D||ye>=t.TEXTURE_CUBE_MAP_POSITIVE_X&&ye<=t.TEXTURE_CUBE_MAP_NEGATIVE_Z)&&t.framebufferTexture2D(t.FRAMEBUFFER,Fe,ye,r.get(ie).__webglTexture,Ee),n.bindFramebuffer(t.FRAMEBUFFER,null)}function G(Y,X,ie){if(t.bindRenderbuffer(t.RENDERBUFFER,Y),X.depthBuffer&&!X.stencilBuffer){let Fe=o===!0?t.DEPTH_COMPONENT24:t.DEPTH_COMPONENT16;if(ie||Be(X)){const ye=X.depthTexture;ye&&ye.isDepthTexture&&(ye.type===Ra?Fe=t.DEPTH_COMPONENT32F:ye.type===Wo&&(Fe=t.DEPTH_COMPONENT24));const Ee=Re(X);Be(X)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Ee,Fe,X.width,X.height):t.renderbufferStorageMultisample(t.RENDERBUFFER,Ee,Fe,X.width,X.height)}else t.renderbufferStorage(t.RENDERBUFFER,Fe,X.width,X.height);t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.RENDERBUFFER,Y)}else if(X.depthBuffer&&X.stencilBuffer){const Fe=Re(X);ie&&Be(X)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,Fe,t.DEPTH24_STENCIL8,X.width,X.height):Be(X)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,Fe,t.DEPTH24_STENCIL8,X.width,X.height):t.renderbufferStorage(t.RENDERBUFFER,t.DEPTH_STENCIL,X.width,X.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.RENDERBUFFER,Y)}else{const Fe=X.isWebGLMultipleRenderTargets===!0?X.texture:[X.texture];for(let ye=0;ye<Fe.length;ye++){const Ee=Fe[ye],He=s.convert(Ee.format,Ee.colorSpace),Ue=s.convert(Ee.type),$e=C(Ee.internalFormat,He,Ue,Ee.colorSpace),et=Re(X);ie&&Be(X)===!1?t.renderbufferStorageMultisample(t.RENDERBUFFER,et,$e,X.width,X.height):Be(X)?d.renderbufferStorageMultisampleEXT(t.RENDERBUFFER,et,$e,X.width,X.height):t.renderbufferStorage(t.RENDERBUFFER,$e,X.width,X.height)}}t.bindRenderbuffer(t.RENDERBUFFER,null)}function me(Y,X){if(X&&X.isWebGLCubeRenderTarget)throw new Error("Depth Texture with cube render targets is not supported");if(n.bindFramebuffer(t.FRAMEBUFFER,Y),!(X.depthTexture&&X.depthTexture.isDepthTexture))throw new Error("renderTarget.depthTexture must be an instance of THREE.DepthTexture");(!r.get(X.depthTexture).__webglTexture||X.depthTexture.image.width!==X.width||X.depthTexture.image.height!==X.height)&&(X.depthTexture.image.width=X.width,X.depthTexture.image.height=X.height,X.depthTexture.needsUpdate=!0),W(X.depthTexture,0);const Fe=r.get(X.depthTexture).__webglTexture,ye=Re(X);if(X.depthTexture.format===oc)Be(X)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Fe,0,ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_ATTACHMENT,t.TEXTURE_2D,Fe,0);else if(X.depthTexture.format===qu)Be(X)?d.framebufferTexture2DMultisampleEXT(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Fe,0,ye):t.framebufferTexture2D(t.FRAMEBUFFER,t.DEPTH_STENCIL_ATTACHMENT,t.TEXTURE_2D,Fe,0);else throw new Error("Unknown depthTexture format")}function se(Y){const X=r.get(Y),ie=Y.isWebGLCubeRenderTarget===!0;if(Y.depthTexture&&!X.__autoAllocateDepthBuffer){if(ie)throw new Error("target.depthTexture not supported in Cube render targets");me(X.__webglFramebuffer,Y)}else if(ie){X.__webglDepthbuffer=[];for(let Fe=0;Fe<6;Fe++)n.bindFramebuffer(t.FRAMEBUFFER,X.__webglFramebuffer[Fe]),X.__webglDepthbuffer[Fe]=t.createRenderbuffer(),G(X.__webglDepthbuffer[Fe],Y,!1)}else n.bindFramebuffer(t.FRAMEBUFFER,X.__webglFramebuffer),X.__webglDepthbuffer=t.createRenderbuffer(),G(X.__webglDepthbuffer,Y,!1);n.bindFramebuffer(t.FRAMEBUFFER,null)}function xe(Y,X,ie){const Fe=r.get(Y);X!==void 0&&le(Fe.__webglFramebuffer,Y,Y.texture,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,0),ie!==void 0&&se(Y)}function pe(Y){const X=Y.texture,ie=r.get(Y),Fe=r.get(X);Y.addEventListener("dispose",O),Y.isWebGLMultipleRenderTargets!==!0&&(Fe.__webglTexture===void 0&&(Fe.__webglTexture=t.createTexture()),Fe.__version=X.version,a.memory.textures++);const ye=Y.isWebGLCubeRenderTarget===!0,Ee=Y.isWebGLMultipleRenderTargets===!0,He=S(Y)||o;if(ye){ie.__webglFramebuffer=[];for(let Ue=0;Ue<6;Ue++)if(o&&X.mipmaps&&X.mipmaps.length>0){ie.__webglFramebuffer[Ue]=[];for(let $e=0;$e<X.mipmaps.length;$e++)ie.__webglFramebuffer[Ue][$e]=t.createFramebuffer()}else ie.__webglFramebuffer[Ue]=t.createFramebuffer()}else{if(o&&X.mipmaps&&X.mipmaps.length>0){ie.__webglFramebuffer=[];for(let Ue=0;Ue<X.mipmaps.length;Ue++)ie.__webglFramebuffer[Ue]=t.createFramebuffer()}else ie.__webglFramebuffer=t.createFramebuffer();if(Ee)if(i.drawBuffers){const Ue=Y.texture;for(let $e=0,et=Ue.length;$e<et;$e++){const tt=r.get(Ue[$e]);tt.__webglTexture===void 0&&(tt.__webglTexture=t.createTexture(),a.memory.textures++)}}else console.warn("THREE.WebGLRenderer: WebGLMultipleRenderTargets can only be used with WebGL2 or WEBGL_draw_buffers extension.");if(o&&Y.samples>0&&Be(Y)===!1){const Ue=Ee?X:[X];ie.__webglMultisampledFramebuffer=t.createFramebuffer(),ie.__webglColorRenderbuffer=[],n.bindFramebuffer(t.FRAMEBUFFER,ie.__webglMultisampledFramebuffer);for(let $e=0;$e<Ue.length;$e++){const et=Ue[$e];ie.__webglColorRenderbuffer[$e]=t.createRenderbuffer(),t.bindRenderbuffer(t.RENDERBUFFER,ie.__webglColorRenderbuffer[$e]);const tt=s.convert(et.format,et.colorSpace),Ne=s.convert(et.type),Xe=C(et.internalFormat,tt,Ne,et.colorSpace,Y.isXRRenderTarget===!0),re=Re(Y);t.renderbufferStorageMultisample(t.RENDERBUFFER,re,Xe,Y.width,Y.height),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+$e,t.RENDERBUFFER,ie.__webglColorRenderbuffer[$e])}t.bindRenderbuffer(t.RENDERBUFFER,null),Y.depthBuffer&&(ie.__webglDepthRenderbuffer=t.createRenderbuffer(),G(ie.__webglDepthRenderbuffer,Y,!0)),n.bindFramebuffer(t.FRAMEBUFFER,null)}}if(ye){n.bindTexture(t.TEXTURE_CUBE_MAP,Fe.__webglTexture),oe(t.TEXTURE_CUBE_MAP,X,He);for(let Ue=0;Ue<6;Ue++)if(o&&X.mipmaps&&X.mipmaps.length>0)for(let $e=0;$e<X.mipmaps.length;$e++)le(ie.__webglFramebuffer[Ue][$e],Y,X,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,$e);else le(ie.__webglFramebuffer[Ue],Y,X,t.COLOR_ATTACHMENT0,t.TEXTURE_CUBE_MAP_POSITIVE_X+Ue,0);E(X,He)&&A(t.TEXTURE_CUBE_MAP),n.unbindTexture()}else if(Ee){const Ue=Y.texture;for(let $e=0,et=Ue.length;$e<et;$e++){const tt=Ue[$e],Ne=r.get(tt);n.bindTexture(t.TEXTURE_2D,Ne.__webglTexture),oe(t.TEXTURE_2D,tt,He),le(ie.__webglFramebuffer,Y,tt,t.COLOR_ATTACHMENT0+$e,t.TEXTURE_2D,0),E(tt,He)&&A(t.TEXTURE_2D)}n.unbindTexture()}else{let Ue=t.TEXTURE_2D;if((Y.isWebGL3DRenderTarget||Y.isWebGLArrayRenderTarget)&&(o?Ue=Y.isWebGL3DRenderTarget?t.TEXTURE_3D:t.TEXTURE_2D_ARRAY:console.error("THREE.WebGLTextures: THREE.Data3DTexture and THREE.DataArrayTexture only supported with WebGL2.")),n.bindTexture(Ue,Fe.__webglTexture),oe(Ue,X,He),o&&X.mipmaps&&X.mipmaps.length>0)for(let $e=0;$e<X.mipmaps.length;$e++)le(ie.__webglFramebuffer[$e],Y,X,t.COLOR_ATTACHMENT0,Ue,$e);else le(ie.__webglFramebuffer,Y,X,t.COLOR_ATTACHMENT0,Ue,0);E(X,He)&&A(Ue),n.unbindTexture()}Y.depthBuffer&&se(Y)}function ze(Y){const X=S(Y)||o,ie=Y.isWebGLMultipleRenderTargets===!0?Y.texture:[Y.texture];for(let Fe=0,ye=ie.length;Fe<ye;Fe++){const Ee=ie[Fe];if(E(Ee,X)){const He=Y.isWebGLCubeRenderTarget?t.TEXTURE_CUBE_MAP:t.TEXTURE_2D,Ue=r.get(Ee).__webglTexture;n.bindTexture(He,Ue),A(He),n.unbindTexture()}}}function ve(Y){if(o&&Y.samples>0&&Be(Y)===!1){const X=Y.isWebGLMultipleRenderTargets?Y.texture:[Y.texture],ie=Y.width,Fe=Y.height;let ye=t.COLOR_BUFFER_BIT;const Ee=[],He=Y.stencilBuffer?t.DEPTH_STENCIL_ATTACHMENT:t.DEPTH_ATTACHMENT,Ue=r.get(Y),$e=Y.isWebGLMultipleRenderTargets===!0;if($e)for(let et=0;et<X.length;et++)n.bindFramebuffer(t.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.RENDERBUFFER,null),n.bindFramebuffer(t.FRAMEBUFFER,Ue.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.TEXTURE_2D,null,0);n.bindFramebuffer(t.READ_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ue.__webglFramebuffer);for(let et=0;et<X.length;et++){Ee.push(t.COLOR_ATTACHMENT0+et),Y.depthBuffer&&Ee.push(He);const tt=Ue.__ignoreDepthValues!==void 0?Ue.__ignoreDepthValues:!1;if(tt===!1&&(Y.depthBuffer&&(ye|=t.DEPTH_BUFFER_BIT),Y.stencilBuffer&&(ye|=t.STENCIL_BUFFER_BIT)),$e&&t.framebufferRenderbuffer(t.READ_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.RENDERBUFFER,Ue.__webglColorRenderbuffer[et]),tt===!0&&(t.invalidateFramebuffer(t.READ_FRAMEBUFFER,[He]),t.invalidateFramebuffer(t.DRAW_FRAMEBUFFER,[He])),$e){const Ne=r.get(X[et]).__webglTexture;t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,Ne,0)}t.blitFramebuffer(0,0,ie,Fe,0,0,ie,Fe,ye,t.NEAREST),p&&t.invalidateFramebuffer(t.READ_FRAMEBUFFER,Ee)}if(n.bindFramebuffer(t.READ_FRAMEBUFFER,null),n.bindFramebuffer(t.DRAW_FRAMEBUFFER,null),$e)for(let et=0;et<X.length;et++){n.bindFramebuffer(t.FRAMEBUFFER,Ue.__webglMultisampledFramebuffer),t.framebufferRenderbuffer(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.RENDERBUFFER,Ue.__webglColorRenderbuffer[et]);const tt=r.get(X[et]).__webglTexture;n.bindFramebuffer(t.FRAMEBUFFER,Ue.__webglFramebuffer),t.framebufferTexture2D(t.DRAW_FRAMEBUFFER,t.COLOR_ATTACHMENT0+et,t.TEXTURE_2D,tt,0)}n.bindFramebuffer(t.DRAW_FRAMEBUFFER,Ue.__webglMultisampledFramebuffer)}}function Re(Y){return Math.min(f,Y.samples)}function Be(Y){const X=r.get(Y);return o&&Y.samples>0&&e.has("WEBGL_multisampled_render_to_texture")===!0&&X.__useRenderToTexture!==!1}function ge(Y){const X=a.render.frame;v.get(Y)!==X&&(v.set(Y,X),Y.update())}function Ye(Y,X){const ie=Y.colorSpace,Fe=Y.format,ye=Y.type;return Y.isCompressedTexture===!0||Y.isVideoTexture===!0||Y.format===U1||ie!==mo&&ie!==Ts&&(dn.getTransfer(ie)===Sn?o===!1?e.has("EXT_sRGB")===!0&&Fe===Zi?(Y.format=U1,Y.minFilter=Rn,Y.generateMipmaps=!1):X=mN.sRGBToLinear(X):(Fe!==Zi||ye!==oo)&&console.warn("THREE.WebGLTextures: sRGB encoded textures have to use RGBAFormat and UnsignedByteType."):console.error("THREE.WebGLTextures: Unsupported texture color space:",ie)),X}this.allocateTextureUnit=V,this.resetTextureUnits=q,this.setTexture2D=W,this.setTexture2DArray=k,this.setTexture3D=H,this.setTextureCube=K,this.rebindTextures=xe,this.setupRenderTarget=pe,this.updateRenderTargetMipmap=ze,this.updateMultisampleRenderTarget=ve,this.setupDepthRenderbuffer=se,this.setupFrameBufferTexture=le,this.useMultisampledRTT=Be}function N8(t,e,n){const r=n.isWebGL2;function i(s,a=Ts){let o;const l=dn.getTransfer(a);if(s===oo)return t.UNSIGNED_BYTE;if(s===aN)return t.UNSIGNED_SHORT_4_4_4_4;if(s===oN)return t.UNSIGNED_SHORT_5_5_5_1;if(s===qV)return t.BYTE;if(s===YV)return t.SHORT;if(s===S_)return t.UNSIGNED_SHORT;if(s===sN)return t.INT;if(s===Wo)return t.UNSIGNED_INT;if(s===Ra)return t.FLOAT;if(s===Xu)return r?t.HALF_FLOAT:(o=e.get("OES_texture_half_float"),o!==null?o.HALF_FLOAT_OES:null);if(s===KV)return t.ALPHA;if(s===Zi)return t.RGBA;if(s===ZV)return t.LUMINANCE;if(s===JV)return t.LUMINANCE_ALPHA;if(s===oc)return t.DEPTH_COMPONENT;if(s===qu)return t.DEPTH_STENCIL;if(s===U1)return o=e.get("EXT_sRGB"),o!==null?o.SRGB_ALPHA_EXT:null;if(s===QV)return t.RED;if(s===lN)return t.RED_INTEGER;if(s===e8)return t.RG;if(s===cN)return t.RG_INTEGER;if(s===uN)return t.RGBA_INTEGER;if(s===Ux||s===Fx||s===Bx||s===zx)if(l===Sn)if(o=e.get("WEBGL_compressed_texture_s3tc_srgb"),o!==null){if(s===Ux)return o.COMPRESSED_SRGB_S3TC_DXT1_EXT;if(s===Fx)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT1_EXT;if(s===Bx)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT3_EXT;if(s===zx)return o.COMPRESSED_SRGB_ALPHA_S3TC_DXT5_EXT}else return null;else if(o=e.get("WEBGL_compressed_texture_s3tc"),o!==null){if(s===Ux)return o.COMPRESSED_RGB_S3TC_DXT1_EXT;if(s===Fx)return o.COMPRESSED_RGBA_S3TC_DXT1_EXT;if(s===Bx)return o.COMPRESSED_RGBA_S3TC_DXT3_EXT;if(s===zx)return o.COMPRESSED_RGBA_S3TC_DXT5_EXT}else return null;if(s===pT||s===mT||s===gT||s===vT)if(o=e.get("WEBGL_compressed_texture_pvrtc"),o!==null){if(s===pT)return o.COMPRESSED_RGB_PVRTC_4BPPV1_IMG;if(s===mT)return o.COMPRESSED_RGB_PVRTC_2BPPV1_IMG;if(s===gT)return o.COMPRESSED_RGBA_PVRTC_4BPPV1_IMG;if(s===vT)return o.COMPRESSED_RGBA_PVRTC_2BPPV1_IMG}else return null;if(s===t8)return o=e.get("WEBGL_compressed_texture_etc1"),o!==null?o.COMPRESSED_RGB_ETC1_WEBGL:null;if(s===yT||s===xT)if(o=e.get("WEBGL_compressed_texture_etc"),o!==null){if(s===yT)return l===Sn?o.COMPRESSED_SRGB8_ETC2:o.COMPRESSED_RGB8_ETC2;if(s===xT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ETC2_EAC:o.COMPRESSED_RGBA8_ETC2_EAC}else return null;if(s===bT||s===_T||s===wT||s===ST||s===MT||s===ET||s===TT||s===AT||s===PT||s===CT||s===NT||s===RT||s===OT||s===LT)if(o=e.get("WEBGL_compressed_texture_astc"),o!==null){if(s===bT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_4x4_KHR:o.COMPRESSED_RGBA_ASTC_4x4_KHR;if(s===_T)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x4_KHR:o.COMPRESSED_RGBA_ASTC_5x4_KHR;if(s===wT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_5x5_KHR:o.COMPRESSED_RGBA_ASTC_5x5_KHR;if(s===ST)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x5_KHR:o.COMPRESSED_RGBA_ASTC_6x5_KHR;if(s===MT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_6x6_KHR:o.COMPRESSED_RGBA_ASTC_6x6_KHR;if(s===ET)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x5_KHR:o.COMPRESSED_RGBA_ASTC_8x5_KHR;if(s===TT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x6_KHR:o.COMPRESSED_RGBA_ASTC_8x6_KHR;if(s===AT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_8x8_KHR:o.COMPRESSED_RGBA_ASTC_8x8_KHR;if(s===PT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x5_KHR:o.COMPRESSED_RGBA_ASTC_10x5_KHR;if(s===CT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x6_KHR:o.COMPRESSED_RGBA_ASTC_10x6_KHR;if(s===NT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x8_KHR:o.COMPRESSED_RGBA_ASTC_10x8_KHR;if(s===RT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_10x10_KHR:o.COMPRESSED_RGBA_ASTC_10x10_KHR;if(s===OT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x10_KHR:o.COMPRESSED_RGBA_ASTC_12x10_KHR;if(s===LT)return l===Sn?o.COMPRESSED_SRGB8_ALPHA8_ASTC_12x12_KHR:o.COMPRESSED_RGBA_ASTC_12x12_KHR}else return null;if(s===Vx||s===IT||s===jT)if(o=e.get("EXT_texture_compression_bptc"),o!==null){if(s===Vx)return l===Sn?o.COMPRESSED_SRGB_ALPHA_BPTC_UNORM_EXT:o.COMPRESSED_RGBA_BPTC_UNORM_EXT;if(s===IT)return o.COMPRESSED_RGB_BPTC_SIGNED_FLOAT_EXT;if(s===jT)return o.COMPRESSED_RGB_BPTC_UNSIGNED_FLOAT_EXT}else return null;if(s===n8||s===kT||s===DT||s===UT)if(o=e.get("EXT_texture_compression_rgtc"),o!==null){if(s===Vx)return o.COMPRESSED_RED_RGTC1_EXT;if(s===kT)return o.COMPRESSED_SIGNED_RED_RGTC1_EXT;if(s===DT)return o.COMPRESSED_RED_GREEN_RGTC2_EXT;if(s===UT)return o.COMPRESSED_SIGNED_RED_GREEN_RGTC2_EXT}else return null;return s===ac?r?t.UNSIGNED_INT_24_8:(o=e.get("WEBGL_depth_texture"),o!==null?o.UNSIGNED_INT_24_8_WEBGL:null):t[s]!==void 0?t[s]:null}return{convert:i}}class R8 extends or{constructor(e=[]){super(),this.isArrayCamera=!0,this.cameras=e}}class Ld extends an{constructor(){super(),this.isGroup=!0,this.type="Group"}}const Eae={type:"move"};class X2{constructor(){this._targetRay=null,this._grip=null,this._hand=null}getHandSpace(){return this._hand===null&&(this._hand=new Ld,this._hand.matrixAutoUpdate=!1,this._hand.visible=!1,this._hand.joints={},this._hand.inputState={pinching:!1}),this._hand}getTargetRaySpace(){return this._targetRay===null&&(this._targetRay=new Ld,this._targetRay.matrixAutoUpdate=!1,this._targetRay.visible=!1,this._targetRay.hasLinearVelocity=!1,this._targetRay.linearVelocity=new Z,this._targetRay.hasAngularVelocity=!1,this._targetRay.angularVelocity=new Z),this._targetRay}getGripSpace(){return this._grip===null&&(this._grip=new Ld,this._grip.matrixAutoUpdate=!1,this._grip.visible=!1,this._grip.hasLinearVelocity=!1,this._grip.linearVelocity=new Z,this._grip.hasAngularVelocity=!1,this._grip.angularVelocity=new Z),this._grip}dispatchEvent(e){return this._targetRay!==null&&this._targetRay.dispatchEvent(e),this._grip!==null&&this._grip.dispatchEvent(e),this._hand!==null&&this._hand.dispatchEvent(e),this}connect(e){if(e&&e.hand){const n=this._hand;if(n)for(const r of e.hand.values())this._getHandJoint(n,r)}return this.dispatchEvent({type:"connected",data:e}),this}disconnect(e){return this.dispatchEvent({type:"disconnected",data:e}),this._targetRay!==null&&(this._targetRay.visible=!1),this._grip!==null&&(this._grip.visible=!1),this._hand!==null&&(this._hand.visible=!1),this}update(e,n,r){let i=null,s=null,a=null;const o=this._targetRay,l=this._grip,c=this._hand;if(e&&n.session.visibilityState!=="visible-blurred"){if(c&&e.hand){a=!0;for(const b of e.hand.values()){const x=n.getJointPose(b,r),y=this._getHandJoint(c,b);x!==null&&(y.matrix.fromArray(x.transform.matrix),y.matrix.decompose(y.position,y.rotation,y.scale),y.matrixWorldNeedsUpdate=!0,y.jointRadius=x.radius),y.visible=x!==null}const u=c.joints["index-finger-tip"],f=c.joints["thumb-tip"],d=u.position.distanceTo(f.position),p=.02,v=.005;c.inputState.pinching&&d>p+v?(c.inputState.pinching=!1,this.dispatchEvent({type:"pinchend",handedness:e.handedness,target:this})):!c.inputState.pinching&&d<=p-v&&(c.inputState.pinching=!0,this.dispatchEvent({type:"pinchstart",handedness:e.handedness,target:this}))}else l!==null&&e.gripSpace&&(s=n.getPose(e.gripSpace,r),s!==null&&(l.matrix.fromArray(s.transform.matrix),l.matrix.decompose(l.position,l.rotation,l.scale),l.matrixWorldNeedsUpdate=!0,s.linearVelocity?(l.hasLinearVelocity=!0,l.linearVelocity.copy(s.linearVelocity)):l.hasLinearVelocity=!1,s.angularVelocity?(l.hasAngularVelocity=!0,l.angularVelocity.copy(s.angularVelocity)):l.hasAngularVelocity=!1));o!==null&&(i=n.getPose(e.targetRaySpace,r),i===null&&s!==null&&(i=s),i!==null&&(o.matrix.fromArray(i.transform.matrix),o.matrix.decompose(o.position,o.rotation,o.scale),o.matrixWorldNeedsUpdate=!0,i.linearVelocity?(o.hasLinearVelocity=!0,o.linearVelocity.copy(i.linearVelocity)):o.hasLinearVelocity=!1,i.angularVelocity?(o.hasAngularVelocity=!0,o.angularVelocity.copy(i.angularVelocity)):o.hasAngularVelocity=!1,this.dispatchEvent(Eae)))}return o!==null&&(o.visible=i!==null),l!==null&&(l.visible=s!==null),c!==null&&(c.visible=a!==null),this}_getHandJoint(e,n){if(e.joints[n.jointName]===void 0){const r=new Ld;r.matrixAutoUpdate=!1,r.visible=!1,e.joints[n.jointName]=r,e.add(r)}return e.joints[n.jointName]}}class _N extends Qn{constructor(e,n,r,i,s,a,o,l,c,u){if(u=u!==void 0?u:oc,u!==oc&&u!==qu)throw new Error("DepthTexture format must be either THREE.DepthFormat or THREE.DepthStencilFormat");r===void 0&&u===oc&&(r=Wo),r===void 0&&u===qu&&(r=ac),super(null,i,s,a,o,l,u,r,c),this.isDepthTexture=!0,this.image={width:e,height:n},this.magFilter=o!==void 0?o:sr,this.minFilter=l!==void 0?l:sr,this.flipY=!1,this.generateMipmaps=!1,this.compareFunction=null}copy(e){return super.copy(e),this.compareFunction=e.compareFunction,this}toJSON(e){const n=super.toJSON(e);return this.compareFunction!==null&&(n.compareFunction=this.compareFunction),n}}class Tae extends ml{constructor(e,n){super();const r=this;let i=null,s=1,a=null,o="local-floor",l=1,c=null,u=null,f=null,d=null,p=null,v=null;const b=n.getContextAttributes();let x=null,y=null;const w=[],_=[],S=new or;S.layers.enable(1),S.viewport=new cn;const M=new or;M.layers.enable(2),M.viewport=new cn;const E=[S,M],A=new R8;A.layers.enable(1),A.layers.enable(2);let C=null,P=null;this.cameraAutoUpdate=!0,this.enabled=!1,this.isPresenting=!1,this.getController=function(k){let H=w[k];return H===void 0&&(H=new X2,w[k]=H),H.getTargetRaySpace()},this.getControllerGrip=function(k){let H=w[k];return H===void 0&&(H=new X2,w[k]=H),H.getGripSpace()},this.getHand=function(k){let H=w[k];return H===void 0&&(H=new X2,w[k]=H),H.getHandSpace()};function R(k){const H=_.indexOf(k.inputSource);if(H===-1)return;const K=w[H];K!==void 0&&(K.update(k.inputSource,k.frame,c||a),K.dispatchEvent({type:k.type,data:k.inputSource}))}function L(){i.removeEventListener("select",R),i.removeEventListener("selectstart",R),i.removeEventListener("selectend",R),i.removeEventListener("squeeze",R),i.removeEventListener("squeezestart",R),i.removeEventListener("squeezeend",R),i.removeEventListener("end",L),i.removeEventListener("inputsourceschange",O);for(let k=0;k<w.length;k++){const H=_[k];H!==null&&(_[k]=null,w[k].disconnect(H))}C=null,P=null,e.setRenderTarget(x),p=null,d=null,f=null,i=null,y=null,W.stop(),r.isPresenting=!1,r.dispatchEvent({type:"sessionend"})}this.setFramebufferScaleFactor=function(k){s=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change framebuffer scale while presenting.")},this.setReferenceSpaceType=function(k){o=k,r.isPresenting===!0&&console.warn("THREE.WebXRManager: Cannot change reference space type while presenting.")},this.getReferenceSpace=function(){return c||a},this.setReferenceSpace=function(k){c=k},this.getBaseLayer=function(){return d!==null?d:p},this.getBinding=function(){return f},this.getFrame=function(){return v},this.getSession=function(){return i},this.setSession=async function(k){if(i=k,i!==null){if(x=e.getRenderTarget(),i.addEventListener("select",R),i.addEventListener("selectstart",R),i.addEventListener("selectend",R),i.addEventListener("squeeze",R),i.addEventListener("squeezestart",R),i.addEventListener("squeezeend",R),i.addEventListener("end",L),i.addEventListener("inputsourceschange",O),b.xrCompatible!==!0&&await n.makeXRCompatible(),i.renderState.layers===void 0||e.capabilities.isWebGL2===!1){const H={antialias:i.renderState.layers===void 0?b.antialias:!0,alpha:!0,depth:b.depth,stencil:b.stencil,framebufferScaleFactor:s};p=new XRWebGLLayer(i,n,H),i.updateRenderState({baseLayer:p}),y=new la(p.framebufferWidth,p.framebufferHeight,{format:Zi,type:oo,colorSpace:e.outputColorSpace,stencilBuffer:b.stencil})}else{let H=null,K=null,ne=null;b.depth&&(ne=b.stencil?n.DEPTH24_STENCIL8:n.DEPTH_COMPONENT24,H=b.stencil?qu:oc,K=b.stencil?ac:Wo);const te={colorFormat:n.RGBA8,depthFormat:ne,scaleFactor:s};f=new XRWebGLBinding(i,n),d=f.createProjectionLayer(te),i.updateRenderState({layers:[d]}),y=new la(d.textureWidth,d.textureHeight,{format:Zi,type:oo,depthTexture:new _N(d.textureWidth,d.textureHeight,K,void 0,void 0,void 0,void 0,void 0,void 0,H),stencilBuffer:b.stencil,colorSpace:e.outputColorSpace,samples:b.antialias?4:0});const ae=e.properties.get(y);ae.__ignoreDepthValues=d.ignoreDepthValues}y.isXRRenderTarget=!0,this.setFoveation(l),c=null,a=await i.requestReferenceSpace(o),W.setContext(i),W.start(),r.isPresenting=!0,r.dispatchEvent({type:"sessionstart"})}},this.getEnvironmentBlendMode=function(){if(i!==null)return i.environmentBlendMode};function O(k){for(let H=0;H<k.removed.length;H++){const K=k.removed[H],ne=_.indexOf(K);ne>=0&&(_[ne]=null,w[ne].disconnect(K))}for(let H=0;H<k.added.length;H++){const K=k.added[H];let ne=_.indexOf(K);if(ne===-1){for(let ae=0;ae<w.length;ae++)if(ae>=_.length){_.push(K),ne=ae;break}else if(_[ae]===null){_[ae]=K,ne=ae;break}if(ne===-1)break}const te=w[ne];te&&te.connect(K)}}const D=new Z,I=new Z;function z(k,H,K){D.setFromMatrixPosition(H.matrixWorld),I.setFromMatrixPosition(K.matrixWorld);const ne=D.distanceTo(I),te=H.projectionMatrix.elements,ae=K.projectionMatrix.elements,oe=te[14]/(te[10]-1),he=te[14]/(te[10]+1),fe=(te[9]+1)/te[5],Ce=(te[9]-1)/te[5],le=(te[8]-1)/te[0],G=(ae[8]+1)/ae[0],me=oe*le,se=oe*G,xe=ne/(-le+G),pe=xe*-le;H.matrixWorld.decompose(k.position,k.quaternion,k.scale),k.translateX(pe),k.translateZ(xe),k.matrixWorld.compose(k.position,k.quaternion,k.scale),k.matrixWorldInverse.copy(k.matrixWorld).invert();const ze=oe+xe,ve=he+xe,Re=me-pe,Be=se+(ne-pe),ge=fe*he/ve*ze,Ye=Ce*he/ve*ze;k.projectionMatrix.makePerspective(Re,Be,ge,Ye,ze,ve),k.projectionMatrixInverse.copy(k.projectionMatrix).invert()}function $(k,H){H===null?k.matrixWorld.copy(k.matrix):k.matrixWorld.multiplyMatrices(H.matrixWorld,k.matrix),k.matrixWorldInverse.copy(k.matrixWorld).invert()}this.updateCamera=function(k){if(i===null)return;A.near=M.near=S.near=k.near,A.far=M.far=S.far=k.far,(C!==A.near||P!==A.far)&&(i.updateRenderState({depthNear:A.near,depthFar:A.far}),C=A.near,P=A.far);const H=k.parent,K=A.cameras;$(A,H);for(let ne=0;ne<K.length;ne++)$(K[ne],H);K.length===2?z(A,S,M):A.projectionMatrix.copy(S.projectionMatrix),q(k,A,H)};function q(k,H,K){K===null?k.matrix.copy(H.matrixWorld):(k.matrix.copy(K.matrixWorld),k.matrix.invert(),k.matrix.multiply(H.matrixWorld)),k.matrix.decompose(k.position,k.quaternion,k.scale),k.updateMatrixWorld(!0),k.projectionMatrix.copy(H.projectionMatrix),k.projectionMatrixInverse.copy(H.projectionMatrixInverse),k.isPerspectiveCamera&&(k.fov=uh*2*Math.atan(1/k.projectionMatrix.elements[5]),k.zoom=1)}this.getCamera=function(){return A},this.getFoveation=function(){if(!(d===null&&p===null))return l},this.setFoveation=function(k){l=k,d!==null&&(d.fixedFoveation=k),p!==null&&p.fixedFoveation!==void 0&&(p.fixedFoveation=k)};let V=null;function U(k,H){if(u=H.getViewerPose(c||a),v=H,u!==null){const K=u.views;p!==null&&(e.setRenderTargetFramebuffer(y,p.framebuffer),e.setRenderTarget(y));let ne=!1;K.length!==A.cameras.length&&(A.cameras.length=0,ne=!0);for(let te=0;te<K.length;te++){const ae=K[te];let oe=null;if(p!==null)oe=p.getViewport(ae);else{const fe=f.getViewSubImage(d,ae);oe=fe.viewport,te===0&&(e.setRenderTargetTextures(y,fe.colorTexture,d.ignoreDepthValues?void 0:fe.depthStencilTexture),e.setRenderTarget(y))}let he=E[te];he===void 0&&(he=new or,he.layers.enable(te),he.viewport=new cn,E[te]=he),he.matrix.fromArray(ae.transform.matrix),he.matrix.decompose(he.position,he.quaternion,he.scale),he.projectionMatrix.fromArray(ae.projectionMatrix),he.projectionMatrixInverse.copy(he.projectionMatrix).invert(),he.viewport.set(oe.x,oe.y,oe.width,oe.height),te===0&&(A.matrix.copy(he.matrix),A.matrix.decompose(A.position,A.quaternion,A.scale)),ne===!0&&A.cameras.push(he)}}for(let K=0;K<w.length;K++){const ne=_[K],te=w[K];ne!==null&&te!==void 0&&te.update(ne,H,c||a)}V&&V(k,H),H.detectedPlanes&&r.dispatchEvent({type:"planesdetected",data:H}),v=null}const W=new E8;W.setAnimationLoop(U),this.setAnimationLoop=function(k){V=k},this.dispose=function(){}}}function Aae(t,e){function n(x,y){x.matrixAutoUpdate===!0&&x.updateMatrix(),y.value.copy(x.matrix)}function r(x,y){y.color.getRGB(x.fogColor.value,w8(t)),y.isFog?(x.fogNear.value=y.near,x.fogFar.value=y.far):y.isFogExp2&&(x.fogDensity.value=y.density)}function i(x,y,w,_,S){y.isMeshBasicMaterial||y.isMeshLambertMaterial?s(x,y):y.isMeshToonMaterial?(s(x,y),f(x,y)):y.isMeshPhongMaterial?(s(x,y),u(x,y)):y.isMeshStandardMaterial?(s(x,y),d(x,y),y.isMeshPhysicalMaterial&&p(x,y,S)):y.isMeshMatcapMaterial?(s(x,y),v(x,y)):y.isMeshDepthMaterial?s(x,y):y.isMeshDistanceMaterial?(s(x,y),b(x,y)):y.isMeshNormalMaterial?s(x,y):y.isLineBasicMaterial?(a(x,y),y.isLineDashedMaterial&&o(x,y)):y.isPointsMaterial?l(x,y,w,_):y.isSpriteMaterial?c(x,y):y.isShadowMaterial?(x.color.value.copy(y.color),x.opacity.value=y.opacity):y.isShaderMaterial&&(y.uniformsNeedUpdate=!1)}function s(x,y){x.opacity.value=y.opacity,y.color&&x.diffuse.value.copy(y.color),y.emissive&&x.emissive.value.copy(y.emissive).multiplyScalar(y.emissiveIntensity),y.map&&(x.map.value=y.map,n(y.map,x.mapTransform)),y.alphaMap&&(x.alphaMap.value=y.alphaMap,n(y.alphaMap,x.alphaMapTransform)),y.bumpMap&&(x.bumpMap.value=y.bumpMap,n(y.bumpMap,x.bumpMapTransform),x.bumpScale.value=y.bumpScale,y.side===bi&&(x.bumpScale.value*=-1)),y.normalMap&&(x.normalMap.value=y.normalMap,n(y.normalMap,x.normalMapTransform),x.normalScale.value.copy(y.normalScale),y.side===bi&&x.normalScale.value.negate()),y.displacementMap&&(x.displacementMap.value=y.displacementMap,n(y.displacementMap,x.displacementMapTransform),x.displacementScale.value=y.displacementScale,x.displacementBias.value=y.displacementBias),y.emissiveMap&&(x.emissiveMap.value=y.emissiveMap,n(y.emissiveMap,x.emissiveMapTransform)),y.specularMap&&(x.specularMap.value=y.specularMap,n(y.specularMap,x.specularMapTransform)),y.alphaTest>0&&(x.alphaTest.value=y.alphaTest);const w=e.get(y).envMap;if(w&&(x.envMap.value=w,x.flipEnvMap.value=w.isCubeTexture&&w.isRenderTargetTexture===!1?-1:1,x.reflectivity.value=y.reflectivity,x.ior.value=y.ior,x.refractionRatio.value=y.refractionRatio),y.lightMap){x.lightMap.value=y.lightMap;const _=t._useLegacyLights===!0?Math.PI:1;x.lightMapIntensity.value=y.lightMapIntensity*_,n(y.lightMap,x.lightMapTransform)}y.aoMap&&(x.aoMap.value=y.aoMap,x.aoMapIntensity.value=y.aoMapIntensity,n(y.aoMap,x.aoMapTransform))}function a(x,y){x.diffuse.value.copy(y.color),x.opacity.value=y.opacity,y.map&&(x.map.value=y.map,n(y.map,x.mapTransform))}function o(x,y){x.dashSize.value=y.dashSize,x.totalSize.value=y.dashSize+y.gapSize,x.scale.value=y.scale}function l(x,y,w,_){x.diffuse.value.copy(y.color),x.opacity.value=y.opacity,x.size.value=y.size*w,x.scale.value=_*.5,y.map&&(x.map.value=y.map,n(y.map,x.uvTransform)),y.alphaMap&&(x.alphaMap.value=y.alphaMap,n(y.alphaMap,x.alphaMapTransform)),y.alphaTest>0&&(x.alphaTest.value=y.alphaTest)}function c(x,y){x.diffuse.value.copy(y.color),x.opacity.value=y.opacity,x.rotation.value=y.rotation,y.map&&(x.map.value=y.map,n(y.map,x.mapTransform)),y.alphaMap&&(x.alphaMap.value=y.alphaMap,n(y.alphaMap,x.alphaMapTransform)),y.alphaTest>0&&(x.alphaTest.value=y.alphaTest)}function u(x,y){x.specular.value.copy(y.specular),x.shininess.value=Math.max(y.shininess,1e-4)}function f(x,y){y.gradientMap&&(x.gradientMap.value=y.gradientMap)}function d(x,y){x.metalness.value=y.metalness,y.metalnessMap&&(x.metalnessMap.value=y.metalnessMap,n(y.metalnessMap,x.metalnessMapTransform)),x.roughness.value=y.roughness,y.roughnessMap&&(x.roughnessMap.value=y.roughnessMap,n(y.roughnessMap,x.roughnessMapTransform)),e.get(y).envMap&&(x.envMapIntensity.value=y.envMapIntensity)}function p(x,y,w){x.ior.value=y.ior,y.sheen>0&&(x.sheenColor.value.copy(y.sheenColor).multiplyScalar(y.sheen),x.sheenRoughness.value=y.sheenRoughness,y.sheenColorMap&&(x.sheenColorMap.value=y.sheenColorMap,n(y.sheenColorMap,x.sheenColorMapTransform)),y.sheenRoughnessMap&&(x.sheenRoughnessMap.value=y.sheenRoughnessMap,n(y.sheenRoughnessMap,x.sheenRoughnessMapTransform))),y.clearcoat>0&&(x.clearcoat.value=y.clearcoat,x.clearcoatRoughness.value=y.clearcoatRoughness,y.clearcoatMap&&(x.clearcoatMap.value=y.clearcoatMap,n(y.clearcoatMap,x.clearcoatMapTransform)),y.clearcoatRoughnessMap&&(x.clearcoatRoughnessMap.value=y.clearcoatRoughnessMap,n(y.clearcoatRoughnessMap,x.clearcoatRoughnessMapTransform)),y.clearcoatNormalMap&&(x.clearcoatNormalMap.value=y.clearcoatNormalMap,n(y.clearcoatNormalMap,x.clearcoatNormalMapTransform),x.clearcoatNormalScale.value.copy(y.clearcoatNormalScale),y.side===bi&&x.clearcoatNormalScale.value.negate())),y.iridescence>0&&(x.iridescence.value=y.iridescence,x.iridescenceIOR.value=y.iridescenceIOR,x.iridescenceThicknessMinimum.value=y.iridescenceThicknessRange[0],x.iridescenceThicknessMaximum.value=y.iridescenceThicknessRange[1],y.iridescenceMap&&(x.iridescenceMap.value=y.iridescenceMap,n(y.iridescenceMap,x.iridescenceMapTransform)),y.iridescenceThicknessMap&&(x.iridescenceThicknessMap.value=y.iridescenceThicknessMap,n(y.iridescenceThicknessMap,x.iridescenceThicknessMapTransform))),y.transmission>0&&(x.transmission.value=y.transmission,x.transmissionSamplerMap.value=w.texture,x.transmissionSamplerSize.value.set(w.width,w.height),y.transmissionMap&&(x.transmissionMap.value=y.transmissionMap,n(y.transmissionMap,x.transmissionMapTransform)),x.thickness.value=y.thickness,y.thicknessMap&&(x.thicknessMap.value=y.thicknessMap,n(y.thicknessMap,x.thicknessMapTransform)),x.attenuationDistance.value=y.attenuationDistance,x.attenuationColor.value.copy(y.attenuationColor)),y.anisotropy>0&&(x.anisotropyVector.value.set(y.anisotropy*Math.cos(y.anisotropyRotation),y.anisotropy*Math.sin(y.anisotropyRotation)),y.anisotropyMap&&(x.anisotropyMap.value=y.anisotropyMap,n(y.anisotropyMap,x.anisotropyMapTransform))),x.specularIntensity.value=y.specularIntensity,x.specularColor.value.copy(y.specularColor),y.specularColorMap&&(x.specularColorMap.value=y.specularColorMap,n(y.specularColorMap,x.specularColorMapTransform)),y.specularIntensityMap&&(x.specularIntensityMap.value=y.specularIntensityMap,n(y.specularIntensityMap,x.specularIntensityMapTransform))}function v(x,y){y.matcap&&(x.matcap.value=y.matcap)}function b(x,y){const w=e.get(y).light;x.referencePosition.value.setFromMatrixPosition(w.matrixWorld),x.nearDistance.value=w.shadow.camera.near,x.farDistance.value=w.shadow.camera.far}return{refreshFogUniforms:r,refreshMaterialUniforms:i}}function Pae(t,e,n,r){let i={},s={},a=[];const o=n.isWebGL2?t.getParameter(t.MAX_UNIFORM_BUFFER_BINDINGS):0;function l(w,_){const S=_.program;r.uniformBlockBinding(w,S)}function c(w,_){let S=i[w.id];S===void 0&&(v(w),S=u(w),i[w.id]=S,w.addEventListener("dispose",x));const M=_.program;r.updateUBOMapping(w,M);const E=e.render.frame;s[w.id]!==E&&(d(w),s[w.id]=E)}function u(w){const _=f();w.__bindingPointIndex=_;const S=t.createBuffer(),M=w.__size,E=w.usage;return t.bindBuffer(t.UNIFORM_BUFFER,S),t.bufferData(t.UNIFORM_BUFFER,M,E),t.bindBuffer(t.UNIFORM_BUFFER,null),t.bindBufferBase(t.UNIFORM_BUFFER,_,S),S}function f(){for(let w=0;w<o;w++)if(a.indexOf(w)===-1)return a.push(w),w;return console.error("THREE.WebGLRenderer: Maximum number of simultaneously usable uniforms groups reached."),0}function d(w){const _=i[w.id],S=w.uniforms,M=w.__cache;t.bindBuffer(t.UNIFORM_BUFFER,_);for(let E=0,A=S.length;E<A;E++){const C=S[E];if(p(C,E,M)===!0){const P=C.__offset,R=Array.isArray(C.value)?C.value:[C.value];let L=0;for(let O=0;O<R.length;O++){const D=R[O],I=b(D);typeof D=="number"?(C.__data[0]=D,t.bufferSubData(t.UNIFORM_BUFFER,P+L,C.__data)):D.isMatrix3?(C.__data[0]=D.elements[0],C.__data[1]=D.elements[1],C.__data[2]=D.elements[2],C.__data[3]=D.elements[0],C.__data[4]=D.elements[3],C.__data[5]=D.elements[4],C.__data[6]=D.elements[5],C.__data[7]=D.elements[0],C.__data[8]=D.elements[6],C.__data[9]=D.elements[7],C.__data[10]=D.elements[8],C.__data[11]=D.elements[0]):(D.toArray(C.__data,L),L+=I.storage/Float32Array.BYTES_PER_ELEMENT)}t.bufferSubData(t.UNIFORM_BUFFER,P,C.__data)}}t.bindBuffer(t.UNIFORM_BUFFER,null)}function p(w,_,S){const M=w.value;if(S[_]===void 0){if(typeof M=="number")S[_]=M;else{const E=Array.isArray(M)?M:[M],A=[];for(let C=0;C<E.length;C++)A.push(E[C].clone());S[_]=A}return!0}else if(typeof M=="number"){if(S[_]!==M)return S[_]=M,!0}else{const E=Array.isArray(S[_])?S[_]:[S[_]],A=Array.isArray(M)?M:[M];for(let C=0;C<E.length;C++){const P=E[C];if(P.equals(A[C])===!1)return P.copy(A[C]),!0}}return!1}function v(w){const _=w.uniforms;let S=0;const M=16;let E=0;for(let A=0,C=_.length;A<C;A++){const P=_[A],R={boundary:0,storage:0},L=Array.isArray(P.value)?P.value:[P.value];for(let O=0,D=L.length;O<D;O++){const I=L[O],z=b(I);R.boundary+=z.boundary,R.storage+=z.storage}if(P.__data=new Float32Array(R.storage/Float32Array.BYTES_PER_ELEMENT),P.__offset=S,A>0){E=S%M;const O=M-E;E!==0&&O-R.boundary<0&&(S+=M-E,P.__offset=S)}S+=R.storage}return E=S%M,E>0&&(S+=M-E),w.__size=S,w.__cache={},this}function b(w){const _={boundary:0,storage:0};return typeof w=="number"?(_.boundary=4,_.storage=4):w.isVector2?(_.boundary=8,_.storage=8):w.isVector3||w.isColor?(_.boundary=16,_.storage=12):w.isVector4?(_.boundary=16,_.storage=16):w.isMatrix3?(_.boundary=48,_.storage=48):w.isMatrix4?(_.boundary=64,_.storage=64):w.isTexture?console.warn("THREE.WebGLRenderer: Texture samplers can not be part of an uniforms group."):console.warn("THREE.WebGLRenderer: Unsupported uniform value type.",w),_}function x(w){const _=w.target;_.removeEventListener("dispose",x);const S=a.indexOf(_.__bindingPointIndex);a.splice(S,1),t.deleteBuffer(i[_.id]),delete i[_.id],delete s[_.id]}function y(){for(const w in i)t.deleteBuffer(i[w]);a=[],i={},s={}}return{bind:l,update:c,dispose:y}}class wN{constructor(e={}){const{canvas:n=x8(),context:r=null,depth:i=!0,stencil:s=!0,alpha:a=!1,antialias:o=!1,premultipliedAlpha:l=!0,preserveDrawingBuffer:c=!1,powerPreference:u="default",failIfMajorPerformanceCaveat:f=!1}=e;this.isWebGLRenderer=!0;let d;r!==null?d=r.getContextAttributes().alpha:d=a;const p=new Uint32Array(4),v=new Int32Array(4);let b=null,x=null;const y=[],w=[];this.domElement=n,this.debug={checkShaderErrors:!0,onShaderError:null},this.autoClear=!0,this.autoClearColor=!0,this.autoClearDepth=!0,this.autoClearStencil=!0,this.sortObjects=!0,this.clippingPlanes=[],this.localClippingEnabled=!1,this._outputColorSpace=Nr,this._useLegacyLights=!1,this.toneMapping=ao,this.toneMappingExposure=1;const _=this;let S=!1,M=0,E=0,A=null,C=-1,P=null;const R=new cn,L=new cn;let O=null;const D=new at(0);let I=0,z=n.width,$=n.height,q=1,V=null,U=null;const W=new cn(0,0,z,$),k=new cn(0,0,z,$);let H=!1;const K=new A_;let ne=!1,te=!1,ae=null;const oe=new Nt,he=new De,fe=new Z,Ce={background:null,fog:null,environment:null,overrideMaterial:null,isScene:!0};function le(){return A===null?q:1}let G=r;function me(Q,be){for(let Le=0;Le<Q.length;Le++){const _e=Q[Le],Oe=n.getContext(_e,be);if(Oe!==null)return Oe}return null}try{const Q={alpha:!0,depth:i,stencil:s,antialias:o,premultipliedAlpha:l,preserveDrawingBuffer:c,powerPreference:u,failIfMajorPerformanceCaveat:f};if("setAttribute"in n&&n.setAttribute("data-engine",`three.js r${b_}`),n.addEventListener("webglcontextlost",Me,!1),n.addEventListener("webglcontextrestored",ke,!1),n.addEventListener("webglcontextcreationerror",Je,!1),G===null){const be=["webgl2","webgl","experimental-webgl"];if(_.isWebGL1Renderer===!0&&be.shift(),G=me(be,Q),G===null)throw me(be)?new Error("Error creating WebGL context with your selected attributes."):new Error("Error creating WebGL context.")}typeof WebGLRenderingContext<"u"&&G instanceof WebGLRenderingContext&&console.warn("THREE.WebGLRenderer: WebGL 1 support was deprecated in r153 and will be removed in r163."),G.getShaderPrecisionFormat===void 0&&(G.getShaderPrecisionFormat=function(){return{rangeMin:1,rangeMax:1,precision:1}})}catch(Q){throw console.error("THREE.WebGLRenderer: "+Q.message),Q}let se,xe,pe,ze,ve,Re,Be,ge,Ye,Y,X,ie,Fe,ye,Ee,He,Ue,$e,et,tt,Ne,Xe,re,we;function Ve(){se=new $ie(G),xe=new Uie(G,se,e),se.init(xe),Xe=new N8(G,se,xe),pe=new Sae(G,se,xe),ze=new Xie(G),ve=new fae,Re=new Mae(G,se,pe,ve,xe,Xe,ze),Be=new Bie(_),ge=new Hie(_),Ye=new rne(G,xe),re=new kie(G,se,Ye,xe),Y=new Wie(G,Ye,ze,re),X=new Zie(G,Y,Ye,ze),et=new Kie(G,xe,Re),He=new Fie(ve),ie=new uae(_,Be,ge,se,xe,re,He),Fe=new Aae(_,ve),ye=new hae,Ee=new xae(se,xe),$e=new jie(_,Be,ge,pe,X,d,l),Ue=new wae(_,X,xe),we=new Pae(G,ze,xe,pe),tt=new Die(G,se,ze,xe),Ne=new Gie(G,se,ze,xe),ze.programs=ie.programs,_.capabilities=xe,_.extensions=se,_.properties=ve,_.renderLists=ye,_.shadowMap=Ue,_.state=pe,_.info=ze}Ve();const J=new Tae(_,G);this.xr=J,this.getContext=function(){return G},this.getContextAttributes=function(){return G.getContextAttributes()},this.forceContextLoss=function(){const Q=se.get("WEBGL_lose_context");Q&&Q.loseContext()},this.forceContextRestore=function(){const Q=se.get("WEBGL_lose_context");Q&&Q.restoreContext()},this.getPixelRatio=function(){return q},this.setPixelRatio=function(Q){Q!==void 0&&(q=Q,this.setSize(z,$,!1))},this.getSize=function(Q){return Q.set(z,$)},this.setSize=function(Q,be,Le=!0){if(J.isPresenting){console.warn("THREE.WebGLRenderer: Can't change size while VR device is presenting.");return}z=Q,$=be,n.width=Math.floor(Q*q),n.height=Math.floor(be*q),Le===!0&&(n.style.width=Q+"px",n.style.height=be+"px"),this.setViewport(0,0,Q,be)},this.getDrawingBufferSize=function(Q){return Q.set(z*q,$*q).floor()},this.setDrawingBufferSize=function(Q,be,Le){z=Q,$=be,q=Le,n.width=Math.floor(Q*Le),n.height=Math.floor(be*Le),this.setViewport(0,0,Q,be)},this.getCurrentViewport=function(Q){return Q.copy(R)},this.getViewport=function(Q){return Q.copy(W)},this.setViewport=function(Q,be,Le,_e){Q.isVector4?W.set(Q.x,Q.y,Q.z,Q.w):W.set(Q,be,Le,_e),pe.viewport(R.copy(W).multiplyScalar(q).floor())},this.getScissor=function(Q){return Q.copy(k)},this.setScissor=function(Q,be,Le,_e){Q.isVector4?k.set(Q.x,Q.y,Q.z,Q.w):k.set(Q,be,Le,_e),pe.scissor(L.copy(k).multiplyScalar(q).floor())},this.getScissorTest=function(){return H},this.setScissorTest=function(Q){pe.setScissorTest(H=Q)},this.setOpaqueSort=function(Q){V=Q},this.setTransparentSort=function(Q){U=Q},this.getClearColor=function(Q){return Q.copy($e.getClearColor())},this.setClearColor=function(){$e.setClearColor.apply($e,arguments)},this.getClearAlpha=function(){return $e.getClearAlpha()},this.setClearAlpha=function(){$e.setClearAlpha.apply($e,arguments)},this.clear=function(Q=!0,be=!0,Le=!0){let _e=0;if(Q){let Oe=!1;if(A!==null){const ot=A.texture.format;Oe=ot===uN||ot===cN||ot===lN}if(Oe){const ot=A.texture.type,vt=ot===oo||ot===Wo||ot===S_||ot===ac||ot===aN||ot===oN,yt=$e.getClearColor(),wt=$e.getClearAlpha(),Rt=yt.r,We=yt.g,xt=yt.b;vt?(p[0]=Rt,p[1]=We,p[2]=xt,p[3]=wt,G.clearBufferuiv(G.COLOR,0,p)):(v[0]=Rt,v[1]=We,v[2]=xt,v[3]=wt,G.clearBufferiv(G.COLOR,0,v))}else _e|=G.COLOR_BUFFER_BIT}be&&(_e|=G.DEPTH_BUFFER_BIT),Le&&(_e|=G.STENCIL_BUFFER_BIT),G.clear(_e)},this.clearColor=function(){this.clear(!0,!1,!1)},this.clearDepth=function(){this.clear(!1,!0,!1)},this.clearStencil=function(){this.clear(!1,!1,!0)},this.dispose=function(){n.removeEventListener("webglcontextlost",Me,!1),n.removeEventListener("webglcontextrestored",ke,!1),n.removeEventListener("webglcontextcreationerror",Je,!1),ye.dispose(),Ee.dispose(),ve.dispose(),Be.dispose(),ge.dispose(),X.dispose(),re.dispose(),we.dispose(),ie.dispose(),J.dispose(),J.removeEventListener("sessionstart",ht),J.removeEventListener("sessionend",qt),ae&&(ae.dispose(),ae=null),Bt.stop()};function Me(Q){Q.preventDefault(),console.log("THREE.WebGLRenderer: Context Lost."),S=!0}function ke(){console.log("THREE.WebGLRenderer: Context Restored."),S=!1;const Q=ze.autoReset,be=Ue.enabled,Le=Ue.autoUpdate,_e=Ue.needsUpdate,Oe=Ue.type;Ve(),ze.autoReset=Q,Ue.enabled=be,Ue.autoUpdate=Le,Ue.needsUpdate=_e,Ue.type=Oe}function Je(Q){console.error("THREE.WebGLRenderer: A WebGL context could not be created. Reason: ",Q.statusMessage)}function Ge(Q){const be=Q.target;be.removeEventListener("dispose",Ge),Te(be)}function Te(Q){Ke(Q),ve.remove(Q)}function Ke(Q){const be=ve.get(Q).programs;be!==void 0&&(be.forEach(function(Le){ie.releaseProgram(Le)}),Q.isShaderMaterial&&ie.releaseShaderCache(Q))}this.renderBufferDirect=function(Q,be,Le,_e,Oe,ot){be===null&&(be=Ce);const vt=Oe.isMesh&&Oe.matrixWorld.determinant()<0,yt=br(Q,be,Le,_e,Oe);pe.setMaterial(_e,vt);let wt=Le.index,Rt=1;if(_e.wireframe===!0){if(wt=Y.getWireframeAttribute(Le),wt===void 0)return;Rt=2}const We=Le.drawRange,xt=Le.attributes.position;let mn=We.start*Rt,tn=(We.start+We.count)*Rt;ot!==null&&(mn=Math.max(mn,ot.start*Rt),tn=Math.min(tn,(ot.start+ot.count)*Rt)),wt!==null?(mn=Math.max(mn,0),tn=Math.min(tn,wt.count)):xt!=null&&(mn=Math.max(mn,0),tn=Math.min(tn,xt.count));const _r=tn-mn;if(_r<0||_r===1/0)return;re.setup(Oe,_e,yt,Le,wt);let ri,ln=tt;if(wt!==null&&(ri=Ye.get(wt),ln=Ne,ln.setIndex(ri)),Oe.isMesh)_e.wireframe===!0?(pe.setLineWidth(_e.wireframeLinewidth*le()),ln.setMode(G.LINES)):ln.setMode(G.TRIANGLES);else if(Oe.isLine){let St=_e.linewidth;St===void 0&&(St=1),pe.setLineWidth(St*le()),Oe.isLineSegments?ln.setMode(G.LINES):Oe.isLineLoop?ln.setMode(G.LINE_LOOP):ln.setMode(G.LINE_STRIP)}else Oe.isPoints?ln.setMode(G.POINTS):Oe.isSprite&&ln.setMode(G.TRIANGLES);if(Oe.isInstancedMesh)ln.renderInstances(mn,_r,Oe.count);else if(Le.isInstancedBufferGeometry){const St=Le._maxInstanceCount!==void 0?Le._maxInstanceCount:1/0,Zt=Math.min(Le.instanceCount,St);ln.renderInstances(mn,_r,Zt)}else ln.render(mn,_r)},this.compile=function(Q,be){function Le(_e,Oe,ot){_e.transparent===!0&&_e.side===ea&&_e.forceSinglePass===!1?(_e.side=bi,_e.needsUpdate=!0,Dr(_e,Oe,ot),_e.side=ll,_e.needsUpdate=!0,Dr(_e,Oe,ot),_e.side=ea):Dr(_e,Oe,ot)}x=Ee.get(Q),x.init(),w.push(x),Q.traverseVisible(function(_e){_e.isLight&&_e.layers.test(be.layers)&&(x.pushLight(_e),_e.castShadow&&x.pushShadow(_e))}),x.setupLights(_._useLegacyLights),Q.traverse(function(_e){const Oe=_e.material;if(Oe)if(Array.isArray(Oe))for(let ot=0;ot<Oe.length;ot++){const vt=Oe[ot];Le(vt,Q,_e)}else Le(Oe,Q,_e)}),w.pop(),x=null};let nt=null;function lt(Q){nt&&nt(Q)}function ht(){Bt.stop()}function qt(){Bt.start()}const Bt=new E8;Bt.setAnimationLoop(lt),typeof self<"u"&&Bt.setContext(self),this.setAnimationLoop=function(Q){nt=Q,J.setAnimationLoop(Q),Q===null?Bt.stop():Bt.start()},J.addEventListener("sessionstart",ht),J.addEventListener("sessionend",qt),this.render=function(Q,be){if(be!==void 0&&be.isCamera!==!0){console.error("THREE.WebGLRenderer.render: camera is not an instance of THREE.Camera.");return}if(S===!0)return;Q.matrixWorldAutoUpdate===!0&&Q.updateMatrixWorld(),be.parent===null&&be.matrixWorldAutoUpdate===!0&&be.updateMatrixWorld(),J.enabled===!0&&J.isPresenting===!0&&(J.cameraAutoUpdate===!0&&J.updateCamera(be),be=J.getCamera()),Q.isScene===!0&&Q.onBeforeRender(_,Q,be,A),x=Ee.get(Q,w.length),x.init(),w.push(x),oe.multiplyMatrices(be.projectionMatrix,be.matrixWorldInverse),K.setFromProjectionMatrix(oe),te=this.localClippingEnabled,ne=He.init(this.clippingPlanes,te),b=ye.get(Q,y.length),b.init(),y.push(b),Ln(Q,be,0,_.sortObjects),b.finish(),_.sortObjects===!0&&b.sort(V,U),this.info.render.frame++,ne===!0&&He.beginShadows();const Le=x.state.shadowsArray;if(Ue.render(Le,Q,be),ne===!0&&He.endShadows(),this.info.autoReset===!0&&this.info.reset(),$e.render(b,Q),x.setupLights(_._useLegacyLights),be.isArrayCamera){const _e=be.cameras;for(let Oe=0,ot=_e.length;Oe<ot;Oe++){const vt=_e[Oe];ni(b,Q,vt,vt.viewport)}}else ni(b,Q,be);A!==null&&(Re.updateMultisampleRenderTarget(A),Re.updateRenderTargetMipmap(A)),Q.isScene===!0&&Q.onAfterRender(_,Q,be),re.resetDefaultState(),C=-1,P=null,w.pop(),w.length>0?x=w[w.length-1]:x=null,y.pop(),y.length>0?b=y[y.length-1]:b=null};function Ln(Q,be,Le,_e){if(Q.visible===!1)return;if(Q.layers.test(be.layers)){if(Q.isGroup)Le=Q.renderOrder;else if(Q.isLOD)Q.autoUpdate===!0&&Q.update(be);else if(Q.isLight)x.pushLight(Q),Q.castShadow&&x.pushShadow(Q);else if(Q.isSprite){if(!Q.frustumCulled||K.intersectsSprite(Q)){_e&&fe.setFromMatrixPosition(Q.matrixWorld).applyMatrix4(oe);const vt=X.update(Q),yt=Q.material;yt.visible&&b.push(Q,vt,yt,Le,fe.z,null)}}else if((Q.isMesh||Q.isLine||Q.isPoints)&&(!Q.frustumCulled||K.intersectsObject(Q))){const vt=X.update(Q),yt=Q.material;if(_e&&(Q.boundingSphere!==void 0?(Q.boundingSphere===null&&Q.computeBoundingSphere(),fe.copy(Q.boundingSphere.center)):(vt.boundingSphere===null&&vt.computeBoundingSphere(),fe.copy(vt.boundingSphere.center)),fe.applyMatrix4(Q.matrixWorld).applyMatrix4(oe)),Array.isArray(yt)){const wt=vt.groups;for(let Rt=0,We=wt.length;Rt<We;Rt++){const xt=wt[Rt],mn=yt[xt.materialIndex];mn&&mn.visible&&b.push(Q,vt,mn,Le,fe.z,xt)}}else yt.visible&&b.push(Q,vt,yt,Le,fe.z,null)}}const ot=Q.children;for(let vt=0,yt=ot.length;vt<yt;vt++)Ln(ot[vt],be,Le,_e)}function ni(Q,be,Le,_e){const Oe=Q.opaque,ot=Q.transmissive,vt=Q.transparent;x.setupLightsView(Le),ne===!0&&He.setGlobalState(_.clippingPlanes,Le),ot.length>0&&cs(Oe,ot,be,Le),_e&&pe.viewport(R.copy(_e)),Oe.length>0&&kr(Oe,be,Le),ot.length>0&&kr(ot,be,Le),vt.length>0&&kr(vt,be,Le),pe.buffers.depth.setTest(!0),pe.buffers.depth.setMask(!0),pe.buffers.color.setMask(!0),pe.setPolygonOffset(!1)}function cs(Q,be,Le,_e){const Oe=xe.isWebGL2;ae===null&&(ae=new la(1,1,{generateMipmaps:!0,type:se.has("EXT_color_buffer_half_float")?Xu:oo,minFilter:vc,samples:Oe?4:0})),_.getDrawingBufferSize(he),Oe?ae.setSize(he.x,he.y):ae.setSize(F1(he.x),F1(he.y));const ot=_.getRenderTarget();_.setRenderTarget(ae),_.getClearColor(D),I=_.getClearAlpha(),I<1&&_.setClearColor(16777215,.5),_.clear();const vt=_.toneMapping;_.toneMapping=ao,kr(Q,Le,_e),Re.updateMultisampleRenderTarget(ae),Re.updateRenderTargetMipmap(ae);let yt=!1;for(let wt=0,Rt=be.length;wt<Rt;wt++){const We=be[wt],xt=We.object,mn=We.geometry,tn=We.material,_r=We.group;if(tn.side===ea&&xt.layers.test(_e.layers)){const ri=tn.side;tn.side=bi,tn.needsUpdate=!0,us(xt,Le,_e,mn,tn,_r),tn.side=ri,tn.needsUpdate=!0,yt=!0}}yt===!0&&(Re.updateMultisampleRenderTarget(ae),Re.updateRenderTargetMipmap(ae)),_.setRenderTarget(ot),_.setClearColor(D,I),_.toneMapping=vt}function kr(Q,be,Le){const _e=be.isScene===!0?be.overrideMaterial:null;for(let Oe=0,ot=Q.length;Oe<ot;Oe++){const vt=Q[Oe],yt=vt.object,wt=vt.geometry,Rt=_e===null?vt.material:_e,We=vt.group;yt.layers.test(Le.layers)&&us(yt,be,Le,wt,Rt,We)}}function us(Q,be,Le,_e,Oe,ot){Q.onBeforeRender(_,be,Le,_e,Oe,ot),Q.modelViewMatrix.multiplyMatrices(Le.matrixWorldInverse,Q.matrixWorld),Q.normalMatrix.getNormalMatrix(Q.modelViewMatrix),Oe.onBeforeRender(_,be,Le,_e,Q,ot),Oe.transparent===!0&&Oe.side===ea&&Oe.forceSinglePass===!1?(Oe.side=bi,Oe.needsUpdate=!0,_.renderBufferDirect(Le,be,_e,Oe,Q,ot),Oe.side=ll,Oe.needsUpdate=!0,_.renderBufferDirect(Le,be,_e,Oe,Q,ot),Oe.side=ea):_.renderBufferDirect(Le,be,_e,Oe,Q,ot),Q.onAfterRender(_,be,Le,_e,Oe,ot)}function Dr(Q,be,Le){be.isScene!==!0&&(be=Ce);const _e=ve.get(Q),Oe=x.state.lights,ot=x.state.shadowsArray,vt=Oe.state.version,yt=ie.getParameters(Q,Oe.state,ot,be,Le),wt=ie.getProgramCacheKey(yt);let Rt=_e.programs;_e.environment=Q.isMeshStandardMaterial?be.environment:null,_e.fog=be.fog,_e.envMap=(Q.isMeshStandardMaterial?ge:Be).get(Q.envMap||_e.environment),Rt===void 0&&(Q.addEventListener("dispose",Ge),Rt=new Map,_e.programs=Rt);let We=Rt.get(wt);if(We!==void 0){if(_e.currentProgram===We&&_e.lightsStateVersion===vt)return Vi(Q,yt),We}else yt.uniforms=ie.getUniforms(Q),Q.onBuild(Le,yt,_),Q.onBeforeCompile(yt,_),We=ie.acquireProgram(yt,wt),Rt.set(wt,We),_e.uniforms=yt.uniforms;const xt=_e.uniforms;(!Q.isShaderMaterial&&!Q.isRawShaderMaterial||Q.clipping===!0)&&(xt.clippingPlanes=He.uniform),Vi(Q,yt),_e.needsLights=bf(Q),_e.lightsStateVersion=vt,_e.needsLights&&(xt.ambientLightColor.value=Oe.state.ambient,xt.lightProbe.value=Oe.state.probe,xt.directionalLights.value=Oe.state.directional,xt.directionalLightShadows.value=Oe.state.directionalShadow,xt.spotLights.value=Oe.state.spot,xt.spotLightShadows.value=Oe.state.spotShadow,xt.rectAreaLights.value=Oe.state.rectArea,xt.ltc_1.value=Oe.state.rectAreaLTC1,xt.ltc_2.value=Oe.state.rectAreaLTC2,xt.pointLights.value=Oe.state.point,xt.pointLightShadows.value=Oe.state.pointShadow,xt.hemisphereLights.value=Oe.state.hemi,xt.directionalShadowMap.value=Oe.state.directionalShadowMap,xt.directionalShadowMatrix.value=Oe.state.directionalShadowMatrix,xt.spotShadowMap.value=Oe.state.spotShadowMap,xt.spotLightMatrix.value=Oe.state.spotLightMatrix,xt.spotLightMap.value=Oe.state.spotLightMap,xt.pointShadowMap.value=Oe.state.pointShadowMap,xt.pointShadowMatrix.value=Oe.state.pointShadowMatrix);const mn=We.getUniforms(),tn=Wx.seqWithValue(mn.seq,xt);return _e.currentProgram=We,_e.uniformsList=tn,We}function Vi(Q,be){const Le=ve.get(Q);Le.outputColorSpace=be.outputColorSpace,Le.instancing=be.instancing,Le.instancingColor=be.instancingColor,Le.skinning=be.skinning,Le.morphTargets=be.morphTargets,Le.morphNormals=be.morphNormals,Le.morphColors=be.morphColors,Le.morphTargetsCount=be.morphTargetsCount,Le.numClippingPlanes=be.numClippingPlanes,Le.numIntersection=be.numClipIntersection,Le.vertexAlphas=be.vertexAlphas,Le.vertexTangents=be.vertexTangents,Le.toneMapping=be.toneMapping}function br(Q,be,Le,_e,Oe){be.isScene!==!0&&(be=Ce),Re.resetTextureUnits();const ot=be.fog,vt=_e.isMeshStandardMaterial?be.environment:null,yt=A===null?_.outputColorSpace:A.isXRRenderTarget===!0?A.texture.colorSpace:mo,wt=(_e.isMeshStandardMaterial?ge:Be).get(_e.envMap||vt),Rt=_e.vertexColors===!0&&!!Le.attributes.color&&Le.attributes.color.itemSize===4,We=!!Le.attributes.tangent&&(!!_e.normalMap||_e.anisotropy>0),xt=!!Le.morphAttributes.position,mn=!!Le.morphAttributes.normal,tn=!!Le.morphAttributes.color;let _r=ao;_e.toneMapped&&(A===null||A.isXRRenderTarget===!0)&&(_r=_.toneMapping);const ri=Le.morphAttributes.position||Le.morphAttributes.normal||Le.morphAttributes.color,ln=ri!==void 0?ri.length:0,St=ve.get(_e),Zt=x.state.lights;if(ne===!0&&(te===!0||Q!==P)){const ur=Q===P&&_e.id===C;He.setState(_e,Q,ur)}let Mt=!1;_e.version===St.__version?(St.needsLights&&St.lightsStateVersion!==Zt.state.version||St.outputColorSpace!==yt||Oe.isInstancedMesh&&St.instancing===!1||!Oe.isInstancedMesh&&St.instancing===!0||Oe.isSkinnedMesh&&St.skinning===!1||!Oe.isSkinnedMesh&&St.skinning===!0||Oe.isInstancedMesh&&St.instancingColor===!0&&Oe.instanceColor===null||Oe.isInstancedMesh&&St.instancingColor===!1&&Oe.instanceColor!==null||St.envMap!==wt||_e.fog===!0&&St.fog!==ot||St.numClippingPlanes!==void 0&&(St.numClippingPlanes!==He.numPlanes||St.numIntersection!==He.numIntersection)||St.vertexAlphas!==Rt||St.vertexTangents!==We||St.morphTargets!==xt||St.morphNormals!==mn||St.morphColors!==tn||St.toneMapping!==_r||xe.isWebGL2===!0&&St.morphTargetsCount!==ln)&&(Mt=!0):(Mt=!0,St.__version=_e.version);let er=St.currentProgram;Mt===!0&&(er=Dr(_e,be,Oe));let Wn=!1,In=!1,Hi=!1;const gn=er.getUniforms(),wn=St.uniforms;if(pe.useProgram(er.program)&&(Wn=!0,In=!0,Hi=!0),_e.id!==C&&(C=_e.id,In=!0),Wn||P!==Q){gn.setValue(G,"projectionMatrix",Q.projectionMatrix),gn.setValue(G,"viewMatrix",Q.matrixWorldInverse);const ur=gn.map.cameraPosition;ur!==void 0&&ur.setValue(G,fe.setFromMatrixPosition(Q.matrixWorld)),xe.logarithmicDepthBuffer&&gn.setValue(G,"logDepthBufFC",2/(Math.log(Q.far+1)/Math.LN2)),(_e.isMeshPhongMaterial||_e.isMeshToonMaterial||_e.isMeshLambertMaterial||_e.isMeshBasicMaterial||_e.isMeshStandardMaterial||_e.isShaderMaterial)&&gn.setValue(G,"isOrthographic",Q.isOrthographicCamera===!0),P!==Q&&(P=Q,In=!0,Hi=!0)}if(Oe.isSkinnedMesh){gn.setOptional(G,Oe,"bindMatrix"),gn.setOptional(G,Oe,"bindMatrixInverse");const ur=Oe.skeleton;ur&&(xe.floatVertexTextures?(ur.boneTexture===null&&ur.computeBoneTexture(),gn.setValue(G,"boneTexture",ur.boneTexture,Re),gn.setValue(G,"boneTextureSize",ur.boneTextureSize)):console.warn("THREE.WebGLRenderer: SkinnedMesh can only be used with WebGL 2. With WebGL 1 OES_texture_float and vertex textures support is required."))}const Ei=Le.morphAttributes;if((Ei.position!==void 0||Ei.normal!==void 0||Ei.color!==void 0&&xe.isWebGL2===!0)&&et.update(Oe,Le,er),(In||St.receiveShadow!==Oe.receiveShadow)&&(St.receiveShadow=Oe.receiveShadow,gn.setValue(G,"receiveShadow",Oe.receiveShadow)),_e.isMeshGouraudMaterial&&_e.envMap!==null&&(wn.envMap.value=wt,wn.flipEnvMap.value=wt.isCubeTexture&&wt.isRenderTargetTexture===!1?-1:1),In&&(gn.setValue(G,"toneMappingExposure",_.toneMappingExposure),St.needsLights&&ma(wn,Hi),ot&&_e.fog===!0&&Fe.refreshFogUniforms(wn,ot),Fe.refreshMaterialUniforms(wn,_e,q,$,ae),Wx.upload(G,St.uniformsList,wn,Re)),_e.isShaderMaterial&&_e.uniformsNeedUpdate===!0&&(Wx.upload(G,St.uniformsList,wn,Re),_e.uniformsNeedUpdate=!1),_e.isSpriteMaterial&&gn.setValue(G,"center",Oe.center),gn.setValue(G,"modelViewMatrix",Oe.modelViewMatrix),gn.setValue(G,"normalMatrix",Oe.normalMatrix),gn.setValue(G,"modelMatrix",Oe.matrixWorld),_e.isShaderMaterial||_e.isRawShaderMaterial){const ur=_e.uniformsGroups;for(let za=0,Va=ur.length;za<Va;za++)if(xe.isWebGL2){const ii=ur[za];we.update(ii,er),we.bind(ii,er)}else console.warn("THREE.WebGLRenderer: Uniform Buffer Objects can only be used with WebGL 2.")}return er}function ma(Q,be){Q.ambientLightColor.needsUpdate=be,Q.lightProbe.needsUpdate=be,Q.directionalLights.needsUpdate=be,Q.directionalLightShadows.needsUpdate=be,Q.pointLights.needsUpdate=be,Q.pointLightShadows.needsUpdate=be,Q.spotLights.needsUpdate=be,Q.spotLightShadows.needsUpdate=be,Q.rectAreaLights.needsUpdate=be,Q.hemisphereLights.needsUpdate=be}function bf(Q){return Q.isMeshLambertMaterial||Q.isMeshToonMaterial||Q.isMeshPhongMaterial||Q.isMeshStandardMaterial||Q.isShadowMaterial||Q.isShaderMaterial&&Q.lights===!0}this.getActiveCubeFace=function(){return M},this.getActiveMipmapLevel=function(){return E},this.getRenderTarget=function(){return A},this.setRenderTargetTextures=function(Q,be,Le){ve.get(Q.texture).__webglTexture=be,ve.get(Q.depthTexture).__webglTexture=Le;const _e=ve.get(Q);_e.__hasExternalTextures=!0,_e.__hasExternalTextures&&(_e.__autoAllocateDepthBuffer=Le===void 0,_e.__autoAllocateDepthBuffer||se.has("WEBGL_multisampled_render_to_texture")===!0&&(console.warn("THREE.WebGLRenderer: Render-to-texture extension was disabled because an external texture was provided"),_e.__useRenderToTexture=!1))},this.setRenderTargetFramebuffer=function(Q,be){const Le=ve.get(Q);Le.__webglFramebuffer=be,Le.__useDefaultFramebuffer=be===void 0},this.setRenderTarget=function(Q,be=0,Le=0){A=Q,M=be,E=Le;let _e=!0,Oe=null,ot=!1,vt=!1;if(Q){const wt=ve.get(Q);wt.__useDefaultFramebuffer!==void 0?(pe.bindFramebuffer(G.FRAMEBUFFER,null),_e=!1):wt.__webglFramebuffer===void 0?Re.setupRenderTarget(Q):wt.__hasExternalTextures&&Re.rebindTextures(Q,ve.get(Q.texture).__webglTexture,ve.get(Q.depthTexture).__webglTexture);const Rt=Q.texture;(Rt.isData3DTexture||Rt.isDataArrayTexture||Rt.isCompressedArrayTexture)&&(vt=!0);const We=ve.get(Q).__webglFramebuffer;Q.isWebGLCubeRenderTarget?(Array.isArray(We[be])?Oe=We[be][Le]:Oe=We[be],ot=!0):xe.isWebGL2&&Q.samples>0&&Re.useMultisampledRTT(Q)===!1?Oe=ve.get(Q).__webglMultisampledFramebuffer:Array.isArray(We)?Oe=We[Le]:Oe=We,R.copy(Q.viewport),L.copy(Q.scissor),O=Q.scissorTest}else R.copy(W).multiplyScalar(q).floor(),L.copy(k).multiplyScalar(q).floor(),O=H;if(pe.bindFramebuffer(G.FRAMEBUFFER,Oe)&&xe.drawBuffers&&_e&&pe.drawBuffers(Q,Oe),pe.viewport(R),pe.scissor(L),pe.setScissorTest(O),ot){const wt=ve.get(Q.texture);G.framebufferTexture2D(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,G.TEXTURE_CUBE_MAP_POSITIVE_X+be,wt.__webglTexture,Le)}else if(vt){const wt=ve.get(Q.texture),Rt=be||0;G.framebufferTextureLayer(G.FRAMEBUFFER,G.COLOR_ATTACHMENT0,wt.__webglTexture,Le||0,Rt)}C=-1},this.readRenderTargetPixels=function(Q,be,Le,_e,Oe,ot,vt){if(!(Q&&Q.isWebGLRenderTarget)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not THREE.WebGLRenderTarget.");return}let yt=ve.get(Q).__webglFramebuffer;if(Q.isWebGLCubeRenderTarget&&vt!==void 0&&(yt=yt[vt]),yt){pe.bindFramebuffer(G.FRAMEBUFFER,yt);try{const wt=Q.texture,Rt=wt.format,We=wt.type;if(Rt!==Zi&&Xe.convert(Rt)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_FORMAT)){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in RGBA or implementation defined format.");return}const xt=We===Xu&&(se.has("EXT_color_buffer_half_float")||xe.isWebGL2&&se.has("EXT_color_buffer_float"));if(We!==oo&&Xe.convert(We)!==G.getParameter(G.IMPLEMENTATION_COLOR_READ_TYPE)&&!(We===Ra&&(xe.isWebGL2||se.has("OES_texture_float")||se.has("WEBGL_color_buffer_float")))&&!xt){console.error("THREE.WebGLRenderer.readRenderTargetPixels: renderTarget is not in UnsignedByteType or implementation defined type.");return}be>=0&&be<=Q.width-_e&&Le>=0&&Le<=Q.height-Oe&&G.readPixels(be,Le,_e,Oe,Xe.convert(Rt),Xe.convert(We),ot)}finally{const wt=A!==null?ve.get(A).__webglFramebuffer:null;pe.bindFramebuffer(G.FRAMEBUFFER,wt)}}},this.copyFramebufferToTexture=function(Q,be,Le=0){const _e=Math.pow(2,-Le),Oe=Math.floor(be.image.width*_e),ot=Math.floor(be.image.height*_e);Re.setTexture2D(be,0),G.copyTexSubImage2D(G.TEXTURE_2D,Le,0,0,Q.x,Q.y,Oe,ot),pe.unbindTexture()},this.copyTextureToTexture=function(Q,be,Le,_e=0){const Oe=be.image.width,ot=be.image.height,vt=Xe.convert(Le.format),yt=Xe.convert(Le.type);Re.setTexture2D(Le,0),G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,Le.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,Le.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,Le.unpackAlignment),be.isDataTexture?G.texSubImage2D(G.TEXTURE_2D,_e,Q.x,Q.y,Oe,ot,vt,yt,be.image.data):be.isCompressedTexture?G.compressedTexSubImage2D(G.TEXTURE_2D,_e,Q.x,Q.y,be.mipmaps[0].width,be.mipmaps[0].height,vt,be.mipmaps[0].data):G.texSubImage2D(G.TEXTURE_2D,_e,Q.x,Q.y,vt,yt,be.image),_e===0&&Le.generateMipmaps&&G.generateMipmap(G.TEXTURE_2D),pe.unbindTexture()},this.copyTextureToTexture3D=function(Q,be,Le,_e,Oe=0){if(_.isWebGL1Renderer){console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: can only be used with WebGL2.");return}const ot=Q.max.x-Q.min.x+1,vt=Q.max.y-Q.min.y+1,yt=Q.max.z-Q.min.z+1,wt=Xe.convert(_e.format),Rt=Xe.convert(_e.type);let We;if(_e.isData3DTexture)Re.setTexture3D(_e,0),We=G.TEXTURE_3D;else if(_e.isDataArrayTexture)Re.setTexture2DArray(_e,0),We=G.TEXTURE_2D_ARRAY;else{console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: only supports THREE.DataTexture3D and THREE.DataTexture2DArray.");return}G.pixelStorei(G.UNPACK_FLIP_Y_WEBGL,_e.flipY),G.pixelStorei(G.UNPACK_PREMULTIPLY_ALPHA_WEBGL,_e.premultiplyAlpha),G.pixelStorei(G.UNPACK_ALIGNMENT,_e.unpackAlignment);const xt=G.getParameter(G.UNPACK_ROW_LENGTH),mn=G.getParameter(G.UNPACK_IMAGE_HEIGHT),tn=G.getParameter(G.UNPACK_SKIP_PIXELS),_r=G.getParameter(G.UNPACK_SKIP_ROWS),ri=G.getParameter(G.UNPACK_SKIP_IMAGES),ln=Le.isCompressedTexture?Le.mipmaps[0]:Le.image;G.pixelStorei(G.UNPACK_ROW_LENGTH,ln.width),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,ln.height),G.pixelStorei(G.UNPACK_SKIP_PIXELS,Q.min.x),G.pixelStorei(G.UNPACK_SKIP_ROWS,Q.min.y),G.pixelStorei(G.UNPACK_SKIP_IMAGES,Q.min.z),Le.isDataTexture||Le.isData3DTexture?G.texSubImage3D(We,Oe,be.x,be.y,be.z,ot,vt,yt,wt,Rt,ln.data):Le.isCompressedArrayTexture?(console.warn("THREE.WebGLRenderer.copyTextureToTexture3D: untested support for compressed srcTexture."),G.compressedTexSubImage3D(We,Oe,be.x,be.y,be.z,ot,vt,yt,wt,ln.data)):G.texSubImage3D(We,Oe,be.x,be.y,be.z,ot,vt,yt,wt,Rt,ln),G.pixelStorei(G.UNPACK_ROW_LENGTH,xt),G.pixelStorei(G.UNPACK_IMAGE_HEIGHT,mn),G.pixelStorei(G.UNPACK_SKIP_PIXELS,tn),G.pixelStorei(G.UNPACK_SKIP_ROWS,_r),G.pixelStorei(G.UNPACK_SKIP_IMAGES,ri),Oe===0&&_e.generateMipmaps&&G.generateMipmap(We),pe.unbindTexture()},this.initTexture=function(Q){Q.isCubeTexture?Re.setTextureCube(Q,0):Q.isData3DTexture?Re.setTexture3D(Q,0):Q.isDataArrayTexture||Q.isCompressedArrayTexture?Re.setTexture2DArray(Q,0):Re.setTexture2D(Q,0),pe.unbindTexture()},this.resetState=function(){M=0,E=0,A=null,pe.reset(),re.reset()},typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}get coordinateSystem(){return to}get outputColorSpace(){return this._outputColorSpace}set outputColorSpace(e){this._outputColorSpace=e;const n=this.getContext();n.drawingBufferColorSpace=e===E_?"display-p3":"srgb",n.unpackColorSpace=dn.workingColorSpace===j0?"display-p3":"srgb"}get physicallyCorrectLights(){return console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),!this.useLegacyLights}set physicallyCorrectLights(e){console.warn("THREE.WebGLRenderer: The property .physicallyCorrectLights has been removed. Set renderer.useLegacyLights instead."),this.useLegacyLights=!e}get outputEncoding(){return console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace===Nr?lc:dN}set outputEncoding(e){console.warn("THREE.WebGLRenderer: Property .outputEncoding has been removed. Use .outputColorSpace instead."),this.outputColorSpace=e===lc?Nr:mo}get useLegacyLights(){return console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights}set useLegacyLights(e){console.warn("THREE.WebGLRenderer: The property .useLegacyLights has been deprecated. Migrate your lighting according to the following guide: https://discourse.threejs.org/t/updates-to-lighting-in-three-js-r155/53733."),this._useLegacyLights=e}}class O8 extends wN{}O8.prototype.isWebGL1Renderer=!0;class R_{constructor(e,n=25e-5){this.isFogExp2=!0,this.name="",this.color=new at(e),this.density=n}clone(){return new R_(this.color,this.density)}toJSON(){return{type:"FogExp2",name:this.name,color:this.color.getHex(),density:this.density}}}class O_{constructor(e,n=1,r=1e3){this.isFog=!0,this.name="",this.color=new at(e),this.near=n,this.far=r}clone(){return new O_(this.color,this.near,this.far)}toJSON(){return{type:"Fog",name:this.name,color:this.color.getHex(),near:this.near,far:this.far}}}class SN extends an{constructor(){super(),this.isScene=!0,this.type="Scene",this.background=null,this.environment=null,this.fog=null,this.backgroundBlurriness=0,this.backgroundIntensity=1,this.overrideMaterial=null,typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("observe",{detail:this}))}copy(e,n){return super.copy(e,n),e.background!==null&&(this.background=e.background.clone()),e.environment!==null&&(this.environment=e.environment.clone()),e.fog!==null&&(this.fog=e.fog.clone()),this.backgroundBlurriness=e.backgroundBlurriness,this.backgroundIntensity=e.backgroundIntensity,e.overrideMaterial!==null&&(this.overrideMaterial=e.overrideMaterial.clone()),this.matrixAutoUpdate=e.matrixAutoUpdate,this}toJSON(e){const n=super.toJSON(e);return this.fog!==null&&(n.object.fog=this.fog.toJSON()),this.backgroundBlurriness>0&&(n.object.backgroundBlurriness=this.backgroundBlurriness),this.backgroundIntensity!==1&&(n.object.backgroundIntensity=this.backgroundIntensity),n}}class L_{constructor(e,n){this.isInterleavedBuffer=!0,this.array=e,this.stride=n,this.count=e!==void 0?e.length/n:0,this.usage=Ag,this.updateRange={offset:0,count:-1},this.version=0,this.uuid=Ns()}onUploadCallback(){}set needsUpdate(e){e===!0&&this.version++}setUsage(e){return this.usage=e,this}copy(e){return this.array=new e.array.constructor(e.array),this.count=e.count,this.stride=e.stride,this.usage=e.usage,this}copyAt(e,n,r){e*=this.stride,r*=n.stride;for(let i=0,s=this.stride;i<s;i++)this.array[e+i]=n.array[r+i];return this}set(e,n=0){return this.array.set(e,n),this}clone(e){e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ns()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=this.array.slice(0).buffer);const n=new this.array.constructor(e.arrayBuffers[this.array.buffer._uuid]),r=new this.constructor(n,this.stride);return r.setUsage(this.usage),r}onUpload(e){return this.onUploadCallback=e,this}toJSON(e){return e.arrayBuffers===void 0&&(e.arrayBuffers={}),this.array.buffer._uuid===void 0&&(this.array.buffer._uuid=Ns()),e.arrayBuffers[this.array.buffer._uuid]===void 0&&(e.arrayBuffers[this.array.buffer._uuid]=Array.from(new Uint32Array(this.array.buffer))),{uuid:this.uuid,buffer:this.array.buffer._uuid,type:this.array.constructor.name,stride:this.stride}}}const Oi=new Z;class Yu{constructor(e,n,r,i=!1){this.isInterleavedBufferAttribute=!0,this.name="",this.data=e,this.itemSize=n,this.offset=r,this.normalized=i}get count(){return this.data.count}get array(){return this.data.array}set needsUpdate(e){this.data.needsUpdate=e}applyMatrix4(e){for(let n=0,r=this.data.count;n<r;n++)Oi.fromBufferAttribute(this,n),Oi.applyMatrix4(e),this.setXYZ(n,Oi.x,Oi.y,Oi.z);return this}applyNormalMatrix(e){for(let n=0,r=this.count;n<r;n++)Oi.fromBufferAttribute(this,n),Oi.applyNormalMatrix(e),this.setXYZ(n,Oi.x,Oi.y,Oi.z);return this}transformDirection(e){for(let n=0,r=this.count;n<r;n++)Oi.fromBufferAttribute(this,n),Oi.transformDirection(e),this.setXYZ(n,Oi.x,Oi.y,Oi.z);return this}setX(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset]=n,this}setY(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset+1]=n,this}setZ(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset+2]=n,this}setW(e,n){return this.normalized&&(n=Ut(n,this.array)),this.data.array[e*this.data.stride+this.offset+3]=n,this}getX(e){let n=this.data.array[e*this.data.stride+this.offset];return this.normalized&&(n=Ji(n,this.array)),n}getY(e){let n=this.data.array[e*this.data.stride+this.offset+1];return this.normalized&&(n=Ji(n,this.array)),n}getZ(e){let n=this.data.array[e*this.data.stride+this.offset+2];return this.normalized&&(n=Ji(n,this.array)),n}getW(e){let n=this.data.array[e*this.data.stride+this.offset+3];return this.normalized&&(n=Ji(n,this.array)),n}setXY(e,n,r){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this}setXYZ(e,n,r,i){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this}setXYZW(e,n,r,i,s){return e=e*this.data.stride+this.offset,this.normalized&&(n=Ut(n,this.array),r=Ut(r,this.array),i=Ut(i,this.array),s=Ut(s,this.array)),this.data.array[e+0]=n,this.data.array[e+1]=r,this.data.array[e+2]=i,this.data.array[e+3]=s,this}clone(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.clone(): Cloning an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return new fn(new this.array.constructor(n),this.itemSize,this.normalized)}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.clone(e)),new Yu(e.interleavedBuffers[this.data.uuid],this.itemSize,this.offset,this.normalized)}toJSON(e){if(e===void 0){console.log("THREE.InterleavedBufferAttribute.toJSON(): Serializing an interleaved buffer attribute will de-interleave buffer data.");const n=[];for(let r=0;r<this.count;r++){const i=r*this.data.stride+this.offset;for(let s=0;s<this.itemSize;s++)n.push(this.data.array[i+s])}return{itemSize:this.itemSize,type:this.array.constructor.name,array:n,normalized:this.normalized}}else return e.interleavedBuffers===void 0&&(e.interleavedBuffers={}),e.interleavedBuffers[this.data.uuid]===void 0&&(e.interleavedBuffers[this.data.uuid]=this.data.toJSON(e)),{isInterleavedBufferAttribute:!0,itemSize:this.itemSize,data:this.data.uuid,offset:this.offset,normalized:this.normalized}}}class MN extends Mi{constructor(e){super(),this.isSpriteMaterial=!0,this.type="SpriteMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.rotation=0,this.sizeAttenuation=!0,this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.rotation=e.rotation,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}let Qf;const Xp=new Z,ed=new Z,td=new Z,nd=new De,qp=new De,L8=new Nt,ky=new Z,Yp=new Z,Dy=new Z,Vj=new De,q2=new De,Hj=new De;class I8 extends an{constructor(e=new MN){if(super(),this.isSprite=!0,this.type="Sprite",Qf===void 0){Qf=new Ht;const n=new Float32Array([-.5,-.5,0,0,0,.5,-.5,0,1,0,.5,.5,0,1,1,-.5,.5,0,0,1]),r=new L_(n,5);Qf.setIndex([0,1,2,0,2,3]),Qf.setAttribute("position",new Yu(r,3,0,!1)),Qf.setAttribute("uv",new Yu(r,2,3,!1))}this.geometry=Qf,this.material=e,this.center=new De(.5,.5)}raycast(e,n){e.camera===null&&console.error('THREE.Sprite: "Raycaster.camera" needs to be set in order to raycast against sprites.'),ed.setFromMatrixScale(this.matrixWorld),L8.copy(e.camera.matrixWorld),this.modelViewMatrix.multiplyMatrices(e.camera.matrixWorldInverse,this.matrixWorld),td.setFromMatrixPosition(this.modelViewMatrix),e.camera.isPerspectiveCamera&&this.material.sizeAttenuation===!1&&ed.multiplyScalar(-td.z);const r=this.material.rotation;let i,s;r!==0&&(s=Math.cos(r),i=Math.sin(r));const a=this.center;Uy(ky.set(-.5,-.5,0),td,a,ed,i,s),Uy(Yp.set(.5,-.5,0),td,a,ed,i,s),Uy(Dy.set(.5,.5,0),td,a,ed,i,s),Vj.set(0,0),q2.set(1,0),Hj.set(1,1);let o=e.ray.intersectTriangle(ky,Yp,Dy,!1,Xp);if(o===null&&(Uy(Yp.set(-.5,.5,0),td,a,ed,i,s),q2.set(0,1),o=e.ray.intersectTriangle(ky,Dy,Yp,!1,Xp),o===null))return;const l=e.ray.origin.distanceTo(Xp);l<e.near||l>e.far||n.push({distance:l,point:Xp.clone(),uv:Ki.getInterpolation(Xp,ky,Yp,Dy,Vj,q2,Hj,new De),face:null,object:this})}copy(e,n){return super.copy(e,n),e.center!==void 0&&this.center.copy(e.center),this.material=e.material,this}}function Uy(t,e,n,r,i,s){nd.subVectors(t,n).addScalar(.5).multiply(r),i!==void 0?(qp.x=s*nd.x-i*nd.y,qp.y=i*nd.x+s*nd.y):qp.copy(nd),t.copy(e),t.x+=qp.x,t.y+=qp.y,t.applyMatrix4(L8)}const Fy=new Z,$j=new Z;class j8 extends an{constructor(){super(),this._currentLevel=0,this.type="LOD",Object.defineProperties(this,{levels:{enumerable:!0,value:[]},isLOD:{value:!0}}),this.autoUpdate=!0}copy(e){super.copy(e,!1);const n=e.levels;for(let r=0,i=n.length;r<i;r++){const s=n[r];this.addLevel(s.object.clone(),s.distance,s.hysteresis)}return this.autoUpdate=e.autoUpdate,this}addLevel(e,n=0,r=0){n=Math.abs(n);const i=this.levels;let s;for(s=0;s<i.length&&!(n<i[s].distance);s++);return i.splice(s,0,{distance:n,hysteresis:r,object:e}),this.add(e),this}getCurrentLevel(){return this._currentLevel}getObjectForDistance(e){const n=this.levels;if(n.length>0){let r,i;for(r=1,i=n.length;r<i;r++){let s=n[r].distance;if(n[r].object.visible&&(s-=s*n[r].hysteresis),e<s)break}return n[r-1].object}return null}raycast(e,n){if(this.levels.length>0){Fy.setFromMatrixPosition(this.matrixWorld);const i=e.ray.origin.distanceTo(Fy);this.getObjectForDistance(i).raycast(e,n)}}update(e){const n=this.levels;if(n.length>1){Fy.setFromMatrixPosition(e.matrixWorld),$j.setFromMatrixPosition(this.matrixWorld);const r=Fy.distanceTo($j)/e.zoom;n[0].object.visible=!0;let i,s;for(i=1,s=n.length;i<s;i++){let a=n[i].distance;if(n[i].object.visible&&(a-=a*n[i].hysteresis),r>=a)n[i-1].object.visible=!1,n[i].object.visible=!0;else break}for(this._currentLevel=i-1;i<s;i++)n[i].object.visible=!1}}toJSON(e){const n=super.toJSON(e);this.autoUpdate===!1&&(n.object.autoUpdate=!1),n.object.levels=[];const r=this.levels;for(let i=0,s=r.length;i<s;i++){const a=r[i];n.object.levels.push({object:a.object.uuid,distance:a.distance,hysteresis:a.hysteresis})}return n}}const Wj=new Z,Gj=new cn,Xj=new cn,Cae=new Z,qj=new Nt,rd=new Z,Y2=new da,Yj=new Nt,K2=new uf;class k8 extends vr{constructor(e,n){super(e,n),this.isSkinnedMesh=!0,this.type="SkinnedMesh",this.bindMode="attached",this.bindMatrix=new Nt,this.bindMatrixInverse=new Nt,this.boundingBox=null,this.boundingSphere=null}computeBoundingBox(){const e=this.geometry;this.boundingBox===null&&(this.boundingBox=new fa),this.boundingBox.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)rd.fromBufferAttribute(n,r),this.applyBoneTransform(r,rd),this.boundingBox.expandByPoint(rd)}computeBoundingSphere(){const e=this.geometry;this.boundingSphere===null&&(this.boundingSphere=new da),this.boundingSphere.makeEmpty();const n=e.getAttribute("position");for(let r=0;r<n.count;r++)rd.fromBufferAttribute(n,r),this.applyBoneTransform(r,rd),this.boundingSphere.expandByPoint(rd)}copy(e,n){return super.copy(e,n),this.bindMode=e.bindMode,this.bindMatrix.copy(e.bindMatrix),this.bindMatrixInverse.copy(e.bindMatrixInverse),this.skeleton=e.skeleton,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}raycast(e,n){const r=this.material,i=this.matrixWorld;r!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Y2.copy(this.boundingSphere),Y2.applyMatrix4(i),e.ray.intersectsSphere(Y2)!==!1&&(Yj.copy(i).invert(),K2.copy(e.ray).applyMatrix4(Yj),!(this.boundingBox!==null&&K2.intersectsBox(this.boundingBox)===!1)&&this._computeIntersections(e,n,K2)))}getVertexPosition(e,n){return super.getVertexPosition(e,n),this.applyBoneTransform(e,n),n}bind(e,n){this.skeleton=e,n===void 0&&(this.updateMatrixWorld(!0),this.skeleton.calculateInverses(),n=this.matrixWorld),this.bindMatrix.copy(n),this.bindMatrixInverse.copy(n).invert()}pose(){this.skeleton.pose()}normalizeSkinWeights(){const e=new cn,n=this.geometry.attributes.skinWeight;for(let r=0,i=n.count;r<i;r++){e.fromBufferAttribute(n,r);const s=1/e.manhattanLength();s!==1/0?e.multiplyScalar(s):e.set(1,0,0,0),n.setXYZW(r,e.x,e.y,e.z,e.w)}}updateMatrixWorld(e){super.updateMatrixWorld(e),this.bindMode==="attached"?this.bindMatrixInverse.copy(this.matrixWorld).invert():this.bindMode==="detached"?this.bindMatrixInverse.copy(this.bindMatrix).invert():console.warn("THREE.SkinnedMesh: Unrecognized bindMode: "+this.bindMode)}applyBoneTransform(e,n){const r=this.skeleton,i=this.geometry;Gj.fromBufferAttribute(i.attributes.skinIndex,e),Xj.fromBufferAttribute(i.attributes.skinWeight,e),Wj.copy(n).applyMatrix4(this.bindMatrix),n.set(0,0,0);for(let s=0;s<4;s++){const a=Xj.getComponent(s);if(a!==0){const o=Gj.getComponent(s);qj.multiplyMatrices(r.bones[o].matrixWorld,r.boneInverses[o]),n.addScaledVector(Cae.copy(Wj).applyMatrix4(qj),a)}}return n.applyMatrix4(this.bindMatrixInverse)}boneTransform(e,n){return console.warn("THREE.SkinnedMesh: .boneTransform() was renamed to .applyBoneTransform() in r151."),this.applyBoneTransform(e,n)}}class EN extends an{constructor(){super(),this.isBone=!0,this.type="Bone"}}class qd extends Qn{constructor(e=null,n=1,r=1,i,s,a,o,l,c=sr,u=sr,f,d){super(null,a,o,l,c,u,i,s,f,d),this.isDataTexture=!0,this.image={data:e,width:n,height:r},this.generateMipmaps=!1,this.flipY=!1,this.unpackAlignment=1}}const Kj=new Nt,Nae=new Nt;class I_{constructor(e=[],n=[]){this.uuid=Ns(),this.bones=e.slice(0),this.boneInverses=n,this.boneMatrices=null,this.boneTexture=null,this.boneTextureSize=0,this.init()}init(){const e=this.bones,n=this.boneInverses;if(this.boneMatrices=new Float32Array(e.length*16),n.length===0)this.calculateInverses();else if(e.length!==n.length){console.warn("THREE.Skeleton: Number of inverse bone matrices does not match amount of bones."),this.boneInverses=[];for(let r=0,i=this.bones.length;r<i;r++)this.boneInverses.push(new Nt)}}calculateInverses(){this.boneInverses.length=0;for(let e=0,n=this.bones.length;e<n;e++){const r=new Nt;this.bones[e]&&r.copy(this.bones[e].matrixWorld).invert(),this.boneInverses.push(r)}}pose(){for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&r.matrixWorld.copy(this.boneInverses[e]).invert()}for(let e=0,n=this.bones.length;e<n;e++){const r=this.bones[e];r&&(r.parent&&r.parent.isBone?(r.matrix.copy(r.parent.matrixWorld).invert(),r.matrix.multiply(r.matrixWorld)):r.matrix.copy(r.matrixWorld),r.matrix.decompose(r.position,r.quaternion,r.scale))}}update(){const e=this.bones,n=this.boneInverses,r=this.boneMatrices,i=this.boneTexture;for(let s=0,a=e.length;s<a;s++){const o=e[s]?e[s].matrixWorld:Nae;Kj.multiplyMatrices(o,n[s]),Kj.toArray(r,s*16)}i!==null&&(i.needsUpdate=!0)}clone(){return new I_(this.bones,this.boneInverses)}computeBoneTexture(){let e=Math.sqrt(this.bones.length*4);e=v8(e),e=Math.max(e,4);const n=new Float32Array(e*e*4);n.set(this.boneMatrices);const r=new qd(n,e,e,Zi,Ra);return r.needsUpdate=!0,this.boneMatrices=n,this.boneTexture=r,this.boneTextureSize=e,this}getBoneByName(e){for(let n=0,r=this.bones.length;n<r;n++){const i=this.bones[n];if(i.name===e)return i}}dispose(){this.boneTexture!==null&&(this.boneTexture.dispose(),this.boneTexture=null)}fromJSON(e,n){this.uuid=e.uuid;for(let r=0,i=e.bones.length;r<i;r++){const s=e.bones[r];let a=n[s];a===void 0&&(console.warn("THREE.Skeleton: No bone found with UUID:",s),a=new EN),this.bones.push(a),this.boneInverses.push(new Nt().fromArray(e.boneInverses[r]))}return this.init(),this}toJSON(){const e={metadata:{version:4.6,type:"Skeleton",generator:"Skeleton.toJSON"},bones:[],boneInverses:[]};e.uuid=this.uuid;const n=this.bones,r=this.boneInverses;for(let i=0,s=n.length;i<s;i++){const a=n[i];e.bones.push(a.uuid);const o=r[i];e.boneInverses.push(o.toArray())}return e}}class Ku extends fn{constructor(e,n,r,i=1){super(e,n,r),this.isInstancedBufferAttribute=!0,this.meshPerAttribute=i}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}toJSON(){const e=super.toJSON();return e.meshPerAttribute=this.meshPerAttribute,e.isInstancedBufferAttribute=!0,e}}const id=new Nt,Zj=new Nt,By=[],Jj=new fa,Rae=new Nt,Kp=new vr,Zp=new da;class D8 extends vr{constructor(e,n,r){super(e,n),this.isInstancedMesh=!0,this.instanceMatrix=new Ku(new Float32Array(r*16),16),this.instanceColor=null,this.count=r,this.boundingBox=null,this.boundingSphere=null;for(let i=0;i<r;i++)this.setMatrixAt(i,Rae)}computeBoundingBox(){const e=this.geometry,n=this.count;this.boundingBox===null&&(this.boundingBox=new fa),e.boundingBox===null&&e.computeBoundingBox(),this.boundingBox.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,id),Jj.copy(e.boundingBox).applyMatrix4(id),this.boundingBox.union(Jj)}computeBoundingSphere(){const e=this.geometry,n=this.count;this.boundingSphere===null&&(this.boundingSphere=new da),e.boundingSphere===null&&e.computeBoundingSphere(),this.boundingSphere.makeEmpty();for(let r=0;r<n;r++)this.getMatrixAt(r,id),Zp.copy(e.boundingSphere).applyMatrix4(id),this.boundingSphere.union(Zp)}copy(e,n){return super.copy(e,n),this.instanceMatrix.copy(e.instanceMatrix),e.instanceColor!==null&&(this.instanceColor=e.instanceColor.clone()),this.count=e.count,e.boundingBox!==null&&(this.boundingBox=e.boundingBox.clone()),e.boundingSphere!==null&&(this.boundingSphere=e.boundingSphere.clone()),this}getColorAt(e,n){n.fromArray(this.instanceColor.array,e*3)}getMatrixAt(e,n){n.fromArray(this.instanceMatrix.array,e*16)}raycast(e,n){const r=this.matrixWorld,i=this.count;if(Kp.geometry=this.geometry,Kp.material=this.material,Kp.material!==void 0&&(this.boundingSphere===null&&this.computeBoundingSphere(),Zp.copy(this.boundingSphere),Zp.applyMatrix4(r),e.ray.intersectsSphere(Zp)!==!1))for(let s=0;s<i;s++){this.getMatrixAt(s,id),Zj.multiplyMatrices(r,id),Kp.matrixWorld=Zj,Kp.raycast(e,By);for(let a=0,o=By.length;a<o;a++){const l=By[a];l.instanceId=s,l.object=this,n.push(l)}By.length=0}}setColorAt(e,n){this.instanceColor===null&&(this.instanceColor=new Ku(new Float32Array(this.instanceMatrix.count*3),3)),n.toArray(this.instanceColor.array,e*3)}setMatrixAt(e,n){n.toArray(this.instanceMatrix.array,e*16)}updateMorphTargets(){}dispose(){this.dispatchEvent({type:"dispose"})}}class zi extends Mi{constructor(e){super(),this.isLineBasicMaterial=!0,this.type="LineBasicMaterial",this.color=new at(16777215),this.map=null,this.linewidth=1,this.linecap="round",this.linejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.linewidth=e.linewidth,this.linecap=e.linecap,this.linejoin=e.linejoin,this.fog=e.fog,this}}const Qj=new Z,ek=new Z,tk=new Nt,Z2=new uf,zy=new da;let yc=class extends an{constructor(e=new Ht,n=new zi){super(),this.isLine=!0,this.type="Line",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[0];for(let i=1,s=n.count;i<s;i++)Qj.fromBufferAttribute(n,i-1),ek.fromBufferAttribute(n,i),r[i]=r[i-1],r[i]+=Qj.distanceTo(ek);e.setAttribute("lineDistance",new dt(r,1))}else console.warn("THREE.Line.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Line.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),zy.copy(r.boundingSphere),zy.applyMatrix4(i),zy.radius+=s,e.ray.intersectsSphere(zy)===!1)return;tk.copy(i).invert(),Z2.copy(e.ray).applyMatrix4(tk);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=new Z,u=new Z,f=new Z,d=new Z,p=this.isLineSegments?2:1,v=r.index,x=r.attributes.position;if(v!==null){const y=Math.max(0,a.start),w=Math.min(v.count,a.start+a.count);for(let _=y,S=w-1;_<S;_+=p){const M=v.getX(_),E=v.getX(_+1);if(c.fromBufferAttribute(x,M),u.fromBufferAttribute(x,E),Z2.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const C=e.ray.origin.distanceTo(d);C<e.near||C>e.far||n.push({distance:C,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}else{const y=Math.max(0,a.start),w=Math.min(x.count,a.start+a.count);for(let _=y,S=w-1;_<S;_+=p){if(c.fromBufferAttribute(x,_),u.fromBufferAttribute(x,_+1),Z2.distanceSqToSegment(c,u,d,f)>l)continue;d.applyMatrix4(this.matrixWorld);const E=e.ray.origin.distanceTo(d);E<e.near||E>e.far||n.push({distance:E,point:f.clone().applyMatrix4(this.matrixWorld),index:_,face:null,faceIndex:null,object:this})}}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}};const nk=new Z,rk=new Z;class vo extends yc{constructor(e,n){super(e,n),this.isLineSegments=!0,this.type="LineSegments"}computeLineDistances(){const e=this.geometry;if(e.index===null){const n=e.attributes.position,r=[];for(let i=0,s=n.count;i<s;i+=2)nk.fromBufferAttribute(n,i),rk.fromBufferAttribute(n,i+1),r[i]=i===0?0:r[i-1],r[i+1]=r[i]+nk.distanceTo(rk);e.setAttribute("lineDistance",new dt(r,1))}else console.warn("THREE.LineSegments.computeLineDistances(): Computation only possible with non-indexed BufferGeometry.");return this}}class U8 extends yc{constructor(e,n){super(e,n),this.isLineLoop=!0,this.type="LineLoop"}}class TN extends Mi{constructor(e){super(),this.isPointsMaterial=!0,this.type="PointsMaterial",this.color=new at(16777215),this.map=null,this.alphaMap=null,this.size=1,this.sizeAttenuation=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.alphaMap=e.alphaMap,this.size=e.size,this.sizeAttenuation=e.sizeAttenuation,this.fog=e.fog,this}}const ik=new Nt,HT=new uf,Vy=new da,Hy=new Z;class F8 extends an{constructor(e=new Ht,n=new TN){super(),this.isPoints=!0,this.type="Points",this.geometry=e,this.material=n,this.updateMorphTargets()}copy(e,n){return super.copy(e,n),this.material=Array.isArray(e.material)?e.material.slice():e.material,this.geometry=e.geometry,this}raycast(e,n){const r=this.geometry,i=this.matrixWorld,s=e.params.Points.threshold,a=r.drawRange;if(r.boundingSphere===null&&r.computeBoundingSphere(),Vy.copy(r.boundingSphere),Vy.applyMatrix4(i),Vy.radius+=s,e.ray.intersectsSphere(Vy)===!1)return;ik.copy(i).invert(),HT.copy(e.ray).applyMatrix4(ik);const o=s/((this.scale.x+this.scale.y+this.scale.z)/3),l=o*o,c=r.index,f=r.attributes.position;if(c!==null){const d=Math.max(0,a.start),p=Math.min(c.count,a.start+a.count);for(let v=d,b=p;v<b;v++){const x=c.getX(v);Hy.fromBufferAttribute(f,x),sk(Hy,x,l,i,e,n,this)}}else{const d=Math.max(0,a.start),p=Math.min(f.count,a.start+a.count);for(let v=d,b=p;v<b;v++)Hy.fromBufferAttribute(f,v),sk(Hy,v,l,i,e,n,this)}}updateMorphTargets(){const n=this.geometry.morphAttributes,r=Object.keys(n);if(r.length>0){const i=n[r[0]];if(i!==void 0){this.morphTargetInfluences=[],this.morphTargetDictionary={};for(let s=0,a=i.length;s<a;s++){const o=i[s].name||String(s);this.morphTargetInfluences.push(0),this.morphTargetDictionary[o]=s}}}}}function sk(t,e,n,r,i,s,a){const o=HT.distanceSqToPoint(t);if(o<n){const l=new Z;HT.closestPointToPoint(t,l),l.applyMatrix4(r);const c=i.ray.origin.distanceTo(l);if(c<i.near||c>i.far)return;s.push({distance:c,distanceToRay:Math.sqrt(o),point:l,index:e,face:null,object:a})}}class Oae extends Qn{constructor(e,n,r,i,s,a,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isVideoTexture=!0,this.minFilter=a!==void 0?a:Rn,this.magFilter=s!==void 0?s:Rn,this.generateMipmaps=!1;const u=this;function f(){u.needsUpdate=!0,e.requestVideoFrameCallback(f)}"requestVideoFrameCallback"in e&&e.requestVideoFrameCallback(f)}clone(){return new this.constructor(this.image).copy(this)}update(){const e=this.image;"requestVideoFrameCallback"in e===!1&&e.readyState>=e.HAVE_CURRENT_DATA&&(this.needsUpdate=!0)}}class Lae extends Qn{constructor(e,n){super({width:e,height:n}),this.isFramebufferTexture=!0,this.magFilter=sr,this.minFilter=sr,this.generateMipmaps=!1,this.needsUpdate=!0}}class j_ extends Qn{constructor(e,n,r,i,s,a,o,l,c,u,f,d){super(null,a,o,l,c,u,i,s,f,d),this.isCompressedTexture=!0,this.image={width:n,height:r},this.mipmaps=e,this.flipY=!1,this.generateMipmaps=!1}}class Iae extends j_{constructor(e,n,r,i,s,a){super(e,n,r,s,a),this.isCompressedArrayTexture=!0,this.image.depth=i,this.wrapR=yi}}class jae extends j_{constructor(e,n,r){super(void 0,e[0].width,e[0].height,n,r,cl),this.isCompressedCubeTexture=!0,this.isCubeTexture=!0,this.image=e}}class kae extends Qn{constructor(e,n,r,i,s,a,o,l,c){super(e,n,r,i,s,a,o,l,c),this.isCanvasTexture=!0,this.needsUpdate=!0}}let Da=class{constructor(){this.type="Curve",this.arcLengthDivisions=200}getPoint(){return console.warn("THREE.Curve: .getPoint() not implemented."),null}getPointAt(e,n){const r=this.getUtoTmapping(e);return this.getPoint(r,n)}getPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return n}getSpacedPoints(e=5){const n=[];for(let r=0;r<=e;r++)n.push(this.getPointAt(r/e));return n}getLength(){const e=this.getLengths();return e[e.length-1]}getLengths(e=this.arcLengthDivisions){if(this.cacheArcLengths&&this.cacheArcLengths.length===e+1&&!this.needsUpdate)return this.cacheArcLengths;this.needsUpdate=!1;const n=[];let r,i=this.getPoint(0),s=0;n.push(0);for(let a=1;a<=e;a++)r=this.getPoint(a/e),s+=r.distanceTo(i),n.push(s),i=r;return this.cacheArcLengths=n,n}updateArcLengths(){this.needsUpdate=!0,this.getLengths()}getUtoTmapping(e,n){const r=this.getLengths();let i=0;const s=r.length;let a;n?a=n:a=e*r[s-1];let o=0,l=s-1,c;for(;o<=l;)if(i=Math.floor(o+(l-o)/2),c=r[i]-a,c<0)o=i+1;else if(c>0)l=i-1;else{l=i;break}if(i=l,r[i]===a)return i/(s-1);const u=r[i],d=r[i+1]-u,p=(a-u)/d;return(i+p)/(s-1)}getTangent(e,n){let i=e-1e-4,s=e+1e-4;i<0&&(i=0),s>1&&(s=1);const a=this.getPoint(i),o=this.getPoint(s),l=n||(a.isVector2?new De:new Z);return l.copy(o).sub(a).normalize(),l}getTangentAt(e,n){const r=this.getUtoTmapping(e);return this.getTangent(r,n)}computeFrenetFrames(e,n){const r=new Z,i=[],s=[],a=[],o=new Z,l=new Nt;for(let p=0;p<=e;p++){const v=p/e;i[p]=this.getTangentAt(v,new Z)}s[0]=new Z,a[0]=new Z;let c=Number.MAX_VALUE;const u=Math.abs(i[0].x),f=Math.abs(i[0].y),d=Math.abs(i[0].z);u<=c&&(c=u,r.set(1,0,0)),f<=c&&(c=f,r.set(0,1,0)),d<=c&&r.set(0,0,1),o.crossVectors(i[0],r).normalize(),s[0].crossVectors(i[0],o),a[0].crossVectors(i[0],s[0]);for(let p=1;p<=e;p++){if(s[p]=s[p-1].clone(),a[p]=a[p-1].clone(),o.crossVectors(i[p-1],i[p]),o.length()>Number.EPSILON){o.normalize();const v=Math.acos(Zn(i[p-1].dot(i[p]),-1,1));s[p].applyMatrix4(l.makeRotationAxis(o,v))}a[p].crossVectors(i[p],s[p])}if(n===!0){let p=Math.acos(Zn(s[0].dot(s[e]),-1,1));p/=e,i[0].dot(o.crossVectors(s[0],s[e]))>0&&(p=-p);for(let v=1;v<=e;v++)s[v].applyMatrix4(l.makeRotationAxis(i[v],p*v)),a[v].crossVectors(i[v],s[v])}return{tangents:i,normals:s,binormals:a}}clone(){return new this.constructor().copy(this)}copy(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}toJSON(){const e={metadata:{version:4.6,type:"Curve",generator:"Curve.toJSON"}};return e.arcLengthDivisions=this.arcLengthDivisions,e.type=this.type,e}fromJSON(e){return this.arcLengthDivisions=e.arcLengthDivisions,this}};class k_ extends Da{constructor(e=0,n=0,r=1,i=1,s=0,a=Math.PI*2,o=!1,l=0){super(),this.isEllipseCurve=!0,this.type="EllipseCurve",this.aX=e,this.aY=n,this.xRadius=r,this.yRadius=i,this.aStartAngle=s,this.aEndAngle=a,this.aClockwise=o,this.aRotation=l}getPoint(e,n){const r=n||new De,i=Math.PI*2;let s=this.aEndAngle-this.aStartAngle;const a=Math.abs(s)<Number.EPSILON;for(;s<0;)s+=i;for(;s>i;)s-=i;s<Number.EPSILON&&(a?s=0:s=i),this.aClockwise===!0&&!a&&(s===i?s=-i:s=s-i);const o=this.aStartAngle+e*s;let l=this.aX+this.xRadius*Math.cos(o),c=this.aY+this.yRadius*Math.sin(o);if(this.aRotation!==0){const u=Math.cos(this.aRotation),f=Math.sin(this.aRotation),d=l-this.aX,p=c-this.aY;l=d*u-p*f+this.aX,c=d*f+p*u+this.aY}return r.set(l,c)}copy(e){return super.copy(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}toJSON(){const e=super.toJSON();return e.aX=this.aX,e.aY=this.aY,e.xRadius=this.xRadius,e.yRadius=this.yRadius,e.aStartAngle=this.aStartAngle,e.aEndAngle=this.aEndAngle,e.aClockwise=this.aClockwise,e.aRotation=this.aRotation,e}fromJSON(e){return super.fromJSON(e),this.aX=e.aX,this.aY=e.aY,this.xRadius=e.xRadius,this.yRadius=e.yRadius,this.aStartAngle=e.aStartAngle,this.aEndAngle=e.aEndAngle,this.aClockwise=e.aClockwise,this.aRotation=e.aRotation,this}}class B8 extends k_{constructor(e,n,r,i,s,a){super(e,n,r,r,i,s,a),this.isArcCurve=!0,this.type="ArcCurve"}}function AN(){let t=0,e=0,n=0,r=0;function i(s,a,o,l){t=s,e=o,n=-3*s+3*a-2*o-l,r=2*s-2*a+o+l}return{initCatmullRom:function(s,a,o,l,c){i(a,o,c*(o-s),c*(l-a))},initNonuniformCatmullRom:function(s,a,o,l,c,u,f){let d=(a-s)/c-(o-s)/(c+u)+(o-a)/u,p=(o-a)/u-(l-a)/(u+f)+(l-o)/f;d*=u,p*=u,i(a,o,d,p)},calc:function(s){const a=s*s,o=a*s;return t+e*s+n*a+r*o}}}const $y=new Z,J2=new AN,Q2=new AN,eM=new AN;class z8 extends Da{constructor(e=[],n=!1,r="centripetal",i=.5){super(),this.isCatmullRomCurve3=!0,this.type="CatmullRomCurve3",this.points=e,this.closed=n,this.curveType=r,this.tension=i}getPoint(e,n=new Z){const r=n,i=this.points,s=i.length,a=(s-(this.closed?0:1))*e;let o=Math.floor(a),l=a-o;this.closed?o+=o>0?0:(Math.floor(Math.abs(o)/s)+1)*s:l===0&&o===s-1&&(o=s-2,l=1);let c,u;this.closed||o>0?c=i[(o-1)%s]:($y.subVectors(i[0],i[1]).add(i[0]),c=$y);const f=i[o%s],d=i[(o+1)%s];if(this.closed||o+2<s?u=i[(o+2)%s]:($y.subVectors(i[s-1],i[s-2]).add(i[s-1]),u=$y),this.curveType==="centripetal"||this.curveType==="chordal"){const p=this.curveType==="chordal"?.5:.25;let v=Math.pow(c.distanceToSquared(f),p),b=Math.pow(f.distanceToSquared(d),p),x=Math.pow(d.distanceToSquared(u),p);b<1e-4&&(b=1),v<1e-4&&(v=b),x<1e-4&&(x=b),J2.initNonuniformCatmullRom(c.x,f.x,d.x,u.x,v,b,x),Q2.initNonuniformCatmullRom(c.y,f.y,d.y,u.y,v,b,x),eM.initNonuniformCatmullRom(c.z,f.z,d.z,u.z,v,b,x)}else this.curveType==="catmullrom"&&(J2.initCatmullRom(c.x,f.x,d.x,u.x,this.tension),Q2.initCatmullRom(c.y,f.y,d.y,u.y,this.tension),eM.initCatmullRom(c.z,f.z,d.z,u.z,this.tension));return r.set(J2.calc(l),Q2.calc(l),eM.calc(l)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e.closed=this.closed,e.curveType=this.curveType,e.tension=this.tension,e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new Z().fromArray(i))}return this.closed=e.closed,this.curveType=e.curveType,this.tension=e.tension,this}}function ak(t,e,n,r,i){const s=(r-e)*.5,a=(i-n)*.5,o=t*t,l=t*o;return(2*n-2*r+s+a)*l+(-3*n+3*r-2*s-a)*o+s*t+n}function Dae(t,e){const n=1-t;return n*n*e}function Uae(t,e){return 2*(1-t)*t*e}function Fae(t,e){return t*t*e}function Fm(t,e,n,r){return Dae(t,e)+Uae(t,n)+Fae(t,r)}function Bae(t,e){const n=1-t;return n*n*n*e}function zae(t,e){const n=1-t;return 3*n*n*t*e}function Vae(t,e){return 3*(1-t)*t*t*e}function Hae(t,e){return t*t*t*e}function Bm(t,e,n,r,i){return Bae(t,e)+zae(t,n)+Vae(t,r)+Hae(t,i)}class PN extends Da{constructor(e=new De,n=new De,r=new De,i=new De){super(),this.isCubicBezierCurve=!0,this.type="CubicBezierCurve",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new De){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(Bm(e,i.x,s.x,a.x,o.x),Bm(e,i.y,s.y,a.y,o.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class V8 extends Da{constructor(e=new Z,n=new Z,r=new Z,i=new Z){super(),this.isCubicBezierCurve3=!0,this.type="CubicBezierCurve3",this.v0=e,this.v1=n,this.v2=r,this.v3=i}getPoint(e,n=new Z){const r=n,i=this.v0,s=this.v1,a=this.v2,o=this.v3;return r.set(Bm(e,i.x,s.x,a.x,o.x),Bm(e,i.y,s.y,a.y,o.y),Bm(e,i.z,s.z,a.z,o.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this.v3.copy(e.v3),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e.v3=this.v3.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this.v3.fromArray(e.v3),this}}class CN extends Da{constructor(e=new De,n=new De){super(),this.isLineCurve=!0,this.type="LineCurve",this.v1=e,this.v2=n}getPoint(e,n=new De){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new De){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class H8 extends Da{constructor(e=new Z,n=new Z){super(),this.isLineCurve3=!0,this.type="LineCurve3",this.v1=e,this.v2=n}getPoint(e,n=new Z){const r=n;return e===1?r.copy(this.v2):(r.copy(this.v2).sub(this.v1),r.multiplyScalar(e).add(this.v1)),r}getPointAt(e,n){return this.getPoint(e,n)}getTangent(e,n=new Z){return n.subVectors(this.v2,this.v1).normalize()}getTangentAt(e,n){return this.getTangent(e,n)}copy(e){return super.copy(e),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class NN extends Da{constructor(e=new De,n=new De,r=new De){super(),this.isQuadraticBezierCurve=!0,this.type="QuadraticBezierCurve",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new De){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(Fm(e,i.x,s.x,a.x),Fm(e,i.y,s.y,a.y)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class RN extends Da{constructor(e=new Z,n=new Z,r=new Z){super(),this.isQuadraticBezierCurve3=!0,this.type="QuadraticBezierCurve3",this.v0=e,this.v1=n,this.v2=r}getPoint(e,n=new Z){const r=n,i=this.v0,s=this.v1,a=this.v2;return r.set(Fm(e,i.x,s.x,a.x),Fm(e,i.y,s.y,a.y),Fm(e,i.z,s.z,a.z)),r}copy(e){return super.copy(e),this.v0.copy(e.v0),this.v1.copy(e.v1),this.v2.copy(e.v2),this}toJSON(){const e=super.toJSON();return e.v0=this.v0.toArray(),e.v1=this.v1.toArray(),e.v2=this.v2.toArray(),e}fromJSON(e){return super.fromJSON(e),this.v0.fromArray(e.v0),this.v1.fromArray(e.v1),this.v2.fromArray(e.v2),this}}class ON extends Da{constructor(e=[]){super(),this.isSplineCurve=!0,this.type="SplineCurve",this.points=e}getPoint(e,n=new De){const r=n,i=this.points,s=(i.length-1)*e,a=Math.floor(s),o=s-a,l=i[a===0?a:a-1],c=i[a],u=i[a>i.length-2?i.length-1:a+1],f=i[a>i.length-3?i.length-1:a+2];return r.set(ak(o,l.x,c.x,u.x,f.x),ak(o,l.y,c.y,u.y,f.y)),r}copy(e){super.copy(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.points=[];for(let n=0,r=this.points.length;n<r;n++){const i=this.points[n];e.points.push(i.toArray())}return e}fromJSON(e){super.fromJSON(e),this.points=[];for(let n=0,r=e.points.length;n<r;n++){const i=e.points[n];this.points.push(new De().fromArray(i))}return this}}var B1=Object.freeze({__proto__:null,ArcCurve:B8,CatmullRomCurve3:z8,CubicBezierCurve:PN,CubicBezierCurve3:V8,EllipseCurve:k_,LineCurve:CN,LineCurve3:H8,QuadraticBezierCurve:NN,QuadraticBezierCurve3:RN,SplineCurve:ON});class $8 extends Da{constructor(){super(),this.type="CurvePath",this.curves=[],this.autoClose=!1}add(e){this.curves.push(e)}closePath(){const e=this.curves[0].getPoint(0),n=this.curves[this.curves.length-1].getPoint(1);if(!e.equals(n)){const r=e.isVector2===!0?"LineCurve":"LineCurve3";this.curves.push(new B1[r](n,e))}return this}getPoint(e,n){const r=e*this.getLength(),i=this.getCurveLengths();let s=0;for(;s<i.length;){if(i[s]>=r){const a=i[s]-r,o=this.curves[s],l=o.getLength(),c=l===0?0:1-a/l;return o.getPointAt(c,n)}s++}return null}getLength(){const e=this.getCurveLengths();return e[e.length-1]}updateArcLengths(){this.needsUpdate=!0,this.cacheLengths=null,this.getCurveLengths()}getCurveLengths(){if(this.cacheLengths&&this.cacheLengths.length===this.curves.length)return this.cacheLengths;const e=[];let n=0;for(let r=0,i=this.curves.length;r<i;r++)n+=this.curves[r].getLength(),e.push(n);return this.cacheLengths=e,e}getSpacedPoints(e=40){const n=[];for(let r=0;r<=e;r++)n.push(this.getPoint(r/e));return this.autoClose&&n.push(n[0]),n}getPoints(e=12){const n=[];let r;for(let i=0,s=this.curves;i<s.length;i++){const a=s[i],o=a.isEllipseCurve?e*2:a.isLineCurve||a.isLineCurve3?1:a.isSplineCurve?e*a.points.length:e,l=a.getPoints(o);for(let c=0;c<l.length;c++){const u=l[c];r&&r.equals(u)||(n.push(u),r=u)}}return this.autoClose&&n.length>1&&!n[n.length-1].equals(n[0])&&n.push(n[0]),n}copy(e){super.copy(e),this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(i.clone())}return this.autoClose=e.autoClose,this}toJSON(){const e=super.toJSON();e.autoClose=this.autoClose,e.curves=[];for(let n=0,r=this.curves.length;n<r;n++){const i=this.curves[n];e.curves.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.autoClose=e.autoClose,this.curves=[];for(let n=0,r=e.curves.length;n<r;n++){const i=e.curves[n];this.curves.push(new B1[i.type]().fromJSON(i))}return this}}let Ng=class extends $8{constructor(e){super(),this.type="Path",this.currentPoint=new De,e&&this.setFromPoints(e)}setFromPoints(e){this.moveTo(e[0].x,e[0].y);for(let n=1,r=e.length;n<r;n++)this.lineTo(e[n].x,e[n].y);return this}moveTo(e,n){return this.currentPoint.set(e,n),this}lineTo(e,n){const r=new CN(this.currentPoint.clone(),new De(e,n));return this.curves.push(r),this.currentPoint.set(e,n),this}quadraticCurveTo(e,n,r,i){const s=new NN(this.currentPoint.clone(),new De(e,n),new De(r,i));return this.curves.push(s),this.currentPoint.set(r,i),this}bezierCurveTo(e,n,r,i,s,a){const o=new PN(this.currentPoint.clone(),new De(e,n),new De(r,i),new De(s,a));return this.curves.push(o),this.currentPoint.set(s,a),this}splineThru(e){const n=[this.currentPoint.clone()].concat(e),r=new ON(n);return this.curves.push(r),this.currentPoint.copy(e[e.length-1]),this}arc(e,n,r,i,s,a){const o=this.currentPoint.x,l=this.currentPoint.y;return this.absarc(e+o,n+l,r,i,s,a),this}absarc(e,n,r,i,s,a){return this.absellipse(e,n,r,r,i,s,a),this}ellipse(e,n,r,i,s,a,o,l){const c=this.currentPoint.x,u=this.currentPoint.y;return this.absellipse(e+c,n+u,r,i,s,a,o,l),this}absellipse(e,n,r,i,s,a,o,l){const c=new k_(e,n,r,i,s,a,o,l);if(this.curves.length>0){const f=c.getPoint(0);f.equals(this.currentPoint)||this.lineTo(f.x,f.y)}this.curves.push(c);const u=c.getPoint(1);return this.currentPoint.copy(u),this}copy(e){return super.copy(e),this.currentPoint.copy(e.currentPoint),this}toJSON(){const e=super.toJSON();return e.currentPoint=this.currentPoint.toArray(),e}fromJSON(e){return super.fromJSON(e),this.currentPoint.fromArray(e.currentPoint),this}};class F0 extends Ht{constructor(e=[new De(0,-.5),new De(.5,0),new De(0,.5)],n=12,r=0,i=Math.PI*2){super(),this.type="LatheGeometry",this.parameters={points:e,segments:n,phiStart:r,phiLength:i},n=Math.floor(n),i=Zn(i,0,Math.PI*2);const s=[],a=[],o=[],l=[],c=[],u=1/n,f=new Z,d=new De,p=new Z,v=new Z,b=new Z;let x=0,y=0;for(let w=0;w<=e.length-1;w++)switch(w){case 0:x=e[w+1].x-e[w].x,y=e[w+1].y-e[w].y,p.x=y*1,p.y=-x,p.z=y*0,b.copy(p),p.normalize(),l.push(p.x,p.y,p.z);break;case e.length-1:l.push(b.x,b.y,b.z);break;default:x=e[w+1].x-e[w].x,y=e[w+1].y-e[w].y,p.x=y*1,p.y=-x,p.z=y*0,v.copy(p),p.x+=b.x,p.y+=b.y,p.z+=b.z,p.normalize(),l.push(p.x,p.y,p.z),b.copy(v)}for(let w=0;w<=n;w++){const _=r+w*u*i,S=Math.sin(_),M=Math.cos(_);for(let E=0;E<=e.length-1;E++){f.x=e[E].x*S,f.y=e[E].y,f.z=e[E].x*M,a.push(f.x,f.y,f.z),d.x=w/n,d.y=E/(e.length-1),o.push(d.x,d.y);const A=l[3*E+0]*S,C=l[3*E+1],P=l[3*E+0]*M;c.push(A,C,P)}}for(let w=0;w<n;w++)for(let _=0;_<e.length-1;_++){const S=_+w*e.length,M=S,E=S+e.length,A=S+e.length+1,C=S+1;s.push(M,E,C),s.push(A,C,E)}this.setIndex(s),this.setAttribute("position",new dt(a,3)),this.setAttribute("uv",new dt(o,2)),this.setAttribute("normal",new dt(c,3))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new F0(e.points,e.segments,e.phiStart,e.phiLength)}}class D_ extends F0{constructor(e=1,n=1,r=4,i=8){const s=new Ng;s.absarc(0,-n/2,e,Math.PI*1.5,0),s.absarc(0,n/2,e,0,Math.PI*.5),super(s.getPoints(r),i),this.type="CapsuleGeometry",this.parameters={radius:e,length:n,capSegments:r,radialSegments:i}}static fromJSON(e){return new D_(e.radius,e.length,e.capSegments,e.radialSegments)}}class U_ extends Ht{constructor(e=1,n=32,r=0,i=Math.PI*2){super(),this.type="CircleGeometry",this.parameters={radius:e,segments:n,thetaStart:r,thetaLength:i},n=Math.max(3,n);const s=[],a=[],o=[],l=[],c=new Z,u=new De;a.push(0,0,0),o.push(0,0,1),l.push(.5,.5);for(let f=0,d=3;f<=n;f++,d+=3){const p=r+f/n*i;c.x=e*Math.cos(p),c.y=e*Math.sin(p),a.push(c.x,c.y,c.z),o.push(0,0,1),u.x=(a[d]/e+1)/2,u.y=(a[d+1]/e+1)/2,l.push(u.x,u.y)}for(let f=1;f<=n;f++)s.push(f,f+1,0);this.setIndex(s),this.setAttribute("position",new dt(a,3)),this.setAttribute("normal",new dt(o,3)),this.setAttribute("uv",new dt(l,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new U_(e.radius,e.segments,e.thetaStart,e.thetaLength)}}class Wh extends Ht{constructor(e=1,n=1,r=1,i=32,s=1,a=!1,o=0,l=Math.PI*2){super(),this.type="CylinderGeometry",this.parameters={radiusTop:e,radiusBottom:n,height:r,radialSegments:i,heightSegments:s,openEnded:a,thetaStart:o,thetaLength:l};const c=this;i=Math.floor(i),s=Math.floor(s);const u=[],f=[],d=[],p=[];let v=0;const b=[],x=r/2;let y=0;w(),a===!1&&(e>0&&_(!0),n>0&&_(!1)),this.setIndex(u),this.setAttribute("position",new dt(f,3)),this.setAttribute("normal",new dt(d,3)),this.setAttribute("uv",new dt(p,2));function w(){const S=new Z,M=new Z;let E=0;const A=(n-e)/r;for(let C=0;C<=s;C++){const P=[],R=C/s,L=R*(n-e)+e;for(let O=0;O<=i;O++){const D=O/i,I=D*l+o,z=Math.sin(I),$=Math.cos(I);M.x=L*z,M.y=-R*r+x,M.z=L*$,f.push(M.x,M.y,M.z),S.set(z,A,$).normalize(),d.push(S.x,S.y,S.z),p.push(D,1-R),P.push(v++)}b.push(P)}for(let C=0;C<i;C++)for(let P=0;P<s;P++){const R=b[P][C],L=b[P+1][C],O=b[P+1][C+1],D=b[P][C+1];u.push(R,L,D),u.push(L,O,D),E+=6}c.addGroup(y,E,0),y+=E}function _(S){const M=v,E=new De,A=new Z;let C=0;const P=S===!0?e:n,R=S===!0?1:-1;for(let O=1;O<=i;O++)f.push(0,x*R,0),d.push(0,R,0),p.push(.5,.5),v++;const L=v;for(let O=0;O<=i;O++){const I=O/i*l+o,z=Math.cos(I),$=Math.sin(I);A.x=P*$,A.y=x*R,A.z=P*z,f.push(A.x,A.y,A.z),d.push(0,R,0),E.x=z*.5+.5,E.y=$*.5*R+.5,p.push(E.x,E.y),v++}for(let O=0;O<i;O++){const D=M+O,I=L+O;S===!0?u.push(I,I+1,D):u.push(I+1,I,D),C+=3}c.addGroup(y,C,S===!0?1:2),y+=C}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Wh(e.radiusTop,e.radiusBottom,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class F_ extends Wh{constructor(e=1,n=1,r=32,i=1,s=!1,a=0,o=Math.PI*2){super(0,e,n,r,i,s,a,o),this.type="ConeGeometry",this.parameters={radius:e,height:n,radialSegments:r,heightSegments:i,openEnded:s,thetaStart:a,thetaLength:o}}static fromJSON(e){return new F_(e.radius,e.height,e.radialSegments,e.heightSegments,e.openEnded,e.thetaStart,e.thetaLength)}}class Ac extends Ht{constructor(e=[],n=[],r=1,i=0){super(),this.type="PolyhedronGeometry",this.parameters={vertices:e,indices:n,radius:r,detail:i};const s=[],a=[];o(i),c(r),u(),this.setAttribute("position",new dt(s,3)),this.setAttribute("normal",new dt(s.slice(),3)),this.setAttribute("uv",new dt(a,2)),i===0?this.computeVertexNormals():this.normalizeNormals();function o(w){const _=new Z,S=new Z,M=new Z;for(let E=0;E<n.length;E+=3)p(n[E+0],_),p(n[E+1],S),p(n[E+2],M),l(_,S,M,w)}function l(w,_,S,M){const E=M+1,A=[];for(let C=0;C<=E;C++){A[C]=[];const P=w.clone().lerp(S,C/E),R=_.clone().lerp(S,C/E),L=E-C;for(let O=0;O<=L;O++)O===0&&C===E?A[C][O]=P:A[C][O]=P.clone().lerp(R,O/L)}for(let C=0;C<E;C++)for(let P=0;P<2*(E-C)-1;P++){const R=Math.floor(P/2);P%2===0?(d(A[C][R+1]),d(A[C+1][R]),d(A[C][R])):(d(A[C][R+1]),d(A[C+1][R+1]),d(A[C+1][R]))}}function c(w){const _=new Z;for(let S=0;S<s.length;S+=3)_.x=s[S+0],_.y=s[S+1],_.z=s[S+2],_.normalize().multiplyScalar(w),s[S+0]=_.x,s[S+1]=_.y,s[S+2]=_.z}function u(){const w=new Z;for(let _=0;_<s.length;_+=3){w.x=s[_+0],w.y=s[_+1],w.z=s[_+2];const S=x(w)/2/Math.PI+.5,M=y(w)/Math.PI+.5;a.push(S,1-M)}v(),f()}function f(){for(let w=0;w<a.length;w+=6){const _=a[w+0],S=a[w+2],M=a[w+4],E=Math.max(_,S,M),A=Math.min(_,S,M);E>.9&&A<.1&&(_<.2&&(a[w+0]+=1),S<.2&&(a[w+2]+=1),M<.2&&(a[w+4]+=1))}}function d(w){s.push(w.x,w.y,w.z)}function p(w,_){const S=w*3;_.x=e[S+0],_.y=e[S+1],_.z=e[S+2]}function v(){const w=new Z,_=new Z,S=new Z,M=new Z,E=new De,A=new De,C=new De;for(let P=0,R=0;P<s.length;P+=9,R+=6){w.set(s[P+0],s[P+1],s[P+2]),_.set(s[P+3],s[P+4],s[P+5]),S.set(s[P+6],s[P+7],s[P+8]),E.set(a[R+0],a[R+1]),A.set(a[R+2],a[R+3]),C.set(a[R+4],a[R+5]),M.copy(w).add(_).add(S).divideScalar(3);const L=x(M);b(E,R+0,w,L),b(A,R+2,_,L),b(C,R+4,S,L)}}function b(w,_,S,M){M<0&&w.x===1&&(a[_]=w.x-1),S.x===0&&S.z===0&&(a[_]=M/2/Math.PI+.5)}function x(w){return Math.atan2(w.z,-w.x)}function y(w){return Math.atan2(-w.y,Math.sqrt(w.x*w.x+w.z*w.z))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new Ac(e.vertices,e.indices,e.radius,e.details)}}class B_ extends Ac{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=1/r,s=[-1,-1,-1,-1,-1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,1,1,1,-1,1,1,1,0,-i,-r,0,-i,r,0,i,-r,0,i,r,-i,-r,0,-i,r,0,i,-r,0,i,r,0,-r,0,-i,r,0,-i,-r,0,i,r,0,i],a=[3,11,7,3,7,15,3,15,13,7,19,17,7,17,6,7,6,15,17,4,8,17,8,10,17,10,6,8,0,16,8,16,2,8,2,10,0,12,1,0,1,18,0,18,16,6,10,2,6,2,13,6,13,15,2,16,18,2,18,3,2,3,13,18,1,9,18,9,11,18,11,3,4,14,12,4,12,0,4,0,8,11,9,5,11,5,19,11,19,7,19,5,14,19,14,4,19,4,17,1,12,14,1,14,5,1,5,9];super(s,a,e,n),this.type="DodecahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new B_(e.radius,e.detail)}}const Wy=new Z,Gy=new Z,tM=new Z,Xy=new Ki;class W8 extends Ht{constructor(e=null,n=1){if(super(),this.type="EdgesGeometry",this.parameters={geometry:e,thresholdAngle:n},e!==null){const i=Math.pow(10,4),s=Math.cos(ju*n),a=e.getIndex(),o=e.getAttribute("position"),l=a?a.count:o.count,c=[0,0,0],u=["a","b","c"],f=new Array(3),d={},p=[];for(let v=0;v<l;v+=3){a?(c[0]=a.getX(v),c[1]=a.getX(v+1),c[2]=a.getX(v+2)):(c[0]=v,c[1]=v+1,c[2]=v+2);const{a:b,b:x,c:y}=Xy;if(b.fromBufferAttribute(o,c[0]),x.fromBufferAttribute(o,c[1]),y.fromBufferAttribute(o,c[2]),Xy.getNormal(tM),f[0]=`${Math.round(b.x*i)},${Math.round(b.y*i)},${Math.round(b.z*i)}`,f[1]=`${Math.round(x.x*i)},${Math.round(x.y*i)},${Math.round(x.z*i)}`,f[2]=`${Math.round(y.x*i)},${Math.round(y.y*i)},${Math.round(y.z*i)}`,!(f[0]===f[1]||f[1]===f[2]||f[2]===f[0]))for(let w=0;w<3;w++){const _=(w+1)%3,S=f[w],M=f[_],E=Xy[u[w]],A=Xy[u[_]],C=`${S}_${M}`,P=`${M}_${S}`;P in d&&d[P]?(tM.dot(d[P].normal)<=s&&(p.push(E.x,E.y,E.z),p.push(A.x,A.y,A.z)),d[P]=null):C in d||(d[C]={index0:c[w],index1:c[_],normal:tM.clone()})}}for(const v in d)if(d[v]){const{index0:b,index1:x}=d[v];Wy.fromBufferAttribute(o,b),Gy.fromBufferAttribute(o,x),p.push(Wy.x,Wy.y,Wy.z),p.push(Gy.x,Gy.y,Gy.z)}this.setAttribute("position",new dt(p,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}let Du=class extends Ng{constructor(e){super(e),this.uuid=Ns(),this.type="Shape",this.holes=[]}getPointsHoles(e){const n=[];for(let r=0,i=this.holes.length;r<i;r++)n[r]=this.holes[r].getPoints(e);return n}extractPoints(e){return{shape:this.getPoints(e),holes:this.getPointsHoles(e)}}copy(e){super.copy(e),this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(i.clone())}return this}toJSON(){const e=super.toJSON();e.uuid=this.uuid,e.holes=[];for(let n=0,r=this.holes.length;n<r;n++){const i=this.holes[n];e.holes.push(i.toJSON())}return e}fromJSON(e){super.fromJSON(e),this.uuid=e.uuid,this.holes=[];for(let n=0,r=e.holes.length;n<r;n++){const i=e.holes[n];this.holes.push(new Ng().fromJSON(i))}return this}};const $ae={triangulate:function(t,e,n=2){const r=e&&e.length,i=r?e[0]*n:t.length;let s=G8(t,0,i,n,!0);const a=[];if(!s||s.next===s.prev)return a;let o,l,c,u,f,d,p;if(r&&(s=Yae(t,e,s,n)),t.length>80*n){o=c=t[0],l=u=t[1];for(let v=n;v<i;v+=n)f=t[v],d=t[v+1],f<o&&(o=f),d<l&&(l=d),f>c&&(c=f),d>u&&(u=d);p=Math.max(c-o,u-l),p=p!==0?32767/p:0}return Rg(s,a,n,o,l,p,0),a}};function G8(t,e,n,r,i){let s,a;if(i===aoe(t,e,n,r)>0)for(s=e;s<n;s+=r)a=ok(s,t[s],t[s+1],a);else for(s=n-r;s>=e;s-=r)a=ok(s,t[s],t[s+1],a);return a&&z_(a,a.next)&&(Lg(a),a=a.next),a}function Zu(t,e){if(!t)return t;e||(e=t);let n=t,r;do if(r=!1,!n.steiner&&(z_(n,n.next)||Vn(n.prev,n,n.next)===0)){if(Lg(n),n=e=n.prev,n===n.next)break;r=!0}else n=n.next;while(r||n!==e);return e}function Rg(t,e,n,r,i,s,a){if(!t)return;!a&&s&&eoe(t,r,i,s);let o=t,l,c;for(;t.prev!==t.next;){if(l=t.prev,c=t.next,s?Gae(t,r,i,s):Wae(t)){e.push(l.i/n|0),e.push(t.i/n|0),e.push(c.i/n|0),Lg(t),t=c.next,o=c.next;continue}if(t=c,t===o){a?a===1?(t=Xae(Zu(t),e,n),Rg(t,e,n,r,i,s,2)):a===2&&qae(t,e,n,r,i,s):Rg(Zu(t),e,n,r,i,s,1);break}}}function Wae(t){const e=t.prev,n=t,r=t.next;if(Vn(e,n,r)>=0)return!1;const i=e.x,s=n.x,a=r.x,o=e.y,l=n.y,c=r.y,u=i<s?i<a?i:a:s<a?s:a,f=o<l?o<c?o:c:l<c?l:c,d=i>s?i>a?i:a:s>a?s:a,p=o>l?o>c?o:c:l>c?l:c;let v=r.next;for(;v!==e;){if(v.x>=u&&v.x<=d&&v.y>=f&&v.y<=p&&Id(i,o,s,l,a,c,v.x,v.y)&&Vn(v.prev,v,v.next)>=0)return!1;v=v.next}return!0}function Gae(t,e,n,r){const i=t.prev,s=t,a=t.next;if(Vn(i,s,a)>=0)return!1;const o=i.x,l=s.x,c=a.x,u=i.y,f=s.y,d=a.y,p=o<l?o<c?o:c:l<c?l:c,v=u<f?u<d?u:d:f<d?f:d,b=o>l?o>c?o:c:l>c?l:c,x=u>f?u>d?u:d:f>d?f:d,y=$T(p,v,e,n,r),w=$T(b,x,e,n,r);let _=t.prevZ,S=t.nextZ;for(;_&&_.z>=y&&S&&S.z<=w;){if(_.x>=p&&_.x<=b&&_.y>=v&&_.y<=x&&_!==i&&_!==a&&Id(o,u,l,f,c,d,_.x,_.y)&&Vn(_.prev,_,_.next)>=0||(_=_.prevZ,S.x>=p&&S.x<=b&&S.y>=v&&S.y<=x&&S!==i&&S!==a&&Id(o,u,l,f,c,d,S.x,S.y)&&Vn(S.prev,S,S.next)>=0))return!1;S=S.nextZ}for(;_&&_.z>=y;){if(_.x>=p&&_.x<=b&&_.y>=v&&_.y<=x&&_!==i&&_!==a&&Id(o,u,l,f,c,d,_.x,_.y)&&Vn(_.prev,_,_.next)>=0)return!1;_=_.prevZ}for(;S&&S.z<=w;){if(S.x>=p&&S.x<=b&&S.y>=v&&S.y<=x&&S!==i&&S!==a&&Id(o,u,l,f,c,d,S.x,S.y)&&Vn(S.prev,S,S.next)>=0)return!1;S=S.nextZ}return!0}function Xae(t,e,n){let r=t;do{const i=r.prev,s=r.next.next;!z_(i,s)&&X8(i,r,r.next,s)&&Og(i,s)&&Og(s,i)&&(e.push(i.i/n|0),e.push(r.i/n|0),e.push(s.i/n|0),Lg(r),Lg(r.next),r=t=s),r=r.next}while(r!==t);return Zu(r)}function qae(t,e,n,r,i,s){let a=t;do{let o=a.next.next;for(;o!==a.prev;){if(a.i!==o.i&&roe(a,o)){let l=q8(a,o);a=Zu(a,a.next),l=Zu(l,l.next),Rg(a,e,n,r,i,s,0),Rg(l,e,n,r,i,s,0);return}o=o.next}a=a.next}while(a!==t)}function Yae(t,e,n,r){const i=[];let s,a,o,l,c;for(s=0,a=e.length;s<a;s++)o=e[s]*r,l=s<a-1?e[s+1]*r:t.length,c=G8(t,o,l,r,!1),c===c.next&&(c.steiner=!0),i.push(noe(c));for(i.sort(Kae),s=0;s<i.length;s++)n=Zae(i[s],n);return n}function Kae(t,e){return t.x-e.x}function Zae(t,e){const n=Jae(t,e);if(!n)return e;const r=q8(n,t);return Zu(r,r.next),Zu(n,n.next)}function Jae(t,e){let n=e,r=-1/0,i;const s=t.x,a=t.y;do{if(a<=n.y&&a>=n.next.y&&n.next.y!==n.y){const d=n.x+(a-n.y)*(n.next.x-n.x)/(n.next.y-n.y);if(d<=s&&d>r&&(r=d,i=n.x<n.next.x?n:n.next,d===s))return i}n=n.next}while(n!==e);if(!i)return null;const o=i,l=i.x,c=i.y;let u=1/0,f;n=i;do s>=n.x&&n.x>=l&&s!==n.x&&Id(a<c?s:r,a,l,c,a<c?r:s,a,n.x,n.y)&&(f=Math.abs(a-n.y)/(s-n.x),Og(n,t)&&(f<u||f===u&&(n.x>i.x||n.x===i.x&&Qae(i,n)))&&(i=n,u=f)),n=n.next;while(n!==o);return i}function Qae(t,e){return Vn(t.prev,t,e.prev)<0&&Vn(e.next,t,t.next)<0}function eoe(t,e,n,r){let i=t;do i.z===0&&(i.z=$T(i.x,i.y,e,n,r)),i.prevZ=i.prev,i.nextZ=i.next,i=i.next;while(i!==t);i.prevZ.nextZ=null,i.prevZ=null,toe(i)}function toe(t){let e,n,r,i,s,a,o,l,c=1;do{for(n=t,t=null,s=null,a=0;n;){for(a++,r=n,o=0,e=0;e<c&&(o++,r=r.nextZ,!!r);e++);for(l=c;o>0||l>0&&r;)o!==0&&(l===0||!r||n.z<=r.z)?(i=n,n=n.nextZ,o--):(i=r,r=r.nextZ,l--),s?s.nextZ=i:t=i,i.prevZ=s,s=i;n=r}s.nextZ=null,c*=2}while(a>1);return t}function $T(t,e,n,r,i){return t=(t-n)*i|0,e=(e-r)*i|0,t=(t|t<<8)&16711935,t=(t|t<<4)&252645135,t=(t|t<<2)&858993459,t=(t|t<<1)&1431655765,e=(e|e<<8)&16711935,e=(e|e<<4)&252645135,e=(e|e<<2)&858993459,e=(e|e<<1)&1431655765,t|e<<1}function noe(t){let e=t,n=t;do(e.x<n.x||e.x===n.x&&e.y<n.y)&&(n=e),e=e.next;while(e!==t);return n}function Id(t,e,n,r,i,s,a,o){return(i-a)*(e-o)>=(t-a)*(s-o)&&(t-a)*(r-o)>=(n-a)*(e-o)&&(n-a)*(s-o)>=(i-a)*(r-o)}function roe(t,e){return t.next.i!==e.i&&t.prev.i!==e.i&&!ioe(t,e)&&(Og(t,e)&&Og(e,t)&&soe(t,e)&&(Vn(t.prev,t,e.prev)||Vn(t,e.prev,e))||z_(t,e)&&Vn(t.prev,t,t.next)>0&&Vn(e.prev,e,e.next)>0)}function Vn(t,e,n){return(e.y-t.y)*(n.x-e.x)-(e.x-t.x)*(n.y-e.y)}function z_(t,e){return t.x===e.x&&t.y===e.y}function X8(t,e,n,r){const i=Yy(Vn(t,e,n)),s=Yy(Vn(t,e,r)),a=Yy(Vn(n,r,t)),o=Yy(Vn(n,r,e));return!!(i!==s&&a!==o||i===0&&qy(t,n,e)||s===0&&qy(t,r,e)||a===0&&qy(n,t,r)||o===0&&qy(n,e,r))}function qy(t,e,n){return e.x<=Math.max(t.x,n.x)&&e.x>=Math.min(t.x,n.x)&&e.y<=Math.max(t.y,n.y)&&e.y>=Math.min(t.y,n.y)}function Yy(t){return t>0?1:t<0?-1:0}function ioe(t,e){let n=t;do{if(n.i!==t.i&&n.next.i!==t.i&&n.i!==e.i&&n.next.i!==e.i&&X8(n,n.next,t,e))return!0;n=n.next}while(n!==t);return!1}function Og(t,e){return Vn(t.prev,t,t.next)<0?Vn(t,e,t.next)>=0&&Vn(t,t.prev,e)>=0:Vn(t,e,t.prev)<0||Vn(t,t.next,e)<0}function soe(t,e){let n=t,r=!1;const i=(t.x+e.x)/2,s=(t.y+e.y)/2;do n.y>s!=n.next.y>s&&n.next.y!==n.y&&i<(n.next.x-n.x)*(s-n.y)/(n.next.y-n.y)+n.x&&(r=!r),n=n.next;while(n!==t);return r}function q8(t,e){const n=new WT(t.i,t.x,t.y),r=new WT(e.i,e.x,e.y),i=t.next,s=e.prev;return t.next=e,e.prev=t,n.next=i,i.prev=n,r.next=n,n.prev=r,s.next=r,r.prev=s,r}function ok(t,e,n,r){const i=new WT(t,e,n);return r?(i.next=r.next,i.prev=r,r.next.prev=i,r.next=i):(i.prev=i,i.next=i),i}function Lg(t){t.next.prev=t.prev,t.prev.next=t.next,t.prevZ&&(t.prevZ.nextZ=t.nextZ),t.nextZ&&(t.nextZ.prevZ=t.prevZ)}function WT(t,e,n){this.i=t,this.x=e,this.y=n,this.prev=null,this.next=null,this.z=0,this.prevZ=null,this.nextZ=null,this.steiner=!1}function aoe(t,e,n,r){let i=0;for(let s=e,a=n-r;s<n;s+=r)i+=(t[a]-t[s])*(t[s+1]+t[a+1]),a=s;return i}class lo{static area(e){const n=e.length;let r=0;for(let i=n-1,s=0;s<n;i=s++)r+=e[i].x*e[s].y-e[s].x*e[i].y;return r*.5}static isClockWise(e){return lo.area(e)<0}static triangulateShape(e,n){const r=[],i=[],s=[];lk(e),ck(r,e);let a=e.length;n.forEach(lk);for(let l=0;l<n.length;l++)i.push(a),a+=n[l].length,ck(r,n[l]);const o=$ae.triangulate(r,i);for(let l=0;l<o.length;l+=3)s.push(o.slice(l,l+3));return s}}function lk(t){const e=t.length;e>2&&t[e-1].equals(t[0])&&t.pop()}function ck(t,e){for(let n=0;n<e.length;n++)t.push(e[n].x),t.push(e[n].y)}class V_ extends Ht{constructor(e=new Du([new De(.5,.5),new De(-.5,.5),new De(-.5,-.5),new De(.5,-.5)]),n={}){super(),this.type="ExtrudeGeometry",this.parameters={shapes:e,options:n},e=Array.isArray(e)?e:[e];const r=this,i=[],s=[];for(let o=0,l=e.length;o<l;o++){const c=e[o];a(c)}this.setAttribute("position",new dt(i,3)),this.setAttribute("uv",new dt(s,2)),this.computeVertexNormals();function a(o){const l=[],c=n.curveSegments!==void 0?n.curveSegments:12,u=n.steps!==void 0?n.steps:1,f=n.depth!==void 0?n.depth:1;let d=n.bevelEnabled!==void 0?n.bevelEnabled:!0,p=n.bevelThickness!==void 0?n.bevelThickness:.2,v=n.bevelSize!==void 0?n.bevelSize:p-.1,b=n.bevelOffset!==void 0?n.bevelOffset:0,x=n.bevelSegments!==void 0?n.bevelSegments:3;const y=n.extrudePath,w=n.UVGenerator!==void 0?n.UVGenerator:ooe;let _,S=!1,M,E,A,C;y&&(_=y.getSpacedPoints(u),S=!0,d=!1,M=y.computeFrenetFrames(u,!1),E=new Z,A=new Z,C=new Z),d||(x=0,p=0,v=0,b=0);const P=o.extractPoints(c);let R=P.shape;const L=P.holes;if(!lo.isClockWise(R)){R=R.reverse();for(let G=0,me=L.length;G<me;G++){const se=L[G];lo.isClockWise(se)&&(L[G]=se.reverse())}}const D=lo.triangulateShape(R,L),I=R;for(let G=0,me=L.length;G<me;G++){const se=L[G];R=R.concat(se)}function z(G,me,se){return me||console.error("THREE.ExtrudeGeometry: vec does not exist"),G.clone().addScaledVector(me,se)}const $=R.length,q=D.length;function V(G,me,se){let xe,pe,ze;const ve=G.x-me.x,Re=G.y-me.y,Be=se.x-G.x,ge=se.y-G.y,Ye=ve*ve+Re*Re,Y=ve*ge-Re*Be;if(Math.abs(Y)>Number.EPSILON){const X=Math.sqrt(Ye),ie=Math.sqrt(Be*Be+ge*ge),Fe=me.x-Re/X,ye=me.y+ve/X,Ee=se.x-ge/ie,He=se.y+Be/ie,Ue=((Ee-Fe)*ge-(He-ye)*Be)/(ve*ge-Re*Be);xe=Fe+ve*Ue-G.x,pe=ye+Re*Ue-G.y;const $e=xe*xe+pe*pe;if($e<=2)return new De(xe,pe);ze=Math.sqrt($e/2)}else{let X=!1;ve>Number.EPSILON?Be>Number.EPSILON&&(X=!0):ve<-Number.EPSILON?Be<-Number.EPSILON&&(X=!0):Math.sign(Re)===Math.sign(ge)&&(X=!0),X?(xe=-Re,pe=ve,ze=Math.sqrt(Ye)):(xe=ve,pe=Re,ze=Math.sqrt(Ye/2))}return new De(xe/ze,pe/ze)}const U=[];for(let G=0,me=I.length,se=me-1,xe=G+1;G<me;G++,se++,xe++)se===me&&(se=0),xe===me&&(xe=0),U[G]=V(I[G],I[se],I[xe]);const W=[];let k,H=U.concat();for(let G=0,me=L.length;G<me;G++){const se=L[G];k=[];for(let xe=0,pe=se.length,ze=pe-1,ve=xe+1;xe<pe;xe++,ze++,ve++)ze===pe&&(ze=0),ve===pe&&(ve=0),k[xe]=V(se[xe],se[ze],se[ve]);W.push(k),H=H.concat(k)}for(let G=0;G<x;G++){const me=G/x,se=p*Math.cos(me*Math.PI/2),xe=v*Math.sin(me*Math.PI/2)+b;for(let pe=0,ze=I.length;pe<ze;pe++){const ve=z(I[pe],U[pe],xe);oe(ve.x,ve.y,-se)}for(let pe=0,ze=L.length;pe<ze;pe++){const ve=L[pe];k=W[pe];for(let Re=0,Be=ve.length;Re<Be;Re++){const ge=z(ve[Re],k[Re],xe);oe(ge.x,ge.y,-se)}}}const K=v+b;for(let G=0;G<$;G++){const me=d?z(R[G],H[G],K):R[G];S?(A.copy(M.normals[0]).multiplyScalar(me.x),E.copy(M.binormals[0]).multiplyScalar(me.y),C.copy(_[0]).add(A).add(E),oe(C.x,C.y,C.z)):oe(me.x,me.y,0)}for(let G=1;G<=u;G++)for(let me=0;me<$;me++){const se=d?z(R[me],H[me],K):R[me];S?(A.copy(M.normals[G]).multiplyScalar(se.x),E.copy(M.binormals[G]).multiplyScalar(se.y),C.copy(_[G]).add(A).add(E),oe(C.x,C.y,C.z)):oe(se.x,se.y,f/u*G)}for(let G=x-1;G>=0;G--){const me=G/x,se=p*Math.cos(me*Math.PI/2),xe=v*Math.sin(me*Math.PI/2)+b;for(let pe=0,ze=I.length;pe<ze;pe++){const ve=z(I[pe],U[pe],xe);oe(ve.x,ve.y,f+se)}for(let pe=0,ze=L.length;pe<ze;pe++){const ve=L[pe];k=W[pe];for(let Re=0,Be=ve.length;Re<Be;Re++){const ge=z(ve[Re],k[Re],xe);S?oe(ge.x,ge.y+_[u-1].y,_[u-1].x+se):oe(ge.x,ge.y,f+se)}}}ne(),te();function ne(){const G=i.length/3;if(d){let me=0,se=$*me;for(let xe=0;xe<q;xe++){const pe=D[xe];he(pe[2]+se,pe[1]+se,pe[0]+se)}me=u+x*2,se=$*me;for(let xe=0;xe<q;xe++){const pe=D[xe];he(pe[0]+se,pe[1]+se,pe[2]+se)}}else{for(let me=0;me<q;me++){const se=D[me];he(se[2],se[1],se[0])}for(let me=0;me<q;me++){const se=D[me];he(se[0]+$*u,se[1]+$*u,se[2]+$*u)}}r.addGroup(G,i.length/3-G,0)}function te(){const G=i.length/3;let me=0;ae(I,me),me+=I.length;for(let se=0,xe=L.length;se<xe;se++){const pe=L[se];ae(pe,me),me+=pe.length}r.addGroup(G,i.length/3-G,1)}function ae(G,me){let se=G.length;for(;--se>=0;){const xe=se;let pe=se-1;pe<0&&(pe=G.length-1);for(let ze=0,ve=u+x*2;ze<ve;ze++){const Re=$*ze,Be=$*(ze+1),ge=me+xe+Re,Ye=me+pe+Re,Y=me+pe+Be,X=me+xe+Be;fe(ge,Ye,Y,X)}}}function oe(G,me,se){l.push(G),l.push(me),l.push(se)}function he(G,me,se){Ce(G),Ce(me),Ce(se);const xe=i.length/3,pe=w.generateTopUV(r,i,xe-3,xe-2,xe-1);le(pe[0]),le(pe[1]),le(pe[2])}function fe(G,me,se,xe){Ce(G),Ce(me),Ce(xe),Ce(me),Ce(se),Ce(xe);const pe=i.length/3,ze=w.generateSideWallUV(r,i,pe-6,pe-3,pe-2,pe-1);le(ze[0]),le(ze[1]),le(ze[3]),le(ze[1]),le(ze[2]),le(ze[3])}function Ce(G){i.push(l[G*3+0]),i.push(l[G*3+1]),i.push(l[G*3+2])}function le(G){s.push(G.x),s.push(G.y)}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes,r=this.parameters.options;return loe(n,r,e)}static fromJSON(e,n){const r=[];for(let s=0,a=e.shapes.length;s<a;s++){const o=n[e.shapes[s]];r.push(o)}const i=e.options.extrudePath;return i!==void 0&&(e.options.extrudePath=new B1[i.type]().fromJSON(i)),new V_(r,e.options)}}const ooe={generateTopUV:function(t,e,n,r,i){const s=e[n*3],a=e[n*3+1],o=e[r*3],l=e[r*3+1],c=e[i*3],u=e[i*3+1];return[new De(s,a),new De(o,l),new De(c,u)]},generateSideWallUV:function(t,e,n,r,i,s){const a=e[n*3],o=e[n*3+1],l=e[n*3+2],c=e[r*3],u=e[r*3+1],f=e[r*3+2],d=e[i*3],p=e[i*3+1],v=e[i*3+2],b=e[s*3],x=e[s*3+1],y=e[s*3+2];return Math.abs(o-u)<Math.abs(a-c)?[new De(a,1-l),new De(c,1-f),new De(d,1-v),new De(b,1-y)]:[new De(o,1-l),new De(u,1-f),new De(p,1-v),new De(x,1-y)]}};function loe(t,e,n){if(n.shapes=[],Array.isArray(t))for(let r=0,i=t.length;r<i;r++){const s=t[r];n.shapes.push(s.uuid)}else n.shapes.push(t.uuid);return n.options=Object.assign({},e),e.extrudePath!==void 0&&(n.options.extrudePath=e.extrudePath.toJSON()),n}class H_ extends Ac{constructor(e=1,n=0){const r=(1+Math.sqrt(5))/2,i=[-1,r,0,1,r,0,-1,-r,0,1,-r,0,0,-1,r,0,1,r,0,-1,-r,0,1,-r,r,0,-1,r,0,1,-r,0,-1,-r,0,1],s=[0,11,5,0,5,1,0,1,7,0,7,10,0,10,11,1,5,9,5,11,4,11,10,2,10,7,6,7,1,8,3,9,4,3,4,2,3,2,6,3,6,8,3,8,9,4,9,5,2,4,11,6,2,10,8,6,7,9,8,1];super(i,s,e,n),this.type="IcosahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new H_(e.radius,e.detail)}}class B0 extends Ac{constructor(e=1,n=0){const r=[1,0,0,-1,0,0,0,1,0,0,-1,0,0,0,1,0,0,-1],i=[0,2,4,0,4,3,0,3,5,0,5,2,1,2,5,1,5,3,1,3,4,1,4,2];super(r,i,e,n),this.type="OctahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new B0(e.radius,e.detail)}}class $_ extends Ht{constructor(e=.5,n=1,r=32,i=1,s=0,a=Math.PI*2){super(),this.type="RingGeometry",this.parameters={innerRadius:e,outerRadius:n,thetaSegments:r,phiSegments:i,thetaStart:s,thetaLength:a},r=Math.max(3,r),i=Math.max(1,i);const o=[],l=[],c=[],u=[];let f=e;const d=(n-e)/i,p=new Z,v=new De;for(let b=0;b<=i;b++){for(let x=0;x<=r;x++){const y=s+x/r*a;p.x=f*Math.cos(y),p.y=f*Math.sin(y),l.push(p.x,p.y,p.z),c.push(0,0,1),v.x=(p.x/n+1)/2,v.y=(p.y/n+1)/2,u.push(v.x,v.y)}f+=d}for(let b=0;b<i;b++){const x=b*(r+1);for(let y=0;y<r;y++){const w=y+x,_=w,S=w+r+1,M=w+r+2,E=w+1;o.push(_,S,E),o.push(S,M,E)}}this.setIndex(o),this.setAttribute("position",new dt(l,3)),this.setAttribute("normal",new dt(c,3)),this.setAttribute("uv",new dt(u,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new $_(e.innerRadius,e.outerRadius,e.thetaSegments,e.phiSegments,e.thetaStart,e.thetaLength)}}class W_ extends Ht{constructor(e=new Du([new De(0,.5),new De(-.5,-.5),new De(.5,-.5)]),n=12){super(),this.type="ShapeGeometry",this.parameters={shapes:e,curveSegments:n};const r=[],i=[],s=[],a=[];let o=0,l=0;if(Array.isArray(e)===!1)c(e);else for(let u=0;u<e.length;u++)c(e[u]),this.addGroup(o,l,u),o+=l,l=0;this.setIndex(r),this.setAttribute("position",new dt(i,3)),this.setAttribute("normal",new dt(s,3)),this.setAttribute("uv",new dt(a,2));function c(u){const f=i.length/3,d=u.extractPoints(n);let p=d.shape;const v=d.holes;lo.isClockWise(p)===!1&&(p=p.reverse());for(let x=0,y=v.length;x<y;x++){const w=v[x];lo.isClockWise(w)===!0&&(v[x]=w.reverse())}const b=lo.triangulateShape(p,v);for(let x=0,y=v.length;x<y;x++){const w=v[x];p=p.concat(w)}for(let x=0,y=p.length;x<y;x++){const w=p[x];i.push(w.x,w.y,0),s.push(0,0,1),a.push(w.x,w.y)}for(let x=0,y=b.length;x<y;x++){const w=b[x],_=w[0]+f,S=w[1]+f,M=w[2]+f;r.push(_,S,M),l+=3}}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON(),n=this.parameters.shapes;return coe(n,e)}static fromJSON(e,n){const r=[];for(let i=0,s=e.shapes.length;i<s;i++){const a=n[e.shapes[i]];r.push(a)}return new W_(r,e.curveSegments)}}function coe(t,e){if(e.shapes=[],Array.isArray(t))for(let n=0,r=t.length;n<r;n++){const i=t[n];e.shapes.push(i.uuid)}else e.shapes.push(t.uuid);return e}class z0 extends Ht{constructor(e=1,n=32,r=16,i=0,s=Math.PI*2,a=0,o=Math.PI){super(),this.type="SphereGeometry",this.parameters={radius:e,widthSegments:n,heightSegments:r,phiStart:i,phiLength:s,thetaStart:a,thetaLength:o},n=Math.max(3,Math.floor(n)),r=Math.max(2,Math.floor(r));const l=Math.min(a+o,Math.PI);let c=0;const u=[],f=new Z,d=new Z,p=[],v=[],b=[],x=[];for(let y=0;y<=r;y++){const w=[],_=y/r;let S=0;y===0&&a===0?S=.5/n:y===r&&l===Math.PI&&(S=-.5/n);for(let M=0;M<=n;M++){const E=M/n;f.x=-e*Math.cos(i+E*s)*Math.sin(a+_*o),f.y=e*Math.cos(a+_*o),f.z=e*Math.sin(i+E*s)*Math.sin(a+_*o),v.push(f.x,f.y,f.z),d.copy(f).normalize(),b.push(d.x,d.y,d.z),x.push(E+S,1-_),w.push(c++)}u.push(w)}for(let y=0;y<r;y++)for(let w=0;w<n;w++){const _=u[y][w+1],S=u[y][w],M=u[y+1][w],E=u[y+1][w+1];(y!==0||a>0)&&p.push(_,S,E),(y!==r-1||l<Math.PI)&&p.push(S,M,E)}this.setIndex(p),this.setAttribute("position",new dt(v,3)),this.setAttribute("normal",new dt(b,3)),this.setAttribute("uv",new dt(x,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new z0(e.radius,e.widthSegments,e.heightSegments,e.phiStart,e.phiLength,e.thetaStart,e.thetaLength)}}class G_ extends Ac{constructor(e=1,n=0){const r=[1,1,1,-1,-1,1,-1,1,-1,1,-1,-1],i=[2,1,0,0,3,2,1,3,0,2,3,1];super(r,i,e,n),this.type="TetrahedronGeometry",this.parameters={radius:e,detail:n}}static fromJSON(e){return new G_(e.radius,e.detail)}}class X_ extends Ht{constructor(e=1,n=.4,r=12,i=48,s=Math.PI*2){super(),this.type="TorusGeometry",this.parameters={radius:e,tube:n,radialSegments:r,tubularSegments:i,arc:s},r=Math.floor(r),i=Math.floor(i);const a=[],o=[],l=[],c=[],u=new Z,f=new Z,d=new Z;for(let p=0;p<=r;p++)for(let v=0;v<=i;v++){const b=v/i*s,x=p/r*Math.PI*2;f.x=(e+n*Math.cos(x))*Math.cos(b),f.y=(e+n*Math.cos(x))*Math.sin(b),f.z=n*Math.sin(x),o.push(f.x,f.y,f.z),u.x=e*Math.cos(b),u.y=e*Math.sin(b),d.subVectors(f,u).normalize(),l.push(d.x,d.y,d.z),c.push(v/i),c.push(p/r)}for(let p=1;p<=r;p++)for(let v=1;v<=i;v++){const b=(i+1)*p+v-1,x=(i+1)*(p-1)+v-1,y=(i+1)*(p-1)+v,w=(i+1)*p+v;a.push(b,x,w),a.push(x,y,w)}this.setIndex(a),this.setAttribute("position",new dt(o,3)),this.setAttribute("normal",new dt(l,3)),this.setAttribute("uv",new dt(c,2))}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new X_(e.radius,e.tube,e.radialSegments,e.tubularSegments,e.arc)}}class q_ extends Ht{constructor(e=1,n=.4,r=64,i=8,s=2,a=3){super(),this.type="TorusKnotGeometry",this.parameters={radius:e,tube:n,tubularSegments:r,radialSegments:i,p:s,q:a},r=Math.floor(r),i=Math.floor(i);const o=[],l=[],c=[],u=[],f=new Z,d=new Z,p=new Z,v=new Z,b=new Z,x=new Z,y=new Z;for(let _=0;_<=r;++_){const S=_/r*s*Math.PI*2;w(S,s,a,e,p),w(S+.01,s,a,e,v),x.subVectors(v,p),y.addVectors(v,p),b.crossVectors(x,y),y.crossVectors(b,x),b.normalize(),y.normalize();for(let M=0;M<=i;++M){const E=M/i*Math.PI*2,A=-n*Math.cos(E),C=n*Math.sin(E);f.x=p.x+(A*y.x+C*b.x),f.y=p.y+(A*y.y+C*b.y),f.z=p.z+(A*y.z+C*b.z),l.push(f.x,f.y,f.z),d.subVectors(f,p).normalize(),c.push(d.x,d.y,d.z),u.push(_/r),u.push(M/i)}}for(let _=1;_<=r;_++)for(let S=1;S<=i;S++){const M=(i+1)*(_-1)+(S-1),E=(i+1)*_+(S-1),A=(i+1)*_+S,C=(i+1)*(_-1)+S;o.push(M,E,C),o.push(E,A,C)}this.setIndex(o),this.setAttribute("position",new dt(l,3)),this.setAttribute("normal",new dt(c,3)),this.setAttribute("uv",new dt(u,2));function w(_,S,M,E,A){const C=Math.cos(_),P=Math.sin(_),R=M/S*_,L=Math.cos(R);A.x=E*(2+L)*.5*C,A.y=E*(2+L)*P*.5,A.z=E*Math.sin(R)*.5}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}static fromJSON(e){return new q_(e.radius,e.tube,e.tubularSegments,e.radialSegments,e.p,e.q)}}class Y_ extends Ht{constructor(e=new RN(new Z(-1,-1,0),new Z(-1,1,0),new Z(1,1,0)),n=64,r=1,i=8,s=!1){super(),this.type="TubeGeometry",this.parameters={path:e,tubularSegments:n,radius:r,radialSegments:i,closed:s};const a=e.computeFrenetFrames(n,s);this.tangents=a.tangents,this.normals=a.normals,this.binormals=a.binormals;const o=new Z,l=new Z,c=new De;let u=new Z;const f=[],d=[],p=[],v=[];b(),this.setIndex(v),this.setAttribute("position",new dt(f,3)),this.setAttribute("normal",new dt(d,3)),this.setAttribute("uv",new dt(p,2));function b(){for(let _=0;_<n;_++)x(_);x(s===!1?n:0),w(),y()}function x(_){u=e.getPointAt(_/n,u);const S=a.normals[_],M=a.binormals[_];for(let E=0;E<=i;E++){const A=E/i*Math.PI*2,C=Math.sin(A),P=-Math.cos(A);l.x=P*S.x+C*M.x,l.y=P*S.y+C*M.y,l.z=P*S.z+C*M.z,l.normalize(),d.push(l.x,l.y,l.z),o.x=u.x+r*l.x,o.y=u.y+r*l.y,o.z=u.z+r*l.z,f.push(o.x,o.y,o.z)}}function y(){for(let _=1;_<=n;_++)for(let S=1;S<=i;S++){const M=(i+1)*(_-1)+(S-1),E=(i+1)*_+(S-1),A=(i+1)*_+S,C=(i+1)*(_-1)+S;v.push(M,E,C),v.push(E,A,C)}}function w(){for(let _=0;_<=n;_++)for(let S=0;S<=i;S++)c.x=_/n,c.y=S/i,p.push(c.x,c.y)}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}toJSON(){const e=super.toJSON();return e.path=this.parameters.path.toJSON(),e}static fromJSON(e){return new Y_(new B1[e.path.type]().fromJSON(e.path),e.tubularSegments,e.radius,e.radialSegments,e.closed)}}class Y8 extends Ht{constructor(e=null){if(super(),this.type="WireframeGeometry",this.parameters={geometry:e},e!==null){const n=[],r=new Set,i=new Z,s=new Z;if(e.index!==null){const a=e.attributes.position,o=e.index;let l=e.groups;l.length===0&&(l=[{start:0,count:o.count,materialIndex:0}]);for(let c=0,u=l.length;c<u;++c){const f=l[c],d=f.start,p=f.count;for(let v=d,b=d+p;v<b;v+=3)for(let x=0;x<3;x++){const y=o.getX(v+x),w=o.getX(v+(x+1)%3);i.fromBufferAttribute(a,y),s.fromBufferAttribute(a,w),uk(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}}else{const a=e.attributes.position;for(let o=0,l=a.count/3;o<l;o++)for(let c=0;c<3;c++){const u=3*o+c,f=3*o+(c+1)%3;i.fromBufferAttribute(a,u),s.fromBufferAttribute(a,f),uk(i,s,r)===!0&&(n.push(i.x,i.y,i.z),n.push(s.x,s.y,s.z))}}this.setAttribute("position",new dt(n,3))}}copy(e){return super.copy(e),this.parameters=Object.assign({},e.parameters),this}}function uk(t,e,n){const r=`${t.x},${t.y},${t.z}-${e.x},${e.y},${e.z}`,i=`${e.x},${e.y},${e.z}-${t.x},${t.y},${t.z}`;return n.has(r)===!0||n.has(i)===!0?!1:(n.add(r),n.add(i),!0)}var fk=Object.freeze({__proto__:null,BoxGeometry:ff,CapsuleGeometry:D_,CircleGeometry:U_,ConeGeometry:F_,CylinderGeometry:Wh,DodecahedronGeometry:B_,EdgesGeometry:W8,ExtrudeGeometry:V_,IcosahedronGeometry:H_,LatheGeometry:F0,OctahedronGeometry:B0,PlaneGeometry:Tc,PolyhedronGeometry:Ac,RingGeometry:$_,ShapeGeometry:W_,SphereGeometry:z0,TetrahedronGeometry:G_,TorusGeometry:X_,TorusKnotGeometry:q_,TubeGeometry:Y_,WireframeGeometry:Y8});class K8 extends Mi{constructor(e){super(),this.isShadowMaterial=!0,this.type="ShadowMaterial",this.color=new at(0),this.transparent=!0,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.fog=e.fog,this}}class Z8 extends ca{constructor(e){super(e),this.isRawShaderMaterial=!0,this.type="RawShaderMaterial"}}class LN extends Mi{constructor(e){super(),this.isMeshStandardMaterial=!0,this.defines={STANDARD:""},this.type="MeshStandardMaterial",this.color=new at(16777215),this.roughness=1,this.metalness=0,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ec,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.roughnessMap=null,this.metalnessMap=null,this.alphaMap=null,this.envMap=null,this.envMapIntensity=1,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={STANDARD:""},this.color.copy(e.color),this.roughness=e.roughness,this.metalness=e.metalness,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.roughnessMap=e.roughnessMap,this.metalnessMap=e.metalnessMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.envMapIntensity=e.envMapIntensity,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class J8 extends LN{constructor(e){super(),this.isMeshPhysicalMaterial=!0,this.defines={STANDARD:"",PHYSICAL:""},this.type="MeshPhysicalMaterial",this.anisotropyRotation=0,this.anisotropyMap=null,this.clearcoatMap=null,this.clearcoatRoughness=0,this.clearcoatRoughnessMap=null,this.clearcoatNormalScale=new De(1,1),this.clearcoatNormalMap=null,this.ior=1.5,Object.defineProperty(this,"reflectivity",{get:function(){return Zn(2.5*(this.ior-1)/(this.ior+1),0,1)},set:function(n){this.ior=(1+.4*n)/(1-.4*n)}}),this.iridescenceMap=null,this.iridescenceIOR=1.3,this.iridescenceThicknessRange=[100,400],this.iridescenceThicknessMap=null,this.sheenColor=new at(0),this.sheenColorMap=null,this.sheenRoughness=1,this.sheenRoughnessMap=null,this.transmissionMap=null,this.thickness=0,this.thicknessMap=null,this.attenuationDistance=1/0,this.attenuationColor=new at(1,1,1),this.specularIntensity=1,this.specularIntensityMap=null,this.specularColor=new at(1,1,1),this.specularColorMap=null,this._anisotropy=0,this._clearcoat=0,this._iridescence=0,this._sheen=0,this._transmission=0,this.setValues(e)}get anisotropy(){return this._anisotropy}set anisotropy(e){this._anisotropy>0!=e>0&&this.version++,this._anisotropy=e}get clearcoat(){return this._clearcoat}set clearcoat(e){this._clearcoat>0!=e>0&&this.version++,this._clearcoat=e}get iridescence(){return this._iridescence}set iridescence(e){this._iridescence>0!=e>0&&this.version++,this._iridescence=e}get sheen(){return this._sheen}set sheen(e){this._sheen>0!=e>0&&this.version++,this._sheen=e}get transmission(){return this._transmission}set transmission(e){this._transmission>0!=e>0&&this.version++,this._transmission=e}copy(e){return super.copy(e),this.defines={STANDARD:"",PHYSICAL:""},this.anisotropy=e.anisotropy,this.anisotropyRotation=e.anisotropyRotation,this.anisotropyMap=e.anisotropyMap,this.clearcoat=e.clearcoat,this.clearcoatMap=e.clearcoatMap,this.clearcoatRoughness=e.clearcoatRoughness,this.clearcoatRoughnessMap=e.clearcoatRoughnessMap,this.clearcoatNormalMap=e.clearcoatNormalMap,this.clearcoatNormalScale.copy(e.clearcoatNormalScale),this.ior=e.ior,this.iridescence=e.iridescence,this.iridescenceMap=e.iridescenceMap,this.iridescenceIOR=e.iridescenceIOR,this.iridescenceThicknessRange=[...e.iridescenceThicknessRange],this.iridescenceThicknessMap=e.iridescenceThicknessMap,this.sheen=e.sheen,this.sheenColor.copy(e.sheenColor),this.sheenColorMap=e.sheenColorMap,this.sheenRoughness=e.sheenRoughness,this.sheenRoughnessMap=e.sheenRoughnessMap,this.transmission=e.transmission,this.transmissionMap=e.transmissionMap,this.thickness=e.thickness,this.thicknessMap=e.thicknessMap,this.attenuationDistance=e.attenuationDistance,this.attenuationColor.copy(e.attenuationColor),this.specularIntensity=e.specularIntensity,this.specularIntensityMap=e.specularIntensityMap,this.specularColor.copy(e.specularColor),this.specularColorMap=e.specularColorMap,this}}class Q8 extends Mi{constructor(e){super(),this.isMeshPhongMaterial=!0,this.type="MeshPhongMaterial",this.color=new at(16777215),this.specular=new at(1118481),this.shininess=30,this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ec,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=I0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.specular.copy(e.specular),this.shininess=e.shininess,this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class eH extends Mi{constructor(e){super(),this.isMeshToonMaterial=!0,this.defines={TOON:""},this.type="MeshToonMaterial",this.color=new at(16777215),this.map=null,this.gradientMap=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ec,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.gradientMap=e.gradientMap,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.fog=e.fog,this}}class tH extends Mi{constructor(e){super(),this.isMeshNormalMaterial=!0,this.type="MeshNormalMaterial",this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ec,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.wireframe=!1,this.wireframeLinewidth=1,this.flatShading=!1,this.setValues(e)}copy(e){return super.copy(e),this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.flatShading=e.flatShading,this}}class nH extends Mi{constructor(e){super(),this.isMeshLambertMaterial=!0,this.type="MeshLambertMaterial",this.color=new at(16777215),this.map=null,this.lightMap=null,this.lightMapIntensity=1,this.aoMap=null,this.aoMapIntensity=1,this.emissive=new at(0),this.emissiveIntensity=1,this.emissiveMap=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ec,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.specularMap=null,this.alphaMap=null,this.envMap=null,this.combine=I0,this.reflectivity=1,this.refractionRatio=.98,this.wireframe=!1,this.wireframeLinewidth=1,this.wireframeLinecap="round",this.wireframeLinejoin="round",this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.color.copy(e.color),this.map=e.map,this.lightMap=e.lightMap,this.lightMapIntensity=e.lightMapIntensity,this.aoMap=e.aoMap,this.aoMapIntensity=e.aoMapIntensity,this.emissive.copy(e.emissive),this.emissiveMap=e.emissiveMap,this.emissiveIntensity=e.emissiveIntensity,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.specularMap=e.specularMap,this.alphaMap=e.alphaMap,this.envMap=e.envMap,this.combine=e.combine,this.reflectivity=e.reflectivity,this.refractionRatio=e.refractionRatio,this.wireframe=e.wireframe,this.wireframeLinewidth=e.wireframeLinewidth,this.wireframeLinecap=e.wireframeLinecap,this.wireframeLinejoin=e.wireframeLinejoin,this.flatShading=e.flatShading,this.fog=e.fog,this}}class rH extends Mi{constructor(e){super(),this.isMeshMatcapMaterial=!0,this.defines={MATCAP:""},this.type="MeshMatcapMaterial",this.color=new at(16777215),this.matcap=null,this.map=null,this.bumpMap=null,this.bumpScale=1,this.normalMap=null,this.normalMapType=Ec,this.normalScale=new De(1,1),this.displacementMap=null,this.displacementScale=1,this.displacementBias=0,this.alphaMap=null,this.flatShading=!1,this.fog=!0,this.setValues(e)}copy(e){return super.copy(e),this.defines={MATCAP:""},this.color.copy(e.color),this.matcap=e.matcap,this.map=e.map,this.bumpMap=e.bumpMap,this.bumpScale=e.bumpScale,this.normalMap=e.normalMap,this.normalMapType=e.normalMapType,this.normalScale.copy(e.normalScale),this.displacementMap=e.displacementMap,this.displacementScale=e.displacementScale,this.displacementBias=e.displacementBias,this.alphaMap=e.alphaMap,this.flatShading=e.flatShading,this.fog=e.fog,this}}class iH extends zi{constructor(e){super(),this.isLineDashedMaterial=!0,this.type="LineDashedMaterial",this.scale=1,this.dashSize=3,this.gapSize=1,this.setValues(e)}copy(e){return super.copy(e),this.scale=e.scale,this.dashSize=e.dashSize,this.gapSize=e.gapSize,this}}function Tu(t,e,n){return!t||!n&&t.constructor===e?t:typeof e.BYTES_PER_ELEMENT=="number"?new e(t):Array.prototype.slice.call(t)}function sH(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function aH(t){function e(i,s){return t[i]-t[s]}const n=t.length,r=new Array(n);for(let i=0;i!==n;++i)r[i]=i;return r.sort(e),r}function GT(t,e,n){const r=t.length,i=new t.constructor(r);for(let s=0,a=0;a!==r;++s){const o=n[s]*e;for(let l=0;l!==e;++l)i[a++]=t[o+l]}return i}function IN(t,e,n,r){let i=1,s=t[0];for(;s!==void 0&&s[r]===void 0;)s=t[i++];if(s===void 0)return;let a=s[r];if(a!==void 0)if(Array.isArray(a))do a=s[r],a!==void 0&&(e.push(s.time),n.push.apply(n,a)),s=t[i++];while(s!==void 0);else if(a.toArray!==void 0)do a=s[r],a!==void 0&&(e.push(s.time),a.toArray(n,n.length)),s=t[i++];while(s!==void 0);else do a=s[r],a!==void 0&&(e.push(s.time),n.push(a)),s=t[i++];while(s!==void 0)}function uoe(t,e,n,r,i=30){const s=t.clone();s.name=e;const a=[];for(let l=0;l<s.tracks.length;++l){const c=s.tracks[l],u=c.getValueSize(),f=[],d=[];for(let p=0;p<c.times.length;++p){const v=c.times[p]*i;if(!(v<n||v>=r)){f.push(c.times[p]);for(let b=0;b<u;++b)d.push(c.values[p*u+b])}}f.length!==0&&(c.times=Tu(f,c.times.constructor),c.values=Tu(d,c.values.constructor),a.push(c))}s.tracks=a;let o=1/0;for(let l=0;l<s.tracks.length;++l)o>s.tracks[l].times[0]&&(o=s.tracks[l].times[0]);for(let l=0;l<s.tracks.length;++l)s.tracks[l].shift(-1*o);return s.resetDuration(),s}function foe(t,e=0,n=t,r=30){r<=0&&(r=30);const i=n.tracks.length,s=e/r;for(let a=0;a<i;++a){const o=n.tracks[a],l=o.ValueTypeName;if(l==="bool"||l==="string")continue;const c=t.tracks.find(function(y){return y.name===o.name&&y.ValueTypeName===l});if(c===void 0)continue;let u=0;const f=o.getValueSize();o.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(u=f/3);let d=0;const p=c.getValueSize();c.createInterpolant.isInterpolantFactoryMethodGLTFCubicSpline&&(d=p/3);const v=o.times.length-1;let b;if(s<=o.times[0]){const y=u,w=f-u;b=o.values.slice(y,w)}else if(s>=o.times[v]){const y=v*f+u,w=y+f-u;b=o.values.slice(y,w)}else{const y=o.createInterpolant(),w=u,_=f-u;y.evaluate(s),b=y.resultBuffer.slice(w,_)}l==="quaternion"&&new _i().fromArray(b).normalize().conjugate().toArray(b);const x=c.times.length;for(let y=0;y<x;++y){const w=y*p+d;if(l==="quaternion")_i.multiplyQuaternionsFlat(c.values,w,b,0,c.values,w);else{const _=p-d*2;for(let S=0;S<_;++S)c.values[w+S]-=b[S]}}}return t.blendMode=fN,t}const doe={convertArray:Tu,isTypedArray:sH,getKeyframeOrder:aH,sortedArray:GT,flattenJSON:IN,subclip:uoe,makeClipAdditive:foe};class V0{constructor(e,n,r,i){this.parameterPositions=e,this._cachedIndex=0,this.resultBuffer=i!==void 0?i:new n.constructor(r),this.sampleValues=n,this.valueSize=r,this.settings=null,this.DefaultSettings_={}}evaluate(e){const n=this.parameterPositions;let r=this._cachedIndex,i=n[r],s=n[r-1];e:{t:{let a;n:{r:if(!(e<i)){for(let o=r+2;;){if(i===void 0){if(e<s)break r;return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}if(r===o)break;if(s=i,i=n[++r],e<i)break t}a=n.length;break n}if(!(e>=s)){const o=n[1];e<o&&(r=2,s=o);for(let l=r-2;;){if(s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(r===l)break;if(i=s,s=n[--r-1],e>=s)break t}a=r,r=0;break n}break e}for(;r<a;){const o=r+a>>>1;e<n[o]?a=o:r=o+1}if(i=n[r],s=n[r-1],s===void 0)return this._cachedIndex=0,this.copySampleValue_(0);if(i===void 0)return r=n.length,this._cachedIndex=r,this.copySampleValue_(r-1)}this._cachedIndex=r,this.intervalChanged_(r,s,i)}return this.interpolate_(r,s,e,i)}getSettings_(){return this.settings||this.DefaultSettings_}copySampleValue_(e){const n=this.resultBuffer,r=this.sampleValues,i=this.valueSize,s=e*i;for(let a=0;a!==i;++a)n[a]=r[s+a];return n}interpolate_(){throw new Error("call to abstract method")}intervalChanged_(){}}class oH extends V0{constructor(e,n,r,i){super(e,n,r,i),this._weightPrev=-0,this._offsetPrev=-0,this._weightNext=-0,this._offsetNext=-0,this.DefaultSettings_={endingStart:Su,endingEnd:Su}}intervalChanged_(e,n,r){const i=this.parameterPositions;let s=e-2,a=e+1,o=i[s],l=i[a];if(o===void 0)switch(this.getSettings_().endingStart){case Mu:s=e,o=2*n-r;break;case Sg:s=i.length-2,o=n+i[s]-i[s+1];break;default:s=e,o=r}if(l===void 0)switch(this.getSettings_().endingEnd){case Mu:a=e,l=2*r-n;break;case Sg:a=1,l=r+i[1]-i[0];break;default:a=e-1,l=n}const c=(r-n)*.5,u=this.valueSize;this._weightPrev=c/(n-o),this._weightNext=c/(l-r),this._offsetPrev=s*u,this._offsetNext=a*u}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=this._offsetPrev,f=this._offsetNext,d=this._weightPrev,p=this._weightNext,v=(r-n)/(i-n),b=v*v,x=b*v,y=-d*x+2*d*b-d*v,w=(1+d)*x+(-1.5-2*d)*b+(-.5+d)*v+1,_=(-1-p)*x+(1.5+p)*b+.5*v,S=p*x-p*b;for(let M=0;M!==o;++M)s[M]=y*a[u+M]+w*a[c+M]+_*a[l+M]+S*a[f+M];return s}}class jN extends V0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=e*o,c=l-o,u=(r-n)/(i-n),f=1-u;for(let d=0;d!==o;++d)s[d]=a[c+d]*f+a[l+d]*u;return s}}class lH extends V0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e){return this.copySampleValue_(e-1)}}class Ua{constructor(e,n,r,i){if(e===void 0)throw new Error("THREE.KeyframeTrack: track name is undefined");if(n===void 0||n.length===0)throw new Error("THREE.KeyframeTrack: no keyframes in track named "+e);this.name=e,this.times=Tu(n,this.TimeBufferType),this.values=Tu(r,this.ValueBufferType),this.setInterpolation(i||this.DefaultInterpolation)}static toJSON(e){const n=e.constructor;let r;if(n.toJSON!==this.toJSON)r=n.toJSON(e);else{r={name:e.name,times:Tu(e.times,Array),values:Tu(e.values,Array)};const i=e.getInterpolation();i!==e.DefaultInterpolation&&(r.interpolation=i)}return r.type=e.ValueTypeName,r}InterpolantFactoryMethodDiscrete(e){return new lH(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodLinear(e){return new jN(this.times,this.values,this.getValueSize(),e)}InterpolantFactoryMethodSmooth(e){return new oH(this.times,this.values,this.getValueSize(),e)}setInterpolation(e){let n;switch(e){case _g:n=this.InterpolantFactoryMethodDiscrete;break;case wg:n=this.InterpolantFactoryMethodLinear;break;case Hx:n=this.InterpolantFactoryMethodSmooth;break}if(n===void 0){const r="unsupported interpolation for "+this.ValueTypeName+" keyframe track named "+this.name;if(this.createInterpolant===void 0)if(e!==this.DefaultInterpolation)this.setInterpolation(this.DefaultInterpolation);else throw new Error(r);return console.warn("THREE.KeyframeTrack:",r),this}return this.createInterpolant=n,this}getInterpolation(){switch(this.createInterpolant){case this.InterpolantFactoryMethodDiscrete:return _g;case this.InterpolantFactoryMethodLinear:return wg;case this.InterpolantFactoryMethodSmooth:return Hx}}getValueSize(){return this.values.length/this.times.length}shift(e){if(e!==0){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]+=e}return this}scale(e){if(e!==1){const n=this.times;for(let r=0,i=n.length;r!==i;++r)n[r]*=e}return this}trim(e,n){const r=this.times,i=r.length;let s=0,a=i-1;for(;s!==i&&r[s]<e;)++s;for(;a!==-1&&r[a]>n;)--a;if(++a,s!==0||a!==i){s>=a&&(a=Math.max(a,1),s=a-1);const o=this.getValueSize();this.times=r.slice(s,a),this.values=this.values.slice(s*o,a*o)}return this}validate(){let e=!0;const n=this.getValueSize();n-Math.floor(n)!==0&&(console.error("THREE.KeyframeTrack: Invalid value size in track.",this),e=!1);const r=this.times,i=this.values,s=r.length;s===0&&(console.error("THREE.KeyframeTrack: Track is empty.",this),e=!1);let a=null;for(let o=0;o!==s;o++){const l=r[o];if(typeof l=="number"&&isNaN(l)){console.error("THREE.KeyframeTrack: Time is not a valid number.",this,o,l),e=!1;break}if(a!==null&&a>l){console.error("THREE.KeyframeTrack: Out of order keys.",this,o,l,a),e=!1;break}a=l}if(i!==void 0&&sH(i))for(let o=0,l=i.length;o!==l;++o){const c=i[o];if(isNaN(c)){console.error("THREE.KeyframeTrack: Value is not a valid number.",this,o,c),e=!1;break}}return e}optimize(){const e=this.times.slice(),n=this.values.slice(),r=this.getValueSize(),i=this.getInterpolation()===Hx,s=e.length-1;let a=1;for(let o=1;o<s;++o){let l=!1;const c=e[o],u=e[o+1];if(c!==u&&(o!==1||c!==e[0]))if(i)l=!0;else{const f=o*r,d=f-r,p=f+r;for(let v=0;v!==r;++v){const b=n[f+v];if(b!==n[d+v]||b!==n[p+v]){l=!0;break}}}if(l){if(o!==a){e[a]=e[o];const f=o*r,d=a*r;for(let p=0;p!==r;++p)n[d+p]=n[f+p]}++a}}if(s>0){e[a]=e[s];for(let o=s*r,l=a*r,c=0;c!==r;++c)n[l+c]=n[o+c];++a}return a!==e.length?(this.times=e.slice(0,a),this.values=n.slice(0,a*r)):(this.times=e,this.values=n),this}clone(){const e=this.times.slice(),n=this.values.slice(),r=this.constructor,i=new r(this.name,e,n);return i.createInterpolant=this.createInterpolant,i}}Ua.prototype.TimeBufferType=Float32Array;Ua.prototype.ValueBufferType=Float32Array;Ua.prototype.DefaultInterpolation=wg;class df extends Ua{}df.prototype.ValueTypeName="bool";df.prototype.ValueBufferType=Array;df.prototype.DefaultInterpolation=_g;df.prototype.InterpolantFactoryMethodLinear=void 0;df.prototype.InterpolantFactoryMethodSmooth=void 0;class kN extends Ua{}kN.prototype.ValueTypeName="color";class Ig extends Ua{}Ig.prototype.ValueTypeName="number";class cH extends V0{constructor(e,n,r,i){super(e,n,r,i)}interpolate_(e,n,r,i){const s=this.resultBuffer,a=this.sampleValues,o=this.valueSize,l=(r-n)/(i-n);let c=e*o;for(let u=c+o;c!==u;c+=4)_i.slerpFlat(s,0,a,c-o,a,c,l);return s}}class Gh extends Ua{InterpolantFactoryMethodLinear(e){return new cH(this.times,this.values,this.getValueSize(),e)}}Gh.prototype.ValueTypeName="quaternion";Gh.prototype.DefaultInterpolation=wg;Gh.prototype.InterpolantFactoryMethodSmooth=void 0;class hf extends Ua{}hf.prototype.ValueTypeName="string";hf.prototype.ValueBufferType=Array;hf.prototype.DefaultInterpolation=_g;hf.prototype.InterpolantFactoryMethodLinear=void 0;hf.prototype.InterpolantFactoryMethodSmooth=void 0;class jg extends Ua{}jg.prototype.ValueTypeName="vector";class kg{constructor(e,n=-1,r,i=M_){this.name=e,this.tracks=r,this.duration=n,this.blendMode=i,this.uuid=Ns(),this.duration<0&&this.resetDuration()}static parse(e){const n=[],r=e.tracks,i=1/(e.fps||1);for(let a=0,o=r.length;a!==o;++a)n.push(poe(r[a]).scale(i));const s=new this(e.name,e.duration,n,e.blendMode);return s.uuid=e.uuid,s}static toJSON(e){const n=[],r=e.tracks,i={name:e.name,duration:e.duration,tracks:n,uuid:e.uuid,blendMode:e.blendMode};for(let s=0,a=r.length;s!==a;++s)n.push(Ua.toJSON(r[s]));return i}static CreateFromMorphTargetSequence(e,n,r,i){const s=n.length,a=[];for(let o=0;o<s;o++){let l=[],c=[];l.push((o+s-1)%s,o,(o+1)%s),c.push(0,1,0);const u=aH(l);l=GT(l,1,u),c=GT(c,1,u),!i&&l[0]===0&&(l.push(s),c.push(c[0])),a.push(new Ig(".morphTargetInfluences["+n[o].name+"]",l,c).scale(1/r))}return new this(e,-1,a)}static findByName(e,n){let r=e;if(!Array.isArray(e)){const i=e;r=i.geometry&&i.geometry.animations||i.animations}for(let i=0;i<r.length;i++)if(r[i].name===n)return r[i];return null}static CreateClipsFromMorphTargetSequences(e,n,r){const i={},s=/^([\w-]*?)([\d]+)$/;for(let o=0,l=e.length;o<l;o++){const c=e[o],u=c.name.match(s);if(u&&u.length>1){const f=u[1];let d=i[f];d||(i[f]=d=[]),d.push(c)}}const a=[];for(const o in i)a.push(this.CreateFromMorphTargetSequence(o,i[o],n,r));return a}static parseAnimation(e,n){if(!e)return console.error("THREE.AnimationClip: No animation in JSONLoader data."),null;const r=function(f,d,p,v,b){if(p.length!==0){const x=[],y=[];IN(p,x,y,v),x.length!==0&&b.push(new f(d,x,y))}},i=[],s=e.name||"default",a=e.fps||30,o=e.blendMode;let l=e.length||-1;const c=e.hierarchy||[];for(let f=0;f<c.length;f++){const d=c[f].keys;if(!(!d||d.length===0))if(d[0].morphTargets){const p={};let v;for(v=0;v<d.length;v++)if(d[v].morphTargets)for(let b=0;b<d[v].morphTargets.length;b++)p[d[v].morphTargets[b]]=-1;for(const b in p){const x=[],y=[];for(let w=0;w!==d[v].morphTargets.length;++w){const _=d[v];x.push(_.time),y.push(_.morphTarget===b?1:0)}i.push(new Ig(".morphTargetInfluence["+b+"]",x,y))}l=p.length*a}else{const p=".bones["+n[f].name+"]";r(jg,p+".position",d,"pos",i),r(Gh,p+".quaternion",d,"rot",i),r(jg,p+".scale",d,"scl",i)}}return i.length===0?null:new this(s,l,i,o)}resetDuration(){const e=this.tracks;let n=0;for(let r=0,i=e.length;r!==i;++r){const s=this.tracks[r];n=Math.max(n,s.times[s.times.length-1])}return this.duration=n,this}trim(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].trim(0,this.duration);return this}validate(){let e=!0;for(let n=0;n<this.tracks.length;n++)e=e&&this.tracks[n].validate();return e}optimize(){for(let e=0;e<this.tracks.length;e++)this.tracks[e].optimize();return this}clone(){const e=[];for(let n=0;n<this.tracks.length;n++)e.push(this.tracks[n].clone());return new this.constructor(this.name,this.duration,e,this.blendMode)}toJSON(){return this.constructor.toJSON(this)}}function hoe(t){switch(t.toLowerCase()){case"scalar":case"double":case"float":case"number":case"integer":return Ig;case"vector":case"vector2":case"vector3":case"vector4":return jg;case"color":return kN;case"quaternion":return Gh;case"bool":case"boolean":return df;case"string":return hf}throw new Error("THREE.KeyframeTrack: Unsupported typeName: "+t)}function poe(t){if(t.type===void 0)throw new Error("THREE.KeyframeTrack: track type undefined, can not parse");const e=hoe(t.type);if(t.times===void 0){const n=[],r=[];IN(t.keys,n,r,"value"),t.times=n,t.values=r}return e.parse!==void 0?e.parse(t):new e(t.name,t.times,t.values,t.interpolation)}const Ju={enabled:!1,files:{},add:function(t,e){this.enabled!==!1&&(this.files[t]=e)},get:function(t){if(this.enabled!==!1)return this.files[t]},remove:function(t){delete this.files[t]},clear:function(){this.files={}}};class DN{constructor(e,n,r){const i=this;let s=!1,a=0,o=0,l;const c=[];this.onStart=void 0,this.onLoad=e,this.onProgress=n,this.onError=r,this.itemStart=function(u){o++,s===!1&&i.onStart!==void 0&&i.onStart(u,a,o),s=!0},this.itemEnd=function(u){a++,i.onProgress!==void 0&&i.onProgress(u,a,o),a===o&&(s=!1,i.onLoad!==void 0&&i.onLoad())},this.itemError=function(u){i.onError!==void 0&&i.onError(u)},this.resolveURL=function(u){return l?l(u):u},this.setURLModifier=function(u){return l=u,this},this.addHandler=function(u,f){return c.push(u,f),this},this.removeHandler=function(u){const f=c.indexOf(u);return f!==-1&&c.splice(f,2),this},this.getHandler=function(u){for(let f=0,d=c.length;f<d;f+=2){const p=c[f],v=c[f+1];if(p.global&&(p.lastIndex=0),p.test(u))return v}return null}}}const uH=new DN;class os{constructor(e){this.manager=e!==void 0?e:uH,this.crossOrigin="anonymous",this.withCredentials=!1,this.path="",this.resourcePath="",this.requestHeader={}}load(){}loadAsync(e,n){const r=this;return new Promise(function(i,s){r.load(e,i,n,s)})}parse(){}setCrossOrigin(e){return this.crossOrigin=e,this}setWithCredentials(e){return this.withCredentials=e,this}setPath(e){return this.path=e,this}setResourcePath(e){return this.resourcePath=e,this}setRequestHeader(e){return this.requestHeader=e,this}}os.DEFAULT_MATERIAL_NAME="__DEFAULT";const jo={};class moe extends Error{constructor(e,n){super(e),this.response=n}}class ul extends os{constructor(e){super(e)}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=Ju.get(e);if(s!==void 0)return this.manager.itemStart(e),setTimeout(()=>{n&&n(s),this.manager.itemEnd(e)},0),s;if(jo[e]!==void 0){jo[e].push({onLoad:n,onProgress:r,onError:i});return}jo[e]=[],jo[e].push({onLoad:n,onProgress:r,onError:i});const a=new Request(e,{headers:new Headers(this.requestHeader),credentials:this.withCredentials?"include":"same-origin"}),o=this.mimeType,l=this.responseType;fetch(a).then(c=>{if(c.status===200||c.status===0){if(c.status===0&&console.warn("THREE.FileLoader: HTTP Status 0 received."),typeof ReadableStream>"u"||c.body===void 0||c.body.getReader===void 0)return c;const u=jo[e],f=c.body.getReader(),d=c.headers.get("Content-Length")||c.headers.get("X-File-Size"),p=d?parseInt(d):0,v=p!==0;let b=0;const x=new ReadableStream({start(y){w();function w(){f.read().then(({done:_,value:S})=>{if(_)y.close();else{b+=S.byteLength;const M=new ProgressEvent("progress",{lengthComputable:v,loaded:b,total:p});for(let E=0,A=u.length;E<A;E++){const C=u[E];C.onProgress&&C.onProgress(M)}y.enqueue(S),w()}})}}});return new Response(x)}else throw new moe(`fetch for "${c.url}" responded with ${c.status}: ${c.statusText}`,c)}).then(c=>{switch(l){case"arraybuffer":return c.arrayBuffer();case"blob":return c.blob();case"document":return c.text().then(u=>new DOMParser().parseFromString(u,o));case"json":return c.json();default:if(o===void 0)return c.text();{const f=/charset="?([^;"\s]*)"?/i.exec(o),d=f&&f[1]?f[1].toLowerCase():void 0,p=new TextDecoder(d);return c.arrayBuffer().then(v=>p.decode(v))}}}).then(c=>{Ju.add(e,c);const u=jo[e];delete jo[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onLoad&&p.onLoad(c)}}).catch(c=>{const u=jo[e];if(u===void 0)throw this.manager.itemError(e),c;delete jo[e];for(let f=0,d=u.length;f<d;f++){const p=u[f];p.onError&&p.onError(c)}this.manager.itemError(e)}).finally(()=>{this.manager.itemEnd(e)}),this.manager.itemStart(e)}setResponseType(e){return this.responseType=e,this}setMimeType(e){return this.mimeType=e,this}}class goe extends os{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new ul(this.manager);a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=[];for(let r=0;r<e.length;r++){const i=kg.parse(e[r]);n.push(i)}return n}}class voe extends os{constructor(e){super(e)}load(e,n,r,i){const s=this,a=[],o=new j_,l=new ul(this.manager);l.setPath(this.path),l.setResponseType("arraybuffer"),l.setRequestHeader(this.requestHeader),l.setWithCredentials(s.withCredentials);let c=0;function u(f){l.load(e[f],function(d){const p=s.parse(d,!0);a[f]={width:p.width,height:p.height,format:p.format,mipmaps:p.mipmaps},c+=1,c===6&&(p.mipmapCount===1&&(o.minFilter=Rn),o.image=a,o.format=p.format,o.needsUpdate=!0,n&&n(o))},r,i)}if(Array.isArray(e))for(let f=0,d=e.length;f<d;++f)u(f);else l.load(e,function(f){const d=s.parse(f,!0);if(d.isCubemap){const p=d.mipmaps.length/d.mipmapCount;for(let v=0;v<p;v++){a[v]={mipmaps:[]};for(let b=0;b<d.mipmapCount;b++)a[v].mipmaps.push(d.mipmaps[v*d.mipmapCount+b]),a[v].format=d.format,a[v].width=d.width,a[v].height=d.height}o.image=a}else o.image.width=d.width,o.image.height=d.height,o.mipmaps=d.mipmaps;d.mipmapCount===1&&(o.minFilter=Rn),o.format=d.format,o.needsUpdate=!0,n&&n(o)},r,i);return o}}class Dg extends os{constructor(e){super(e)}load(e,n,r,i){this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Ju.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o=Cg("img");function l(){u(),Ju.add(e,this),n&&n(this),s.manager.itemEnd(e)}function c(f){u(),i&&i(f),s.manager.itemError(e),s.manager.itemEnd(e)}function u(){o.removeEventListener("load",l,!1),o.removeEventListener("error",c,!1)}return o.addEventListener("load",l,!1),o.addEventListener("error",c,!1),e.slice(0,5)!=="data:"&&this.crossOrigin!==void 0&&(o.crossOrigin=this.crossOrigin),s.manager.itemStart(e),o.src=e,o}}class yoe extends os{constructor(e){super(e)}load(e,n,r,i){const s=new U0;s.colorSpace=Nr;const a=new Dg(this.manager);a.setCrossOrigin(this.crossOrigin),a.setPath(this.path);let o=0;function l(c){a.load(e[c],function(u){s.images[c]=u,o++,o===6&&(s.needsUpdate=!0,n&&n(s))},void 0,i)}for(let c=0;c<e.length;++c)l(c);return s}}class xoe extends os{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new qd,o=new ul(this.manager);return o.setResponseType("arraybuffer"),o.setRequestHeader(this.requestHeader),o.setPath(this.path),o.setWithCredentials(s.withCredentials),o.load(e,function(l){let c;try{c=s.parse(l)}catch(u){if(i!==void 0)i(u);else{console.error(u);return}}c.image!==void 0?a.image=c.image:c.data!==void 0&&(a.image.width=c.width,a.image.height=c.height,a.image.data=c.data),a.wrapS=c.wrapS!==void 0?c.wrapS:yi,a.wrapT=c.wrapT!==void 0?c.wrapT:yi,a.magFilter=c.magFilter!==void 0?c.magFilter:Rn,a.minFilter=c.minFilter!==void 0?c.minFilter:Rn,a.anisotropy=c.anisotropy!==void 0?c.anisotropy:1,c.colorSpace!==void 0?a.colorSpace=c.colorSpace:c.encoding!==void 0&&(a.encoding=c.encoding),c.flipY!==void 0&&(a.flipY=c.flipY),c.format!==void 0&&(a.format=c.format),c.type!==void 0&&(a.type=c.type),c.mipmaps!==void 0&&(a.mipmaps=c.mipmaps,a.minFilter=vc),c.mipmapCount===1&&(a.minFilter=Rn),c.generateMipmaps!==void 0&&(a.generateMipmaps=c.generateMipmaps),a.needsUpdate=!0,n&&n(a,c)},r,i),a}}class boe extends os{constructor(e){super(e)}load(e,n,r,i){const s=new Qn,a=new Dg(this.manager);return a.setCrossOrigin(this.crossOrigin),a.setPath(this.path),a.load(e,function(o){s.image=o,s.needsUpdate=!0,n!==void 0&&n(s)},r,i),s}}class Pc extends an{constructor(e,n=1){super(),this.isLight=!0,this.type="Light",this.color=new at(e),this.intensity=n}dispose(){}copy(e,n){return super.copy(e,n),this.color.copy(e.color),this.intensity=e.intensity,this}toJSON(e){const n=super.toJSON(e);return n.object.color=this.color.getHex(),n.object.intensity=this.intensity,this.groundColor!==void 0&&(n.object.groundColor=this.groundColor.getHex()),this.distance!==void 0&&(n.object.distance=this.distance),this.angle!==void 0&&(n.object.angle=this.angle),this.decay!==void 0&&(n.object.decay=this.decay),this.penumbra!==void 0&&(n.object.penumbra=this.penumbra),this.shadow!==void 0&&(n.object.shadow=this.shadow.toJSON()),n}}class fH extends Pc{constructor(e,n,r){super(e,r),this.isHemisphereLight=!0,this.type="HemisphereLight",this.position.copy(an.DEFAULT_UP),this.updateMatrix(),this.groundColor=new at(n)}copy(e,n){return super.copy(e,n),this.groundColor.copy(e.groundColor),this}}const nM=new Nt,dk=new Z,hk=new Z;class UN{constructor(e){this.camera=e,this.bias=0,this.normalBias=0,this.radius=1,this.blurSamples=8,this.mapSize=new De(512,512),this.map=null,this.mapPass=null,this.matrix=new Nt,this.autoUpdate=!0,this.needsUpdate=!1,this._frustum=new A_,this._frameExtents=new De(1,1),this._viewportCount=1,this._viewports=[new cn(0,0,1,1)]}getViewportCount(){return this._viewportCount}getFrustum(){return this._frustum}updateMatrices(e){const n=this.camera,r=this.matrix;dk.setFromMatrixPosition(e.matrixWorld),n.position.copy(dk),hk.setFromMatrixPosition(e.target.matrixWorld),n.lookAt(hk),n.updateMatrixWorld(),nM.multiplyMatrices(n.projectionMatrix,n.matrixWorldInverse),this._frustum.setFromProjectionMatrix(nM),r.set(.5,0,0,.5,0,.5,0,.5,0,0,.5,.5,0,0,0,1),r.multiply(nM)}getViewport(e){return this._viewports[e]}getFrameExtents(){return this._frameExtents}dispose(){this.map&&this.map.dispose(),this.mapPass&&this.mapPass.dispose()}copy(e){return this.camera=e.camera.clone(),this.bias=e.bias,this.radius=e.radius,this.mapSize.copy(e.mapSize),this}clone(){return new this.constructor().copy(this)}toJSON(){const e={};return this.bias!==0&&(e.bias=this.bias),this.normalBias!==0&&(e.normalBias=this.normalBias),this.radius!==1&&(e.radius=this.radius),(this.mapSize.x!==512||this.mapSize.y!==512)&&(e.mapSize=this.mapSize.toArray()),e.camera=this.camera.toJSON(!1).object,delete e.camera.matrix,e}}class _oe extends UN{constructor(){super(new or(50,1,.5,500)),this.isSpotLightShadow=!0,this.focus=1}updateMatrices(e){const n=this.camera,r=uh*2*e.angle*this.focus,i=this.mapSize.width/this.mapSize.height,s=e.distance||n.far;(r!==n.fov||i!==n.aspect||s!==n.far)&&(n.fov=r,n.aspect=i,n.far=s,n.updateProjectionMatrix()),super.updateMatrices(e)}copy(e){return super.copy(e),this.focus=e.focus,this}}class dH extends Pc{constructor(e,n,r=0,i=Math.PI/3,s=0,a=2){super(e,n),this.isSpotLight=!0,this.type="SpotLight",this.position.copy(an.DEFAULT_UP),this.updateMatrix(),this.target=new an,this.distance=r,this.angle=i,this.penumbra=s,this.decay=a,this.map=null,this.shadow=new _oe}get power(){return this.intensity*Math.PI}set power(e){this.intensity=e/Math.PI}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.angle=e.angle,this.penumbra=e.penumbra,this.decay=e.decay,this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}const pk=new Nt,Jp=new Z,rM=new Z;class woe extends UN{constructor(){super(new or(90,1,.5,500)),this.isPointLightShadow=!0,this._frameExtents=new De(4,2),this._viewportCount=6,this._viewports=[new cn(2,1,1,1),new cn(0,1,1,1),new cn(3,1,1,1),new cn(1,1,1,1),new cn(3,0,1,1),new cn(1,0,1,1)],this._cubeDirections=[new Z(1,0,0),new Z(-1,0,0),new Z(0,0,1),new Z(0,0,-1),new Z(0,1,0),new Z(0,-1,0)],this._cubeUps=[new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,1,0),new Z(0,0,1),new Z(0,0,-1)]}updateMatrices(e,n=0){const r=this.camera,i=this.matrix,s=e.distance||r.far;s!==r.far&&(r.far=s,r.updateProjectionMatrix()),Jp.setFromMatrixPosition(e.matrixWorld),r.position.copy(Jp),rM.copy(r.position),rM.add(this._cubeDirections[n]),r.up.copy(this._cubeUps[n]),r.lookAt(rM),r.updateMatrixWorld(),i.makeTranslation(-Jp.x,-Jp.y,-Jp.z),pk.multiplyMatrices(r.projectionMatrix,r.matrixWorldInverse),this._frustum.setFromProjectionMatrix(pk)}}class hH extends Pc{constructor(e,n,r=0,i=2){super(e,n),this.isPointLight=!0,this.type="PointLight",this.distance=r,this.decay=i,this.shadow=new woe}get power(){return this.intensity*4*Math.PI}set power(e){this.intensity=e/(4*Math.PI)}dispose(){this.shadow.dispose()}copy(e,n){return super.copy(e,n),this.distance=e.distance,this.decay=e.decay,this.shadow=e.shadow.clone(),this}}class Soe extends UN{constructor(){super(new cc(-5,5,5,-5,.5,500)),this.isDirectionalLightShadow=!0}}class pH extends Pc{constructor(e,n){super(e,n),this.isDirectionalLight=!0,this.type="DirectionalLight",this.position.copy(an.DEFAULT_UP),this.updateMatrix(),this.target=new an,this.shadow=new Soe}dispose(){this.shadow.dispose()}copy(e){return super.copy(e),this.target=e.target.clone(),this.shadow=e.shadow.clone(),this}}class mH extends Pc{constructor(e,n){super(e,n),this.isAmbientLight=!0,this.type="AmbientLight"}}class gH extends Pc{constructor(e,n,r=10,i=10){super(e,n),this.isRectAreaLight=!0,this.type="RectAreaLight",this.width=r,this.height=i}get power(){return this.intensity*this.width*this.height*Math.PI}set power(e){this.intensity=e/(this.width*this.height*Math.PI)}copy(e){return super.copy(e),this.width=e.width,this.height=e.height,this}toJSON(e){const n=super.toJSON(e);return n.object.width=this.width,n.object.height=this.height,n}}class vH{constructor(){this.isSphericalHarmonics3=!0,this.coefficients=[];for(let e=0;e<9;e++)this.coefficients.push(new Z)}set(e){for(let n=0;n<9;n++)this.coefficients[n].copy(e[n]);return this}zero(){for(let e=0;e<9;e++)this.coefficients[e].set(0,0,0);return this}getAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.282095),n.addScaledVector(a[1],.488603*i),n.addScaledVector(a[2],.488603*s),n.addScaledVector(a[3],.488603*r),n.addScaledVector(a[4],1.092548*(r*i)),n.addScaledVector(a[5],1.092548*(i*s)),n.addScaledVector(a[6],.315392*(3*s*s-1)),n.addScaledVector(a[7],1.092548*(r*s)),n.addScaledVector(a[8],.546274*(r*r-i*i)),n}getIrradianceAt(e,n){const r=e.x,i=e.y,s=e.z,a=this.coefficients;return n.copy(a[0]).multiplyScalar(.886227),n.addScaledVector(a[1],2*.511664*i),n.addScaledVector(a[2],2*.511664*s),n.addScaledVector(a[3],2*.511664*r),n.addScaledVector(a[4],2*.429043*r*i),n.addScaledVector(a[5],2*.429043*i*s),n.addScaledVector(a[6],.743125*s*s-.247708),n.addScaledVector(a[7],2*.429043*r*s),n.addScaledVector(a[8],.429043*(r*r-i*i)),n}add(e){for(let n=0;n<9;n++)this.coefficients[n].add(e.coefficients[n]);return this}addScaledSH(e,n){for(let r=0;r<9;r++)this.coefficients[r].addScaledVector(e.coefficients[r],n);return this}scale(e){for(let n=0;n<9;n++)this.coefficients[n].multiplyScalar(e);return this}lerp(e,n){for(let r=0;r<9;r++)this.coefficients[r].lerp(e.coefficients[r],n);return this}equals(e){for(let n=0;n<9;n++)if(!this.coefficients[n].equals(e.coefficients[n]))return!1;return!0}copy(e){return this.set(e.coefficients)}clone(){return new this.constructor().copy(this)}fromArray(e,n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].fromArray(e,n+i*3);return this}toArray(e=[],n=0){const r=this.coefficients;for(let i=0;i<9;i++)r[i].toArray(e,n+i*3);return e}static getBasisAt(e,n){const r=e.x,i=e.y,s=e.z;n[0]=.282095,n[1]=.488603*i,n[2]=.488603*s,n[3]=.488603*r,n[4]=1.092548*r*i,n[5]=1.092548*i*s,n[6]=.315392*(3*s*s-1),n[7]=1.092548*r*s,n[8]=.546274*(r*r-i*i)}}class yH extends Pc{constructor(e=new vH,n=1){super(void 0,n),this.isLightProbe=!0,this.sh=e}copy(e){return super.copy(e),this.sh.copy(e.sh),this}fromJSON(e){return this.intensity=e.intensity,this.sh.fromArray(e.sh),this}toJSON(e){const n=super.toJSON(e);return n.object.sh=this.sh.toArray(),n}}class K_ extends os{constructor(e){super(e),this.textures={}}load(e,n,r,i){const s=this,a=new ul(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n=this.textures;function r(s){return n[s]===void 0&&console.warn("THREE.MaterialLoader: Undefined texture",s),n[s]}const i=K_.createMaterialFromType(e.type);if(e.uuid!==void 0&&(i.uuid=e.uuid),e.name!==void 0&&(i.name=e.name),e.color!==void 0&&i.color!==void 0&&i.color.setHex(e.color),e.roughness!==void 0&&(i.roughness=e.roughness),e.metalness!==void 0&&(i.metalness=e.metalness),e.sheen!==void 0&&(i.sheen=e.sheen),e.sheenColor!==void 0&&(i.sheenColor=new at().setHex(e.sheenColor)),e.sheenRoughness!==void 0&&(i.sheenRoughness=e.sheenRoughness),e.emissive!==void 0&&i.emissive!==void 0&&i.emissive.setHex(e.emissive),e.specular!==void 0&&i.specular!==void 0&&i.specular.setHex(e.specular),e.specularIntensity!==void 0&&(i.specularIntensity=e.specularIntensity),e.specularColor!==void 0&&i.specularColor!==void 0&&i.specularColor.setHex(e.specularColor),e.shininess!==void 0&&(i.shininess=e.shininess),e.clearcoat!==void 0&&(i.clearcoat=e.clearcoat),e.clearcoatRoughness!==void 0&&(i.clearcoatRoughness=e.clearcoatRoughness),e.iridescence!==void 0&&(i.iridescence=e.iridescence),e.iridescenceIOR!==void 0&&(i.iridescenceIOR=e.iridescenceIOR),e.iridescenceThicknessRange!==void 0&&(i.iridescenceThicknessRange=e.iridescenceThicknessRange),e.transmission!==void 0&&(i.transmission=e.transmission),e.thickness!==void 0&&(i.thickness=e.thickness),e.attenuationDistance!==void 0&&(i.attenuationDistance=e.attenuationDistance),e.attenuationColor!==void 0&&i.attenuationColor!==void 0&&i.attenuationColor.setHex(e.attenuationColor),e.anisotropy!==void 0&&(i.anisotropy=e.anisotropy),e.anisotropyRotation!==void 0&&(i.anisotropyRotation=e.anisotropyRotation),e.fog!==void 0&&(i.fog=e.fog),e.flatShading!==void 0&&(i.flatShading=e.flatShading),e.blending!==void 0&&(i.blending=e.blending),e.combine!==void 0&&(i.combine=e.combine),e.side!==void 0&&(i.side=e.side),e.shadowSide!==void 0&&(i.shadowSide=e.shadowSide),e.opacity!==void 0&&(i.opacity=e.opacity),e.transparent!==void 0&&(i.transparent=e.transparent),e.alphaTest!==void 0&&(i.alphaTest=e.alphaTest),e.alphaHash!==void 0&&(i.alphaHash=e.alphaHash),e.depthTest!==void 0&&(i.depthTest=e.depthTest),e.depthWrite!==void 0&&(i.depthWrite=e.depthWrite),e.colorWrite!==void 0&&(i.colorWrite=e.colorWrite),e.stencilWrite!==void 0&&(i.stencilWrite=e.stencilWrite),e.stencilWriteMask!==void 0&&(i.stencilWriteMask=e.stencilWriteMask),e.stencilFunc!==void 0&&(i.stencilFunc=e.stencilFunc),e.stencilRef!==void 0&&(i.stencilRef=e.stencilRef),e.stencilFuncMask!==void 0&&(i.stencilFuncMask=e.stencilFuncMask),e.stencilFail!==void 0&&(i.stencilFail=e.stencilFail),e.stencilZFail!==void 0&&(i.stencilZFail=e.stencilZFail),e.stencilZPass!==void 0&&(i.stencilZPass=e.stencilZPass),e.wireframe!==void 0&&(i.wireframe=e.wireframe),e.wireframeLinewidth!==void 0&&(i.wireframeLinewidth=e.wireframeLinewidth),e.wireframeLinecap!==void 0&&(i.wireframeLinecap=e.wireframeLinecap),e.wireframeLinejoin!==void 0&&(i.wireframeLinejoin=e.wireframeLinejoin),e.rotation!==void 0&&(i.rotation=e.rotation),e.linewidth!==void 0&&(i.linewidth=e.linewidth),e.dashSize!==void 0&&(i.dashSize=e.dashSize),e.gapSize!==void 0&&(i.gapSize=e.gapSize),e.scale!==void 0&&(i.scale=e.scale),e.polygonOffset!==void 0&&(i.polygonOffset=e.polygonOffset),e.polygonOffsetFactor!==void 0&&(i.polygonOffsetFactor=e.polygonOffsetFactor),e.polygonOffsetUnits!==void 0&&(i.polygonOffsetUnits=e.polygonOffsetUnits),e.dithering!==void 0&&(i.dithering=e.dithering),e.alphaToCoverage!==void 0&&(i.alphaToCoverage=e.alphaToCoverage),e.premultipliedAlpha!==void 0&&(i.premultipliedAlpha=e.premultipliedAlpha),e.forceSinglePass!==void 0&&(i.forceSinglePass=e.forceSinglePass),e.visible!==void 0&&(i.visible=e.visible),e.toneMapped!==void 0&&(i.toneMapped=e.toneMapped),e.userData!==void 0&&(i.userData=e.userData),e.vertexColors!==void 0&&(typeof e.vertexColors=="number"?i.vertexColors=e.vertexColors>0:i.vertexColors=e.vertexColors),e.uniforms!==void 0)for(const s in e.uniforms){const a=e.uniforms[s];switch(i.uniforms[s]={},a.type){case"t":i.uniforms[s].value=r(a.value);break;case"c":i.uniforms[s].value=new at().setHex(a.value);break;case"v2":i.uniforms[s].value=new De().fromArray(a.value);break;case"v3":i.uniforms[s].value=new Z().fromArray(a.value);break;case"v4":i.uniforms[s].value=new cn().fromArray(a.value);break;case"m3":i.uniforms[s].value=new Dt().fromArray(a.value);break;case"m4":i.uniforms[s].value=new Nt().fromArray(a.value);break;default:i.uniforms[s].value=a.value}}if(e.defines!==void 0&&(i.defines=e.defines),e.vertexShader!==void 0&&(i.vertexShader=e.vertexShader),e.fragmentShader!==void 0&&(i.fragmentShader=e.fragmentShader),e.glslVersion!==void 0&&(i.glslVersion=e.glslVersion),e.extensions!==void 0)for(const s in e.extensions)i.extensions[s]=e.extensions[s];if(e.lights!==void 0&&(i.lights=e.lights),e.clipping!==void 0&&(i.clipping=e.clipping),e.size!==void 0&&(i.size=e.size),e.sizeAttenuation!==void 0&&(i.sizeAttenuation=e.sizeAttenuation),e.map!==void 0&&(i.map=r(e.map)),e.matcap!==void 0&&(i.matcap=r(e.matcap)),e.alphaMap!==void 0&&(i.alphaMap=r(e.alphaMap)),e.bumpMap!==void 0&&(i.bumpMap=r(e.bumpMap)),e.bumpScale!==void 0&&(i.bumpScale=e.bumpScale),e.normalMap!==void 0&&(i.normalMap=r(e.normalMap)),e.normalMapType!==void 0&&(i.normalMapType=e.normalMapType),e.normalScale!==void 0){let s=e.normalScale;Array.isArray(s)===!1&&(s=[s,s]),i.normalScale=new De().fromArray(s)}return e.displacementMap!==void 0&&(i.displacementMap=r(e.displacementMap)),e.displacementScale!==void 0&&(i.displacementScale=e.displacementScale),e.displacementBias!==void 0&&(i.displacementBias=e.displacementBias),e.roughnessMap!==void 0&&(i.roughnessMap=r(e.roughnessMap)),e.metalnessMap!==void 0&&(i.metalnessMap=r(e.metalnessMap)),e.emissiveMap!==void 0&&(i.emissiveMap=r(e.emissiveMap)),e.emissiveIntensity!==void 0&&(i.emissiveIntensity=e.emissiveIntensity),e.specularMap!==void 0&&(i.specularMap=r(e.specularMap)),e.specularIntensityMap!==void 0&&(i.specularIntensityMap=r(e.specularIntensityMap)),e.specularColorMap!==void 0&&(i.specularColorMap=r(e.specularColorMap)),e.envMap!==void 0&&(i.envMap=r(e.envMap)),e.envMapIntensity!==void 0&&(i.envMapIntensity=e.envMapIntensity),e.reflectivity!==void 0&&(i.reflectivity=e.reflectivity),e.refractionRatio!==void 0&&(i.refractionRatio=e.refractionRatio),e.lightMap!==void 0&&(i.lightMap=r(e.lightMap)),e.lightMapIntensity!==void 0&&(i.lightMapIntensity=e.lightMapIntensity),e.aoMap!==void 0&&(i.aoMap=r(e.aoMap)),e.aoMapIntensity!==void 0&&(i.aoMapIntensity=e.aoMapIntensity),e.gradientMap!==void 0&&(i.gradientMap=r(e.gradientMap)),e.clearcoatMap!==void 0&&(i.clearcoatMap=r(e.clearcoatMap)),e.clearcoatRoughnessMap!==void 0&&(i.clearcoatRoughnessMap=r(e.clearcoatRoughnessMap)),e.clearcoatNormalMap!==void 0&&(i.clearcoatNormalMap=r(e.clearcoatNormalMap)),e.clearcoatNormalScale!==void 0&&(i.clearcoatNormalScale=new De().fromArray(e.clearcoatNormalScale)),e.iridescenceMap!==void 0&&(i.iridescenceMap=r(e.iridescenceMap)),e.iridescenceThicknessMap!==void 0&&(i.iridescenceThicknessMap=r(e.iridescenceThicknessMap)),e.transmissionMap!==void 0&&(i.transmissionMap=r(e.transmissionMap)),e.thicknessMap!==void 0&&(i.thicknessMap=r(e.thicknessMap)),e.anisotropyMap!==void 0&&(i.anisotropyMap=r(e.anisotropyMap)),e.sheenColorMap!==void 0&&(i.sheenColorMap=r(e.sheenColorMap)),e.sheenRoughnessMap!==void 0&&(i.sheenRoughnessMap=r(e.sheenRoughnessMap)),i}setTextures(e){return this.textures=e,this}static createMaterialFromType(e){const n={ShadowMaterial:K8,SpriteMaterial:MN,RawShaderMaterial:Z8,ShaderMaterial:ca,PointsMaterial:TN,MeshPhysicalMaterial:J8,MeshStandardMaterial:LN,MeshPhongMaterial:Q8,MeshToonMaterial:eH,MeshNormalMaterial:tH,MeshLambertMaterial:nH,MeshDepthMaterial:C_,MeshDistanceMaterial:N_,MeshBasicMaterial:gl,MeshMatcapMaterial:rH,LineDashedMaterial:iH,LineBasicMaterial:zi,Material:Mi};return new n[e]}}class XT{static decodeText(e){if(typeof TextDecoder<"u")return new TextDecoder().decode(e);let n="";for(let r=0,i=e.length;r<i;r++)n+=String.fromCharCode(e[r]);try{return decodeURIComponent(escape(n))}catch{return n}}static extractUrlBase(e){const n=e.lastIndexOf("/");return n===-1?"./":e.slice(0,n+1)}static resolveURL(e,n){return typeof e!="string"||e===""?"":(/^https?:\/\//i.test(n)&&/^\//.test(e)&&(n=n.replace(/(^https?:\/\/[^\/]+).*/i,"$1")),/^(https?:)?\/\//i.test(e)||/^data:.*,.*$/i.test(e)||/^blob:.*$/i.test(e)?e:n+e)}}class FN extends Ht{constructor(){super(),this.isInstancedBufferGeometry=!0,this.type="InstancedBufferGeometry",this.instanceCount=1/0}copy(e){return super.copy(e),this.instanceCount=e.instanceCount,this}toJSON(){const e=super.toJSON();return e.instanceCount=this.instanceCount,e.isInstancedBufferGeometry=!0,e}}class xH extends os{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new ul(s.manager);a.setPath(s.path),a.setRequestHeader(s.requestHeader),a.setWithCredentials(s.withCredentials),a.load(e,function(o){try{n(s.parse(JSON.parse(o)))}catch(l){i?i(l):console.error(l),s.manager.itemError(e)}},r,i)}parse(e){const n={},r={};function i(p,v){if(n[v]!==void 0)return n[v];const x=p.interleavedBuffers[v],y=s(p,x.buffer),w=Rd(x.type,y),_=new L_(w,x.stride);return _.uuid=x.uuid,n[v]=_,_}function s(p,v){if(r[v]!==void 0)return r[v];const x=p.arrayBuffers[v],y=new Uint32Array(x).buffer;return r[v]=y,y}const a=e.isInstancedBufferGeometry?new FN:new Ht,o=e.data.index;if(o!==void 0){const p=Rd(o.type,o.array);a.setIndex(new fn(p,1))}const l=e.data.attributes;for(const p in l){const v=l[p];let b;if(v.isInterleavedBufferAttribute){const x=i(e.data,v.data);b=new Yu(x,v.itemSize,v.offset,v.normalized)}else{const x=Rd(v.type,v.array),y=v.isInstancedBufferAttribute?Ku:fn;b=new y(x,v.itemSize,v.normalized)}v.name!==void 0&&(b.name=v.name),v.usage!==void 0&&b.setUsage(v.usage),v.updateRange!==void 0&&(b.updateRange.offset=v.updateRange.offset,b.updateRange.count=v.updateRange.count),a.setAttribute(p,b)}const c=e.data.morphAttributes;if(c)for(const p in c){const v=c[p],b=[];for(let x=0,y=v.length;x<y;x++){const w=v[x];let _;if(w.isInterleavedBufferAttribute){const S=i(e.data,w.data);_=new Yu(S,w.itemSize,w.offset,w.normalized)}else{const S=Rd(w.type,w.array);_=new fn(S,w.itemSize,w.normalized)}w.name!==void 0&&(_.name=w.name),b.push(_)}a.morphAttributes[p]=b}e.data.morphTargetsRelative&&(a.morphTargetsRelative=!0);const f=e.data.groups||e.data.drawcalls||e.data.offsets;if(f!==void 0)for(let p=0,v=f.length;p!==v;++p){const b=f[p];a.addGroup(b.start,b.count,b.materialIndex)}const d=e.data.boundingSphere;if(d!==void 0){const p=new Z;d.center!==void 0&&p.fromArray(d.center),a.boundingSphere=new da(p,d.radius)}return e.name&&(a.name=e.name),e.userData&&(a.userData=e.userData),a}}class Moe extends os{constructor(e){super(e)}load(e,n,r,i){const s=this,a=this.path===""?XT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||a;const o=new ul(this.manager);o.setPath(this.path),o.setRequestHeader(this.requestHeader),o.setWithCredentials(this.withCredentials),o.load(e,function(l){let c=null;try{c=JSON.parse(l)}catch(f){i!==void 0&&i(f),console.error("THREE:ObjectLoader: Can't parse "+e+".",f.message);return}const u=c.metadata;if(u===void 0||u.type===void 0||u.type.toLowerCase()==="geometry"){i!==void 0&&i(new Error("THREE.ObjectLoader: Can't load "+e)),console.error("THREE.ObjectLoader: Can't load "+e);return}s.parse(c,n)},r,i)}async loadAsync(e,n){const r=this,i=this.path===""?XT.extractUrlBase(e):this.path;this.resourcePath=this.resourcePath||i;const s=new ul(this.manager);s.setPath(this.path),s.setRequestHeader(this.requestHeader),s.setWithCredentials(this.withCredentials);const a=await s.loadAsync(e,n),o=JSON.parse(a),l=o.metadata;if(l===void 0||l.type===void 0||l.type.toLowerCase()==="geometry")throw new Error("THREE.ObjectLoader: Can't load "+e);return await r.parseAsync(o)}parse(e,n){const r=this.parseAnimations(e.animations),i=this.parseShapes(e.shapes),s=this.parseGeometries(e.geometries,i),a=this.parseImages(e.images,function(){n!==void 0&&n(c)}),o=this.parseTextures(e.textures,a),l=this.parseMaterials(e.materials,o),c=this.parseObject(e.object,s,l,o,r),u=this.parseSkeletons(e.skeletons,c);if(this.bindSkeletons(c,u),n!==void 0){let f=!1;for(const d in a)if(a[d].data instanceof HTMLImageElement){f=!0;break}f===!1&&n(c)}return c}async parseAsync(e){const n=this.parseAnimations(e.animations),r=this.parseShapes(e.shapes),i=this.parseGeometries(e.geometries,r),s=await this.parseImagesAsync(e.images),a=this.parseTextures(e.textures,s),o=this.parseMaterials(e.materials,a),l=this.parseObject(e.object,i,o,a,n),c=this.parseSkeletons(e.skeletons,l);return this.bindSkeletons(l,c),l}parseShapes(e){const n={};if(e!==void 0)for(let r=0,i=e.length;r<i;r++){const s=new Du().fromJSON(e[r]);n[s.uuid]=s}return n}parseSkeletons(e,n){const r={},i={};if(n.traverse(function(s){s.isBone&&(i[s.uuid]=s)}),e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=new I_().fromJSON(e[s],i);r[o.uuid]=o}return r}parseGeometries(e,n){const r={};if(e!==void 0){const i=new xH;for(let s=0,a=e.length;s<a;s++){let o;const l=e[s];switch(l.type){case"BufferGeometry":case"InstancedBufferGeometry":o=i.parse(l);break;default:l.type in fk?o=fk[l.type].fromJSON(l,n):console.warn(`THREE.ObjectLoader: Unsupported geometry type "${l.type}"`)}o.uuid=l.uuid,l.name!==void 0&&(o.name=l.name),l.userData!==void 0&&(o.userData=l.userData),r[l.uuid]=o}}return r}parseMaterials(e,n){const r={},i={};if(e!==void 0){const s=new K_;s.setTextures(n);for(let a=0,o=e.length;a<o;a++){const l=e[a];r[l.uuid]===void 0&&(r[l.uuid]=s.parse(l)),i[l.uuid]=r[l.uuid]}}return i}parseAnimations(e){const n={};if(e!==void 0)for(let r=0;r<e.length;r++){const i=e[r],s=kg.parse(i);n[s.uuid]=s}return n}parseImages(e,n){const r=this,i={};let s;function a(l){return r.manager.itemStart(l),s.load(l,function(){r.manager.itemEnd(l)},void 0,function(){r.manager.itemError(l),r.manager.itemEnd(l)})}function o(l){if(typeof l=="string"){const c=l,u=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(c)?c:r.resourcePath+c;return a(u)}else return l.data?{data:Rd(l.type,l.data),width:l.width,height:l.height}:null}if(e!==void 0&&e.length>0){const l=new DN(n);s=new Dg(l),s.setCrossOrigin(this.crossOrigin);for(let c=0,u=e.length;c<u;c++){const f=e[c],d=f.url;if(Array.isArray(d)){const p=[];for(let v=0,b=d.length;v<b;v++){const x=d[v],y=o(x);y!==null&&(y instanceof HTMLImageElement?p.push(y):p.push(new qd(y.data,y.width,y.height)))}i[f.uuid]=new Eu(p)}else{const p=o(f.url);i[f.uuid]=new Eu(p)}}}return i}async parseImagesAsync(e){const n=this,r={};let i;async function s(a){if(typeof a=="string"){const o=a,l=/^(\/\/)|([a-z]+:(\/\/)?)/i.test(o)?o:n.resourcePath+o;return await i.loadAsync(l)}else return a.data?{data:Rd(a.type,a.data),width:a.width,height:a.height}:null}if(e!==void 0&&e.length>0){i=new Dg(this.manager),i.setCrossOrigin(this.crossOrigin);for(let a=0,o=e.length;a<o;a++){const l=e[a],c=l.url;if(Array.isArray(c)){const u=[];for(let f=0,d=c.length;f<d;f++){const p=c[f],v=await s(p);v!==null&&(v instanceof HTMLImageElement?u.push(v):u.push(new qd(v.data,v.width,v.height)))}r[l.uuid]=new Eu(u)}else{const u=await s(l.url);r[l.uuid]=new Eu(u)}}}return r}parseTextures(e,n){function r(s,a){return typeof s=="number"?s:(console.warn("THREE.ObjectLoader.parseTexture: Constant should be in numeric form.",s),a[s])}const i={};if(e!==void 0)for(let s=0,a=e.length;s<a;s++){const o=e[s];o.image===void 0&&console.warn('THREE.ObjectLoader: No "image" specified for',o.uuid),n[o.image]===void 0&&console.warn("THREE.ObjectLoader: Undefined image",o.image);const l=n[o.image],c=l.data;let u;Array.isArray(c)?(u=new U0,c.length===6&&(u.needsUpdate=!0)):(c&&c.data?u=new qd:u=new Qn,c&&(u.needsUpdate=!0)),u.source=l,u.uuid=o.uuid,o.name!==void 0&&(u.name=o.name),o.mapping!==void 0&&(u.mapping=r(o.mapping,Eoe)),o.channel!==void 0&&(u.channel=o.channel),o.offset!==void 0&&u.offset.fromArray(o.offset),o.repeat!==void 0&&u.repeat.fromArray(o.repeat),o.center!==void 0&&u.center.fromArray(o.center),o.rotation!==void 0&&(u.rotation=o.rotation),o.wrap!==void 0&&(u.wrapS=r(o.wrap[0],mk),u.wrapT=r(o.wrap[1],mk)),o.format!==void 0&&(u.format=o.format),o.internalFormat!==void 0&&(u.internalFormat=o.internalFormat),o.type!==void 0&&(u.type=o.type),o.colorSpace!==void 0&&(u.colorSpace=o.colorSpace),o.encoding!==void 0&&(u.encoding=o.encoding),o.minFilter!==void 0&&(u.minFilter=r(o.minFilter,gk)),o.magFilter!==void 0&&(u.magFilter=r(o.magFilter,gk)),o.anisotropy!==void 0&&(u.anisotropy=o.anisotropy),o.flipY!==void 0&&(u.flipY=o.flipY),o.generateMipmaps!==void 0&&(u.generateMipmaps=o.generateMipmaps),o.premultiplyAlpha!==void 0&&(u.premultiplyAlpha=o.premultiplyAlpha),o.unpackAlignment!==void 0&&(u.unpackAlignment=o.unpackAlignment),o.compareFunction!==void 0&&(u.compareFunction=o.compareFunction),o.userData!==void 0&&(u.userData=o.userData),i[o.uuid]=u}return i}parseObject(e,n,r,i,s){let a;function o(d){return n[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined geometry",d),n[d]}function l(d){if(d!==void 0){if(Array.isArray(d)){const p=[];for(let v=0,b=d.length;v<b;v++){const x=d[v];r[x]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",x),p.push(r[x])}return p}return r[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined material",d),r[d]}}function c(d){return i[d]===void 0&&console.warn("THREE.ObjectLoader: Undefined texture",d),i[d]}let u,f;switch(e.type){case"Scene":a=new SN,e.background!==void 0&&(Number.isInteger(e.background)?a.background=new at(e.background):a.background=c(e.background)),e.environment!==void 0&&(a.environment=c(e.environment)),e.fog!==void 0&&(e.fog.type==="Fog"?a.fog=new O_(e.fog.color,e.fog.near,e.fog.far):e.fog.type==="FogExp2"&&(a.fog=new R_(e.fog.color,e.fog.density)),e.fog.name!==""&&(a.fog.name=e.fog.name)),e.backgroundBlurriness!==void 0&&(a.backgroundBlurriness=e.backgroundBlurriness),e.backgroundIntensity!==void 0&&(a.backgroundIntensity=e.backgroundIntensity);break;case"PerspectiveCamera":a=new or(e.fov,e.aspect,e.near,e.far),e.focus!==void 0&&(a.focus=e.focus),e.zoom!==void 0&&(a.zoom=e.zoom),e.filmGauge!==void 0&&(a.filmGauge=e.filmGauge),e.filmOffset!==void 0&&(a.filmOffset=e.filmOffset),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"OrthographicCamera":a=new cc(e.left,e.right,e.top,e.bottom,e.near,e.far),e.zoom!==void 0&&(a.zoom=e.zoom),e.view!==void 0&&(a.view=Object.assign({},e.view));break;case"AmbientLight":a=new mH(e.color,e.intensity);break;case"DirectionalLight":a=new pH(e.color,e.intensity);break;case"PointLight":a=new hH(e.color,e.intensity,e.distance,e.decay);break;case"RectAreaLight":a=new gH(e.color,e.intensity,e.width,e.height);break;case"SpotLight":a=new dH(e.color,e.intensity,e.distance,e.angle,e.penumbra,e.decay);break;case"HemisphereLight":a=new fH(e.color,e.groundColor,e.intensity);break;case"LightProbe":a=new yH().fromJSON(e);break;case"SkinnedMesh":u=o(e.geometry),f=l(e.material),a=new k8(u,f),e.bindMode!==void 0&&(a.bindMode=e.bindMode),e.bindMatrix!==void 0&&a.bindMatrix.fromArray(e.bindMatrix),e.skeleton!==void 0&&(a.skeleton=e.skeleton);break;case"Mesh":u=o(e.geometry),f=l(e.material),a=new vr(u,f);break;case"InstancedMesh":u=o(e.geometry),f=l(e.material);const d=e.count,p=e.instanceMatrix,v=e.instanceColor;a=new D8(u,f,d),a.instanceMatrix=new Ku(new Float32Array(p.array),16),v!==void 0&&(a.instanceColor=new Ku(new Float32Array(v.array),v.itemSize));break;case"LOD":a=new j8;break;case"Line":a=new yc(o(e.geometry),l(e.material));break;case"LineLoop":a=new U8(o(e.geometry),l(e.material));break;case"LineSegments":a=new vo(o(e.geometry),l(e.material));break;case"PointCloud":case"Points":a=new F8(o(e.geometry),l(e.material));break;case"Sprite":a=new I8(l(e.material));break;case"Group":a=new Ld;break;case"Bone":a=new EN;break;default:a=new an}if(a.uuid=e.uuid,e.name!==void 0&&(a.name=e.name),e.matrix!==void 0?(a.matrix.fromArray(e.matrix),e.matrixAutoUpdate!==void 0&&(a.matrixAutoUpdate=e.matrixAutoUpdate),a.matrixAutoUpdate&&a.matrix.decompose(a.position,a.quaternion,a.scale)):(e.position!==void 0&&a.position.fromArray(e.position),e.rotation!==void 0&&a.rotation.fromArray(e.rotation),e.quaternion!==void 0&&a.quaternion.fromArray(e.quaternion),e.scale!==void 0&&a.scale.fromArray(e.scale)),e.up!==void 0&&a.up.fromArray(e.up),e.castShadow!==void 0&&(a.castShadow=e.castShadow),e.receiveShadow!==void 0&&(a.receiveShadow=e.receiveShadow),e.shadow&&(e.shadow.bias!==void 0&&(a.shadow.bias=e.shadow.bias),e.shadow.normalBias!==void 0&&(a.shadow.normalBias=e.shadow.normalBias),e.shadow.radius!==void 0&&(a.shadow.radius=e.shadow.radius),e.shadow.mapSize!==void 0&&a.shadow.mapSize.fromArray(e.shadow.mapSize),e.shadow.camera!==void 0&&(a.shadow.camera=this.parseObject(e.shadow.camera))),e.visible!==void 0&&(a.visible=e.visible),e.frustumCulled!==void 0&&(a.frustumCulled=e.frustumCulled),e.renderOrder!==void 0&&(a.renderOrder=e.renderOrder),e.userData!==void 0&&(a.userData=e.userData),e.layers!==void 0&&(a.layers.mask=e.layers),e.children!==void 0){const d=e.children;for(let p=0;p<d.length;p++)a.add(this.parseObject(d[p],n,r,i,s))}if(e.animations!==void 0){const d=e.animations;for(let p=0;p<d.length;p++){const v=d[p];a.animations.push(s[v])}}if(e.type==="LOD"){e.autoUpdate!==void 0&&(a.autoUpdate=e.autoUpdate);const d=e.levels;for(let p=0;p<d.length;p++){const v=d[p],b=a.getObjectByProperty("uuid",v.object);b!==void 0&&a.addLevel(b,v.distance,v.hysteresis)}}return a}bindSkeletons(e,n){Object.keys(n).length!==0&&e.traverse(function(r){if(r.isSkinnedMesh===!0&&r.skeleton!==void 0){const i=n[r.skeleton];i===void 0?console.warn("THREE.ObjectLoader: No skeleton found with UUID:",r.skeleton):r.bind(i,r.bindMatrix)}})}}const Eoe={UVMapping:w_,CubeReflectionMapping:cl,CubeRefractionMapping:gc,EquirectangularReflectionMapping:vg,EquirectangularRefractionMapping:yg,CubeUVReflectionMapping:Hh},mk={RepeatWrapping:xg,ClampToEdgeWrapping:yi,MirroredRepeatWrapping:bg},gk={NearestFilter:sr,NearestMipmapNearestFilter:D1,NearestMipmapLinearFilter:km,LinearFilter:Rn,LinearMipmapNearestFilter:iN,LinearMipmapLinearFilter:vc};class Toe extends os{constructor(e){super(e),this.isImageBitmapLoader=!0,typeof createImageBitmap>"u"&&console.warn("THREE.ImageBitmapLoader: createImageBitmap() not supported."),typeof fetch>"u"&&console.warn("THREE.ImageBitmapLoader: fetch() not supported."),this.options={premultiplyAlpha:"none"}}setOptions(e){return this.options=e,this}load(e,n,r,i){e===void 0&&(e=""),this.path!==void 0&&(e=this.path+e),e=this.manager.resolveURL(e);const s=this,a=Ju.get(e);if(a!==void 0)return s.manager.itemStart(e),setTimeout(function(){n&&n(a),s.manager.itemEnd(e)},0),a;const o={};o.credentials=this.crossOrigin==="anonymous"?"same-origin":"include",o.headers=this.requestHeader,fetch(e,o).then(function(l){return l.blob()}).then(function(l){return createImageBitmap(l,Object.assign(s.options,{colorSpaceConversion:"none"}))}).then(function(l){Ju.add(e,l),n&&n(l),s.manager.itemEnd(e)}).catch(function(l){i&&i(l),s.manager.itemError(e),s.manager.itemEnd(e)}),s.manager.itemStart(e)}}let Ky;class BN{static getContext(){return Ky===void 0&&(Ky=new(window.AudioContext||window.webkitAudioContext)),Ky}static setContext(e){Ky=e}}class Aoe extends os{constructor(e){super(e)}load(e,n,r,i){const s=this,a=new ul(this.manager);a.setResponseType("arraybuffer"),a.setPath(this.path),a.setRequestHeader(this.requestHeader),a.setWithCredentials(this.withCredentials),a.load(e,function(l){try{const c=l.slice(0);BN.getContext().decodeAudioData(c,function(f){n(f)},o)}catch(c){o(c)}},r,i);function o(l){i?i(l):console.error(l),s.manager.itemError(e)}}}const vk=new Nt,yk=new Nt,tu=new Nt;class Poe{constructor(){this.type="StereoCamera",this.aspect=1,this.eyeSep=.064,this.cameraL=new or,this.cameraL.layers.enable(1),this.cameraL.matrixAutoUpdate=!1,this.cameraR=new or,this.cameraR.layers.enable(2),this.cameraR.matrixAutoUpdate=!1,this._cache={focus:null,fov:null,aspect:null,near:null,far:null,zoom:null,eyeSep:null}}update(e){const n=this._cache;if(n.focus!==e.focus||n.fov!==e.fov||n.aspect!==e.aspect*this.aspect||n.near!==e.near||n.far!==e.far||n.zoom!==e.zoom||n.eyeSep!==this.eyeSep){n.focus=e.focus,n.fov=e.fov,n.aspect=e.aspect*this.aspect,n.near=e.near,n.far=e.far,n.zoom=e.zoom,n.eyeSep=this.eyeSep,tu.copy(e.projectionMatrix);const i=n.eyeSep/2,s=i*n.near/n.focus,a=n.near*Math.tan(ju*n.fov*.5)/n.zoom;let o,l;yk.elements[12]=-i,vk.elements[12]=i,o=-a*n.aspect+s,l=a*n.aspect+s,tu.elements[0]=2*n.near/(l-o),tu.elements[8]=(l+o)/(l-o),this.cameraL.projectionMatrix.copy(tu),o=-a*n.aspect-s,l=a*n.aspect-s,tu.elements[0]=2*n.near/(l-o),tu.elements[8]=(l+o)/(l-o),this.cameraR.projectionMatrix.copy(tu)}this.cameraL.matrixWorld.copy(e.matrixWorld).multiply(yk),this.cameraR.matrixWorld.copy(e.matrixWorld).multiply(vk)}}class zN{constructor(e=!0){this.autoStart=e,this.startTime=0,this.oldTime=0,this.elapsedTime=0,this.running=!1}start(){this.startTime=xk(),this.oldTime=this.startTime,this.elapsedTime=0,this.running=!0}stop(){this.getElapsedTime(),this.running=!1,this.autoStart=!1}getElapsedTime(){return this.getDelta(),this.elapsedTime}getDelta(){let e=0;if(this.autoStart&&!this.running)return this.start(),0;if(this.running){const n=xk();e=(n-this.oldTime)/1e3,this.oldTime=n,this.elapsedTime+=e}return e}}function xk(){return(typeof performance>"u"?Date:performance).now()}const nu=new Z,bk=new _i,Coe=new Z,ru=new Z;class Noe extends an{constructor(){super(),this.type="AudioListener",this.context=BN.getContext(),this.gain=this.context.createGain(),this.gain.connect(this.context.destination),this.filter=null,this.timeDelta=0,this._clock=new zN}getInput(){return this.gain}removeFilter(){return this.filter!==null&&(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination),this.gain.connect(this.context.destination),this.filter=null),this}getFilter(){return this.filter}setFilter(e){return this.filter!==null?(this.gain.disconnect(this.filter),this.filter.disconnect(this.context.destination)):this.gain.disconnect(this.context.destination),this.filter=e,this.gain.connect(this.filter),this.filter.connect(this.context.destination),this}getMasterVolume(){return this.gain.gain.value}setMasterVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}updateMatrixWorld(e){super.updateMatrixWorld(e);const n=this.context.listener,r=this.up;if(this.timeDelta=this._clock.getDelta(),this.matrixWorld.decompose(nu,bk,Coe),ru.set(0,0,-1).applyQuaternion(bk),n.positionX){const i=this.context.currentTime+this.timeDelta;n.positionX.linearRampToValueAtTime(nu.x,i),n.positionY.linearRampToValueAtTime(nu.y,i),n.positionZ.linearRampToValueAtTime(nu.z,i),n.forwardX.linearRampToValueAtTime(ru.x,i),n.forwardY.linearRampToValueAtTime(ru.y,i),n.forwardZ.linearRampToValueAtTime(ru.z,i),n.upX.linearRampToValueAtTime(r.x,i),n.upY.linearRampToValueAtTime(r.y,i),n.upZ.linearRampToValueAtTime(r.z,i)}else n.setPosition(nu.x,nu.y,nu.z),n.setOrientation(ru.x,ru.y,ru.z,r.x,r.y,r.z)}}class bH extends an{constructor(e){super(),this.type="Audio",this.listener=e,this.context=e.context,this.gain=this.context.createGain(),this.gain.connect(e.getInput()),this.autoplay=!1,this.buffer=null,this.detune=0,this.loop=!1,this.loopStart=0,this.loopEnd=0,this.offset=0,this.duration=void 0,this.playbackRate=1,this.isPlaying=!1,this.hasPlaybackControl=!0,this.source=null,this.sourceType="empty",this._startedAt=0,this._progress=0,this._connected=!1,this.filters=[]}getOutput(){return this.gain}setNodeSource(e){return this.hasPlaybackControl=!1,this.sourceType="audioNode",this.source=e,this.connect(),this}setMediaElementSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaNode",this.source=this.context.createMediaElementSource(e),this.connect(),this}setMediaStreamSource(e){return this.hasPlaybackControl=!1,this.sourceType="mediaStreamNode",this.source=this.context.createMediaStreamSource(e),this.connect(),this}setBuffer(e){return this.buffer=e,this.sourceType="buffer",this.autoplay&&this.play(),this}play(e=0){if(this.isPlaying===!0){console.warn("THREE.Audio: Audio is already playing.");return}if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}this._startedAt=this.context.currentTime+e;const n=this.context.createBufferSource();return n.buffer=this.buffer,n.loop=this.loop,n.loopStart=this.loopStart,n.loopEnd=this.loopEnd,n.onended=this.onEnded.bind(this),n.start(this._startedAt,this._progress+this.offset,this.duration),this.isPlaying=!0,this.source=n,this.setDetune(this.detune),this.setPlaybackRate(this.playbackRate),this.connect()}pause(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.isPlaying===!0&&(this._progress+=Math.max(this.context.currentTime-this._startedAt,0)*this.playbackRate,this.loop===!0&&(this._progress=this._progress%(this.duration||this.buffer.duration)),this.source.stop(),this.source.onended=null,this.isPlaying=!1),this}stop(){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this._progress=0,this.source!==null&&(this.source.stop(),this.source.onended=null),this.isPlaying=!1,this}connect(){if(this.filters.length>0){this.source.connect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].connect(this.filters[e]);this.filters[this.filters.length-1].connect(this.getOutput())}else this.source.connect(this.getOutput());return this._connected=!0,this}disconnect(){if(this._connected!==!1){if(this.filters.length>0){this.source.disconnect(this.filters[0]);for(let e=1,n=this.filters.length;e<n;e++)this.filters[e-1].disconnect(this.filters[e]);this.filters[this.filters.length-1].disconnect(this.getOutput())}else this.source.disconnect(this.getOutput());return this._connected=!1,this}}getFilters(){return this.filters}setFilters(e){return e||(e=[]),this._connected===!0?(this.disconnect(),this.filters=e.slice(),this.connect()):this.filters=e.slice(),this}setDetune(e){if(this.detune=e,this.source.detune!==void 0)return this.isPlaying===!0&&this.source.detune.setTargetAtTime(this.detune,this.context.currentTime,.01),this}getDetune(){return this.detune}getFilter(){return this.getFilters()[0]}setFilter(e){return this.setFilters(e?[e]:[])}setPlaybackRate(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.playbackRate=e,this.isPlaying===!0&&this.source.playbackRate.setTargetAtTime(this.playbackRate,this.context.currentTime,.01),this}getPlaybackRate(){return this.playbackRate}onEnded(){this.isPlaying=!1}getLoop(){return this.hasPlaybackControl===!1?(console.warn("THREE.Audio: this Audio has no playback control."),!1):this.loop}setLoop(e){if(this.hasPlaybackControl===!1){console.warn("THREE.Audio: this Audio has no playback control.");return}return this.loop=e,this.isPlaying===!0&&(this.source.loop=this.loop),this}setLoopStart(e){return this.loopStart=e,this}setLoopEnd(e){return this.loopEnd=e,this}getVolume(){return this.gain.gain.value}setVolume(e){return this.gain.gain.setTargetAtTime(e,this.context.currentTime,.01),this}}const iu=new Z,_k=new _i,Roe=new Z,su=new Z;class Ooe extends bH{constructor(e){super(e),this.panner=this.context.createPanner(),this.panner.panningModel="HRTF",this.panner.connect(this.gain)}connect(){super.connect(),this.panner.connect(this.gain)}disconnect(){super.disconnect(),this.panner.disconnect(this.gain)}getOutput(){return this.panner}getRefDistance(){return this.panner.refDistance}setRefDistance(e){return this.panner.refDistance=e,this}getRolloffFactor(){return this.panner.rolloffFactor}setRolloffFactor(e){return this.panner.rolloffFactor=e,this}getDistanceModel(){return this.panner.distanceModel}setDistanceModel(e){return this.panner.distanceModel=e,this}getMaxDistance(){return this.panner.maxDistance}setMaxDistance(e){return this.panner.maxDistance=e,this}setDirectionalCone(e,n,r){return this.panner.coneInnerAngle=e,this.panner.coneOuterAngle=n,this.panner.coneOuterGain=r,this}updateMatrixWorld(e){if(super.updateMatrixWorld(e),this.hasPlaybackControl===!0&&this.isPlaying===!1)return;this.matrixWorld.decompose(iu,_k,Roe),su.set(0,0,1).applyQuaternion(_k);const n=this.panner;if(n.positionX){const r=this.context.currentTime+this.listener.timeDelta;n.positionX.linearRampToValueAtTime(iu.x,r),n.positionY.linearRampToValueAtTime(iu.y,r),n.positionZ.linearRampToValueAtTime(iu.z,r),n.orientationX.linearRampToValueAtTime(su.x,r),n.orientationY.linearRampToValueAtTime(su.y,r),n.orientationZ.linearRampToValueAtTime(su.z,r)}else n.setPosition(iu.x,iu.y,iu.z),n.setOrientation(su.x,su.y,su.z)}}class Loe{constructor(e,n=2048){this.analyser=e.context.createAnalyser(),this.analyser.fftSize=n,this.data=new Uint8Array(this.analyser.frequencyBinCount),e.getOutput().connect(this.analyser)}getFrequencyData(){return this.analyser.getByteFrequencyData(this.data),this.data}getAverageFrequency(){let e=0;const n=this.getFrequencyData();for(let r=0;r<n.length;r++)e+=n[r];return e/n.length}}class _H{constructor(e,n,r){this.binding=e,this.valueSize=r;let i,s,a;switch(n){case"quaternion":i=this._slerp,s=this._slerpAdditive,a=this._setAdditiveIdentityQuaternion,this.buffer=new Float64Array(r*6),this._workIndex=5;break;case"string":case"bool":i=this._select,s=this._select,a=this._setAdditiveIdentityOther,this.buffer=new Array(r*5);break;default:i=this._lerp,s=this._lerpAdditive,a=this._setAdditiveIdentityNumeric,this.buffer=new Float64Array(r*5)}this._mixBufferRegion=i,this._mixBufferRegionAdditive=s,this._setIdentity=a,this._origIndex=3,this._addIndex=4,this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,this.useCount=0,this.referenceCount=0}accumulate(e,n){const r=this.buffer,i=this.valueSize,s=e*i+i;let a=this.cumulativeWeight;if(a===0){for(let o=0;o!==i;++o)r[s+o]=r[o];a=n}else{a+=n;const o=n/a;this._mixBufferRegion(r,s,0,o,i)}this.cumulativeWeight=a}accumulateAdditive(e){const n=this.buffer,r=this.valueSize,i=r*this._addIndex;this.cumulativeWeightAdditive===0&&this._setIdentity(),this._mixBufferRegionAdditive(n,i,0,e,r),this.cumulativeWeightAdditive+=e}apply(e){const n=this.valueSize,r=this.buffer,i=e*n+n,s=this.cumulativeWeight,a=this.cumulativeWeightAdditive,o=this.binding;if(this.cumulativeWeight=0,this.cumulativeWeightAdditive=0,s<1){const l=n*this._origIndex;this._mixBufferRegion(r,i,l,1-s,n)}a>0&&this._mixBufferRegionAdditive(r,i,this._addIndex*n,1,n);for(let l=n,c=n+n;l!==c;++l)if(r[l]!==r[l+n]){o.setValue(r,i);break}}saveOriginalState(){const e=this.binding,n=this.buffer,r=this.valueSize,i=r*this._origIndex;e.getValue(n,i);for(let s=r,a=i;s!==a;++s)n[s]=n[i+s%r];this._setIdentity(),this.cumulativeWeight=0,this.cumulativeWeightAdditive=0}restoreOriginalState(){const e=this.valueSize*3;this.binding.setValue(this.buffer,e)}_setAdditiveIdentityNumeric(){const e=this._addIndex*this.valueSize,n=e+this.valueSize;for(let r=e;r<n;r++)this.buffer[r]=0}_setAdditiveIdentityQuaternion(){this._setAdditiveIdentityNumeric(),this.buffer[this._addIndex*this.valueSize+3]=1}_setAdditiveIdentityOther(){const e=this._origIndex*this.valueSize,n=this._addIndex*this.valueSize;for(let r=0;r<this.valueSize;r++)this.buffer[n+r]=this.buffer[e+r]}_select(e,n,r,i,s){if(i>=.5)for(let a=0;a!==s;++a)e[n+a]=e[r+a]}_slerp(e,n,r,i){_i.slerpFlat(e,n,e,n,e,r,i)}_slerpAdditive(e,n,r,i,s){const a=this._workIndex*s;_i.multiplyQuaternionsFlat(e,a,e,n,e,r),_i.slerpFlat(e,n,e,n,e,a,i)}_lerp(e,n,r,i,s){const a=1-i;for(let o=0;o!==s;++o){const l=n+o;e[l]=e[l]*a+e[r+o]*i}}_lerpAdditive(e,n,r,i,s){for(let a=0;a!==s;++a){const o=n+a;e[o]=e[o]+e[r+a]*i}}}const VN="\\[\\]\\.:\\/",Ioe=new RegExp("["+VN+"]","g"),HN="[^"+VN+"]",joe="[^"+VN.replace("\\.","")+"]",koe=/((?:WC+[\/:])*)/.source.replace("WC",HN),Doe=/(WCOD+)?/.source.replace("WCOD",joe),Uoe=/(?:\.(WC+)(?:\[(.+)\])?)?/.source.replace("WC",HN),Foe=/\.(WC+)(?:\[(.+)\])?/.source.replace("WC",HN),Boe=new RegExp("^"+koe+Doe+Uoe+Foe+"$"),zoe=["material","materials","bones","map"];class Voe{constructor(e,n,r){const i=r||Jt.parseTrackName(n);this._targetGroup=e,this._bindings=e.subscribe_(n,i)}getValue(e,n){this.bind();const r=this._targetGroup.nCachedObjects_,i=this._bindings[r];i!==void 0&&i.getValue(e,n)}setValue(e,n){const r=this._bindings;for(let i=this._targetGroup.nCachedObjects_,s=r.length;i!==s;++i)r[i].setValue(e,n)}bind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].bind()}unbind(){const e=this._bindings;for(let n=this._targetGroup.nCachedObjects_,r=e.length;n!==r;++n)e[n].unbind()}}class Jt{constructor(e,n,r){this.path=n,this.parsedPath=r||Jt.parseTrackName(n),this.node=Jt.findNode(e,this.parsedPath.nodeName),this.rootNode=e,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}static create(e,n,r){return e&&e.isAnimationObjectGroup?new Jt.Composite(e,n,r):new Jt(e,n,r)}static sanitizeNodeName(e){return e.replace(/\s/g,"_").replace(Ioe,"")}static parseTrackName(e){const n=Boe.exec(e);if(n===null)throw new Error("PropertyBinding: Cannot parse trackName: "+e);const r={nodeName:n[2],objectName:n[3],objectIndex:n[4],propertyName:n[5],propertyIndex:n[6]},i=r.nodeName&&r.nodeName.lastIndexOf(".");if(i!==void 0&&i!==-1){const s=r.nodeName.substring(i+1);zoe.indexOf(s)!==-1&&(r.nodeName=r.nodeName.substring(0,i),r.objectName=s)}if(r.propertyName===null||r.propertyName.length===0)throw new Error("PropertyBinding: can not parse propertyName from trackName: "+e);return r}static findNode(e,n){if(n===void 0||n===""||n==="."||n===-1||n===e.name||n===e.uuid)return e;if(e.skeleton){const r=e.skeleton.getBoneByName(n);if(r!==void 0)return r}if(e.children){const r=function(s){for(let a=0;a<s.length;a++){const o=s[a];if(o.name===n||o.uuid===n)return o;const l=r(o.children);if(l)return l}return null},i=r(e.children);if(i)return i}return null}_getValue_unavailable(){}_setValue_unavailable(){}_getValue_direct(e,n){e[n]=this.targetObject[this.propertyName]}_getValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)e[n++]=r[i]}_getValue_arrayElement(e,n){e[n]=this.resolvedProperty[this.propertyIndex]}_getValue_toArray(e,n){this.resolvedProperty.toArray(e,n)}_setValue_direct(e,n){this.targetObject[this.propertyName]=e[n]}_setValue_direct_setNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.needsUpdate=!0}_setValue_direct_setMatrixWorldNeedsUpdate(e,n){this.targetObject[this.propertyName]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_array(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++]}_setValue_array_setNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.needsUpdate=!0}_setValue_array_setMatrixWorldNeedsUpdate(e,n){const r=this.resolvedProperty;for(let i=0,s=r.length;i!==s;++i)r[i]=e[n++];this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_arrayElement(e,n){this.resolvedProperty[this.propertyIndex]=e[n]}_setValue_arrayElement_setNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.needsUpdate=!0}_setValue_arrayElement_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty[this.propertyIndex]=e[n],this.targetObject.matrixWorldNeedsUpdate=!0}_setValue_fromArray(e,n){this.resolvedProperty.fromArray(e,n)}_setValue_fromArray_setNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.needsUpdate=!0}_setValue_fromArray_setMatrixWorldNeedsUpdate(e,n){this.resolvedProperty.fromArray(e,n),this.targetObject.matrixWorldNeedsUpdate=!0}_getValue_unbound(e,n){this.bind(),this.getValue(e,n)}_setValue_unbound(e,n){this.bind(),this.setValue(e,n)}bind(){let e=this.node;const n=this.parsedPath,r=n.objectName,i=n.propertyName;let s=n.propertyIndex;if(e||(e=Jt.findNode(this.rootNode,n.nodeName),this.node=e),this.getValue=this._getValue_unavailable,this.setValue=this._setValue_unavailable,!e){console.warn("THREE.PropertyBinding: No target node found for track: "+this.path+".");return}if(r){let c=n.objectIndex;switch(r){case"materials":if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.materials){console.error("THREE.PropertyBinding: Can not bind to material.materials as node.material does not have a materials array.",this);return}e=e.material.materials;break;case"bones":if(!e.skeleton){console.error("THREE.PropertyBinding: Can not bind to bones as node does not have a skeleton.",this);return}e=e.skeleton.bones;for(let u=0;u<e.length;u++)if(e[u].name===c){c=u;break}break;case"map":if("map"in e){e=e.map;break}if(!e.material){console.error("THREE.PropertyBinding: Can not bind to material as node does not have a material.",this);return}if(!e.material.map){console.error("THREE.PropertyBinding: Can not bind to material.map as node.material does not have a map.",this);return}e=e.material.map;break;default:if(e[r]===void 0){console.error("THREE.PropertyBinding: Can not bind to objectName of node undefined.",this);return}e=e[r]}if(c!==void 0){if(e[c]===void 0){console.error("THREE.PropertyBinding: Trying to bind to objectIndex of objectName, but is undefined.",this,e);return}e=e[c]}}const a=e[i];if(a===void 0){const c=n.nodeName;console.error("THREE.PropertyBinding: Trying to update property for track: "+c+"."+i+" but it wasn't found.",e);return}let o=this.Versioning.None;this.targetObject=e,e.needsUpdate!==void 0?o=this.Versioning.NeedsUpdate:e.matrixWorldNeedsUpdate!==void 0&&(o=this.Versioning.MatrixWorldNeedsUpdate);let l=this.BindingType.Direct;if(s!==void 0){if(i==="morphTargetInfluences"){if(!e.geometry){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.",this);return}if(!e.geometry.morphAttributes){console.error("THREE.PropertyBinding: Can not bind to morphTargetInfluences because node does not have a geometry.morphAttributes.",this);return}e.morphTargetDictionary[s]!==void 0&&(s=e.morphTargetDictionary[s])}l=this.BindingType.ArrayElement,this.resolvedProperty=a,this.propertyIndex=s}else a.fromArray!==void 0&&a.toArray!==void 0?(l=this.BindingType.HasFromToArray,this.resolvedProperty=a):Array.isArray(a)?(l=this.BindingType.EntireArray,this.resolvedProperty=a):this.propertyName=i;this.getValue=this.GetterByBindingType[l],this.setValue=this.SetterByBindingTypeAndVersioning[l][o]}unbind(){this.node=null,this.getValue=this._getValue_unbound,this.setValue=this._setValue_unbound}}Jt.Composite=Voe;Jt.prototype.BindingType={Direct:0,EntireArray:1,ArrayElement:2,HasFromToArray:3};Jt.prototype.Versioning={None:0,NeedsUpdate:1,MatrixWorldNeedsUpdate:2};Jt.prototype.GetterByBindingType=[Jt.prototype._getValue_direct,Jt.prototype._getValue_array,Jt.prototype._getValue_arrayElement,Jt.prototype._getValue_toArray];Jt.prototype.SetterByBindingTypeAndVersioning=[[Jt.prototype._setValue_direct,Jt.prototype._setValue_direct_setNeedsUpdate,Jt.prototype._setValue_direct_setMatrixWorldNeedsUpdate],[Jt.prototype._setValue_array,Jt.prototype._setValue_array_setNeedsUpdate,Jt.prototype._setValue_array_setMatrixWorldNeedsUpdate],[Jt.prototype._setValue_arrayElement,Jt.prototype._setValue_arrayElement_setNeedsUpdate,Jt.prototype._setValue_arrayElement_setMatrixWorldNeedsUpdate],[Jt.prototype._setValue_fromArray,Jt.prototype._setValue_fromArray_setNeedsUpdate,Jt.prototype._setValue_fromArray_setMatrixWorldNeedsUpdate]];class Hoe{constructor(){this.isAnimationObjectGroup=!0,this.uuid=Ns(),this._objects=Array.prototype.slice.call(arguments),this.nCachedObjects_=0;const e={};this._indicesByUUID=e;for(let r=0,i=arguments.length;r!==i;++r)e[arguments[r].uuid]=r;this._paths=[],this._parsedPaths=[],this._bindings=[],this._bindingsIndicesByPath={};const n=this;this.stats={objects:{get total(){return n._objects.length},get inUse(){return this.total-n.nCachedObjects_}},get bindingsPerObject(){return n._bindings.length}}}add(){const e=this._objects,n=this._indicesByUUID,r=this._paths,i=this._parsedPaths,s=this._bindings,a=s.length;let o,l=e.length,c=this.nCachedObjects_;for(let u=0,f=arguments.length;u!==f;++u){const d=arguments[u],p=d.uuid;let v=n[p];if(v===void 0){v=l++,n[p]=v,e.push(d);for(let b=0,x=a;b!==x;++b)s[b].push(new Jt(d,r[b],i[b]))}else if(v<c){o=e[v];const b=--c,x=e[b];n[x.uuid]=v,e[v]=x,n[p]=b,e[b]=d;for(let y=0,w=a;y!==w;++y){const _=s[y],S=_[b];let M=_[v];_[v]=S,M===void 0&&(M=new Jt(d,r[y],i[y])),_[b]=M}}else e[v]!==o&&console.error("THREE.AnimationObjectGroup: Different objects with the same UUID detected. Clean the caches or recreate your infrastructure when reloading scenes.")}this.nCachedObjects_=c}remove(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_;for(let a=0,o=arguments.length;a!==o;++a){const l=arguments[a],c=l.uuid,u=n[c];if(u!==void 0&&u>=s){const f=s++,d=e[f];n[d.uuid]=u,e[u]=d,n[c]=f,e[f]=l;for(let p=0,v=i;p!==v;++p){const b=r[p],x=b[f],y=b[u];b[u]=x,b[f]=y}}}this.nCachedObjects_=s}uncache(){const e=this._objects,n=this._indicesByUUID,r=this._bindings,i=r.length;let s=this.nCachedObjects_,a=e.length;for(let o=0,l=arguments.length;o!==l;++o){const c=arguments[o],u=c.uuid,f=n[u];if(f!==void 0)if(delete n[u],f<s){const d=--s,p=e[d],v=--a,b=e[v];n[p.uuid]=f,e[f]=p,n[b.uuid]=d,e[d]=b,e.pop();for(let x=0,y=i;x!==y;++x){const w=r[x],_=w[d],S=w[v];w[f]=_,w[d]=S,w.pop()}}else{const d=--a,p=e[d];d>0&&(n[p.uuid]=f),e[f]=p,e.pop();for(let v=0,b=i;v!==b;++v){const x=r[v];x[f]=x[d],x.pop()}}}this.nCachedObjects_=s}subscribe_(e,n){const r=this._bindingsIndicesByPath;let i=r[e];const s=this._bindings;if(i!==void 0)return s[i];const a=this._paths,o=this._parsedPaths,l=this._objects,c=l.length,u=this.nCachedObjects_,f=new Array(c);i=s.length,r[e]=i,a.push(e),o.push(n),s.push(f);for(let d=u,p=l.length;d!==p;++d){const v=l[d];f[d]=new Jt(v,e,n)}return f}unsubscribe_(e){const n=this._bindingsIndicesByPath,r=n[e];if(r!==void 0){const i=this._paths,s=this._parsedPaths,a=this._bindings,o=a.length-1,l=a[o],c=e[o];n[c]=r,a[r]=l,a.pop(),s[r]=s[o],s.pop(),i[r]=i[o],i.pop()}}}class wH{constructor(e,n,r=null,i=n.blendMode){this._mixer=e,this._clip=n,this._localRoot=r,this.blendMode=i;const s=n.tracks,a=s.length,o=new Array(a),l={endingStart:Su,endingEnd:Su};for(let c=0;c!==a;++c){const u=s[c].createInterpolant(null);o[c]=u,u.settings=l}this._interpolantSettings=l,this._interpolants=o,this._propertyBindings=new Array(a),this._cacheIndex=null,this._byClipCacheIndex=null,this._timeScaleInterpolant=null,this._weightInterpolant=null,this.loop=i8,this._loopCount=-1,this._startTime=null,this.time=0,this.timeScale=1,this._effectiveTimeScale=1,this.weight=1,this._effectiveWeight=1,this.repetitions=1/0,this.paused=!1,this.enabled=!0,this.clampWhenFinished=!1,this.zeroSlopeAtStart=!0,this.zeroSlopeAtEnd=!0}play(){return this._mixer._activateAction(this),this}stop(){return this._mixer._deactivateAction(this),this.reset()}reset(){return this.paused=!1,this.enabled=!0,this.time=0,this._loopCount=-1,this._startTime=null,this.stopFading().stopWarping()}isRunning(){return this.enabled&&!this.paused&&this.timeScale!==0&&this._startTime===null&&this._mixer._isActiveAction(this)}isScheduled(){return this._mixer._isActiveAction(this)}startAt(e){return this._startTime=e,this}setLoop(e,n){return this.loop=e,this.repetitions=n,this}setEffectiveWeight(e){return this.weight=e,this._effectiveWeight=this.enabled?e:0,this.stopFading()}getEffectiveWeight(){return this._effectiveWeight}fadeIn(e){return this._scheduleFading(e,0,1)}fadeOut(e){return this._scheduleFading(e,1,0)}crossFadeFrom(e,n,r){if(e.fadeOut(n),this.fadeIn(n),r){const i=this._clip.duration,s=e._clip.duration,a=s/i,o=i/s;e.warp(1,a,n),this.warp(o,1,n)}return this}crossFadeTo(e,n,r){return e.crossFadeFrom(this,n,r)}stopFading(){const e=this._weightInterpolant;return e!==null&&(this._weightInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}setEffectiveTimeScale(e){return this.timeScale=e,this._effectiveTimeScale=this.paused?0:e,this.stopWarping()}getEffectiveTimeScale(){return this._effectiveTimeScale}setDuration(e){return this.timeScale=this._clip.duration/e,this.stopWarping()}syncWith(e){return this.time=e.time,this.timeScale=e.timeScale,this.stopWarping()}halt(e){return this.warp(this._effectiveTimeScale,0,e)}warp(e,n,r){const i=this._mixer,s=i.time,a=this.timeScale;let o=this._timeScaleInterpolant;o===null&&(o=i._lendControlInterpolant(),this._timeScaleInterpolant=o);const l=o.parameterPositions,c=o.sampleValues;return l[0]=s,l[1]=s+r,c[0]=e/a,c[1]=n/a,this}stopWarping(){const e=this._timeScaleInterpolant;return e!==null&&(this._timeScaleInterpolant=null,this._mixer._takeBackControlInterpolant(e)),this}getMixer(){return this._mixer}getClip(){return this._clip}getRoot(){return this._localRoot||this._mixer._root}_update(e,n,r,i){if(!this.enabled){this._updateWeight(e);return}const s=this._startTime;if(s!==null){const l=(e-s)*r;l<0||r===0?n=0:(this._startTime=null,n=r*l)}n*=this._updateTimeScale(e);const a=this._updateTime(n),o=this._updateWeight(e);if(o>0){const l=this._interpolants,c=this._propertyBindings;switch(this.blendMode){case fN:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulateAdditive(o);break;case M_:default:for(let u=0,f=l.length;u!==f;++u)l[u].evaluate(a),c[u].accumulate(i,o)}}}_updateWeight(e){let n=0;if(this.enabled){n=this.weight;const r=this._weightInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopFading(),i===0&&(this.enabled=!1))}}return this._effectiveWeight=n,n}_updateTimeScale(e){let n=0;if(!this.paused){n=this.timeScale;const r=this._timeScaleInterpolant;if(r!==null){const i=r.evaluate(e)[0];n*=i,e>r.parameterPositions[1]&&(this.stopWarping(),n===0?this.paused=!0:this.timeScale=n)}}return this._effectiveTimeScale=n,n}_updateTime(e){const n=this._clip.duration,r=this.loop;let i=this.time+e,s=this._loopCount;const a=r===s8;if(e===0)return s===-1?i:a&&(s&1)===1?n-i:i;if(r===r8){s===-1&&(this._loopCount=0,this._setEndings(!0,!0,!1));e:{if(i>=n)i=n;else if(i<0)i=0;else{this.time=i;break e}this.clampWhenFinished?this.paused=!0:this.enabled=!1,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e<0?-1:1})}}else{if(s===-1&&(e>=0?(s=0,this._setEndings(!0,this.repetitions===0,a)):this._setEndings(this.repetitions===0,!0,a)),i>=n||i<0){const o=Math.floor(i/n);i-=n*o,s+=Math.abs(o);const l=this.repetitions-s;if(l<=0)this.clampWhenFinished?this.paused=!0:this.enabled=!1,i=e>0?n:0,this.time=i,this._mixer.dispatchEvent({type:"finished",action:this,direction:e>0?1:-1});else{if(l===1){const c=e<0;this._setEndings(c,!c,a)}else this._setEndings(!1,!1,a);this._loopCount=s,this.time=i,this._mixer.dispatchEvent({type:"loop",action:this,loopDelta:o})}}else this.time=i;if(a&&(s&1)===1)return n-i}return i}_setEndings(e,n,r){const i=this._interpolantSettings;r?(i.endingStart=Mu,i.endingEnd=Mu):(e?i.endingStart=this.zeroSlopeAtStart?Mu:Su:i.endingStart=Sg,n?i.endingEnd=this.zeroSlopeAtEnd?Mu:Su:i.endingEnd=Sg)}_scheduleFading(e,n,r){const i=this._mixer,s=i.time;let a=this._weightInterpolant;a===null&&(a=i._lendControlInterpolant(),this._weightInterpolant=a);const o=a.parameterPositions,l=a.sampleValues;return o[0]=s,l[0]=n,o[1]=s+e,l[1]=r,this}}const $oe=new Float32Array(1);class Woe extends ml{constructor(e){super(),this._root=e,this._initMemoryManager(),this._accuIndex=0,this.time=0,this.timeScale=1}_bindAction(e,n){const r=e._localRoot||this._root,i=e._clip.tracks,s=i.length,a=e._propertyBindings,o=e._interpolants,l=r.uuid,c=this._bindingsByRootAndName;let u=c[l];u===void 0&&(u={},c[l]=u);for(let f=0;f!==s;++f){const d=i[f],p=d.name;let v=u[p];if(v!==void 0)++v.referenceCount,a[f]=v;else{if(v=a[f],v!==void 0){v._cacheIndex===null&&(++v.referenceCount,this._addInactiveBinding(v,l,p));continue}const b=n&&n._propertyBindings[f].binding.parsedPath;v=new _H(Jt.create(r,p,b),d.ValueTypeName,d.getValueSize()),++v.referenceCount,this._addInactiveBinding(v,l,p),a[f]=v}o[f].resultBuffer=v.buffer}}_activateAction(e){if(!this._isActiveAction(e)){if(e._cacheIndex===null){const r=(e._localRoot||this._root).uuid,i=e._clip.uuid,s=this._actionsByClip[i];this._bindAction(e,s&&s.knownActions[0]),this._addInactiveAction(e,i,r)}const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];s.useCount++===0&&(this._lendBinding(s),s.saveOriginalState())}this._lendAction(e)}}_deactivateAction(e){if(this._isActiveAction(e)){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.useCount===0&&(s.restoreOriginalState(),this._takeBackBinding(s))}this._takeBackAction(e)}}_initMemoryManager(){this._actions=[],this._nActiveActions=0,this._actionsByClip={},this._bindings=[],this._nActiveBindings=0,this._bindingsByRootAndName={},this._controlInterpolants=[],this._nActiveControlInterpolants=0;const e=this;this.stats={actions:{get total(){return e._actions.length},get inUse(){return e._nActiveActions}},bindings:{get total(){return e._bindings.length},get inUse(){return e._nActiveBindings}},controlInterpolants:{get total(){return e._controlInterpolants.length},get inUse(){return e._nActiveControlInterpolants}}}}_isActiveAction(e){const n=e._cacheIndex;return n!==null&&n<this._nActiveActions}_addInactiveAction(e,n,r){const i=this._actions,s=this._actionsByClip;let a=s[n];if(a===void 0)a={knownActions:[e],actionByRoot:{}},e._byClipCacheIndex=0,s[n]=a;else{const o=a.knownActions;e._byClipCacheIndex=o.length,o.push(e)}e._cacheIndex=i.length,i.push(e),a.actionByRoot[r]=e}_removeInactiveAction(e){const n=this._actions,r=n[n.length-1],i=e._cacheIndex;r._cacheIndex=i,n[i]=r,n.pop(),e._cacheIndex=null;const s=e._clip.uuid,a=this._actionsByClip,o=a[s],l=o.knownActions,c=l[l.length-1],u=e._byClipCacheIndex;c._byClipCacheIndex=u,l[u]=c,l.pop(),e._byClipCacheIndex=null;const f=o.actionByRoot,d=(e._localRoot||this._root).uuid;delete f[d],l.length===0&&delete a[s],this._removeInactiveBindingsForAction(e)}_removeInactiveBindingsForAction(e){const n=e._propertyBindings;for(let r=0,i=n.length;r!==i;++r){const s=n[r];--s.referenceCount===0&&this._removeInactiveBinding(s)}}_lendAction(e){const n=this._actions,r=e._cacheIndex,i=this._nActiveActions++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackAction(e){const n=this._actions,r=e._cacheIndex,i=--this._nActiveActions,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_addInactiveBinding(e,n,r){const i=this._bindingsByRootAndName,s=this._bindings;let a=i[n];a===void 0&&(a={},i[n]=a),a[r]=e,e._cacheIndex=s.length,s.push(e)}_removeInactiveBinding(e){const n=this._bindings,r=e.binding,i=r.rootNode.uuid,s=r.path,a=this._bindingsByRootAndName,o=a[i],l=n[n.length-1],c=e._cacheIndex;l._cacheIndex=c,n[c]=l,n.pop(),delete o[s],Object.keys(o).length===0&&delete a[i]}_lendBinding(e){const n=this._bindings,r=e._cacheIndex,i=this._nActiveBindings++,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_takeBackBinding(e){const n=this._bindings,r=e._cacheIndex,i=--this._nActiveBindings,s=n[i];e._cacheIndex=i,n[i]=e,s._cacheIndex=r,n[r]=s}_lendControlInterpolant(){const e=this._controlInterpolants,n=this._nActiveControlInterpolants++;let r=e[n];return r===void 0&&(r=new jN(new Float32Array(2),new Float32Array(2),1,$oe),r.__cacheIndex=n,e[n]=r),r}_takeBackControlInterpolant(e){const n=this._controlInterpolants,r=e.__cacheIndex,i=--this._nActiveControlInterpolants,s=n[i];e.__cacheIndex=i,n[i]=e,s.__cacheIndex=r,n[r]=s}clipAction(e,n,r){const i=n||this._root,s=i.uuid;let a=typeof e=="string"?kg.findByName(i,e):e;const o=a!==null?a.uuid:e,l=this._actionsByClip[o];let c=null;if(r===void 0&&(a!==null?r=a.blendMode:r=M_),l!==void 0){const f=l.actionByRoot[s];if(f!==void 0&&f.blendMode===r)return f;c=l.knownActions[0],a===null&&(a=c._clip)}if(a===null)return null;const u=new wH(this,a,n,r);return this._bindAction(u,c),this._addInactiveAction(u,o,s),u}existingAction(e,n){const r=n||this._root,i=r.uuid,s=typeof e=="string"?kg.findByName(r,e):e,a=s?s.uuid:e,o=this._actionsByClip[a];return o!==void 0&&o.actionByRoot[i]||null}stopAllAction(){const e=this._actions,n=this._nActiveActions;for(let r=n-1;r>=0;--r)e[r].stop();return this}update(e){e*=this.timeScale;const n=this._actions,r=this._nActiveActions,i=this.time+=e,s=Math.sign(e),a=this._accuIndex^=1;for(let c=0;c!==r;++c)n[c]._update(i,e,s,a);const o=this._bindings,l=this._nActiveBindings;for(let c=0;c!==l;++c)o[c].apply(a);return this}setTime(e){this.time=0;for(let n=0;n<this._actions.length;n++)this._actions[n].time=0;return this.update(e)}getRoot(){return this._root}uncacheClip(e){const n=this._actions,r=e.uuid,i=this._actionsByClip,s=i[r];if(s!==void 0){const a=s.knownActions;for(let o=0,l=a.length;o!==l;++o){const c=a[o];this._deactivateAction(c);const u=c._cacheIndex,f=n[n.length-1];c._cacheIndex=null,c._byClipCacheIndex=null,f._cacheIndex=u,n[u]=f,n.pop(),this._removeInactiveBindingsForAction(c)}delete i[r]}}uncacheRoot(e){const n=e.uuid,r=this._actionsByClip;for(const a in r){const o=r[a].actionByRoot,l=o[n];l!==void 0&&(this._deactivateAction(l),this._removeInactiveAction(l))}const i=this._bindingsByRootAndName,s=i[n];if(s!==void 0)for(const a in s){const o=s[a];o.restoreOriginalState(),this._removeInactiveBinding(o)}}uncacheAction(e,n){const r=this.existingAction(e,n);r!==null&&(this._deactivateAction(r),this._removeInactiveAction(r))}}class $N{constructor(e){this.value=e}clone(){return new $N(this.value.clone===void 0?this.value:this.value.clone())}}let Goe=0;class Xoe extends ml{constructor(){super(),this.isUniformsGroup=!0,Object.defineProperty(this,"id",{value:Goe++}),this.name="",this.usage=Ag,this.uniforms=[]}add(e){return this.uniforms.push(e),this}remove(e){const n=this.uniforms.indexOf(e);return n!==-1&&this.uniforms.splice(n,1),this}setName(e){return this.name=e,this}setUsage(e){return this.usage=e,this}dispose(){return this.dispatchEvent({type:"dispose"}),this}copy(e){this.name=e.name,this.usage=e.usage;const n=e.uniforms;this.uniforms.length=0;for(let r=0,i=n.length;r<i;r++)this.uniforms.push(n[r].clone());return this}clone(){return new this.constructor().copy(this)}}class qoe extends L_{constructor(e,n,r=1){super(e,n),this.isInstancedInterleavedBuffer=!0,this.meshPerAttribute=r}copy(e){return super.copy(e),this.meshPerAttribute=e.meshPerAttribute,this}clone(e){const n=super.clone(e);return n.meshPerAttribute=this.meshPerAttribute,n}toJSON(e){const n=super.toJSON(e);return n.isInstancedInterleavedBuffer=!0,n.meshPerAttribute=this.meshPerAttribute,n}}class Yoe{constructor(e,n,r,i,s){this.isGLBufferAttribute=!0,this.name="",this.buffer=e,this.type=n,this.itemSize=r,this.elementSize=i,this.count=s,this.version=0}set needsUpdate(e){e===!0&&this.version++}setBuffer(e){return this.buffer=e,this}setType(e,n){return this.type=e,this.elementSize=n,this}setItemSize(e){return this.itemSize=e,this}setCount(e){return this.count=e,this}}class SH{constructor(e,n,r=0,i=1/0){this.ray=new uf(e,n),this.near=r,this.far=i,this.camera=null,this.layers=new ku,this.params={Mesh:{},Line:{threshold:1},LOD:{},Points:{threshold:1},Sprite:{}}}set(e,n){this.ray.set(e,n)}setFromCamera(e,n){n.isPerspectiveCamera?(this.ray.origin.setFromMatrixPosition(n.matrixWorld),this.ray.direction.set(e.x,e.y,.5).unproject(n).sub(this.ray.origin).normalize(),this.camera=n):n.isOrthographicCamera?(this.ray.origin.set(e.x,e.y,(n.near+n.far)/(n.near-n.far)).unproject(n),this.ray.direction.set(0,0,-1).transformDirection(n.matrixWorld),this.camera=n):console.error("THREE.Raycaster: Unsupported camera type: "+n.type)}intersectObject(e,n=!0,r=[]){return qT(e,this,r,n),r.sort(wk),r}intersectObjects(e,n=!0,r=[]){for(let i=0,s=e.length;i<s;i++)qT(e[i],this,r,n);return r.sort(wk),r}}function wk(t,e){return t.distance-e.distance}function qT(t,e,n,r){if(t.layers.test(e.layers)&&t.raycast(e,n),r===!0){const i=t.children;for(let s=0,a=i.length;s<a;s++)qT(i[s],e,n,!0)}}class YT{constructor(e=1,n=0,r=0){return this.radius=e,this.phi=n,this.theta=r,this}set(e,n,r){return this.radius=e,this.phi=n,this.theta=r,this}copy(e){return this.radius=e.radius,this.phi=e.phi,this.theta=e.theta,this}makeSafe(){return this.phi=Math.max(1e-6,Math.min(Math.PI-1e-6,this.phi)),this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+n*n+r*r),this.radius===0?(this.theta=0,this.phi=0):(this.theta=Math.atan2(e,r),this.phi=Math.acos(Zn(n/this.radius,-1,1))),this}clone(){return new this.constructor().copy(this)}}class Koe{constructor(e=1,n=0,r=0){return this.radius=e,this.theta=n,this.y=r,this}set(e,n,r){return this.radius=e,this.theta=n,this.y=r,this}copy(e){return this.radius=e.radius,this.theta=e.theta,this.y=e.y,this}setFromVector3(e){return this.setFromCartesianCoords(e.x,e.y,e.z)}setFromCartesianCoords(e,n,r){return this.radius=Math.sqrt(e*e+r*r),this.theta=Math.atan2(e,r),this.y=n,this}clone(){return new this.constructor().copy(this)}}const Sk=new De;class Zoe{constructor(e=new De(1/0,1/0),n=new De(-1/0,-1/0)){this.isBox2=!0,this.min=e,this.max=n}set(e,n){return this.min.copy(e),this.max.copy(n),this}setFromPoints(e){this.makeEmpty();for(let n=0,r=e.length;n<r;n++)this.expandByPoint(e[n]);return this}setFromCenterAndSize(e,n){const r=Sk.copy(n).multiplyScalar(.5);return this.min.copy(e).sub(r),this.max.copy(e).add(r),this}clone(){return new this.constructor().copy(this)}copy(e){return this.min.copy(e.min),this.max.copy(e.max),this}makeEmpty(){return this.min.x=this.min.y=1/0,this.max.x=this.max.y=-1/0,this}isEmpty(){return this.max.x<this.min.x||this.max.y<this.min.y}getCenter(e){return this.isEmpty()?e.set(0,0):e.addVectors(this.min,this.max).multiplyScalar(.5)}getSize(e){return this.isEmpty()?e.set(0,0):e.subVectors(this.max,this.min)}expandByPoint(e){return this.min.min(e),this.max.max(e),this}expandByVector(e){return this.min.sub(e),this.max.add(e),this}expandByScalar(e){return this.min.addScalar(-e),this.max.addScalar(e),this}containsPoint(e){return!(e.x<this.min.x||e.x>this.max.x||e.y<this.min.y||e.y>this.max.y)}containsBox(e){return this.min.x<=e.min.x&&e.max.x<=this.max.x&&this.min.y<=e.min.y&&e.max.y<=this.max.y}getParameter(e,n){return n.set((e.x-this.min.x)/(this.max.x-this.min.x),(e.y-this.min.y)/(this.max.y-this.min.y))}intersectsBox(e){return!(e.max.x<this.min.x||e.min.x>this.max.x||e.max.y<this.min.y||e.min.y>this.max.y)}clampPoint(e,n){return n.copy(e).clamp(this.min,this.max)}distanceToPoint(e){return this.clampPoint(e,Sk).distanceTo(e)}intersect(e){return this.min.max(e.min),this.max.min(e.max),this.isEmpty()&&this.makeEmpty(),this}union(e){return this.min.min(e.min),this.max.max(e.max),this}translate(e){return this.min.add(e),this.max.add(e),this}equals(e){return e.min.equals(this.min)&&e.max.equals(this.max)}}const Mk=new Z,Zy=new Z;class Joe{constructor(e=new Z,n=new Z){this.start=e,this.end=n}set(e,n){return this.start.copy(e),this.end.copy(n),this}copy(e){return this.start.copy(e.start),this.end.copy(e.end),this}getCenter(e){return e.addVectors(this.start,this.end).multiplyScalar(.5)}delta(e){return e.subVectors(this.end,this.start)}distanceSq(){return this.start.distanceToSquared(this.end)}distance(){return this.start.distanceTo(this.end)}at(e,n){return this.delta(n).multiplyScalar(e).add(this.start)}closestPointToPointParameter(e,n){Mk.subVectors(e,this.start),Zy.subVectors(this.end,this.start);const r=Zy.dot(Zy);let s=Zy.dot(Mk)/r;return n&&(s=Zn(s,0,1)),s}closestPointToPoint(e,n,r){const i=this.closestPointToPointParameter(e,n);return this.delta(r).multiplyScalar(i).add(this.start)}applyMatrix4(e){return this.start.applyMatrix4(e),this.end.applyMatrix4(e),this}equals(e){return e.start.equals(this.start)&&e.end.equals(this.end)}clone(){return new this.constructor().copy(this)}}const Ek=new Z;class Qoe extends an{constructor(e,n){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=n,this.type="SpotLightHelper";const r=new Ht,i=[0,0,0,0,0,1,0,0,0,1,0,1,0,0,0,-1,0,1,0,0,0,0,1,1,0,0,0,0,-1,1];for(let a=0,o=1,l=32;a<l;a++,o++){const c=a/l*Math.PI*2,u=o/l*Math.PI*2;i.push(Math.cos(c),Math.sin(c),1,Math.cos(u),Math.sin(u),1)}r.setAttribute("position",new dt(i,3));const s=new zi({fog:!1,toneMapped:!1});this.cone=new vo(r,s),this.add(this.cone),this.update()}dispose(){this.cone.geometry.dispose(),this.cone.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1);const e=this.light.distance?this.light.distance:1e3,n=e*Math.tan(this.light.angle);this.cone.scale.set(n,n,e),Ek.setFromMatrixPosition(this.light.target.matrixWorld),this.cone.lookAt(Ek),this.color!==void 0?this.cone.material.color.set(this.color):this.cone.material.color.copy(this.light.color)}}const kl=new Z,Jy=new Nt,iM=new Nt;class ele extends vo{constructor(e){const n=MH(e),r=new Ht,i=[],s=[],a=new at(0,0,1),o=new at(0,1,0);for(let c=0;c<n.length;c++){const u=n[c];u.parent&&u.parent.isBone&&(i.push(0,0,0),i.push(0,0,0),s.push(a.r,a.g,a.b),s.push(o.r,o.g,o.b))}r.setAttribute("position",new dt(i,3)),r.setAttribute("color",new dt(s,3));const l=new zi({vertexColors:!0,depthTest:!1,depthWrite:!1,toneMapped:!1,transparent:!0});super(r,l),this.isSkeletonHelper=!0,this.type="SkeletonHelper",this.root=e,this.bones=n,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1}updateMatrixWorld(e){const n=this.bones,r=this.geometry,i=r.getAttribute("position");iM.copy(this.root.matrixWorld).invert();for(let s=0,a=0;s<n.length;s++){const o=n[s];o.parent&&o.parent.isBone&&(Jy.multiplyMatrices(iM,o.matrixWorld),kl.setFromMatrixPosition(Jy),i.setXYZ(a,kl.x,kl.y,kl.z),Jy.multiplyMatrices(iM,o.parent.matrixWorld),kl.setFromMatrixPosition(Jy),i.setXYZ(a+1,kl.x,kl.y,kl.z),a+=2)}r.getAttribute("position").needsUpdate=!0,super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose()}}function MH(t){const e=[];t.isBone===!0&&e.push(t);for(let n=0;n<t.children.length;n++)e.push.apply(e,MH(t.children[n]));return e}class tle extends vr{constructor(e,n,r){const i=new z0(n,4,2),s=new gl({wireframe:!0,fog:!1,toneMapped:!1});super(i,s),this.light=e,this.color=r,this.type="PointLightHelper",this.matrix=this.light.matrixWorld,this.matrixAutoUpdate=!1,this.update()}dispose(){this.geometry.dispose(),this.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.color!==void 0?this.material.color.set(this.color):this.material.color.copy(this.light.color)}}const nle=new Z,Tk=new at,Ak=new at;class rle extends an{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="HemisphereLightHelper";const i=new B0(n);i.rotateY(Math.PI*.5),this.material=new gl({wireframe:!0,fog:!1,toneMapped:!1}),this.color===void 0&&(this.material.vertexColors=!0);const s=i.getAttribute("position"),a=new Float32Array(s.count*3);i.setAttribute("color",new fn(a,3)),this.add(new vr(i,this.material)),this.update()}dispose(){this.children[0].geometry.dispose(),this.children[0].material.dispose()}update(){const e=this.children[0];if(this.color!==void 0)this.material.color.set(this.color);else{const n=e.geometry.getAttribute("color");Tk.copy(this.light.color),Ak.copy(this.light.groundColor);for(let r=0,i=n.count;r<i;r++){const s=r<i/2?Tk:Ak;n.setXYZ(r,s.r,s.g,s.b)}n.needsUpdate=!0}this.light.updateWorldMatrix(!0,!1),e.lookAt(nle.setFromMatrixPosition(this.light.matrixWorld).negate())}}class ile extends vo{constructor(e=10,n=10,r=4473924,i=8947848){r=new at(r),i=new at(i);const s=n/2,a=e/n,o=e/2,l=[],c=[];for(let d=0,p=0,v=-o;d<=n;d++,v+=a){l.push(-o,0,v,o,0,v),l.push(v,0,-o,v,0,o);const b=d===s?r:i;b.toArray(c,p),p+=3,b.toArray(c,p),p+=3,b.toArray(c,p),p+=3,b.toArray(c,p),p+=3}const u=new Ht;u.setAttribute("position",new dt(l,3)),u.setAttribute("color",new dt(c,3));const f=new zi({vertexColors:!0,toneMapped:!1});super(u,f),this.type="GridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}class sle extends vo{constructor(e=10,n=16,r=8,i=64,s=4473924,a=8947848){s=new at(s),a=new at(a);const o=[],l=[];if(n>1)for(let f=0;f<n;f++){const d=f/n*(Math.PI*2),p=Math.sin(d)*e,v=Math.cos(d)*e;o.push(0,0,0),o.push(p,0,v);const b=f&1?s:a;l.push(b.r,b.g,b.b),l.push(b.r,b.g,b.b)}for(let f=0;f<r;f++){const d=f&1?s:a,p=e-e/r*f;for(let v=0;v<i;v++){let b=v/i*(Math.PI*2),x=Math.sin(b)*p,y=Math.cos(b)*p;o.push(x,0,y),l.push(d.r,d.g,d.b),b=(v+1)/i*(Math.PI*2),x=Math.sin(b)*p,y=Math.cos(b)*p,o.push(x,0,y),l.push(d.r,d.g,d.b)}}const c=new Ht;c.setAttribute("position",new dt(o,3)),c.setAttribute("color",new dt(l,3));const u=new zi({vertexColors:!0,toneMapped:!1});super(c,u),this.type="PolarGridHelper"}dispose(){this.geometry.dispose(),this.material.dispose()}}const Pk=new Z,Qy=new Z,Ck=new Z;class ale extends an{constructor(e,n,r){super(),this.light=e,this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.color=r,this.type="DirectionalLightHelper",n===void 0&&(n=1);let i=new Ht;i.setAttribute("position",new dt([-n,n,0,n,n,0,n,-n,0,-n,-n,0,-n,n,0],3));const s=new zi({fog:!1,toneMapped:!1});this.lightPlane=new yc(i,s),this.add(this.lightPlane),i=new Ht,i.setAttribute("position",new dt([0,0,0,0,0,1],3)),this.targetLine=new yc(i,s),this.add(this.targetLine),this.update()}dispose(){this.lightPlane.geometry.dispose(),this.lightPlane.material.dispose(),this.targetLine.geometry.dispose(),this.targetLine.material.dispose()}update(){this.light.updateWorldMatrix(!0,!1),this.light.target.updateWorldMatrix(!0,!1),Pk.setFromMatrixPosition(this.light.matrixWorld),Qy.setFromMatrixPosition(this.light.target.matrixWorld),Ck.subVectors(Qy,Pk),this.lightPlane.lookAt(Qy),this.color!==void 0?(this.lightPlane.material.color.set(this.color),this.targetLine.material.color.set(this.color)):(this.lightPlane.material.color.copy(this.light.color),this.targetLine.material.color.copy(this.light.color)),this.targetLine.lookAt(Qy),this.targetLine.scale.z=Ck.length()}}const ex=new Z,Xn=new D0;class ole extends vo{constructor(e){const n=new Ht,r=new zi({color:16777215,vertexColors:!0,toneMapped:!1}),i=[],s=[],a={};o("n1","n2"),o("n2","n4"),o("n4","n3"),o("n3","n1"),o("f1","f2"),o("f2","f4"),o("f4","f3"),o("f3","f1"),o("n1","f1"),o("n2","f2"),o("n3","f3"),o("n4","f4"),o("p","n1"),o("p","n2"),o("p","n3"),o("p","n4"),o("u1","u2"),o("u2","u3"),o("u3","u1"),o("c","t"),o("p","c"),o("cn1","cn2"),o("cn3","cn4"),o("cf1","cf2"),o("cf3","cf4");function o(v,b){l(v),l(b)}function l(v){i.push(0,0,0),s.push(0,0,0),a[v]===void 0&&(a[v]=[]),a[v].push(i.length/3-1)}n.setAttribute("position",new dt(i,3)),n.setAttribute("color",new dt(s,3)),super(n,r),this.type="CameraHelper",this.camera=e,this.camera.updateProjectionMatrix&&this.camera.updateProjectionMatrix(),this.matrix=e.matrixWorld,this.matrixAutoUpdate=!1,this.pointMap=a,this.update();const c=new at(16755200),u=new at(16711680),f=new at(43775),d=new at(16777215),p=new at(3355443);this.setColors(c,u,f,d,p)}setColors(e,n,r,i,s){const o=this.geometry.getAttribute("color");o.setXYZ(0,e.r,e.g,e.b),o.setXYZ(1,e.r,e.g,e.b),o.setXYZ(2,e.r,e.g,e.b),o.setXYZ(3,e.r,e.g,e.b),o.setXYZ(4,e.r,e.g,e.b),o.setXYZ(5,e.r,e.g,e.b),o.setXYZ(6,e.r,e.g,e.b),o.setXYZ(7,e.r,e.g,e.b),o.setXYZ(8,e.r,e.g,e.b),o.setXYZ(9,e.r,e.g,e.b),o.setXYZ(10,e.r,e.g,e.b),o.setXYZ(11,e.r,e.g,e.b),o.setXYZ(12,e.r,e.g,e.b),o.setXYZ(13,e.r,e.g,e.b),o.setXYZ(14,e.r,e.g,e.b),o.setXYZ(15,e.r,e.g,e.b),o.setXYZ(16,e.r,e.g,e.b),o.setXYZ(17,e.r,e.g,e.b),o.setXYZ(18,e.r,e.g,e.b),o.setXYZ(19,e.r,e.g,e.b),o.setXYZ(20,e.r,e.g,e.b),o.setXYZ(21,e.r,e.g,e.b),o.setXYZ(22,e.r,e.g,e.b),o.setXYZ(23,e.r,e.g,e.b),o.setXYZ(24,n.r,n.g,n.b),o.setXYZ(25,n.r,n.g,n.b),o.setXYZ(26,n.r,n.g,n.b),o.setXYZ(27,n.r,n.g,n.b),o.setXYZ(28,n.r,n.g,n.b),o.setXYZ(29,n.r,n.g,n.b),o.setXYZ(30,n.r,n.g,n.b),o.setXYZ(31,n.r,n.g,n.b),o.setXYZ(32,r.r,r.g,r.b),o.setXYZ(33,r.r,r.g,r.b),o.setXYZ(34,r.r,r.g,r.b),o.setXYZ(35,r.r,r.g,r.b),o.setXYZ(36,r.r,r.g,r.b),o.setXYZ(37,r.r,r.g,r.b),o.setXYZ(38,i.r,i.g,i.b),o.setXYZ(39,i.r,i.g,i.b),o.setXYZ(40,s.r,s.g,s.b),o.setXYZ(41,s.r,s.g,s.b),o.setXYZ(42,s.r,s.g,s.b),o.setXYZ(43,s.r,s.g,s.b),o.setXYZ(44,s.r,s.g,s.b),o.setXYZ(45,s.r,s.g,s.b),o.setXYZ(46,s.r,s.g,s.b),o.setXYZ(47,s.r,s.g,s.b),o.setXYZ(48,s.r,s.g,s.b),o.setXYZ(49,s.r,s.g,s.b),o.needsUpdate=!0}update(){const e=this.geometry,n=this.pointMap,r=1,i=1;Xn.projectionMatrixInverse.copy(this.camera.projectionMatrixInverse),ir("c",n,e,Xn,0,0,-1),ir("t",n,e,Xn,0,0,1),ir("n1",n,e,Xn,-r,-i,-1),ir("n2",n,e,Xn,r,-i,-1),ir("n3",n,e,Xn,-r,i,-1),ir("n4",n,e,Xn,r,i,-1),ir("f1",n,e,Xn,-r,-i,1),ir("f2",n,e,Xn,r,-i,1),ir("f3",n,e,Xn,-r,i,1),ir("f4",n,e,Xn,r,i,1),ir("u1",n,e,Xn,r*.7,i*1.1,-1),ir("u2",n,e,Xn,-r*.7,i*1.1,-1),ir("u3",n,e,Xn,0,i*2,-1),ir("cf1",n,e,Xn,-r,0,1),ir("cf2",n,e,Xn,r,0,1),ir("cf3",n,e,Xn,0,-i,1),ir("cf4",n,e,Xn,0,i,1),ir("cn1",n,e,Xn,-r,0,-1),ir("cn2",n,e,Xn,r,0,-1),ir("cn3",n,e,Xn,0,-i,-1),ir("cn4",n,e,Xn,0,i,-1),e.getAttribute("position").needsUpdate=!0}dispose(){this.geometry.dispose(),this.material.dispose()}}function ir(t,e,n,r,i,s,a){ex.set(i,s,a).unproject(r);const o=e[t];if(o!==void 0){const l=n.getAttribute("position");for(let c=0,u=o.length;c<u;c++)l.setXYZ(o[c],ex.x,ex.y,ex.z)}}const tx=new fa;class lle extends vo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=new Float32Array(8*3),s=new Ht;s.setIndex(new fn(r,1)),s.setAttribute("position",new fn(i,3)),super(s,new zi({color:n,toneMapped:!1})),this.object=e,this.type="BoxHelper",this.matrixAutoUpdate=!1,this.update()}update(e){if(e!==void 0&&console.warn("THREE.BoxHelper: .update() has no longer arguments."),this.object!==void 0&&tx.setFromObject(this.object),tx.isEmpty())return;const n=tx.min,r=tx.max,i=this.geometry.attributes.position,s=i.array;s[0]=r.x,s[1]=r.y,s[2]=r.z,s[3]=n.x,s[4]=r.y,s[5]=r.z,s[6]=n.x,s[7]=n.y,s[8]=r.z,s[9]=r.x,s[10]=n.y,s[11]=r.z,s[12]=r.x,s[13]=r.y,s[14]=n.z,s[15]=n.x,s[16]=r.y,s[17]=n.z,s[18]=n.x,s[19]=n.y,s[20]=n.z,s[21]=r.x,s[22]=n.y,s[23]=n.z,i.needsUpdate=!0,this.geometry.computeBoundingSphere()}setFromObject(e){return this.object=e,this.update(),this}copy(e,n){return super.copy(e,n),this.object=e.object,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class cle extends vo{constructor(e,n=16776960){const r=new Uint16Array([0,1,1,2,2,3,3,0,4,5,5,6,6,7,7,4,0,4,1,5,2,6,3,7]),i=[1,1,1,-1,1,1,-1,-1,1,1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1],s=new Ht;s.setIndex(new fn(r,1)),s.setAttribute("position",new dt(i,3)),super(s,new zi({color:n,toneMapped:!1})),this.box=e,this.type="Box3Helper",this.geometry.computeBoundingSphere()}updateMatrixWorld(e){const n=this.box;n.isEmpty()||(n.getCenter(this.position),n.getSize(this.scale),this.scale.multiplyScalar(.5),super.updateMatrixWorld(e))}dispose(){this.geometry.dispose(),this.material.dispose()}}class ule extends yc{constructor(e,n=1,r=16776960){const i=r,s=[1,-1,0,-1,1,0,-1,-1,0,1,1,0,-1,1,0,-1,-1,0,1,-1,0,1,1,0],a=new Ht;a.setAttribute("position",new dt(s,3)),a.computeBoundingSphere(),super(a,new zi({color:i,toneMapped:!1})),this.type="PlaneHelper",this.plane=e,this.size=n;const o=[1,1,0,-1,1,0,-1,-1,0,1,1,0,-1,-1,0,1,-1,0],l=new Ht;l.setAttribute("position",new dt(o,3)),l.computeBoundingSphere(),this.add(new vr(l,new gl({color:i,opacity:.2,transparent:!0,depthWrite:!1,toneMapped:!1})))}updateMatrixWorld(e){this.position.set(0,0,0),this.scale.set(.5*this.size,.5*this.size,1),this.lookAt(this.plane.normal),this.translateZ(-this.plane.constant),super.updateMatrixWorld(e)}dispose(){this.geometry.dispose(),this.material.dispose(),this.children[0].geometry.dispose(),this.children[0].material.dispose()}}const Nk=new Z;let nx,sM;class fle extends an{constructor(e=new Z(0,0,1),n=new Z(0,0,0),r=1,i=16776960,s=r*.2,a=s*.2){super(),this.type="ArrowHelper",nx===void 0&&(nx=new Ht,nx.setAttribute("position",new dt([0,0,0,0,1,0],3)),sM=new Wh(0,.5,1,5,1),sM.translate(0,-.5,0)),this.position.copy(n),this.line=new yc(nx,new zi({color:i,toneMapped:!1})),this.line.matrixAutoUpdate=!1,this.add(this.line),this.cone=new vr(sM,new gl({color:i,toneMapped:!1})),this.cone.matrixAutoUpdate=!1,this.add(this.cone),this.setDirection(e),this.setLength(r,s,a)}setDirection(e){if(e.y>.99999)this.quaternion.set(0,0,0,1);else if(e.y<-.99999)this.quaternion.set(1,0,0,0);else{Nk.set(e.z,0,-e.x).normalize();const n=Math.acos(e.y);this.quaternion.setFromAxisAngle(Nk,n)}}setLength(e,n=e*.2,r=n*.2){this.line.scale.set(1,Math.max(1e-4,e-n),1),this.line.updateMatrix(),this.cone.scale.set(r,n,r),this.cone.position.y=e,this.cone.updateMatrix()}setColor(e){this.line.material.color.set(e),this.cone.material.color.set(e)}copy(e){return super.copy(e,!1),this.line.copy(e.line),this.cone.copy(e.cone),this}dispose(){this.line.geometry.dispose(),this.line.material.dispose(),this.cone.geometry.dispose(),this.cone.material.dispose()}}class dle extends vo{constructor(e=1){const n=[0,0,0,e,0,0,0,0,0,0,e,0,0,0,0,0,0,e],r=[1,0,0,1,.6,0,0,1,0,.6,1,0,0,0,1,0,.6,1],i=new Ht;i.setAttribute("position",new dt(n,3)),i.setAttribute("color",new dt(r,3));const s=new zi({vertexColors:!0,toneMapped:!1});super(i,s),this.type="AxesHelper"}setColors(e,n,r){const i=new at,s=this.geometry.attributes.color.array;return i.set(e),i.toArray(s,0),i.toArray(s,3),i.set(n),i.toArray(s,6),i.toArray(s,9),i.set(r),i.toArray(s,12),i.toArray(s,15),this.geometry.attributes.color.needsUpdate=!0,this}dispose(){this.geometry.dispose(),this.material.dispose()}}class hle{constructor(){this.type="ShapePath",this.color=new at,this.subPaths=[],this.currentPath=null}moveTo(e,n){return this.currentPath=new Ng,this.subPaths.push(this.currentPath),this.currentPath.moveTo(e,n),this}lineTo(e,n){return this.currentPath.lineTo(e,n),this}quadraticCurveTo(e,n,r,i){return this.currentPath.quadraticCurveTo(e,n,r,i),this}bezierCurveTo(e,n,r,i,s,a){return this.currentPath.bezierCurveTo(e,n,r,i,s,a),this}splineThru(e){return this.currentPath.splineThru(e),this}toShapes(e){function n(y){const w=[];for(let _=0,S=y.length;_<S;_++){const M=y[_],E=new Du;E.curves=M.curves,w.push(E)}return w}function r(y,w){const _=w.length;let S=!1;for(let M=_-1,E=0;E<_;M=E++){let A=w[M],C=w[E],P=C.x-A.x,R=C.y-A.y;if(Math.abs(R)>Number.EPSILON){if(R<0&&(A=w[E],P=-P,C=w[M],R=-R),y.y<A.y||y.y>C.y)continue;if(y.y===A.y){if(y.x===A.x)return!0}else{const L=R*(y.x-A.x)-P*(y.y-A.y);if(L===0)return!0;if(L<0)continue;S=!S}}else{if(y.y!==A.y)continue;if(C.x<=y.x&&y.x<=A.x||A.x<=y.x&&y.x<=C.x)return!0}}return S}const i=lo.isClockWise,s=this.subPaths;if(s.length===0)return[];let a,o,l;const c=[];if(s.length===1)return o=s[0],l=new Du,l.curves=o.curves,c.push(l),c;let u=!i(s[0].getPoints());u=e?!u:u;const f=[],d=[];let p=[],v=0,b;d[v]=void 0,p[v]=[];for(let y=0,w=s.length;y<w;y++)o=s[y],b=o.getPoints(),a=i(b),a=e?!a:a,a?(!u&&d[v]&&v++,d[v]={s:new Du,p:b},d[v].s.curves=o.curves,u&&v++,p[v]=[]):p[v].push({h:o,p:b[0]});if(!d[0])return n(s);if(d.length>1){let y=!1,w=0;for(let _=0,S=d.length;_<S;_++)f[_]=[];for(let _=0,S=d.length;_<S;_++){const M=p[_];for(let E=0;E<M.length;E++){const A=M[E];let C=!0;for(let P=0;P<d.length;P++)r(A.p,d[P].p)&&(_!==P&&w++,C?(C=!1,f[P].push(A)):y=!0);C&&f[_].push(A)}}w>0&&y===!1&&(p=f)}let x;for(let y=0,w=d.length;y<w;y++){l=d[y].s,c.push(l),x=p[y];for(let _=0,S=x.length;_<S;_++)l.holes.push(x[_].h)}return c}}typeof __THREE_DEVTOOLS__<"u"&&__THREE_DEVTOOLS__.dispatchEvent(new CustomEvent("register",{detail:{revision:b_}}));typeof window<"u"&&(window.__THREE__?console.warn("WARNING: Multiple instances of Three.js being imported."):window.__THREE__=b_);const ple=Object.freeze(Object.defineProperty({__proto__:null,ACESFilmicToneMapping:rN,AddEquation:vu,AddOperation:HV,AdditiveAnimationBlendMode:fN,AdditiveBlending:gg,AlphaFormat:KV,AlwaysCompare:g8,AlwaysDepth:kV,AlwaysStencilFunc:l8,AmbientLight:mH,AnimationAction:wH,AnimationClip:kg,AnimationLoader:goe,AnimationMixer:Woe,AnimationObjectGroup:Hoe,AnimationUtils:doe,ArcCurve:B8,ArrayCamera:R8,ArrowHelper:fle,Audio:bH,AudioAnalyser:Loe,AudioContext:BN,AudioListener:Noe,AudioLoader:Aoe,AxesHelper:dle,BackSide:bi,BasicDepthPacking:a8,BasicShadowMap:wV,Bone:EN,BooleanKeyframeTrack:df,Box2:Zoe,Box3:fa,Box3Helper:cle,BoxGeometry:ff,BoxHelper:lle,BufferAttribute:fn,BufferGeometry:Ht,BufferGeometryLoader:xH,ByteType:qV,Cache:Ju,Camera:D0,CameraHelper:ole,CanvasTexture:kae,CapsuleGeometry:D_,CatmullRomCurve3:z8,CineonToneMapping:GV,CircleGeometry:U_,ClampToEdgeWrapping:yi,Clock:zN,Color:at,ColorKeyframeTrack:kN,ColorManagement:dn,CompressedArrayTexture:Iae,CompressedCubeTexture:jae,CompressedTexture:j_,CompressedTextureLoader:voe,ConeGeometry:F_,CubeCamera:S8,CubeReflectionMapping:cl,CubeRefractionMapping:gc,CubeTexture:U0,CubeTextureLoader:yoe,CubeUVReflectionMapping:Hh,CubicBezierCurve:PN,CubicBezierCurve3:V8,CubicInterpolant:oH,CullFaceBack:cT,CullFaceFront:_V,CullFaceFrontBack:Lee,CullFaceNone:bV,Curve:Da,CurvePath:$8,CustomBlending:SV,CustomToneMapping:XV,CylinderGeometry:Wh,Cylindrical:Koe,Data3DTexture:gN,DataArrayTexture:T_,DataTexture:qd,DataTextureLoader:xoe,DataUtils:Vte,DecrementStencilOp:Wee,DecrementWrapStencilOp:Xee,DefaultLoadingManager:uH,DepthFormat:oc,DepthStencilFormat:qu,DepthTexture:_N,DirectionalLight:pH,DirectionalLightHelper:ale,DiscreteInterpolant:lH,DisplayP3ColorSpace:E_,DodecahedronGeometry:B_,DoubleSide:ea,DstAlphaFactor:NV,DstColorFactor:OV,DynamicCopyUsage:lte,DynamicDrawUsage:nte,DynamicReadUsage:ste,EdgesGeometry:W8,EllipseCurve:k_,EqualCompare:f8,EqualDepth:UV,EqualStencilFunc:Zee,EquirectangularReflectionMapping:vg,EquirectangularRefractionMapping:yg,Euler:k0,EventDispatcher:ml,ExtrudeGeometry:V_,FileLoader:ul,Float16BufferAttribute:qte,Float32BufferAttribute:dt,Float64BufferAttribute:Yte,FloatType:Ra,Fog:O_,FogExp2:R_,FramebufferTexture:Lae,FrontSide:ll,Frustum:A_,GLBufferAttribute:Yoe,GLSL1:ute,GLSL3:FT,GreaterCompare:h8,GreaterDepth:BV,GreaterEqualCompare:m8,GreaterEqualDepth:FV,GreaterEqualStencilFunc:tte,GreaterStencilFunc:Qee,GridHelper:ile,Group:Ld,HalfFloatType:Xu,HemisphereLight:fH,HemisphereLightHelper:rle,IcosahedronGeometry:H_,ImageBitmapLoader:Toe,ImageLoader:Dg,ImageUtils:mN,IncrementStencilOp:$ee,IncrementWrapStencilOp:Gee,InstancedBufferAttribute:Ku,InstancedBufferGeometry:FN,InstancedInterleavedBuffer:qoe,InstancedMesh:D8,Int16BufferAttribute:Gte,Int32BufferAttribute:Xte,Int8BufferAttribute:Hte,IntType:sN,InterleavedBuffer:L_,InterleavedBufferAttribute:Yu,Interpolant:V0,InterpolateDiscrete:_g,InterpolateLinear:wg,InterpolateSmooth:Hx,InvertStencilOp:qee,KeepStencilOp:$x,KeyframeTrack:Ua,LOD:j8,LatheGeometry:F0,Layers:ku,LessCompare:u8,LessDepth:DV,LessEqualCompare:d8,LessEqualDepth:k1,LessEqualStencilFunc:Jee,LessStencilFunc:Kee,Light:Pc,LightProbe:yH,Line:yc,Line3:Joe,LineBasicMaterial:zi,LineCurve:CN,LineCurve3:H8,LineDashedMaterial:iH,LineLoop:U8,LineSegments:vo,LinearDisplayP3ColorSpace:j0,LinearEncoding:dN,LinearFilter:Rn,LinearInterpolant:jN,LinearMipMapLinearFilter:Uee,LinearMipMapNearestFilter:Dee,LinearMipmapLinearFilter:vc,LinearMipmapNearestFilter:iN,LinearSRGBColorSpace:mo,LinearToneMapping:$V,LinearTransfer:Mg,Loader:os,LoaderUtils:XT,LoadingManager:DN,LoopOnce:r8,LoopPingPong:s8,LoopRepeat:i8,LuminanceAlphaFormat:JV,LuminanceFormat:ZV,MOUSE:Qa,Material:Mi,MaterialLoader:K_,MathUtils:Mte,Matrix3:Dt,Matrix4:Nt,MaxEquation:hT,Mesh:vr,MeshBasicMaterial:gl,MeshDepthMaterial:C_,MeshDistanceMaterial:N_,MeshLambertMaterial:nH,MeshMatcapMaterial:rH,MeshNormalMaterial:tH,MeshPhongMaterial:Q8,MeshPhysicalMaterial:J8,MeshStandardMaterial:LN,MeshToonMaterial:eH,MinEquation:dT,MirroredRepeatWrapping:bg,MixOperation:VV,MultiplyBlending:fT,MultiplyOperation:I0,NearestFilter:sr,NearestMipMapLinearFilter:kee,NearestMipMapNearestFilter:jee,NearestMipmapLinearFilter:km,NearestMipmapNearestFilter:D1,NeverCompare:c8,NeverDepth:jV,NeverStencilFunc:Yee,NoBlending:Jo,NoColorSpace:Ts,NoToneMapping:ao,NormalAnimationBlendMode:M_,NormalBlending:Iu,NotEqualCompare:p8,NotEqualDepth:zV,NotEqualStencilFunc:ete,NumberKeyframeTrack:Ig,Object3D:an,ObjectLoader:Moe,ObjectSpaceNormalMap:o8,OctahedronGeometry:B0,OneFactor:AV,OneMinusDstAlphaFactor:RV,OneMinusDstColorFactor:LV,OneMinusSrcAlphaFactor:nN,OneMinusSrcColorFactor:CV,OrthographicCamera:cc,P3Primaries:Tg,PCFShadowMap:__,PCFSoftShadowMap:jm,PMREMGenerator:zT,Path:Ng,PerspectiveCamera:or,Plane:Bo,PlaneGeometry:Tc,PlaneHelper:ule,PointLight:hH,PointLightHelper:tle,Points:F8,PointsMaterial:TN,PolarGridHelper:sle,PolyhedronGeometry:Ac,PositionalAudio:Ooe,PropertyBinding:Jt,PropertyMixer:_H,QuadraticBezierCurve:NN,QuadraticBezierCurve3:RN,Quaternion:_i,QuaternionKeyframeTrack:Gh,QuaternionLinearInterpolant:cH,RED_GREEN_RGTC2_Format:DT,RED_RGTC1_Format:n8,REVISION:b_,RGBADepthPacking:hN,RGBAFormat:Zi,RGBAIntegerFormat:uN,RGBA_ASTC_10x10_Format:RT,RGBA_ASTC_10x5_Format:PT,RGBA_ASTC_10x6_Format:CT,RGBA_ASTC_10x8_Format:NT,RGBA_ASTC_12x10_Format:OT,RGBA_ASTC_12x12_Format:LT,RGBA_ASTC_4x4_Format:bT,RGBA_ASTC_5x4_Format:_T,RGBA_ASTC_5x5_Format:wT,RGBA_ASTC_6x5_Format:ST,RGBA_ASTC_6x6_Format:MT,RGBA_ASTC_8x5_Format:ET,RGBA_ASTC_8x6_Format:TT,RGBA_ASTC_8x8_Format:AT,RGBA_BPTC_Format:Vx,RGBA_ETC2_EAC_Format:xT,RGBA_PVRTC_2BPPV1_Format:vT,RGBA_PVRTC_4BPPV1_Format:gT,RGBA_S3TC_DXT1_Format:Fx,RGBA_S3TC_DXT3_Format:Bx,RGBA_S3TC_DXT5_Format:zx,RGB_BPTC_SIGNED_Format:IT,RGB_BPTC_UNSIGNED_Format:jT,RGB_ETC1_Format:t8,RGB_ETC2_Format:yT,RGB_PVRTC_2BPPV1_Format:mT,RGB_PVRTC_4BPPV1_Format:pT,RGB_S3TC_DXT1_Format:Ux,RGFormat:e8,RGIntegerFormat:cN,RawShaderMaterial:Z8,Ray:uf,Raycaster:SH,Rec709Primaries:Eg,RectAreaLight:gH,RedFormat:QV,RedIntegerFormat:lN,ReinhardToneMapping:WV,RenderTarget:b8,RepeatWrapping:xg,ReplaceStencilOp:Hee,ReverseSubtractEquation:EV,RingGeometry:$_,SIGNED_RED_GREEN_RGTC2_Format:UT,SIGNED_RED_RGTC1_Format:kT,SRGBColorSpace:Nr,SRGBTransfer:Sn,Scene:SN,ShaderChunk:It,ShaderLib:Pa,ShaderMaterial:ca,ShadowMaterial:K8,Shape:Du,ShapeGeometry:W_,ShapePath:hle,ShapeUtils:lo,ShortType:YV,Skeleton:I_,SkeletonHelper:ele,SkinnedMesh:k8,Source:Eu,Sphere:da,SphereGeometry:z0,Spherical:YT,SphericalHarmonics3:vH,SplineCurve:ON,SpotLight:dH,SpotLightHelper:Qoe,Sprite:I8,SpriteMaterial:MN,SrcAlphaFactor:tN,SrcAlphaSaturateFactor:IV,SrcColorFactor:PV,StaticCopyUsage:ote,StaticDrawUsage:Ag,StaticReadUsage:ite,StereoCamera:Poe,StreamCopyUsage:cte,StreamDrawUsage:rte,StreamReadUsage:ate,StringKeyframeTrack:hf,SubtractEquation:MV,SubtractiveBlending:uT,TOUCH:Fo,TangentSpaceNormalMap:Ec,TetrahedronGeometry:G_,Texture:Qn,TextureLoader:boe,TorusGeometry:X_,TorusKnotGeometry:q_,Triangle:Ki,TriangleFanDrawMode:zee,TriangleStripDrawMode:Bee,TrianglesDrawMode:Fee,TubeGeometry:Y_,TwoPassDoubleSide:Iee,UVMapping:w_,Uint16BufferAttribute:vN,Uint32BufferAttribute:yN,Uint8BufferAttribute:$te,Uint8ClampedBufferAttribute:Wte,Uniform:$N,UniformsGroup:Xoe,UniformsLib:rt,UniformsUtils:xN,UnsignedByteType:oo,UnsignedInt248Type:ac,UnsignedIntType:Wo,UnsignedShort4444Type:aN,UnsignedShort5551Type:oN,UnsignedShortType:S_,VSMShadowMap:Sa,Vector2:De,Vector3:Z,Vector4:cn,VectorKeyframeTrack:jg,VideoTexture:Oae,WebGL1Renderer:O8,WebGL3DRenderTarget:Nte,WebGLArrayRenderTarget:Cte,WebGLCoordinateSystem:to,WebGLCubeRenderTarget:M8,WebGLMultipleRenderTargets:Rte,WebGLRenderTarget:la,WebGLRenderer:wN,WebGLUtils:N8,WebGPUCoordinateSystem:Pg,WireframeGeometry:Y8,WrapAroundEnding:Sg,ZeroCurvatureEnding:Su,ZeroFactor:TV,ZeroSlopeEnding:Mu,ZeroStencilOp:Vee,_SRGBAFormat:U1,createCanvasElement:x8,sRGBEncoding:lc},Symbol.toStringTag,{value:"Module"}));var EH={exports:{}},pf={};/**
 * @license React
 * react-reconciler-constants.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */pf.ConcurrentRoot=1;pf.ContinuousEventPriority=4;pf.DefaultEventPriority=16;pf.DiscreteEventPriority=1;pf.IdleEventPriority=536870912;pf.LegacyRoot=0;EH.exports=pf;var jd=EH.exports;function mle(t){let e;const n=new Set,r=(c,u)=>{const f=typeof c=="function"?c(e):c;if(f!==e){const d=e;e=u?f:Object.assign({},e,f),n.forEach(p=>p(e,d))}},i=()=>e,s=(c,u=i,f=Object.is)=>{console.warn("[DEPRECATED] Please use `subscribeWithSelector` middleware");let d=u(e);function p(){const v=u(e);if(!f(d,v)){const b=d;c(d=v,b)}}return n.add(p),()=>n.delete(p)},l={setState:r,getState:i,subscribe:(c,u,f)=>u||f?s(c,u,f):(n.add(c),()=>n.delete(c)),destroy:()=>n.clear()};return e=t(r,i,l),l}const gle=typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),Rk=gle?F.useEffect:F.useLayoutEffect;function vle(t){const e=typeof t=="function"?mle(t):t,n=(r=e.getState,i=Object.is)=>{const[,s]=F.useReducer(x=>x+1,0),a=e.getState(),o=F.useRef(a),l=F.useRef(r),c=F.useRef(i),u=F.useRef(!1),f=F.useRef();f.current===void 0&&(f.current=r(a));let d,p=!1;(o.current!==a||l.current!==r||c.current!==i||u.current)&&(d=r(a),p=!i(f.current,d)),Rk(()=>{p&&(f.current=d),o.current=a,l.current=r,c.current=i,u.current=!1});const v=F.useRef(a);Rk(()=>{const x=()=>{try{const w=e.getState(),_=l.current(w);c.current(f.current,_)||(o.current=w,f.current=_,s())}catch{u.current=!0,s()}},y=e.subscribe(x);return e.getState()!==v.current&&x(),y},[]);const b=p?d:f.current;return F.useDebugValue(b),b};return Object.assign(n,e),n[Symbol.iterator]=function(){console.warn("[useStore, api] = create() is deprecated and will be removed in v4");const r=[n,e];return{next(){const i=r.length<=0;return{value:r.shift(),done:i}}}},n}const yle=t=>typeof t=="object"&&typeof t.then=="function",rx=[];function xle(t,e,n=(r,i)=>r===i){if(t===e)return!0;if(!t||!e)return!1;const r=t.length;if(e.length!==r)return!1;for(let i=0;i<r;i++)if(!n(t[i],e[i]))return!1;return!0}function ble(t,e=null,n=!1,r={}){e===null&&(e=[t]);for(const s of rx)if(xle(e,s.keys,s.equal)){if(n)return;if(Object.prototype.hasOwnProperty.call(s,"error"))throw s.error;if(Object.prototype.hasOwnProperty.call(s,"response"))return r.lifespan&&r.lifespan>0&&(s.timeout&&clearTimeout(s.timeout),s.timeout=setTimeout(s.remove,r.lifespan)),s.response;if(!n)throw s.promise}const i={keys:e,equal:r.equal,remove:()=>{const s=rx.indexOf(i);s!==-1&&rx.splice(s,1)},promise:(yle(t)?t:t(...e)).then(s=>{i.response=s,r.lifespan&&r.lifespan>0&&(i.timeout=setTimeout(i.remove,r.lifespan))}).catch(s=>i.error=s)};if(rx.push(i),!n)throw i.promise}const _le=(t,e,n)=>ble(t,e,!1,n);var TH={exports:{}},AH={exports:{}},PH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(V,U){var W=V.length;V.push(U);e:for(;0<W;){var k=W-1>>>1,H=V[k];if(0<i(H,U))V[k]=U,V[W]=H,W=k;else break e}}function n(V){return V.length===0?null:V[0]}function r(V){if(V.length===0)return null;var U=V[0],W=V.pop();if(W!==U){V[0]=W;e:for(var k=0,H=V.length,K=H>>>1;k<K;){var ne=2*(k+1)-1,te=V[ne],ae=ne+1,oe=V[ae];if(0>i(te,W))ae<H&&0>i(oe,te)?(V[k]=oe,V[ae]=W,k=ae):(V[k]=te,V[ne]=W,k=ne);else if(ae<H&&0>i(oe,W))V[k]=oe,V[ae]=W,k=ae;else break e}}return U}function i(V,U){var W=V.sortIndex-U.sortIndex;return W!==0?W:V.id-U.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],u=1,f=null,d=3,p=!1,v=!1,b=!1,x=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(V){for(var U=n(c);U!==null;){if(U.callback===null)r(c);else if(U.startTime<=V)r(c),U.sortIndex=U.expirationTime,e(l,U);else break;U=n(c)}}function S(V){if(b=!1,_(V),!v)if(n(l)!==null)v=!0,$(M);else{var U=n(c);U!==null&&q(S,U.startTime-V)}}function M(V,U){v=!1,b&&(b=!1,y(C),C=-1),p=!0;var W=d;try{for(_(U),f=n(l);f!==null&&(!(f.expirationTime>U)||V&&!L());){var k=f.callback;if(typeof k=="function"){f.callback=null,d=f.priorityLevel;var H=k(f.expirationTime<=U);U=t.unstable_now(),typeof H=="function"?f.callback=H:f===n(l)&&r(l),_(U)}else r(l);f=n(l)}if(f!==null)var K=!0;else{var ne=n(c);ne!==null&&q(S,ne.startTime-U),K=!1}return K}finally{f=null,d=W,p=!1}}var E=!1,A=null,C=-1,P=5,R=-1;function L(){return!(t.unstable_now()-R<P)}function O(){if(A!==null){var V=t.unstable_now();R=V;var U=!0;try{U=A(!0,V)}finally{U?D():(E=!1,A=null)}}else E=!1}var D;if(typeof w=="function")D=function(){w(O)};else if(typeof MessageChannel<"u"){var I=new MessageChannel,z=I.port2;I.port1.onmessage=O,D=function(){z.postMessage(null)}}else D=function(){x(O,0)};function $(V){A=V,E||(E=!0,D())}function q(V,U){C=x(function(){V(t.unstable_now())},U)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(V){V.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,$(M))},t.unstable_forceFrameRate=function(V){0>V||125<V?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<V?Math.floor(1e3/V):5},t.unstable_getCurrentPriorityLevel=function(){return d},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(V){switch(d){case 1:case 2:case 3:var U=3;break;default:U=d}var W=d;d=U;try{return V()}finally{d=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(V,U){switch(V){case 1:case 2:case 3:case 4:case 5:break;default:V=3}var W=d;d=V;try{return U()}finally{d=W}},t.unstable_scheduleCallback=function(V,U,W){var k=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?k+W:k):W=k,V){case 1:var H=-1;break;case 2:H=250;break;case 5:H=1073741823;break;case 4:H=1e4;break;default:H=5e3}return H=W+H,V={id:u++,callback:U,priorityLevel:V,startTime:W,expirationTime:H,sortIndex:-1},W>k?(V.sortIndex=W,e(c,V),n(l)===null&&V===n(c)&&(b?(y(C),C=-1):b=!0,q(S,W-k))):(V.sortIndex=H,e(l,V),v||p||(v=!0,$(M))),V},t.unstable_shouldYield=L,t.unstable_wrapCallback=function(V){var U=d;return function(){var W=d;d=U;try{return V.apply(this,arguments)}finally{d=W}}}})(PH);AH.exports=PH;var KT=AH.exports;/**
 * @license React
 * react-reconciler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var wle=function(e){var n={},r=F,i=KT,s=Object.assign;function a(m){for(var g="https://reactjs.org/docs/error-decoder.html?invariant="+m,T=1;T<arguments.length;T++)g+="&args[]="+encodeURIComponent(arguments[T]);return"Minified React error #"+m+"; visit "+g+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,l=Symbol.for("react.element"),c=Symbol.for("react.portal"),u=Symbol.for("react.fragment"),f=Symbol.for("react.strict_mode"),d=Symbol.for("react.profiler"),p=Symbol.for("react.provider"),v=Symbol.for("react.context"),b=Symbol.for("react.forward_ref"),x=Symbol.for("react.suspense"),y=Symbol.for("react.suspense_list"),w=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),S=Symbol.for("react.offscreen"),M=Symbol.iterator;function E(m){return m===null||typeof m!="object"?null:(m=M&&m[M]||m["@@iterator"],typeof m=="function"?m:null)}function A(m){if(m==null)return null;if(typeof m=="function")return m.displayName||m.name||null;if(typeof m=="string")return m;switch(m){case u:return"Fragment";case c:return"Portal";case d:return"Profiler";case f:return"StrictMode";case x:return"Suspense";case y:return"SuspenseList"}if(typeof m=="object")switch(m.$$typeof){case v:return(m.displayName||"Context")+".Consumer";case p:return(m._context.displayName||"Context")+".Provider";case b:var g=m.render;return m=m.displayName,m||(m=g.displayName||g.name||"",m=m!==""?"ForwardRef("+m+")":"ForwardRef"),m;case w:return g=m.displayName||null,g!==null?g:A(m.type)||"Memo";case _:g=m._payload,m=m._init;try{return A(m(g))}catch{}}return null}function C(m){var g=m.type;switch(m.tag){case 24:return"Cache";case 9:return(g.displayName||"Context")+".Consumer";case 10:return(g._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return m=g.render,m=m.displayName||m.name||"",g.displayName||(m!==""?"ForwardRef("+m+")":"ForwardRef");case 7:return"Fragment";case 5:return g;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return A(g);case 8:return g===f?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof g=="function")return g.displayName||g.name||null;if(typeof g=="string")return g}return null}function P(m){var g=m,T=m;if(m.alternate)for(;g.return;)g=g.return;else{m=g;do g=m,g.flags&4098&&(T=g.return),m=g.return;while(m)}return g.tag===3?T:null}function R(m){if(P(m)!==m)throw Error(a(188))}function L(m){var g=m.alternate;if(!g){if(g=P(m),g===null)throw Error(a(188));return g!==m?null:m}for(var T=m,N=g;;){var j=T.return;if(j===null)break;var B=j.alternate;if(B===null){if(N=j.return,N!==null){T=N;continue}break}if(j.child===B.child){for(B=j.child;B;){if(B===T)return R(j),m;if(B===N)return R(j),g;B=B.sibling}throw Error(a(188))}if(T.return!==N.return)T=j,N=B;else{for(var ee=!1,ue=j.child;ue;){if(ue===T){ee=!0,T=j,N=B;break}if(ue===N){ee=!0,N=j,T=B;break}ue=ue.sibling}if(!ee){for(ue=B.child;ue;){if(ue===T){ee=!0,T=B,N=j;break}if(ue===N){ee=!0,N=B,T=j;break}ue=ue.sibling}if(!ee)throw Error(a(189))}}if(T.alternate!==N)throw Error(a(190))}if(T.tag!==3)throw Error(a(188));return T.stateNode.current===T?m:g}function O(m){return m=L(m),m!==null?D(m):null}function D(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){var g=D(m);if(g!==null)return g;m=m.sibling}return null}function I(m){if(m.tag===5||m.tag===6)return m;for(m=m.child;m!==null;){if(m.tag!==4){var g=I(m);if(g!==null)return g}m=m.sibling}return null}var z=Array.isArray,$=e.getPublicInstance,q=e.getRootHostContext,V=e.getChildHostContext,U=e.prepareForCommit,W=e.resetAfterCommit,k=e.createInstance,H=e.appendInitialChild,K=e.finalizeInitialChildren,ne=e.prepareUpdate,te=e.shouldSetTextContent,ae=e.createTextInstance,oe=e.scheduleTimeout,he=e.cancelTimeout,fe=e.noTimeout,Ce=e.isPrimaryRenderer,le=e.supportsMutation,G=e.supportsPersistence,me=e.supportsHydration,se=e.getInstanceFromNode,xe=e.preparePortalMount,pe=e.getCurrentEventPriority,ze=e.detachDeletedInstance,ve=e.supportsMicrotasks,Re=e.scheduleMicrotask,Be=e.supportsTestSelectors,ge=e.findFiberRoot,Ye=e.getBoundingRect,Y=e.getTextContent,X=e.isHiddenSubtree,ie=e.matchAccessibilityRole,Fe=e.setFocusIfFocusable,ye=e.setupIntersectionObserver,Ee=e.appendChild,He=e.appendChildToContainer,Ue=e.commitTextUpdate,$e=e.commitMount,et=e.commitUpdate,tt=e.insertBefore,Ne=e.insertInContainerBefore,Xe=e.removeChild,re=e.removeChildFromContainer,we=e.resetTextContent,Ve=e.hideInstance,J=e.hideTextInstance,Me=e.unhideInstance,ke=e.unhideTextInstance,Je=e.clearContainer,Ge=e.cloneInstance,Te=e.createContainerChildSet,Ke=e.appendChildToContainerChildSet,nt=e.finalizeContainerChildren,lt=e.replaceContainerChildren,ht=e.cloneHiddenInstance,qt=e.cloneHiddenTextInstance,Bt=e.canHydrateInstance,Ln=e.canHydrateTextInstance,ni=e.canHydrateSuspenseInstance,cs=e.isSuspenseInstancePending,kr=e.isSuspenseInstanceFallback,us=e.registerSuspenseInstanceRetry,Dr=e.getNextHydratableSibling,Vi=e.getFirstHydratableChild,br=e.getFirstHydratableChildWithinContainer,ma=e.getFirstHydratableChildWithinSuspenseInstance,bf=e.hydrateInstance,Q=e.hydrateTextInstance,be=e.hydrateSuspenseInstance,Le=e.getNextHydratableInstanceAfterSuspenseInstance,_e=e.commitHydratedContainer,Oe=e.commitHydratedSuspenseInstance,ot=e.clearSuspenseBoundary,vt=e.clearSuspenseBoundaryFromContainer,yt=e.shouldDeleteUnhydratedTailInstances,wt=e.didNotMatchHydratedContainerTextInstance,Rt=e.didNotMatchHydratedTextInstance,We;function xt(m){if(We===void 0)try{throw Error()}catch(T){var g=T.stack.trim().match(/\n( *(at )?)/);We=g&&g[1]||""}return`
`+We+m}var mn=!1;function tn(m,g){if(!m||mn)return"";mn=!0;var T=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(g)if(g=function(){throw Error()},Object.defineProperty(g.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(g,[])}catch(Ze){var N=Ze}Reflect.construct(m,[],g)}else{try{g.call()}catch(Ze){N=Ze}m.call(g.prototype)}else{try{throw Error()}catch(Ze){N=Ze}m()}}catch(Ze){if(Ze&&N&&typeof Ze.stack=="string"){for(var j=Ze.stack.split(`
`),B=N.stack.split(`
`),ee=j.length-1,ue=B.length-1;1<=ee&&0<=ue&&j[ee]!==B[ue];)ue--;for(;1<=ee&&0<=ue;ee--,ue--)if(j[ee]!==B[ue]){if(ee!==1||ue!==1)do if(ee--,ue--,0>ue||j[ee]!==B[ue]){var Ie=`
`+j[ee].replace(" at new "," at ");return m.displayName&&Ie.includes("<anonymous>")&&(Ie=Ie.replace("<anonymous>",m.displayName)),Ie}while(1<=ee&&0<=ue);break}}}finally{mn=!1,Error.prepareStackTrace=T}return(m=m?m.displayName||m.name:"")?xt(m):""}var _r=Object.prototype.hasOwnProperty,ri=[],ln=-1;function St(m){return{current:m}}function Zt(m){0>ln||(m.current=ri[ln],ri[ln]=null,ln--)}function Mt(m,g){ln++,ri[ln]=m.current,m.current=g}var er={},Wn=St(er),In=St(!1),Hi=er;function gn(m,g){var T=m.type.contextTypes;if(!T)return er;var N=m.stateNode;if(N&&N.__reactInternalMemoizedUnmaskedChildContext===g)return N.__reactInternalMemoizedMaskedChildContext;var j={},B;for(B in T)j[B]=g[B];return N&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=g,m.__reactInternalMemoizedMaskedChildContext=j),j}function wn(m){return m=m.childContextTypes,m!=null}function Ei(){Zt(In),Zt(Wn)}function ur(m,g,T){if(Wn.current!==er)throw Error(a(168));Mt(Wn,g),Mt(In,T)}function za(m,g,T){var N=m.stateNode;if(g=g.childContextTypes,typeof N.getChildContext!="function")return T;N=N.getChildContext();for(var j in N)if(!(j in g))throw Error(a(108,C(m)||"Unknown",j));return s({},T,N)}function Va(m){return m=(m=m.stateNode)&&m.__reactInternalMemoizedMergedChildContext||er,Hi=Wn.current,Mt(Wn,m),Mt(In,In.current),!0}function ii(m,g,T){var N=m.stateNode;if(!N)throw Error(a(169));T?(m=za(m,g,Hi),N.__reactInternalMemoizedMergedChildContext=m,Zt(In),Zt(Wn),Mt(Wn,m)):Zt(In),Mt(In,T)}var fs=Math.clz32?Math.clz32:rv,_f=Math.log,Ic=Math.LN2;function rv(m){return m>>>=0,m===0?32:31-(_f(m)/Ic|0)|0}var xo=64,bo=4194304;function _o(m){switch(m&-m){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return m&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return m&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return m}}function jc(m,g){var T=m.pendingLanes;if(T===0)return 0;var N=0,j=m.suspendedLanes,B=m.pingedLanes,ee=T&268435455;if(ee!==0){var ue=ee&~j;ue!==0?N=_o(ue):(B&=ee,B!==0&&(N=_o(B)))}else ee=T&~j,ee!==0?N=_o(ee):B!==0&&(N=_o(B));if(N===0)return 0;if(g!==0&&g!==N&&!(g&j)&&(j=N&-N,B=g&-g,j>=B||j===16&&(B&4194240)!==0))return g;if(N&4&&(N|=T&16),g=m.entangledLanes,g!==0)for(m=m.entanglements,g&=N;0<g;)T=31-fs(g),j=1<<T,N|=m[T],g&=~j;return N}function iv(m,g){switch(m){case 1:case 2:case 4:return g+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return g+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cp(m,g){for(var T=m.suspendedLanes,N=m.pingedLanes,j=m.expirationTimes,B=m.pendingLanes;0<B;){var ee=31-fs(B),ue=1<<ee,Ie=j[ee];Ie===-1?(!(ue&T)||ue&N)&&(j[ee]=iv(ue,g)):Ie<=g&&(m.expiredLanes|=ue),B&=~ue}}function wo(m){return m=m.pendingLanes&-1073741825,m!==0?m:m&1073741824?1073741824:0}function wf(m){for(var g=[],T=0;31>T;T++)g.push(m);return g}function Ha(m,g,T){m.pendingLanes|=g,g!==536870912&&(m.suspendedLanes=0,m.pingedLanes=0),m=m.eventTimes,g=31-fs(g),m[g]=T}function bl(m,g){var T=m.pendingLanes&~g;m.pendingLanes=g,m.suspendedLanes=0,m.pingedLanes=0,m.expiredLanes&=g,m.mutableReadLanes&=g,m.entangledLanes&=g,g=m.entanglements;var N=m.eventTimes;for(m=m.expirationTimes;0<T;){var j=31-fs(T),B=1<<j;g[j]=0,N[j]=-1,m[j]=-1,T&=~B}}function $a(m,g){var T=m.entangledLanes|=g;for(m=m.entanglements;T;){var N=31-fs(T),j=1<<N;j&g|m[N]&g&&(m[N]|=g),T&=~j}}var $t=0;function up(m){return m&=-m,1<m?4<m?m&268435455?16:536870912:4:1}var So=i.unstable_scheduleCallback,Sf=i.unstable_cancelCallback,fp=i.unstable_shouldYield,sv=i.unstable_requestPaint,Un=i.unstable_now,kc=i.unstable_ImmediatePriority,av=i.unstable_UserBlockingPriority,Ti=i.unstable_NormalPriority,dp=i.unstable_IdlePriority,Dc=null,ds=null;function hp(m){if(ds&&typeof ds.onCommitFiberRoot=="function")try{ds.onCommitFiberRoot(Dc,m,void 0,(m.current.flags&128)===128)}catch{}}function ov(m,g){return m===g&&(m!==0||1/m===1/g)||m!==m&&g!==g}var hs=typeof Object.is=="function"?Object.is:ov,Ai=null,Wa=!1,ks=!1;function pp(m){Ai===null?Ai=[m]:Ai.push(m)}function mp(m){Wa=!0,pp(m)}function $i(){if(!ks&&Ai!==null){ks=!0;var m=0,g=$t;try{var T=Ai;for($t=1;m<T.length;m++){var N=T[m];do N=N(!0);while(N!==null)}Ai=null,Wa=!1}catch(j){throw Ai!==null&&(Ai=Ai.slice(m+1)),So(kc,$i),j}finally{$t=g,ks=!1}}return null}var Uc=o.ReactCurrentBatchConfig;function Fc(m,g){if(hs(m,g))return!0;if(typeof m!="object"||m===null||typeof g!="object"||g===null)return!1;var T=Object.keys(m),N=Object.keys(g);if(T.length!==N.length)return!1;for(N=0;N<T.length;N++){var j=T[N];if(!_r.call(g,j)||!hs(m[j],g[j]))return!1}return!0}function Bc(m){switch(m.tag){case 5:return xt(m.type);case 16:return xt("Lazy");case 13:return xt("Suspense");case 19:return xt("SuspenseList");case 0:case 2:case 15:return m=tn(m.type,!1),m;case 11:return m=tn(m.type.render,!1),m;case 1:return m=tn(m.type,!0),m;default:return""}}function Pi(m,g){if(m&&m.defaultProps){g=s({},g),m=m.defaultProps;for(var T in m)g[T]===void 0&&(g[T]=m[T]);return g}return g}var Ur=St(null),Mf=null,ga=null,_l=null;function Ef(){_l=ga=Mf=null}function lv(m,g,T){Ce?(Mt(Ur,g._currentValue),g._currentValue=T):(Mt(Ur,g._currentValue2),g._currentValue2=T)}function Fr(m){var g=Ur.current;Zt(Ur),Ce?m._currentValue=g:m._currentValue2=g}function Ci(m,g,T){for(;m!==null;){var N=m.alternate;if((m.childLanes&g)!==g?(m.childLanes|=g,N!==null&&(N.childLanes|=g)):N!==null&&(N.childLanes&g)!==g&&(N.childLanes|=g),m===T)break;m=m.return}}function tr(m,g){Mf=m,_l=ga=null,m=m.dependencies,m!==null&&m.firstContext!==null&&(m.lanes&g&&(vs=!0),m.firstContext=null)}function nr(m){var g=Ce?m._currentValue:m._currentValue2;if(_l!==m)if(m={context:m,memoizedValue:g,next:null},ga===null){if(Mf===null)throw Error(a(308));ga=m,Mf.dependencies={lanes:0,firstContext:m}}else ga=ga.next=m;return g}var ps=null,wl=!1;function qw(m){m.updateQueue={baseState:m.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function cO(m,g){m=m.updateQueue,g.updateQueue===m&&(g.updateQueue={baseState:m.baseState,firstBaseUpdate:m.firstBaseUpdate,lastBaseUpdate:m.lastBaseUpdate,shared:m.shared,effects:m.effects})}function Mo(m,g){return{eventTime:m,lane:g,tag:0,payload:null,callback:null,next:null}}function Sl(m,g){var T=m.updateQueue;T!==null&&(T=T.shared,fr!==null&&m.mode&1&&!(zt&2)?(m=T.interleaved,m===null?(g.next=g,ps===null?ps=[T]:ps.push(T)):(g.next=m.next,m.next=g),T.interleaved=g):(m=T.pending,m===null?g.next=g:(g.next=m.next,m.next=g),T.pending=g))}function cv(m,g,T){if(g=g.updateQueue,g!==null&&(g=g.shared,(T&4194240)!==0)){var N=g.lanes;N&=m.pendingLanes,T|=N,g.lanes=T,$a(m,T)}}function uO(m,g){var T=m.updateQueue,N=m.alternate;if(N!==null&&(N=N.updateQueue,T===N)){var j=null,B=null;if(T=T.firstBaseUpdate,T!==null){do{var ee={eventTime:T.eventTime,lane:T.lane,tag:T.tag,payload:T.payload,callback:T.callback,next:null};B===null?j=B=ee:B=B.next=ee,T=T.next}while(T!==null);B===null?j=B=g:B=B.next=g}else j=B=g;T={baseState:N.baseState,firstBaseUpdate:j,lastBaseUpdate:B,shared:N.shared,effects:N.effects},m.updateQueue=T;return}m=T.lastBaseUpdate,m===null?T.firstBaseUpdate=g:m.next=g,T.lastBaseUpdate=g}function uv(m,g,T,N){var j=m.updateQueue;wl=!1;var B=j.firstBaseUpdate,ee=j.lastBaseUpdate,ue=j.shared.pending;if(ue!==null){j.shared.pending=null;var Ie=ue,Ze=Ie.next;Ie.next=null,ee===null?B=Ze:ee.next=Ze,ee=Ie;var ft=m.alternate;ft!==null&&(ft=ft.updateQueue,ue=ft.lastBaseUpdate,ue!==ee&&(ue===null?ft.firstBaseUpdate=Ze:ue.next=Ze,ft.lastBaseUpdate=Ie))}if(B!==null){var Ot=j.baseState;ee=0,ft=Ze=Ie=null,ue=B;do{var bt=ue.lane,xn=ue.eventTime;if((N&bt)===bt){ft!==null&&(ft=ft.next={eventTime:xn,lane:0,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null});e:{var mt=m,li=ue;switch(bt=g,xn=T,li.tag){case 1:if(mt=li.payload,typeof mt=="function"){Ot=mt.call(xn,Ot,bt);break e}Ot=mt;break e;case 3:mt.flags=mt.flags&-65537|128;case 0:if(mt=li.payload,bt=typeof mt=="function"?mt.call(xn,Ot,bt):mt,bt==null)break e;Ot=s({},Ot,bt);break e;case 2:wl=!0}}ue.callback!==null&&ue.lane!==0&&(m.flags|=64,bt=j.effects,bt===null?j.effects=[ue]:bt.push(ue))}else xn={eventTime:xn,lane:bt,tag:ue.tag,payload:ue.payload,callback:ue.callback,next:null},ft===null?(Ze=ft=xn,Ie=Ot):ft=ft.next=xn,ee|=bt;if(ue=ue.next,ue===null){if(ue=j.shared.pending,ue===null)break;bt=ue,ue=bt.next,bt.next=null,j.lastBaseUpdate=bt,j.shared.pending=null}}while(1);if(ft===null&&(Ie=Ot),j.baseState=Ie,j.firstBaseUpdate=Ze,j.lastBaseUpdate=ft,g=j.shared.interleaved,g!==null){j=g;do ee|=j.lane,j=j.next;while(j!==g)}else B===null&&(j.shared.lanes=0);If|=ee,m.lanes=ee,m.memoizedState=Ot}}function fO(m,g,T){if(m=g.effects,g.effects=null,m!==null)for(g=0;g<m.length;g++){var N=m[g],j=N.callback;if(j!==null){if(N.callback=null,N=T,typeof j!="function")throw Error(a(191,j));j.call(N)}}}var dO=new r.Component().refs;function Yw(m,g,T,N){g=m.memoizedState,T=T(N,g),T=T==null?g:s({},g,T),m.memoizedState=T,m.lanes===0&&(m.updateQueue.baseState=T)}var fv={isMounted:function(m){return(m=m._reactInternals)?P(m)===m:!1},enqueueSetState:function(m,g,T){m=m._reactInternals;var N=Ri(),j=Tl(m),B=Mo(N,j);B.payload=g,T!=null&&(B.callback=T),Sl(m,B),g=zs(m,j,N),g!==null&&cv(g,m,j)},enqueueReplaceState:function(m,g,T){m=m._reactInternals;var N=Ri(),j=Tl(m),B=Mo(N,j);B.tag=1,B.payload=g,T!=null&&(B.callback=T),Sl(m,B),g=zs(m,j,N),g!==null&&cv(g,m,j)},enqueueForceUpdate:function(m,g){m=m._reactInternals;var T=Ri(),N=Tl(m),j=Mo(T,N);j.tag=2,g!=null&&(j.callback=g),Sl(m,j),g=zs(m,N,T),g!==null&&cv(g,m,N)}};function hO(m,g,T,N,j,B,ee){return m=m.stateNode,typeof m.shouldComponentUpdate=="function"?m.shouldComponentUpdate(N,B,ee):g.prototype&&g.prototype.isPureReactComponent?!Fc(T,N)||!Fc(j,B):!0}function pO(m,g,T){var N=!1,j=er,B=g.contextType;return typeof B=="object"&&B!==null?B=nr(B):(j=wn(g)?Hi:Wn.current,N=g.contextTypes,B=(N=N!=null)?gn(m,j):er),g=new g(T,B),m.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,g.updater=fv,m.stateNode=g,g._reactInternals=m,N&&(m=m.stateNode,m.__reactInternalMemoizedUnmaskedChildContext=j,m.__reactInternalMemoizedMaskedChildContext=B),g}function mO(m,g,T,N){m=g.state,typeof g.componentWillReceiveProps=="function"&&g.componentWillReceiveProps(T,N),typeof g.UNSAFE_componentWillReceiveProps=="function"&&g.UNSAFE_componentWillReceiveProps(T,N),g.state!==m&&fv.enqueueReplaceState(g,g.state,null)}function Kw(m,g,T,N){var j=m.stateNode;j.props=T,j.state=m.memoizedState,j.refs=dO,qw(m);var B=g.contextType;typeof B=="object"&&B!==null?j.context=nr(B):(B=wn(g)?Hi:Wn.current,j.context=gn(m,B)),j.state=m.memoizedState,B=g.getDerivedStateFromProps,typeof B=="function"&&(Yw(m,g,B,T),j.state=m.memoizedState),typeof g.getDerivedStateFromProps=="function"||typeof j.getSnapshotBeforeUpdate=="function"||typeof j.UNSAFE_componentWillMount!="function"&&typeof j.componentWillMount!="function"||(g=j.state,typeof j.componentWillMount=="function"&&j.componentWillMount(),typeof j.UNSAFE_componentWillMount=="function"&&j.UNSAFE_componentWillMount(),g!==j.state&&fv.enqueueReplaceState(j,j.state,null),uv(m,T,j,N),j.state=m.memoizedState),typeof j.componentDidMount=="function"&&(m.flags|=4194308)}var Tf=[],Af=0,dv=null,hv=0,Ds=[],Us=0,zc=null,Eo=1,To="";function Vc(m,g){Tf[Af++]=hv,Tf[Af++]=dv,dv=m,hv=g}function gO(m,g,T){Ds[Us++]=Eo,Ds[Us++]=To,Ds[Us++]=zc,zc=m;var N=Eo;m=To;var j=32-fs(N)-1;N&=~(1<<j),T+=1;var B=32-fs(g)+j;if(30<B){var ee=j-j%5;B=(N&(1<<ee)-1).toString(32),N>>=ee,j-=ee,Eo=1<<32-fs(g)+j|T<<j|N,To=B+m}else Eo=1<<B|T<<j|N,To=m}function Zw(m){m.return!==null&&(Vc(m,1),gO(m,1,0))}function Jw(m){for(;m===dv;)dv=Tf[--Af],Tf[Af]=null,hv=Tf[--Af],Tf[Af]=null;for(;m===zc;)zc=Ds[--Us],Ds[Us]=null,To=Ds[--Us],Ds[Us]=null,Eo=Ds[--Us],Ds[Us]=null}var ms=null,gs=null,jn=!1,gp=!1,va=null;function vO(m,g){var T=Vs(5,null,null,0);T.elementType="DELETED",T.stateNode=g,T.return=m,g=m.deletions,g===null?(m.deletions=[T],m.flags|=16):g.push(T)}function yO(m,g){switch(m.tag){case 5:return g=Bt(g,m.type,m.pendingProps),g!==null?(m.stateNode=g,ms=m,gs=Vi(g),!0):!1;case 6:return g=Ln(g,m.pendingProps),g!==null?(m.stateNode=g,ms=m,gs=null,!0):!1;case 13:if(g=ni(g),g!==null){var T=zc!==null?{id:Eo,overflow:To}:null;return m.memoizedState={dehydrated:g,treeContext:T,retryLane:1073741824},T=Vs(18,null,null,0),T.stateNode=g,T.return=m,m.child=T,ms=m,gs=null,!0}return!1;default:return!1}}function Qw(m){return(m.mode&1)!==0&&(m.flags&128)===0}function eS(m){if(jn){var g=gs;if(g){var T=g;if(!yO(m,g)){if(Qw(m))throw Error(a(418));g=Dr(T);var N=ms;g&&yO(m,g)?vO(N,T):(m.flags=m.flags&-4097|2,jn=!1,ms=m)}}else{if(Qw(m))throw Error(a(418));m.flags=m.flags&-4097|2,jn=!1,ms=m}}}function xO(m){for(m=m.return;m!==null&&m.tag!==5&&m.tag!==3&&m.tag!==13;)m=m.return;ms=m}function vp(m){if(!me||m!==ms)return!1;if(!jn)return xO(m),jn=!0,!1;if(m.tag!==3&&(m.tag!==5||yt(m.type)&&!te(m.type,m.memoizedProps))){var g=gs;if(g){if(Qw(m)){for(m=gs;m;)m=Dr(m);throw Error(a(418))}for(;g;)vO(m,g),g=Dr(g)}}if(xO(m),m.tag===13){if(!me)throw Error(a(316));if(m=m.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));gs=Le(m)}else gs=ms?Dr(m.stateNode):null;return!0}function Pf(){me&&(gs=ms=null,gp=jn=!1)}function tS(m){va===null?va=[m]:va.push(m)}function yp(m,g,T){if(m=T.ref,m!==null&&typeof m!="function"&&typeof m!="object"){if(T._owner){if(T=T._owner,T){if(T.tag!==1)throw Error(a(309));var N=T.stateNode}if(!N)throw Error(a(147,m));var j=N,B=""+m;return g!==null&&g.ref!==null&&typeof g.ref=="function"&&g.ref._stringRef===B?g.ref:(g=function(ee){var ue=j.refs;ue===dO&&(ue=j.refs={}),ee===null?delete ue[B]:ue[B]=ee},g._stringRef=B,g)}if(typeof m!="string")throw Error(a(284));if(!T._owner)throw Error(a(290,m))}return m}function pv(m,g){throw m=Object.prototype.toString.call(g),Error(a(31,m==="[object Object]"?"object with keys {"+Object.keys(g).join(", ")+"}":m))}function bO(m){var g=m._init;return g(m._payload)}function _O(m){function g(Se,de){if(m){var Ae=Se.deletions;Ae===null?(Se.deletions=[de],Se.flags|=16):Ae.push(de)}}function T(Se,de){if(!m)return null;for(;de!==null;)g(Se,de),de=de.sibling;return null}function N(Se,de){for(Se=new Map;de!==null;)de.key!==null?Se.set(de.key,de):Se.set(de.index,de),de=de.sibling;return Se}function j(Se,de){return Se=Pl(Se,de),Se.index=0,Se.sibling=null,Se}function B(Se,de,Ae){return Se.index=Ae,m?(Ae=Se.alternate,Ae!==null?(Ae=Ae.index,Ae<de?(Se.flags|=2,de):Ae):(Se.flags|=2,de)):(Se.flags|=1048576,de)}function ee(Se){return m&&Se.alternate===null&&(Se.flags|=2),Se}function ue(Se,de,Ae,st){return de===null||de.tag!==6?(de=US(Ae,Se.mode,st),de.return=Se,de):(de=j(de,Ae),de.return=Se,de)}function Ie(Se,de,Ae,st){var pt=Ae.type;return pt===u?ft(Se,de,Ae.props.children,st,Ae.key):de!==null&&(de.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===_&&bO(pt)===de.type)?(st=j(de,Ae.props),st.ref=yp(Se,de,Ae),st.return=Se,st):(st=Wv(Ae.type,Ae.key,Ae.props,null,Se.mode,st),st.ref=yp(Se,de,Ae),st.return=Se,st)}function Ze(Se,de,Ae,st){return de===null||de.tag!==4||de.stateNode.containerInfo!==Ae.containerInfo||de.stateNode.implementation!==Ae.implementation?(de=FS(Ae,Se.mode,st),de.return=Se,de):(de=j(de,Ae.children||[]),de.return=Se,de)}function ft(Se,de,Ae,st,pt){return de===null||de.tag!==7?(de=Yc(Ae,Se.mode,st,pt),de.return=Se,de):(de=j(de,Ae),de.return=Se,de)}function Ot(Se,de,Ae){if(typeof de=="string"&&de!==""||typeof de=="number")return de=US(""+de,Se.mode,Ae),de.return=Se,de;if(typeof de=="object"&&de!==null){switch(de.$$typeof){case l:return Ae=Wv(de.type,de.key,de.props,null,Se.mode,Ae),Ae.ref=yp(Se,null,de),Ae.return=Se,Ae;case c:return de=FS(de,Se.mode,Ae),de.return=Se,de;case _:var st=de._init;return Ot(Se,st(de._payload),Ae)}if(z(de)||E(de))return de=Yc(de,Se.mode,Ae,null),de.return=Se,de;pv(Se,de)}return null}function bt(Se,de,Ae,st){var pt=de!==null?de.key:null;if(typeof Ae=="string"&&Ae!==""||typeof Ae=="number")return pt!==null?null:ue(Se,de,""+Ae,st);if(typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case l:return Ae.key===pt?Ie(Se,de,Ae,st):null;case c:return Ae.key===pt?Ze(Se,de,Ae,st):null;case _:return pt=Ae._init,bt(Se,de,pt(Ae._payload),st)}if(z(Ae)||E(Ae))return pt!==null?null:ft(Se,de,Ae,st,null);pv(Se,Ae)}return null}function xn(Se,de,Ae,st,pt){if(typeof st=="string"&&st!==""||typeof st=="number")return Se=Se.get(Ae)||null,ue(de,Se,""+st,pt);if(typeof st=="object"&&st!==null){switch(st.$$typeof){case l:return Se=Se.get(st.key===null?Ae:st.key)||null,Ie(de,Se,st,pt);case c:return Se=Se.get(st.key===null?Ae:st.key)||null,Ze(de,Se,st,pt);case _:var Ft=st._init;return xn(Se,de,Ae,Ft(st._payload),pt)}if(z(st)||E(st))return Se=Se.get(Ae)||null,ft(de,Se,st,pt,null);pv(de,st)}return null}function mt(Se,de,Ae,st){for(var pt=null,Ft=null,Lt=de,nn=de=0,zr=null;Lt!==null&&nn<Ae.length;nn++){Lt.index>nn?(zr=Lt,Lt=null):zr=Lt.sibling;var rn=bt(Se,Lt,Ae[nn],st);if(rn===null){Lt===null&&(Lt=zr);break}m&&Lt&&rn.alternate===null&&g(Se,Lt),de=B(rn,de,nn),Ft===null?pt=rn:Ft.sibling=rn,Ft=rn,Lt=zr}if(nn===Ae.length)return T(Se,Lt),jn&&Vc(Se,nn),pt;if(Lt===null){for(;nn<Ae.length;nn++)Lt=Ot(Se,Ae[nn],st),Lt!==null&&(de=B(Lt,de,nn),Ft===null?pt=Lt:Ft.sibling=Lt,Ft=Lt);return jn&&Vc(Se,nn),pt}for(Lt=N(Se,Lt);nn<Ae.length;nn++)zr=xn(Lt,Se,nn,Ae[nn],st),zr!==null&&(m&&zr.alternate!==null&&Lt.delete(zr.key===null?nn:zr.key),de=B(zr,de,nn),Ft===null?pt=zr:Ft.sibling=zr,Ft=zr);return m&&Lt.forEach(function(Cl){return g(Se,Cl)}),jn&&Vc(Se,nn),pt}function li(Se,de,Ae,st){var pt=E(Ae);if(typeof pt!="function")throw Error(a(150));if(Ae=pt.call(Ae),Ae==null)throw Error(a(151));for(var Ft=pt=null,Lt=de,nn=de=0,zr=null,rn=Ae.next();Lt!==null&&!rn.done;nn++,rn=Ae.next()){Lt.index>nn?(zr=Lt,Lt=null):zr=Lt.sibling;var Cl=bt(Se,Lt,rn.value,st);if(Cl===null){Lt===null&&(Lt=zr);break}m&&Lt&&Cl.alternate===null&&g(Se,Lt),de=B(Cl,de,nn),Ft===null?pt=Cl:Ft.sibling=Cl,Ft=Cl,Lt=zr}if(rn.done)return T(Se,Lt),jn&&Vc(Se,nn),pt;if(Lt===null){for(;!rn.done;nn++,rn=Ae.next())rn=Ot(Se,rn.value,st),rn!==null&&(de=B(rn,de,nn),Ft===null?pt=rn:Ft.sibling=rn,Ft=rn);return jn&&Vc(Se,nn),pt}for(Lt=N(Se,Lt);!rn.done;nn++,rn=Ae.next())rn=xn(Lt,Se,nn,rn.value,st),rn!==null&&(m&&rn.alternate!==null&&Lt.delete(rn.key===null?nn:rn.key),de=B(rn,de,nn),Ft===null?pt=rn:Ft.sibling=rn,Ft=rn);return m&&Lt.forEach(function(U7){return g(Se,U7)}),jn&&Vc(Se,nn),pt}function Hs(Se,de,Ae,st){if(typeof Ae=="object"&&Ae!==null&&Ae.type===u&&Ae.key===null&&(Ae=Ae.props.children),typeof Ae=="object"&&Ae!==null){switch(Ae.$$typeof){case l:e:{for(var pt=Ae.key,Ft=de;Ft!==null;){if(Ft.key===pt){if(pt=Ae.type,pt===u){if(Ft.tag===7){T(Se,Ft.sibling),de=j(Ft,Ae.props.children),de.return=Se,Se=de;break e}}else if(Ft.elementType===pt||typeof pt=="object"&&pt!==null&&pt.$$typeof===_&&bO(pt)===Ft.type){T(Se,Ft.sibling),de=j(Ft,Ae.props),de.ref=yp(Se,Ft,Ae),de.return=Se,Se=de;break e}T(Se,Ft);break}else g(Se,Ft);Ft=Ft.sibling}Ae.type===u?(de=Yc(Ae.props.children,Se.mode,st,Ae.key),de.return=Se,Se=de):(st=Wv(Ae.type,Ae.key,Ae.props,null,Se.mode,st),st.ref=yp(Se,de,Ae),st.return=Se,Se=st)}return ee(Se);case c:e:{for(Ft=Ae.key;de!==null;){if(de.key===Ft)if(de.tag===4&&de.stateNode.containerInfo===Ae.containerInfo&&de.stateNode.implementation===Ae.implementation){T(Se,de.sibling),de=j(de,Ae.children||[]),de.return=Se,Se=de;break e}else{T(Se,de);break}else g(Se,de);de=de.sibling}de=FS(Ae,Se.mode,st),de.return=Se,Se=de}return ee(Se);case _:return Ft=Ae._init,Hs(Se,de,Ft(Ae._payload),st)}if(z(Ae))return mt(Se,de,Ae,st);if(E(Ae))return li(Se,de,Ae,st);pv(Se,Ae)}return typeof Ae=="string"&&Ae!==""||typeof Ae=="number"?(Ae=""+Ae,de!==null&&de.tag===6?(T(Se,de.sibling),de=j(de,Ae),de.return=Se,Se=de):(T(Se,de),de=US(Ae,Se.mode,st),de.return=Se,Se=de),ee(Se)):T(Se,de)}return Hs}var Cf=_O(!0),wO=_O(!1),xp={},Fs=St(xp),bp=St(xp),Nf=St(xp);function Ga(m){if(m===xp)throw Error(a(174));return m}function nS(m,g){Mt(Nf,g),Mt(bp,m),Mt(Fs,xp),m=q(g),Zt(Fs),Mt(Fs,m)}function Rf(){Zt(Fs),Zt(bp),Zt(Nf)}function SO(m){var g=Ga(Nf.current),T=Ga(Fs.current);g=V(T,m.type,g),T!==g&&(Mt(bp,m),Mt(Fs,g))}function rS(m){bp.current===m&&(Zt(Fs),Zt(bp))}var Fn=St(0);function mv(m){for(var g=m;g!==null;){if(g.tag===13){var T=g.memoizedState;if(T!==null&&(T=T.dehydrated,T===null||cs(T)||kr(T)))return g}else if(g.tag===19&&g.memoizedProps.revealOrder!==void 0){if(g.flags&128)return g}else if(g.child!==null){g.child.return=g,g=g.child;continue}if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return null;g=g.return}g.sibling.return=g.return,g=g.sibling}return null}var iS=[];function sS(){for(var m=0;m<iS.length;m++){var g=iS[m];Ce?g._workInProgressVersionPrimary=null:g._workInProgressVersionSecondary=null}iS.length=0}var gv=o.ReactCurrentDispatcher,Bs=o.ReactCurrentBatchConfig,Of=0,Gn=null,si=null,Br=null,vv=!1,_p=!1,wp=0,c7=0;function ai(){throw Error(a(321))}function aS(m,g){if(g===null)return!1;for(var T=0;T<g.length&&T<m.length;T++)if(!hs(m[T],g[T]))return!1;return!0}function oS(m,g,T,N,j,B){if(Of=B,Gn=g,g.memoizedState=null,g.updateQueue=null,g.lanes=0,gv.current=m===null||m.memoizedState===null?h7:p7,m=T(N,j),_p){B=0;do{if(_p=!1,wp=0,25<=B)throw Error(a(301));B+=1,Br=si=null,g.updateQueue=null,gv.current=m7,m=T(N,j)}while(_p)}if(gv.current=wv,g=si!==null&&si.next!==null,Of=0,Br=si=Gn=null,vv=!1,g)throw Error(a(300));return m}function lS(){var m=wp!==0;return wp=0,m}function Ao(){var m={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Br===null?Gn.memoizedState=Br=m:Br=Br.next=m,Br}function Xa(){if(si===null){var m=Gn.alternate;m=m!==null?m.memoizedState:null}else m=si.next;var g=Br===null?Gn.memoizedState:Br.next;if(g!==null)Br=g,si=m;else{if(m===null)throw Error(a(310));si=m,m={memoizedState:si.memoizedState,baseState:si.baseState,baseQueue:si.baseQueue,queue:si.queue,next:null},Br===null?Gn.memoizedState=Br=m:Br=Br.next=m}return Br}function Hc(m,g){return typeof g=="function"?g(m):g}function yv(m){var g=Xa(),T=g.queue;if(T===null)throw Error(a(311));T.lastRenderedReducer=m;var N=si,j=N.baseQueue,B=T.pending;if(B!==null){if(j!==null){var ee=j.next;j.next=B.next,B.next=ee}N.baseQueue=j=B,T.pending=null}if(j!==null){B=j.next,N=N.baseState;var ue=ee=null,Ie=null,Ze=B;do{var ft=Ze.lane;if((Of&ft)===ft)Ie!==null&&(Ie=Ie.next={lane:0,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null}),N=Ze.hasEagerState?Ze.eagerState:m(N,Ze.action);else{var Ot={lane:ft,action:Ze.action,hasEagerState:Ze.hasEagerState,eagerState:Ze.eagerState,next:null};Ie===null?(ue=Ie=Ot,ee=N):Ie=Ie.next=Ot,Gn.lanes|=ft,If|=ft}Ze=Ze.next}while(Ze!==null&&Ze!==B);Ie===null?ee=N:Ie.next=ue,hs(N,g.memoizedState)||(vs=!0),g.memoizedState=N,g.baseState=ee,g.baseQueue=Ie,T.lastRenderedState=N}if(m=T.interleaved,m!==null){j=m;do B=j.lane,Gn.lanes|=B,If|=B,j=j.next;while(j!==m)}else j===null&&(T.lanes=0);return[g.memoizedState,T.dispatch]}function xv(m){var g=Xa(),T=g.queue;if(T===null)throw Error(a(311));T.lastRenderedReducer=m;var N=T.dispatch,j=T.pending,B=g.memoizedState;if(j!==null){T.pending=null;var ee=j=j.next;do B=m(B,ee.action),ee=ee.next;while(ee!==j);hs(B,g.memoizedState)||(vs=!0),g.memoizedState=B,g.baseQueue===null&&(g.baseState=B),T.lastRenderedState=B}return[B,N]}function MO(){}function EO(m,g){var T=Gn,N=Xa(),j=g(),B=!hs(N.memoizedState,j);if(B&&(N.memoizedState=j,vs=!0),N=N.queue,Mp(PO.bind(null,T,N,m),[m]),N.getSnapshot!==g||B||Br!==null&&Br.memoizedState.tag&1){if(T.flags|=2048,Sp(9,AO.bind(null,T,N,j,g),void 0,null),fr===null)throw Error(a(349));Of&30||TO(T,g,j)}return j}function TO(m,g,T){m.flags|=16384,m={getSnapshot:g,value:T},g=Gn.updateQueue,g===null?(g={lastEffect:null,stores:null},Gn.updateQueue=g,g.stores=[m]):(T=g.stores,T===null?g.stores=[m]:T.push(m))}function AO(m,g,T,N){g.value=T,g.getSnapshot=N,CO(g)&&zs(m,1,-1)}function PO(m,g,T){return T(function(){CO(g)&&zs(m,1,-1)})}function CO(m){var g=m.getSnapshot;m=m.value;try{var T=g();return!hs(m,T)}catch{return!0}}function cS(m){var g=Ao();return typeof m=="function"&&(m=m()),g.memoizedState=g.baseState=m,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Hc,lastRenderedState:m},g.queue=m,m=m.dispatch=d7.bind(null,Gn,m),[g.memoizedState,m]}function Sp(m,g,T,N){return m={tag:m,create:g,destroy:T,deps:N,next:null},g=Gn.updateQueue,g===null?(g={lastEffect:null,stores:null},Gn.updateQueue=g,g.lastEffect=m.next=m):(T=g.lastEffect,T===null?g.lastEffect=m.next=m:(N=T.next,T.next=m,m.next=N,g.lastEffect=m)),m}function NO(){return Xa().memoizedState}function bv(m,g,T,N){var j=Ao();Gn.flags|=m,j.memoizedState=Sp(1|g,T,void 0,N===void 0?null:N)}function _v(m,g,T,N){var j=Xa();N=N===void 0?null:N;var B=void 0;if(si!==null){var ee=si.memoizedState;if(B=ee.destroy,N!==null&&aS(N,ee.deps)){j.memoizedState=Sp(g,T,B,N);return}}Gn.flags|=m,j.memoizedState=Sp(1|g,T,B,N)}function uS(m,g){return bv(8390656,8,m,g)}function Mp(m,g){return _v(2048,8,m,g)}function RO(m,g){return _v(4,2,m,g)}function OO(m,g){return _v(4,4,m,g)}function LO(m,g){if(typeof g=="function")return m=m(),g(m),function(){g(null)};if(g!=null)return m=m(),g.current=m,function(){g.current=null}}function IO(m,g,T){return T=T!=null?T.concat([m]):null,_v(4,4,LO.bind(null,g,m),T)}function fS(){}function jO(m,g){var T=Xa();g=g===void 0?null:g;var N=T.memoizedState;return N!==null&&g!==null&&aS(g,N[1])?N[0]:(T.memoizedState=[m,g],m)}function kO(m,g){var T=Xa();g=g===void 0?null:g;var N=T.memoizedState;return N!==null&&g!==null&&aS(g,N[1])?N[0]:(m=m(),T.memoizedState=[m,g],m)}function u7(m,g){var T=$t;$t=T!==0&&4>T?T:4,m(!0);var N=Bs.transition;Bs.transition={};try{m(!1),g()}finally{$t=T,Bs.transition=N}}function DO(){return Xa().memoizedState}function f7(m,g,T){var N=Tl(m);T={lane:N,action:T,hasEagerState:!1,eagerState:null,next:null},UO(m)?FO(g,T):(BO(m,g,T),T=Ri(),m=zs(m,N,T),m!==null&&zO(m,g,N))}function d7(m,g,T){var N=Tl(m),j={lane:N,action:T,hasEagerState:!1,eagerState:null,next:null};if(UO(m))FO(g,j);else{BO(m,g,j);var B=m.alternate;if(m.lanes===0&&(B===null||B.lanes===0)&&(B=g.lastRenderedReducer,B!==null))try{var ee=g.lastRenderedState,ue=B(ee,T);if(j.hasEagerState=!0,j.eagerState=ue,hs(ue,ee))return}catch{}finally{}T=Ri(),m=zs(m,N,T),m!==null&&zO(m,g,N)}}function UO(m){var g=m.alternate;return m===Gn||g!==null&&g===Gn}function FO(m,g){_p=vv=!0;var T=m.pending;T===null?g.next=g:(g.next=T.next,T.next=g),m.pending=g}function BO(m,g,T){fr!==null&&m.mode&1&&!(zt&2)?(m=g.interleaved,m===null?(T.next=T,ps===null?ps=[g]:ps.push(g)):(T.next=m.next,m.next=T),g.interleaved=T):(m=g.pending,m===null?T.next=T:(T.next=m.next,m.next=T),g.pending=T)}function zO(m,g,T){if(T&4194240){var N=g.lanes;N&=m.pendingLanes,T|=N,g.lanes=T,$a(m,T)}}var wv={readContext:nr,useCallback:ai,useContext:ai,useEffect:ai,useImperativeHandle:ai,useInsertionEffect:ai,useLayoutEffect:ai,useMemo:ai,useReducer:ai,useRef:ai,useState:ai,useDebugValue:ai,useDeferredValue:ai,useTransition:ai,useMutableSource:ai,useSyncExternalStore:ai,useId:ai,unstable_isNewReconciler:!1},h7={readContext:nr,useCallback:function(m,g){return Ao().memoizedState=[m,g===void 0?null:g],m},useContext:nr,useEffect:uS,useImperativeHandle:function(m,g,T){return T=T!=null?T.concat([m]):null,bv(4194308,4,LO.bind(null,g,m),T)},useLayoutEffect:function(m,g){return bv(4194308,4,m,g)},useInsertionEffect:function(m,g){return bv(4,2,m,g)},useMemo:function(m,g){var T=Ao();return g=g===void 0?null:g,m=m(),T.memoizedState=[m,g],m},useReducer:function(m,g,T){var N=Ao();return g=T!==void 0?T(g):g,N.memoizedState=N.baseState=g,m={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:m,lastRenderedState:g},N.queue=m,m=m.dispatch=f7.bind(null,Gn,m),[N.memoizedState,m]},useRef:function(m){var g=Ao();return m={current:m},g.memoizedState=m},useState:cS,useDebugValue:fS,useDeferredValue:function(m){var g=cS(m),T=g[0],N=g[1];return uS(function(){var j=Bs.transition;Bs.transition={};try{N(m)}finally{Bs.transition=j}},[m]),T},useTransition:function(){var m=cS(!1),g=m[0];return m=u7.bind(null,m[1]),Ao().memoizedState=m,[g,m]},useMutableSource:function(){},useSyncExternalStore:function(m,g,T){var N=Gn,j=Ao();if(jn){if(T===void 0)throw Error(a(407));T=T()}else{if(T=g(),fr===null)throw Error(a(349));Of&30||TO(N,g,T)}j.memoizedState=T;var B={value:T,getSnapshot:g};return j.queue=B,uS(PO.bind(null,N,B,m),[m]),N.flags|=2048,Sp(9,AO.bind(null,N,B,T,g),void 0,null),T},useId:function(){var m=Ao(),g=fr.identifierPrefix;if(jn){var T=To,N=Eo;T=(N&~(1<<32-fs(N)-1)).toString(32)+T,g=":"+g+"R"+T,T=wp++,0<T&&(g+="H"+T.toString(32)),g+=":"}else T=c7++,g=":"+g+"r"+T.toString(32)+":";return m.memoizedState=g},unstable_isNewReconciler:!1},p7={readContext:nr,useCallback:jO,useContext:nr,useEffect:Mp,useImperativeHandle:IO,useInsertionEffect:RO,useLayoutEffect:OO,useMemo:kO,useReducer:yv,useRef:NO,useState:function(){return yv(Hc)},useDebugValue:fS,useDeferredValue:function(m){var g=yv(Hc),T=g[0],N=g[1];return Mp(function(){var j=Bs.transition;Bs.transition={};try{N(m)}finally{Bs.transition=j}},[m]),T},useTransition:function(){var m=yv(Hc)[0],g=Xa().memoizedState;return[m,g]},useMutableSource:MO,useSyncExternalStore:EO,useId:DO,unstable_isNewReconciler:!1},m7={readContext:nr,useCallback:jO,useContext:nr,useEffect:Mp,useImperativeHandle:IO,useInsertionEffect:RO,useLayoutEffect:OO,useMemo:kO,useReducer:xv,useRef:NO,useState:function(){return xv(Hc)},useDebugValue:fS,useDeferredValue:function(m){var g=xv(Hc),T=g[0],N=g[1];return Mp(function(){var j=Bs.transition;Bs.transition={};try{N(m)}finally{Bs.transition=j}},[m]),T},useTransition:function(){var m=xv(Hc)[0],g=Xa().memoizedState;return[m,g]},useMutableSource:MO,useSyncExternalStore:EO,useId:DO,unstable_isNewReconciler:!1};function dS(m,g){try{var T="",N=g;do T+=Bc(N),N=N.return;while(N);var j=T}catch(B){j=`
Error generating stack: `+B.message+`
`+B.stack}return{value:m,source:g,stack:j}}function hS(m,g){try{console.error(g.value)}catch(T){setTimeout(function(){throw T})}}var g7=typeof WeakMap=="function"?WeakMap:Map;function VO(m,g,T){T=Mo(-1,T),T.tag=3,T.payload={element:null};var N=g.value;return T.callback=function(){Uv||(Uv=!0,RS=N),hS(m,g)},T}function HO(m,g,T){T=Mo(-1,T),T.tag=3;var N=m.type.getDerivedStateFromError;if(typeof N=="function"){var j=g.value;T.payload=function(){return N(j)},T.callback=function(){hS(m,g)}}var B=m.stateNode;return B!==null&&typeof B.componentDidCatch=="function"&&(T.callback=function(){hS(m,g),typeof N!="function"&&(Ml===null?Ml=new Set([this]):Ml.add(this));var ee=g.stack;this.componentDidCatch(g.value,{componentStack:ee!==null?ee:""})}),T}function $O(m,g,T){var N=m.pingCache;if(N===null){N=m.pingCache=new g7;var j=new Set;N.set(g,j)}else j=N.get(g),j===void 0&&(j=new Set,N.set(g,j));j.has(T)||(j.add(T),m=N7.bind(null,m,g,T),g.then(m,m))}function WO(m){do{var g;if((g=m.tag===13)&&(g=m.memoizedState,g=g!==null?g.dehydrated!==null:!0),g)return m;m=m.return}while(m!==null);return null}function GO(m,g,T,N,j){return m.mode&1?(m.flags|=65536,m.lanes=j,m):(m===g?m.flags|=65536:(m.flags|=128,T.flags|=131072,T.flags&=-52805,T.tag===1&&(T.alternate===null?T.tag=17:(g=Mo(-1,1),g.tag=2,Sl(T,g))),T.lanes|=1),m)}function qa(m){m.flags|=4}function XO(m,g){if(m!==null&&m.child===g.child)return!0;if(g.flags&16)return!1;for(m=g.child;m!==null;){if(m.flags&12854||m.subtreeFlags&12854)return!1;m=m.sibling}return!0}var Ep,Tp,Sv,Mv;if(le)Ep=function(m,g){for(var T=g.child;T!==null;){if(T.tag===5||T.tag===6)H(m,T.stateNode);else if(T.tag!==4&&T.child!==null){T.child.return=T,T=T.child;continue}if(T===g)break;for(;T.sibling===null;){if(T.return===null||T.return===g)return;T=T.return}T.sibling.return=T.return,T=T.sibling}},Tp=function(){},Sv=function(m,g,T,N,j){if(m=m.memoizedProps,m!==N){var B=g.stateNode,ee=Ga(Fs.current);T=ne(B,T,m,N,j,ee),(g.updateQueue=T)&&qa(g)}},Mv=function(m,g,T,N){T!==N&&qa(g)};else if(G){Ep=function(m,g,T,N){for(var j=g.child;j!==null;){if(j.tag===5){var B=j.stateNode;T&&N&&(B=ht(B,j.type,j.memoizedProps,j)),H(m,B)}else if(j.tag===6)B=j.stateNode,T&&N&&(B=qt(B,j.memoizedProps,j)),H(m,B);else if(j.tag!==4){if(j.tag===22&&j.memoizedState!==null)B=j.child,B!==null&&(B.return=j),Ep(m,j,!0,!0);else if(j.child!==null){j.child.return=j,j=j.child;continue}}if(j===g)break;for(;j.sibling===null;){if(j.return===null||j.return===g)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};var qO=function(m,g,T,N){for(var j=g.child;j!==null;){if(j.tag===5){var B=j.stateNode;T&&N&&(B=ht(B,j.type,j.memoizedProps,j)),Ke(m,B)}else if(j.tag===6)B=j.stateNode,T&&N&&(B=qt(B,j.memoizedProps,j)),Ke(m,B);else if(j.tag!==4){if(j.tag===22&&j.memoizedState!==null)B=j.child,B!==null&&(B.return=j),qO(m,j,!0,!0);else if(j.child!==null){j.child.return=j,j=j.child;continue}}if(j===g)break;for(;j.sibling===null;){if(j.return===null||j.return===g)return;j=j.return}j.sibling.return=j.return,j=j.sibling}};Tp=function(m,g){var T=g.stateNode;if(!XO(m,g)){m=T.containerInfo;var N=Te(m);qO(N,g,!1,!1),T.pendingChildren=N,qa(g),nt(m,N)}},Sv=function(m,g,T,N,j){var B=m.stateNode,ee=m.memoizedProps;if((m=XO(m,g))&&ee===N)g.stateNode=B;else{var ue=g.stateNode,Ie=Ga(Fs.current),Ze=null;ee!==N&&(Ze=ne(ue,T,ee,N,j,Ie)),m&&Ze===null?g.stateNode=B:(B=Ge(B,Ze,T,ee,N,g,m,ue),K(B,T,N,j,Ie)&&qa(g),g.stateNode=B,m?qa(g):Ep(B,g,!1,!1))}},Mv=function(m,g,T,N){T!==N?(m=Ga(Nf.current),T=Ga(Fs.current),g.stateNode=ae(N,m,T,g),qa(g)):g.stateNode=m.stateNode}}else Tp=function(){},Sv=function(){},Mv=function(){};function Ap(m,g){if(!jn)switch(m.tailMode){case"hidden":g=m.tail;for(var T=null;g!==null;)g.alternate!==null&&(T=g),g=g.sibling;T===null?m.tail=null:T.sibling=null;break;case"collapsed":T=m.tail;for(var N=null;T!==null;)T.alternate!==null&&(N=T),T=T.sibling;N===null?g||m.tail===null?m.tail=null:m.tail.sibling=null:N.sibling=null}}function oi(m){var g=m.alternate!==null&&m.alternate.child===m.child,T=0,N=0;if(g)for(var j=m.child;j!==null;)T|=j.lanes|j.childLanes,N|=j.subtreeFlags&14680064,N|=j.flags&14680064,j.return=m,j=j.sibling;else for(j=m.child;j!==null;)T|=j.lanes|j.childLanes,N|=j.subtreeFlags,N|=j.flags,j.return=m,j=j.sibling;return m.subtreeFlags|=N,m.childLanes=T,g}function v7(m,g,T){var N=g.pendingProps;switch(Jw(g),g.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return oi(g),null;case 1:return wn(g.type)&&Ei(),oi(g),null;case 3:return N=g.stateNode,Rf(),Zt(In),Zt(Wn),sS(),N.pendingContext&&(N.context=N.pendingContext,N.pendingContext=null),(m===null||m.child===null)&&(vp(g)?qa(g):m===null||m.memoizedState.isDehydrated&&!(g.flags&256)||(g.flags|=1024,va!==null&&(IS(va),va=null))),Tp(m,g),oi(g),null;case 5:rS(g),T=Ga(Nf.current);var j=g.type;if(m!==null&&g.stateNode!=null)Sv(m,g,j,N,T),m.ref!==g.ref&&(g.flags|=512,g.flags|=2097152);else{if(!N){if(g.stateNode===null)throw Error(a(166));return oi(g),null}if(m=Ga(Fs.current),vp(g)){if(!me)throw Error(a(175));m=bf(g.stateNode,g.type,g.memoizedProps,T,m,g,!gp),g.updateQueue=m,m!==null&&qa(g)}else{var B=k(j,N,T,m,g);Ep(B,g,!1,!1),g.stateNode=B,K(B,j,N,T,m)&&qa(g)}g.ref!==null&&(g.flags|=512,g.flags|=2097152)}return oi(g),null;case 6:if(m&&g.stateNode!=null)Mv(m,g,m.memoizedProps,N);else{if(typeof N!="string"&&g.stateNode===null)throw Error(a(166));if(m=Ga(Nf.current),T=Ga(Fs.current),vp(g)){if(!me)throw Error(a(176));if(m=g.stateNode,N=g.memoizedProps,(T=Q(m,N,g,!gp))&&(j=ms,j!==null))switch(B=(j.mode&1)!==0,j.tag){case 3:wt(j.stateNode.containerInfo,m,N,B);break;case 5:Rt(j.type,j.memoizedProps,j.stateNode,m,N,B)}T&&qa(g)}else g.stateNode=ae(N,m,T,g)}return oi(g),null;case 13:if(Zt(Fn),N=g.memoizedState,jn&&gs!==null&&g.mode&1&&!(g.flags&128)){for(m=gs;m;)m=Dr(m);return Pf(),g.flags|=98560,g}if(N!==null&&N.dehydrated!==null){if(N=vp(g),m===null){if(!N)throw Error(a(318));if(!me)throw Error(a(344));if(m=g.memoizedState,m=m!==null?m.dehydrated:null,!m)throw Error(a(317));be(m,g)}else Pf(),!(g.flags&128)&&(g.memoizedState=null),g.flags|=4;return oi(g),null}return va!==null&&(IS(va),va=null),g.flags&128?(g.lanes=T,g):(N=N!==null,T=!1,m===null?vp(g):T=m.memoizedState!==null,N&&!T&&(g.child.flags|=8192,g.mode&1&&(m===null||Fn.current&1?wr===0&&(wr=3):kS())),g.updateQueue!==null&&(g.flags|=4),oi(g),null);case 4:return Rf(),Tp(m,g),m===null&&xe(g.stateNode.containerInfo),oi(g),null;case 10:return Fr(g.type._context),oi(g),null;case 17:return wn(g.type)&&Ei(),oi(g),null;case 19:if(Zt(Fn),j=g.memoizedState,j===null)return oi(g),null;if(N=(g.flags&128)!==0,B=j.rendering,B===null)if(N)Ap(j,!1);else{if(wr!==0||m!==null&&m.flags&128)for(m=g.child;m!==null;){if(B=mv(m),B!==null){for(g.flags|=128,Ap(j,!1),m=B.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),g.subtreeFlags=0,m=T,N=g.child;N!==null;)T=N,j=m,T.flags&=14680066,B=T.alternate,B===null?(T.childLanes=0,T.lanes=j,T.child=null,T.subtreeFlags=0,T.memoizedProps=null,T.memoizedState=null,T.updateQueue=null,T.dependencies=null,T.stateNode=null):(T.childLanes=B.childLanes,T.lanes=B.lanes,T.child=B.child,T.subtreeFlags=0,T.deletions=null,T.memoizedProps=B.memoizedProps,T.memoizedState=B.memoizedState,T.updateQueue=B.updateQueue,T.type=B.type,j=B.dependencies,T.dependencies=j===null?null:{lanes:j.lanes,firstContext:j.firstContext}),N=N.sibling;return Mt(Fn,Fn.current&1|2),g.child}m=m.sibling}j.tail!==null&&Un()>NS&&(g.flags|=128,N=!0,Ap(j,!1),g.lanes=4194304)}else{if(!N)if(m=mv(B),m!==null){if(g.flags|=128,N=!0,m=m.updateQueue,m!==null&&(g.updateQueue=m,g.flags|=4),Ap(j,!0),j.tail===null&&j.tailMode==="hidden"&&!B.alternate&&!jn)return oi(g),null}else 2*Un()-j.renderingStartTime>NS&&T!==1073741824&&(g.flags|=128,N=!0,Ap(j,!1),g.lanes=4194304);j.isBackwards?(B.sibling=g.child,g.child=B):(m=j.last,m!==null?m.sibling=B:g.child=B,j.last=B)}return j.tail!==null?(g=j.tail,j.rendering=g,j.tail=g.sibling,j.renderingStartTime=Un(),g.sibling=null,m=Fn.current,Mt(Fn,N?m&1|2:m&1),g):(oi(g),null);case 22:case 23:return jS(),N=g.memoizedState!==null,m!==null&&m.memoizedState!==null!==N&&(g.flags|=8192),N&&g.mode&1?ys&1073741824&&(oi(g),le&&g.subtreeFlags&6&&(g.flags|=8192)):oi(g),null;case 24:return null;case 25:return null}throw Error(a(156,g.tag))}var y7=o.ReactCurrentOwner,vs=!1;function Ni(m,g,T,N){g.child=m===null?wO(g,null,T,N):Cf(g,m.child,T,N)}function YO(m,g,T,N,j){T=T.render;var B=g.ref;return tr(g,j),N=oS(m,g,T,N,B,j),T=lS(),m!==null&&!vs?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~j,Po(m,g,j)):(jn&&T&&Zw(g),g.flags|=1,Ni(m,g,N,j),g.child)}function KO(m,g,T,N,j){if(m===null){var B=T.type;return typeof B=="function"&&!DS(B)&&B.defaultProps===void 0&&T.compare===null&&T.defaultProps===void 0?(g.tag=15,g.type=B,ZO(m,g,B,N,j)):(m=Wv(T.type,null,N,g,g.mode,j),m.ref=g.ref,m.return=g,g.child=m)}if(B=m.child,!(m.lanes&j)){var ee=B.memoizedProps;if(T=T.compare,T=T!==null?T:Fc,T(ee,N)&&m.ref===g.ref)return Po(m,g,j)}return g.flags|=1,m=Pl(B,N),m.ref=g.ref,m.return=g,g.child=m}function ZO(m,g,T,N,j){if(m!==null&&Fc(m.memoizedProps,N)&&m.ref===g.ref)if(vs=!1,(m.lanes&j)!==0)m.flags&131072&&(vs=!0);else return g.lanes=m.lanes,Po(m,g,j);return pS(m,g,T,N,j)}function JO(m,g,T){var N=g.pendingProps,j=N.children,B=m!==null?m.memoizedState:null;if(N.mode==="hidden")if(!(g.mode&1))g.memoizedState={baseLanes:0,cachePool:null},Mt(Lf,ys),ys|=T;else if(T&1073741824)g.memoizedState={baseLanes:0,cachePool:null},N=B!==null?B.baseLanes:T,Mt(Lf,ys),ys|=N;else return m=B!==null?B.baseLanes|T:T,g.lanes=g.childLanes=1073741824,g.memoizedState={baseLanes:m,cachePool:null},g.updateQueue=null,Mt(Lf,ys),ys|=m,null;else B!==null?(N=B.baseLanes|T,g.memoizedState=null):N=T,Mt(Lf,ys),ys|=N;return Ni(m,g,j,T),g.child}function QO(m,g){var T=g.ref;(m===null&&T!==null||m!==null&&m.ref!==T)&&(g.flags|=512,g.flags|=2097152)}function pS(m,g,T,N,j){var B=wn(T)?Hi:Wn.current;return B=gn(g,B),tr(g,j),T=oS(m,g,T,N,B,j),N=lS(),m!==null&&!vs?(g.updateQueue=m.updateQueue,g.flags&=-2053,m.lanes&=~j,Po(m,g,j)):(jn&&N&&Zw(g),g.flags|=1,Ni(m,g,T,j),g.child)}function e3(m,g,T,N,j){if(wn(T)){var B=!0;Va(g)}else B=!1;if(tr(g,j),g.stateNode===null)m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),pO(g,T,N),Kw(g,T,N,j),N=!0;else if(m===null){var ee=g.stateNode,ue=g.memoizedProps;ee.props=ue;var Ie=ee.context,Ze=T.contextType;typeof Ze=="object"&&Ze!==null?Ze=nr(Ze):(Ze=wn(T)?Hi:Wn.current,Ze=gn(g,Ze));var ft=T.getDerivedStateFromProps,Ot=typeof ft=="function"||typeof ee.getSnapshotBeforeUpdate=="function";Ot||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(ue!==N||Ie!==Ze)&&mO(g,ee,N,Ze),wl=!1;var bt=g.memoizedState;ee.state=bt,uv(g,N,ee,j),Ie=g.memoizedState,ue!==N||bt!==Ie||In.current||wl?(typeof ft=="function"&&(Yw(g,T,ft,N),Ie=g.memoizedState),(ue=wl||hO(g,T,ue,N,bt,Ie,Ze))?(Ot||typeof ee.UNSAFE_componentWillMount!="function"&&typeof ee.componentWillMount!="function"||(typeof ee.componentWillMount=="function"&&ee.componentWillMount(),typeof ee.UNSAFE_componentWillMount=="function"&&ee.UNSAFE_componentWillMount()),typeof ee.componentDidMount=="function"&&(g.flags|=4194308)):(typeof ee.componentDidMount=="function"&&(g.flags|=4194308),g.memoizedProps=N,g.memoizedState=Ie),ee.props=N,ee.state=Ie,ee.context=Ze,N=ue):(typeof ee.componentDidMount=="function"&&(g.flags|=4194308),N=!1)}else{ee=g.stateNode,cO(m,g),ue=g.memoizedProps,Ze=g.type===g.elementType?ue:Pi(g.type,ue),ee.props=Ze,Ot=g.pendingProps,bt=ee.context,Ie=T.contextType,typeof Ie=="object"&&Ie!==null?Ie=nr(Ie):(Ie=wn(T)?Hi:Wn.current,Ie=gn(g,Ie));var xn=T.getDerivedStateFromProps;(ft=typeof xn=="function"||typeof ee.getSnapshotBeforeUpdate=="function")||typeof ee.UNSAFE_componentWillReceiveProps!="function"&&typeof ee.componentWillReceiveProps!="function"||(ue!==Ot||bt!==Ie)&&mO(g,ee,N,Ie),wl=!1,bt=g.memoizedState,ee.state=bt,uv(g,N,ee,j);var mt=g.memoizedState;ue!==Ot||bt!==mt||In.current||wl?(typeof xn=="function"&&(Yw(g,T,xn,N),mt=g.memoizedState),(Ze=wl||hO(g,T,Ze,N,bt,mt,Ie)||!1)?(ft||typeof ee.UNSAFE_componentWillUpdate!="function"&&typeof ee.componentWillUpdate!="function"||(typeof ee.componentWillUpdate=="function"&&ee.componentWillUpdate(N,mt,Ie),typeof ee.UNSAFE_componentWillUpdate=="function"&&ee.UNSAFE_componentWillUpdate(N,mt,Ie)),typeof ee.componentDidUpdate=="function"&&(g.flags|=4),typeof ee.getSnapshotBeforeUpdate=="function"&&(g.flags|=1024)):(typeof ee.componentDidUpdate!="function"||ue===m.memoizedProps&&bt===m.memoizedState||(g.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||ue===m.memoizedProps&&bt===m.memoizedState||(g.flags|=1024),g.memoizedProps=N,g.memoizedState=mt),ee.props=N,ee.state=mt,ee.context=Ie,N=Ze):(typeof ee.componentDidUpdate!="function"||ue===m.memoizedProps&&bt===m.memoizedState||(g.flags|=4),typeof ee.getSnapshotBeforeUpdate!="function"||ue===m.memoizedProps&&bt===m.memoizedState||(g.flags|=1024),N=!1)}return mS(m,g,T,N,B,j)}function mS(m,g,T,N,j,B){QO(m,g);var ee=(g.flags&128)!==0;if(!N&&!ee)return j&&ii(g,T,!1),Po(m,g,B);N=g.stateNode,y7.current=g;var ue=ee&&typeof T.getDerivedStateFromError!="function"?null:N.render();return g.flags|=1,m!==null&&ee?(g.child=Cf(g,m.child,null,B),g.child=Cf(g,null,ue,B)):Ni(m,g,ue,B),g.memoizedState=N.state,j&&ii(g,T,!0),g.child}function t3(m){var g=m.stateNode;g.pendingContext?ur(m,g.pendingContext,g.pendingContext!==g.context):g.context&&ur(m,g.context,!1),nS(m,g.containerInfo)}function n3(m,g,T,N,j){return Pf(),tS(j),g.flags|=256,Ni(m,g,T,N),g.child}var Ev={dehydrated:null,treeContext:null,retryLane:0};function Tv(m){return{baseLanes:m,cachePool:null}}function r3(m,g,T){var N=g.pendingProps,j=Fn.current,B=!1,ee=(g.flags&128)!==0,ue;if((ue=ee)||(ue=m!==null&&m.memoizedState===null?!1:(j&2)!==0),ue?(B=!0,g.flags&=-129):(m===null||m.memoizedState!==null)&&(j|=1),Mt(Fn,j&1),m===null)return eS(g),m=g.memoizedState,m!==null&&(m=m.dehydrated,m!==null)?(g.mode&1?kr(m)?g.lanes=8:g.lanes=1073741824:g.lanes=1,null):(j=N.children,m=N.fallback,B?(N=g.mode,B=g.child,j={mode:"hidden",children:j},!(N&1)&&B!==null?(B.childLanes=0,B.pendingProps=j):B=Gv(j,N,0,null),m=Yc(m,N,T,null),B.return=g,m.return=g,B.sibling=m,g.child=B,g.child.memoizedState=Tv(T),g.memoizedState=Ev,m):gS(g,j));if(j=m.memoizedState,j!==null){if(ue=j.dehydrated,ue!==null){if(ee)return g.flags&256?(g.flags&=-257,Av(m,g,T,Error(a(422)))):g.memoizedState!==null?(g.child=m.child,g.flags|=128,null):(B=N.fallback,j=g.mode,N=Gv({mode:"visible",children:N.children},j,0,null),B=Yc(B,j,T,null),B.flags|=2,N.return=g,B.return=g,N.sibling=B,g.child=N,g.mode&1&&Cf(g,m.child,null,T),g.child.memoizedState=Tv(T),g.memoizedState=Ev,B);if(!(g.mode&1))g=Av(m,g,T,null);else if(kr(ue))g=Av(m,g,T,Error(a(419)));else if(N=(T&m.childLanes)!==0,vs||N){if(N=fr,N!==null){switch(T&-T){case 4:B=2;break;case 16:B=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:B=32;break;case 536870912:B=268435456;break;default:B=0}N=B&(N.suspendedLanes|T)?0:B,N!==0&&N!==j.retryLane&&(j.retryLane=N,zs(m,N,-1))}kS(),g=Av(m,g,T,Error(a(421)))}else cs(ue)?(g.flags|=128,g.child=m.child,g=R7.bind(null,m),us(ue,g),g=null):(T=j.treeContext,me&&(gs=ma(ue),ms=g,jn=!0,va=null,gp=!1,T!==null&&(Ds[Us++]=Eo,Ds[Us++]=To,Ds[Us++]=zc,Eo=T.id,To=T.overflow,zc=g)),g=gS(g,g.pendingProps.children),g.flags|=4096);return g}return B?(N=s3(m,g,N.children,N.fallback,T),B=g.child,j=m.child.memoizedState,B.memoizedState=j===null?Tv(T):{baseLanes:j.baseLanes|T,cachePool:null},B.childLanes=m.childLanes&~T,g.memoizedState=Ev,N):(T=i3(m,g,N.children,T),g.memoizedState=null,T)}return B?(N=s3(m,g,N.children,N.fallback,T),B=g.child,j=m.child.memoizedState,B.memoizedState=j===null?Tv(T):{baseLanes:j.baseLanes|T,cachePool:null},B.childLanes=m.childLanes&~T,g.memoizedState=Ev,N):(T=i3(m,g,N.children,T),g.memoizedState=null,T)}function gS(m,g){return g=Gv({mode:"visible",children:g},m.mode,0,null),g.return=m,m.child=g}function i3(m,g,T,N){var j=m.child;return m=j.sibling,T=Pl(j,{mode:"visible",children:T}),!(g.mode&1)&&(T.lanes=N),T.return=g,T.sibling=null,m!==null&&(N=g.deletions,N===null?(g.deletions=[m],g.flags|=16):N.push(m)),g.child=T}function s3(m,g,T,N,j){var B=g.mode;m=m.child;var ee=m.sibling,ue={mode:"hidden",children:T};return!(B&1)&&g.child!==m?(T=g.child,T.childLanes=0,T.pendingProps=ue,g.deletions=null):(T=Pl(m,ue),T.subtreeFlags=m.subtreeFlags&14680064),ee!==null?N=Pl(ee,N):(N=Yc(N,B,j,null),N.flags|=2),N.return=g,T.return=g,T.sibling=N,g.child=T,N}function Av(m,g,T,N){return N!==null&&tS(N),Cf(g,m.child,null,T),m=gS(g,g.pendingProps.children),m.flags|=2,g.memoizedState=null,m}function a3(m,g,T){m.lanes|=g;var N=m.alternate;N!==null&&(N.lanes|=g),Ci(m.return,g,T)}function vS(m,g,T,N,j){var B=m.memoizedState;B===null?m.memoizedState={isBackwards:g,rendering:null,renderingStartTime:0,last:N,tail:T,tailMode:j}:(B.isBackwards=g,B.rendering=null,B.renderingStartTime=0,B.last=N,B.tail=T,B.tailMode=j)}function o3(m,g,T){var N=g.pendingProps,j=N.revealOrder,B=N.tail;if(Ni(m,g,N.children,T),N=Fn.current,N&2)N=N&1|2,g.flags|=128;else{if(m!==null&&m.flags&128)e:for(m=g.child;m!==null;){if(m.tag===13)m.memoizedState!==null&&a3(m,T,g);else if(m.tag===19)a3(m,T,g);else if(m.child!==null){m.child.return=m,m=m.child;continue}if(m===g)break e;for(;m.sibling===null;){if(m.return===null||m.return===g)break e;m=m.return}m.sibling.return=m.return,m=m.sibling}N&=1}if(Mt(Fn,N),!(g.mode&1))g.memoizedState=null;else switch(j){case"forwards":for(T=g.child,j=null;T!==null;)m=T.alternate,m!==null&&mv(m)===null&&(j=T),T=T.sibling;T=j,T===null?(j=g.child,g.child=null):(j=T.sibling,T.sibling=null),vS(g,!1,j,T,B);break;case"backwards":for(T=null,j=g.child,g.child=null;j!==null;){if(m=j.alternate,m!==null&&mv(m)===null){g.child=j;break}m=j.sibling,j.sibling=T,T=j,j=m}vS(g,!0,T,null,B);break;case"together":vS(g,!1,null,null,void 0);break;default:g.memoizedState=null}return g.child}function Po(m,g,T){if(m!==null&&(g.dependencies=m.dependencies),If|=g.lanes,!(T&g.childLanes))return null;if(m!==null&&g.child!==m.child)throw Error(a(153));if(g.child!==null){for(m=g.child,T=Pl(m,m.pendingProps),g.child=T,T.return=g;m.sibling!==null;)m=m.sibling,T=T.sibling=Pl(m,m.pendingProps),T.return=g;T.sibling=null}return g.child}function x7(m,g,T){switch(g.tag){case 3:t3(g),Pf();break;case 5:SO(g);break;case 1:wn(g.type)&&Va(g);break;case 4:nS(g,g.stateNode.containerInfo);break;case 10:lv(g,g.type._context,g.memoizedProps.value);break;case 13:var N=g.memoizedState;if(N!==null)return N.dehydrated!==null?(Mt(Fn,Fn.current&1),g.flags|=128,null):T&g.child.childLanes?r3(m,g,T):(Mt(Fn,Fn.current&1),m=Po(m,g,T),m!==null?m.sibling:null);Mt(Fn,Fn.current&1);break;case 19:if(N=(T&g.childLanes)!==0,m.flags&128){if(N)return o3(m,g,T);g.flags|=128}var j=g.memoizedState;if(j!==null&&(j.rendering=null,j.tail=null,j.lastEffect=null),Mt(Fn,Fn.current),N)break;return null;case 22:case 23:return g.lanes=0,JO(m,g,T)}return Po(m,g,T)}function b7(m,g){switch(Jw(g),g.tag){case 1:return wn(g.type)&&Ei(),m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 3:return Rf(),Zt(In),Zt(Wn),sS(),m=g.flags,m&65536&&!(m&128)?(g.flags=m&-65537|128,g):null;case 5:return rS(g),null;case 13:if(Zt(Fn),m=g.memoizedState,m!==null&&m.dehydrated!==null){if(g.alternate===null)throw Error(a(340));Pf()}return m=g.flags,m&65536?(g.flags=m&-65537|128,g):null;case 19:return Zt(Fn),null;case 4:return Rf(),null;case 10:return Fr(g.type._context),null;case 22:case 23:return jS(),null;case 24:return null;default:return null}}var Pv=!1,$c=!1,_7=typeof WeakSet=="function"?WeakSet:Set,it=null;function Cv(m,g){var T=m.ref;if(T!==null)if(typeof T=="function")try{T(null)}catch(N){Xi(m,g,N)}else T.current=null}function yS(m,g,T){try{T()}catch(N){Xi(m,g,N)}}var l3=!1;function w7(m,g){for(U(m.containerInfo),it=g;it!==null;)if(m=it,g=m.child,(m.subtreeFlags&1028)!==0&&g!==null)g.return=m,it=g;else for(;it!==null;){m=it;try{var T=m.alternate;if(m.flags&1024)switch(m.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var N=T.memoizedProps,j=T.memoizedState,B=m.stateNode,ee=B.getSnapshotBeforeUpdate(m.elementType===m.type?N:Pi(m.type,N),j);B.__reactInternalSnapshotBeforeUpdate=ee}break;case 3:le&&Je(m.stateNode.containerInfo);break;case 5:case 6:case 4:case 17:break;default:throw Error(a(163))}}catch(ue){Xi(m,m.return,ue)}if(g=m.sibling,g!==null){g.return=m.return,it=g;break}it=m.return}return T=l3,l3=!1,T}function Wc(m,g,T){var N=g.updateQueue;if(N=N!==null?N.lastEffect:null,N!==null){var j=N=N.next;do{if((j.tag&m)===m){var B=j.destroy;j.destroy=void 0,B!==void 0&&yS(g,T,B)}j=j.next}while(j!==N)}}function Pp(m,g){if(g=g.updateQueue,g=g!==null?g.lastEffect:null,g!==null){var T=g=g.next;do{if((T.tag&m)===m){var N=T.create;T.destroy=N()}T=T.next}while(T!==g)}}function xS(m){var g=m.ref;if(g!==null){var T=m.stateNode;switch(m.tag){case 5:m=$(T);break;default:m=T}typeof g=="function"?g(m):g.current=m}}function c3(m,g,T){if(ds&&typeof ds.onCommitFiberUnmount=="function")try{ds.onCommitFiberUnmount(Dc,g)}catch{}switch(g.tag){case 0:case 11:case 14:case 15:if(m=g.updateQueue,m!==null&&(m=m.lastEffect,m!==null)){var N=m=m.next;do{var j=N,B=j.destroy;j=j.tag,B!==void 0&&(j&2||j&4)&&yS(g,T,B),N=N.next}while(N!==m)}break;case 1:if(Cv(g,T),m=g.stateNode,typeof m.componentWillUnmount=="function")try{m.props=g.memoizedProps,m.state=g.memoizedState,m.componentWillUnmount()}catch(ee){Xi(g,T,ee)}break;case 5:Cv(g,T);break;case 4:le?m3(m,g,T):G&&G&&(g=g.stateNode.containerInfo,T=Te(g),lt(g,T))}}function u3(m,g,T){for(var N=g;;)if(c3(m,N,T),N.child===null||le&&N.tag===4){if(N===g)break;for(;N.sibling===null;){if(N.return===null||N.return===g)return;N=N.return}N.sibling.return=N.return,N=N.sibling}else N.child.return=N,N=N.child}function f3(m){var g=m.alternate;g!==null&&(m.alternate=null,f3(g)),m.child=null,m.deletions=null,m.sibling=null,m.tag===5&&(g=m.stateNode,g!==null&&ze(g)),m.stateNode=null,m.return=null,m.dependencies=null,m.memoizedProps=null,m.memoizedState=null,m.pendingProps=null,m.stateNode=null,m.updateQueue=null}function d3(m){return m.tag===5||m.tag===3||m.tag===4}function h3(m){e:for(;;){for(;m.sibling===null;){if(m.return===null||d3(m.return))return null;m=m.return}for(m.sibling.return=m.return,m=m.sibling;m.tag!==5&&m.tag!==6&&m.tag!==18;){if(m.flags&2||m.child===null||m.tag===4)continue e;m.child.return=m,m=m.child}if(!(m.flags&2))return m.stateNode}}function p3(m){if(le){e:{for(var g=m.return;g!==null;){if(d3(g))break e;g=g.return}throw Error(a(160))}var T=g;switch(T.tag){case 5:g=T.stateNode,T.flags&32&&(we(g),T.flags&=-33),T=h3(m),_S(m,T,g);break;case 3:case 4:g=T.stateNode.containerInfo,T=h3(m),bS(m,T,g);break;default:throw Error(a(161))}}}function bS(m,g,T){var N=m.tag;if(N===5||N===6)m=m.stateNode,g?Ne(T,m,g):He(T,m);else if(N!==4&&(m=m.child,m!==null))for(bS(m,g,T),m=m.sibling;m!==null;)bS(m,g,T),m=m.sibling}function _S(m,g,T){var N=m.tag;if(N===5||N===6)m=m.stateNode,g?tt(T,m,g):Ee(T,m);else if(N!==4&&(m=m.child,m!==null))for(_S(m,g,T),m=m.sibling;m!==null;)_S(m,g,T),m=m.sibling}function m3(m,g,T){for(var N=g,j=!1,B,ee;;){if(!j){j=N.return;e:for(;;){if(j===null)throw Error(a(160));switch(B=j.stateNode,j.tag){case 5:ee=!1;break e;case 3:B=B.containerInfo,ee=!0;break e;case 4:B=B.containerInfo,ee=!0;break e}j=j.return}j=!0}if(N.tag===5||N.tag===6)u3(m,N,T),ee?re(B,N.stateNode):Xe(B,N.stateNode);else if(N.tag===18)ee?vt(B,N.stateNode):ot(B,N.stateNode);else if(N.tag===4){if(N.child!==null){B=N.stateNode.containerInfo,ee=!0,N.child.return=N,N=N.child;continue}}else if(c3(m,N,T),N.child!==null){N.child.return=N,N=N.child;continue}if(N===g)break;for(;N.sibling===null;){if(N.return===null||N.return===g)return;N=N.return,N.tag===4&&(j=!1)}N.sibling.return=N.return,N=N.sibling}}function wS(m,g){if(le){switch(g.tag){case 0:case 11:case 14:case 15:Wc(3,g,g.return),Pp(3,g),Wc(5,g,g.return);return;case 1:return;case 5:var T=g.stateNode;if(T!=null){var N=g.memoizedProps;m=m!==null?m.memoizedProps:N;var j=g.type,B=g.updateQueue;g.updateQueue=null,B!==null&&et(T,B,j,m,N,g)}return;case 6:if(g.stateNode===null)throw Error(a(162));T=g.memoizedProps,Ue(g.stateNode,m!==null?m.memoizedProps:T,T);return;case 3:me&&m!==null&&m.memoizedState.isDehydrated&&_e(g.stateNode.containerInfo);return;case 12:return;case 13:Nv(g);return;case 19:Nv(g);return;case 17:return}throw Error(a(163))}switch(g.tag){case 0:case 11:case 14:case 15:Wc(3,g,g.return),Pp(3,g),Wc(5,g,g.return);return;case 12:return;case 13:Nv(g);return;case 19:Nv(g);return;case 3:me&&m!==null&&m.memoizedState.isDehydrated&&_e(g.stateNode.containerInfo);break;case 22:case 23:return}e:if(G){switch(g.tag){case 1:case 5:case 6:break e;case 3:case 4:g=g.stateNode,lt(g.containerInfo,g.pendingChildren);break e}throw Error(a(163))}}function Nv(m){var g=m.updateQueue;if(g!==null){m.updateQueue=null;var T=m.stateNode;T===null&&(T=m.stateNode=new _7),g.forEach(function(N){var j=O7.bind(null,m,N);T.has(N)||(T.add(N),N.then(j,j))})}}function S7(m,g){for(it=g;it!==null;){g=it;var T=g.deletions;if(T!==null)for(var N=0;N<T.length;N++){var j=T[N];try{var B=m;le?m3(B,j,g):u3(B,j,g);var ee=j.alternate;ee!==null&&(ee.return=null),j.return=null}catch(pt){Xi(j,g,pt)}}if(T=g.child,g.subtreeFlags&12854&&T!==null)T.return=g,it=T;else for(;it!==null;){g=it;try{var ue=g.flags;if(ue&32&&le&&we(g.stateNode),ue&512){var Ie=g.alternate;if(Ie!==null){var Ze=Ie.ref;Ze!==null&&(typeof Ze=="function"?Ze(null):Ze.current=null)}}if(ue&8192)switch(g.tag){case 13:if(g.memoizedState!==null){var ft=g.alternate;(ft===null||ft.memoizedState===null)&&(CS=Un())}break;case 22:var Ot=g.memoizedState!==null,bt=g.alternate,xn=bt!==null&&bt.memoizedState!==null;if(T=g,le){e:if(N=T,j=Ot,B=null,le)for(var mt=N;;){if(mt.tag===5){if(B===null){B=mt;var li=mt.stateNode;j?Ve(li):Me(mt.stateNode,mt.memoizedProps)}}else if(mt.tag===6){if(B===null){var Hs=mt.stateNode;j?J(Hs):ke(Hs,mt.memoizedProps)}}else if((mt.tag!==22&&mt.tag!==23||mt.memoizedState===null||mt===N)&&mt.child!==null){mt.child.return=mt,mt=mt.child;continue}if(mt===N)break;for(;mt.sibling===null;){if(mt.return===null||mt.return===N)break e;B===mt&&(B=null),mt=mt.return}B===mt&&(B=null),mt.sibling.return=mt.return,mt=mt.sibling}}if(Ot&&!xn&&T.mode&1){it=T;for(var Se=T.child;Se!==null;){for(T=it=Se;it!==null;){N=it;var de=N.child;switch(N.tag){case 0:case 11:case 14:case 15:Wc(4,N,N.return);break;case 1:Cv(N,N.return);var Ae=N.stateNode;if(typeof Ae.componentWillUnmount=="function"){var st=N.return;try{Ae.props=N.memoizedProps,Ae.state=N.memoizedState,Ae.componentWillUnmount()}catch(pt){Xi(N,st,pt)}}break;case 5:Cv(N,N.return);break;case 22:if(N.memoizedState!==null){y3(T);continue}}de!==null?(de.return=N,it=de):y3(T)}Se=Se.sibling}}}switch(ue&4102){case 2:p3(g),g.flags&=-3;break;case 6:p3(g),g.flags&=-3,wS(g.alternate,g);break;case 4096:g.flags&=-4097;break;case 4100:g.flags&=-4097,wS(g.alternate,g);break;case 4:wS(g.alternate,g)}}catch(pt){Xi(g,g.return,pt)}if(T=g.sibling,T!==null){T.return=g.return,it=T;break}it=g.return}}}function M7(m,g,T){it=m,g3(m)}function g3(m,g,T){for(var N=(m.mode&1)!==0;it!==null;){var j=it,B=j.child;if(j.tag===22&&N){var ee=j.memoizedState!==null||Pv;if(!ee){var ue=j.alternate,Ie=ue!==null&&ue.memoizedState!==null||$c;ue=Pv;var Ze=$c;if(Pv=ee,($c=Ie)&&!Ze)for(it=j;it!==null;)ee=it,Ie=ee.child,ee.tag===22&&ee.memoizedState!==null?x3(j):Ie!==null?(Ie.return=ee,it=Ie):x3(j);for(;B!==null;)it=B,g3(B),B=B.sibling;it=j,Pv=ue,$c=Ze}v3(m)}else j.subtreeFlags&8772&&B!==null?(B.return=j,it=B):v3(m)}}function v3(m){for(;it!==null;){var g=it;if(g.flags&8772){var T=g.alternate;try{if(g.flags&8772)switch(g.tag){case 0:case 11:case 15:$c||Pp(5,g);break;case 1:var N=g.stateNode;if(g.flags&4&&!$c)if(T===null)N.componentDidMount();else{var j=g.elementType===g.type?T.memoizedProps:Pi(g.type,T.memoizedProps);N.componentDidUpdate(j,T.memoizedState,N.__reactInternalSnapshotBeforeUpdate)}var B=g.updateQueue;B!==null&&fO(g,B,N);break;case 3:var ee=g.updateQueue;if(ee!==null){if(T=null,g.child!==null)switch(g.child.tag){case 5:T=$(g.child.stateNode);break;case 1:T=g.child.stateNode}fO(g,ee,T)}break;case 5:var ue=g.stateNode;T===null&&g.flags&4&&$e(ue,g.type,g.memoizedProps,g);break;case 6:break;case 4:break;case 12:break;case 13:if(me&&g.memoizedState===null){var Ie=g.alternate;if(Ie!==null){var Ze=Ie.memoizedState;if(Ze!==null){var ft=Ze.dehydrated;ft!==null&&Oe(ft)}}}break;case 19:case 17:case 21:case 22:case 23:break;default:throw Error(a(163))}$c||g.flags&512&&xS(g)}catch(Ot){Xi(g,g.return,Ot)}}if(g===m){it=null;break}if(T=g.sibling,T!==null){T.return=g.return,it=T;break}it=g.return}}function y3(m){for(;it!==null;){var g=it;if(g===m){it=null;break}var T=g.sibling;if(T!==null){T.return=g.return,it=T;break}it=g.return}}function x3(m){for(;it!==null;){var g=it;try{switch(g.tag){case 0:case 11:case 15:var T=g.return;try{Pp(4,g)}catch(Ie){Xi(g,T,Ie)}break;case 1:var N=g.stateNode;if(typeof N.componentDidMount=="function"){var j=g.return;try{N.componentDidMount()}catch(Ie){Xi(g,j,Ie)}}var B=g.return;try{xS(g)}catch(Ie){Xi(g,B,Ie)}break;case 5:var ee=g.return;try{xS(g)}catch(Ie){Xi(g,ee,Ie)}}}catch(Ie){Xi(g,g.return,Ie)}if(g===m){it=null;break}var ue=g.sibling;if(ue!==null){ue.return=g.return,it=ue;break}it=g.return}}var Rv=0,Ov=1,Lv=2,Iv=3,jv=4;if(typeof Symbol=="function"&&Symbol.for){var Cp=Symbol.for;Rv=Cp("selector.component"),Ov=Cp("selector.has_pseudo_class"),Lv=Cp("selector.role"),Iv=Cp("selector.test_id"),jv=Cp("selector.text")}function SS(m){var g=se(m);if(g!=null){if(typeof g.memoizedProps["data-testname"]!="string")throw Error(a(364));return g}if(m=ge(m),m===null)throw Error(a(362));return m.stateNode.current}function MS(m,g){switch(g.$$typeof){case Rv:if(m.type===g.value)return!0;break;case Ov:e:{g=g.value,m=[m,0];for(var T=0;T<m.length;){var N=m[T++],j=m[T++],B=g[j];if(N.tag!==5||!X(N)){for(;B!=null&&MS(N,B);)j++,B=g[j];if(j===g.length){g=!0;break e}else for(N=N.child;N!==null;)m.push(N,j),N=N.sibling}}g=!1}return g;case Lv:if(m.tag===5&&ie(m.stateNode,g.value))return!0;break;case jv:if((m.tag===5||m.tag===6)&&(m=Y(m),m!==null&&0<=m.indexOf(g.value)))return!0;break;case Iv:if(m.tag===5&&(m=m.memoizedProps["data-testname"],typeof m=="string"&&m.toLowerCase()===g.value.toLowerCase()))return!0;break;default:throw Error(a(365))}return!1}function ES(m){switch(m.$$typeof){case Rv:return"<"+(A(m.value)||"Unknown")+">";case Ov:return":has("+(ES(m)||"")+")";case Lv:return'[role="'+m.value+'"]';case jv:return'"'+m.value+'"';case Iv:return'[data-testname="'+m.value+'"]';default:throw Error(a(365))}}function b3(m,g){var T=[];m=[m,0];for(var N=0;N<m.length;){var j=m[N++],B=m[N++],ee=g[B];if(j.tag!==5||!X(j)){for(;ee!=null&&MS(j,ee);)B++,ee=g[B];if(B===g.length)T.push(j);else for(j=j.child;j!==null;)m.push(j,B),j=j.sibling}}return T}function TS(m,g){if(!Be)throw Error(a(363));m=SS(m),m=b3(m,g),g=[],m=Array.from(m);for(var T=0;T<m.length;){var N=m[T++];if(N.tag===5)X(N)||g.push(N.stateNode);else for(N=N.child;N!==null;)m.push(N),N=N.sibling}return g}var E7=Math.ceil,kv=o.ReactCurrentDispatcher,AS=o.ReactCurrentOwner,rr=o.ReactCurrentBatchConfig,zt=0,fr=null,dr=null,qr=0,ys=0,Lf=St(0),wr=0,Np=null,If=0,Dv=0,PS=0,Rp=null,Wi=null,CS=0,NS=1/0;function jf(){NS=Un()+500}var Uv=!1,RS=null,Ml=null,Fv=!1,El=null,Bv=0,Op=0,OS=null,zv=-1,Vv=0;function Ri(){return zt&6?Un():zv!==-1?zv:zv=Un()}function Tl(m){return m.mode&1?zt&2&&qr!==0?qr&-qr:Uc.transition!==null?(Vv===0&&(m=xo,xo<<=1,!(xo&4194240)&&(xo=64),Vv=m),Vv):(m=$t,m!==0?m:pe()):1}function zs(m,g,T){if(50<Op)throw Op=0,OS=null,Error(a(185));var N=Hv(m,g);return N===null?null:(Ha(N,g,T),(!(zt&2)||N!==fr)&&(N===fr&&(!(zt&2)&&(Dv|=g),wr===4&&Al(N,qr)),Gi(N,T),g===1&&zt===0&&!(m.mode&1)&&(jf(),Wa&&$i())),N)}function Hv(m,g){m.lanes|=g;var T=m.alternate;for(T!==null&&(T.lanes|=g),T=m,m=m.return;m!==null;)m.childLanes|=g,T=m.alternate,T!==null&&(T.childLanes|=g),T=m,m=m.return;return T.tag===3?T.stateNode:null}function Gi(m,g){var T=m.callbackNode;cp(m,g);var N=jc(m,m===fr?qr:0);if(N===0)T!==null&&Sf(T),m.callbackNode=null,m.callbackPriority=0;else if(g=N&-N,m.callbackPriority!==g){if(T!=null&&Sf(T),g===1)m.tag===0?mp(w3.bind(null,m)):pp(w3.bind(null,m)),ve?Re(function(){zt===0&&$i()}):So(kc,$i),T=null;else{switch(up(N)){case 1:T=kc;break;case 4:T=av;break;case 16:T=Ti;break;case 536870912:T=dp;break;default:T=Ti}T=R3(T,_3.bind(null,m))}m.callbackPriority=g,m.callbackNode=T}}function _3(m,g){if(zv=-1,Vv=0,zt&6)throw Error(a(327));var T=m.callbackNode;if(qc()&&m.callbackNode!==T)return null;var N=jc(m,m===fr?qr:0);if(N===0)return null;if(N&30||N&m.expiredLanes||g)g=$v(m,N);else{g=N;var j=zt;zt|=2;var B=E3();(fr!==m||qr!==g)&&(jf(),Gc(m,g));do try{P7();break}catch(ue){M3(m,ue)}while(1);Ef(),kv.current=B,zt=j,dr!==null?g=0:(fr=null,qr=0,g=wr)}if(g!==0){if(g===2&&(j=wo(m),j!==0&&(N=j,g=LS(m,j))),g===1)throw T=Np,Gc(m,0),Al(m,N),Gi(m,Un()),T;if(g===6)Al(m,N);else{if(j=m.current.alternate,!(N&30)&&!T7(j)&&(g=$v(m,N),g===2&&(B=wo(m),B!==0&&(N=B,g=LS(m,B))),g===1))throw T=Np,Gc(m,0),Al(m,N),Gi(m,Un()),T;switch(m.finishedWork=j,m.finishedLanes=N,g){case 0:case 1:throw Error(a(345));case 2:Xc(m,Wi);break;case 3:if(Al(m,N),(N&130023424)===N&&(g=CS+500-Un(),10<g)){if(jc(m,0)!==0)break;if(j=m.suspendedLanes,(j&N)!==N){Ri(),m.pingedLanes|=m.suspendedLanes&j;break}m.timeoutHandle=oe(Xc.bind(null,m,Wi),g);break}Xc(m,Wi);break;case 4:if(Al(m,N),(N&4194240)===N)break;for(g=m.eventTimes,j=-1;0<N;){var ee=31-fs(N);B=1<<ee,ee=g[ee],ee>j&&(j=ee),N&=~B}if(N=j,N=Un()-N,N=(120>N?120:480>N?480:1080>N?1080:1920>N?1920:3e3>N?3e3:4320>N?4320:1960*E7(N/1960))-N,10<N){m.timeoutHandle=oe(Xc.bind(null,m,Wi),N);break}Xc(m,Wi);break;case 5:Xc(m,Wi);break;default:throw Error(a(329))}}}return Gi(m,Un()),m.callbackNode===T?_3.bind(null,m):null}function LS(m,g){var T=Rp;return m.current.memoizedState.isDehydrated&&(Gc(m,g).flags|=256),m=$v(m,g),m!==2&&(g=Wi,Wi=T,g!==null&&IS(g)),m}function IS(m){Wi===null?Wi=m:Wi.push.apply(Wi,m)}function T7(m){for(var g=m;;){if(g.flags&16384){var T=g.updateQueue;if(T!==null&&(T=T.stores,T!==null))for(var N=0;N<T.length;N++){var j=T[N],B=j.getSnapshot;j=j.value;try{if(!hs(B(),j))return!1}catch{return!1}}}if(T=g.child,g.subtreeFlags&16384&&T!==null)T.return=g,g=T;else{if(g===m)break;for(;g.sibling===null;){if(g.return===null||g.return===m)return!0;g=g.return}g.sibling.return=g.return,g=g.sibling}}return!0}function Al(m,g){for(g&=~PS,g&=~Dv,m.suspendedLanes|=g,m.pingedLanes&=~g,m=m.expirationTimes;0<g;){var T=31-fs(g),N=1<<T;m[T]=-1,g&=~N}}function w3(m){if(zt&6)throw Error(a(327));qc();var g=jc(m,0);if(!(g&1))return Gi(m,Un()),null;var T=$v(m,g);if(m.tag!==0&&T===2){var N=wo(m);N!==0&&(g=N,T=LS(m,N))}if(T===1)throw T=Np,Gc(m,0),Al(m,g),Gi(m,Un()),T;if(T===6)throw Error(a(345));return m.finishedWork=m.current.alternate,m.finishedLanes=g,Xc(m,Wi),Gi(m,Un()),null}function S3(m){El!==null&&El.tag===0&&!(zt&6)&&qc();var g=zt;zt|=1;var T=rr.transition,N=$t;try{if(rr.transition=null,$t=1,m)return m()}finally{$t=N,rr.transition=T,zt=g,!(zt&6)&&$i()}}function jS(){ys=Lf.current,Zt(Lf)}function Gc(m,g){m.finishedWork=null,m.finishedLanes=0;var T=m.timeoutHandle;if(T!==fe&&(m.timeoutHandle=fe,he(T)),dr!==null)for(T=dr.return;T!==null;){var N=T;switch(Jw(N),N.tag){case 1:N=N.type.childContextTypes,N!=null&&Ei();break;case 3:Rf(),Zt(In),Zt(Wn),sS();break;case 5:rS(N);break;case 4:Rf();break;case 13:Zt(Fn);break;case 19:Zt(Fn);break;case 10:Fr(N.type._context);break;case 22:case 23:jS()}T=T.return}if(fr=m,dr=m=Pl(m.current,null),qr=ys=g,wr=0,Np=null,PS=Dv=If=0,Wi=Rp=null,ps!==null){for(g=0;g<ps.length;g++)if(T=ps[g],N=T.interleaved,N!==null){T.interleaved=null;var j=N.next,B=T.pending;if(B!==null){var ee=B.next;B.next=j,N.next=ee}T.pending=N}ps=null}return m}function M3(m,g){do{var T=dr;try{if(Ef(),gv.current=wv,vv){for(var N=Gn.memoizedState;N!==null;){var j=N.queue;j!==null&&(j.pending=null),N=N.next}vv=!1}if(Of=0,Br=si=Gn=null,_p=!1,wp=0,AS.current=null,T===null||T.return===null){wr=1,Np=g,dr=null;break}e:{var B=m,ee=T.return,ue=T,Ie=g;if(g=qr,ue.flags|=32768,Ie!==null&&typeof Ie=="object"&&typeof Ie.then=="function"){var Ze=Ie,ft=ue,Ot=ft.tag;if(!(ft.mode&1)&&(Ot===0||Ot===11||Ot===15)){var bt=ft.alternate;bt?(ft.updateQueue=bt.updateQueue,ft.memoizedState=bt.memoizedState,ft.lanes=bt.lanes):(ft.updateQueue=null,ft.memoizedState=null)}var xn=WO(ee);if(xn!==null){xn.flags&=-257,GO(xn,ee,ue,B,g),xn.mode&1&&$O(B,Ze,g),g=xn,Ie=Ze;var mt=g.updateQueue;if(mt===null){var li=new Set;li.add(Ie),g.updateQueue=li}else mt.add(Ie);break e}else{if(!(g&1)){$O(B,Ze,g),kS();break e}Ie=Error(a(426))}}else if(jn&&ue.mode&1){var Hs=WO(ee);if(Hs!==null){!(Hs.flags&65536)&&(Hs.flags|=256),GO(Hs,ee,ue,B,g),tS(Ie);break e}}B=Ie,wr!==4&&(wr=2),Rp===null?Rp=[B]:Rp.push(B),Ie=dS(Ie,ue),ue=ee;do{switch(ue.tag){case 3:ue.flags|=65536,g&=-g,ue.lanes|=g;var Se=VO(ue,Ie,g);uO(ue,Se);break e;case 1:B=Ie;var de=ue.type,Ae=ue.stateNode;if(!(ue.flags&128)&&(typeof de.getDerivedStateFromError=="function"||Ae!==null&&typeof Ae.componentDidCatch=="function"&&(Ml===null||!Ml.has(Ae)))){ue.flags|=65536,g&=-g,ue.lanes|=g;var st=HO(ue,B,g);uO(ue,st);break e}}ue=ue.return}while(ue!==null)}A3(T)}catch(pt){g=pt,dr===T&&T!==null&&(dr=T=T.return);continue}break}while(1)}function E3(){var m=kv.current;return kv.current=wv,m===null?wv:m}function kS(){(wr===0||wr===3||wr===2)&&(wr=4),fr===null||!(If&268435455)&&!(Dv&268435455)||Al(fr,qr)}function $v(m,g){var T=zt;zt|=2;var N=E3();fr===m&&qr===g||Gc(m,g);do try{A7();break}catch(j){M3(m,j)}while(1);if(Ef(),zt=T,kv.current=N,dr!==null)throw Error(a(261));return fr=null,qr=0,wr}function A7(){for(;dr!==null;)T3(dr)}function P7(){for(;dr!==null&&!fp();)T3(dr)}function T3(m){var g=N3(m.alternate,m,ys);m.memoizedProps=m.pendingProps,g===null?A3(m):dr=g,AS.current=null}function A3(m){var g=m;do{var T=g.alternate;if(m=g.return,g.flags&32768){if(T=b7(T,g),T!==null){T.flags&=32767,dr=T;return}if(m!==null)m.flags|=32768,m.subtreeFlags=0,m.deletions=null;else{wr=6,dr=null;return}}else if(T=v7(T,g,ys),T!==null){dr=T;return}if(g=g.sibling,g!==null){dr=g;return}dr=g=m}while(g!==null);wr===0&&(wr=5)}function Xc(m,g){var T=$t,N=rr.transition;try{rr.transition=null,$t=1,C7(m,g,T)}finally{rr.transition=N,$t=T}return null}function C7(m,g,T){do qc();while(El!==null);if(zt&6)throw Error(a(327));var N=m.finishedWork,j=m.finishedLanes;if(N===null)return null;if(m.finishedWork=null,m.finishedLanes=0,N===m.current)throw Error(a(177));m.callbackNode=null,m.callbackPriority=0;var B=N.lanes|N.childLanes;if(bl(m,B),m===fr&&(dr=fr=null,qr=0),!(N.subtreeFlags&2064)&&!(N.flags&2064)||Fv||(Fv=!0,R3(Ti,function(){return qc(),null})),B=(N.flags&15990)!==0,N.subtreeFlags&15990||B){B=rr.transition,rr.transition=null;var ee=$t;$t=1;var ue=zt;zt|=4,AS.current=null,w7(m,N),S7(m,N),W(m.containerInfo),m.current=N,M7(N),sv(),zt=ue,$t=ee,rr.transition=B}else m.current=N;if(Fv&&(Fv=!1,El=m,Bv=j),B=m.pendingLanes,B===0&&(Ml=null),hp(N.stateNode),Gi(m,Un()),g!==null)for(T=m.onRecoverableError,N=0;N<g.length;N++)T(g[N]);if(Uv)throw Uv=!1,m=RS,RS=null,m;return Bv&1&&m.tag!==0&&qc(),B=m.pendingLanes,B&1?m===OS?Op++:(Op=0,OS=m):Op=0,$i(),null}function qc(){if(El!==null){var m=up(Bv),g=rr.transition,T=$t;try{if(rr.transition=null,$t=16>m?16:m,El===null)var N=!1;else{if(m=El,El=null,Bv=0,zt&6)throw Error(a(331));var j=zt;for(zt|=4,it=m.current;it!==null;){var B=it,ee=B.child;if(it.flags&16){var ue=B.deletions;if(ue!==null){for(var Ie=0;Ie<ue.length;Ie++){var Ze=ue[Ie];for(it=Ze;it!==null;){var ft=it;switch(ft.tag){case 0:case 11:case 15:Wc(8,ft,B)}var Ot=ft.child;if(Ot!==null)Ot.return=ft,it=Ot;else for(;it!==null;){ft=it;var bt=ft.sibling,xn=ft.return;if(f3(ft),ft===Ze){it=null;break}if(bt!==null){bt.return=xn,it=bt;break}it=xn}}}var mt=B.alternate;if(mt!==null){var li=mt.child;if(li!==null){mt.child=null;do{var Hs=li.sibling;li.sibling=null,li=Hs}while(li!==null)}}it=B}}if(B.subtreeFlags&2064&&ee!==null)ee.return=B,it=ee;else e:for(;it!==null;){if(B=it,B.flags&2048)switch(B.tag){case 0:case 11:case 15:Wc(9,B,B.return)}var Se=B.sibling;if(Se!==null){Se.return=B.return,it=Se;break e}it=B.return}}var de=m.current;for(it=de;it!==null;){ee=it;var Ae=ee.child;if(ee.subtreeFlags&2064&&Ae!==null)Ae.return=ee,it=Ae;else e:for(ee=de;it!==null;){if(ue=it,ue.flags&2048)try{switch(ue.tag){case 0:case 11:case 15:Pp(9,ue)}}catch(pt){Xi(ue,ue.return,pt)}if(ue===ee){it=null;break e}var st=ue.sibling;if(st!==null){st.return=ue.return,it=st;break e}it=ue.return}}if(zt=j,$i(),ds&&typeof ds.onPostCommitFiberRoot=="function")try{ds.onPostCommitFiberRoot(Dc,m)}catch{}N=!0}return N}finally{$t=T,rr.transition=g}}return!1}function P3(m,g,T){g=dS(T,g),g=VO(m,g,1),Sl(m,g),g=Ri(),m=Hv(m,1),m!==null&&(Ha(m,1,g),Gi(m,g))}function Xi(m,g,T){if(m.tag===3)P3(m,m,T);else for(;g!==null;){if(g.tag===3){P3(g,m,T);break}else if(g.tag===1){var N=g.stateNode;if(typeof g.type.getDerivedStateFromError=="function"||typeof N.componentDidCatch=="function"&&(Ml===null||!Ml.has(N))){m=dS(T,m),m=HO(g,m,1),Sl(g,m),m=Ri(),g=Hv(g,1),g!==null&&(Ha(g,1,m),Gi(g,m));break}}g=g.return}}function N7(m,g,T){var N=m.pingCache;N!==null&&N.delete(g),g=Ri(),m.pingedLanes|=m.suspendedLanes&T,fr===m&&(qr&T)===T&&(wr===4||wr===3&&(qr&130023424)===qr&&500>Un()-CS?Gc(m,0):PS|=T),Gi(m,g)}function C3(m,g){g===0&&(m.mode&1?(g=bo,bo<<=1,!(bo&130023424)&&(bo=4194304)):g=1);var T=Ri();m=Hv(m,g),m!==null&&(Ha(m,g,T),Gi(m,T))}function R7(m){var g=m.memoizedState,T=0;g!==null&&(T=g.retryLane),C3(m,T)}function O7(m,g){var T=0;switch(m.tag){case 13:var N=m.stateNode,j=m.memoizedState;j!==null&&(T=j.retryLane);break;case 19:N=m.stateNode;break;default:throw Error(a(314))}N!==null&&N.delete(g),C3(m,T)}var N3;N3=function(m,g,T){if(m!==null)if(m.memoizedProps!==g.pendingProps||In.current)vs=!0;else{if(!(m.lanes&T)&&!(g.flags&128))return vs=!1,x7(m,g,T);vs=!!(m.flags&131072)}else vs=!1,jn&&g.flags&1048576&&gO(g,hv,g.index);switch(g.lanes=0,g.tag){case 2:var N=g.type;m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps;var j=gn(g,Wn.current);tr(g,T),j=oS(null,g,N,m,j,T);var B=lS();return g.flags|=1,typeof j=="object"&&j!==null&&typeof j.render=="function"&&j.$$typeof===void 0?(g.tag=1,g.memoizedState=null,g.updateQueue=null,wn(N)?(B=!0,Va(g)):B=!1,g.memoizedState=j.state!==null&&j.state!==void 0?j.state:null,qw(g),j.updater=fv,g.stateNode=j,j._reactInternals=g,Kw(g,N,m,T),g=mS(null,g,N,!0,B,T)):(g.tag=0,jn&&B&&Zw(g),Ni(null,g,j,T),g=g.child),g;case 16:N=g.elementType;e:{switch(m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),m=g.pendingProps,j=N._init,N=j(N._payload),g.type=N,j=g.tag=I7(N),m=Pi(N,m),j){case 0:g=pS(null,g,N,m,T);break e;case 1:g=e3(null,g,N,m,T);break e;case 11:g=YO(null,g,N,m,T);break e;case 14:g=KO(null,g,N,Pi(N.type,m),T);break e}throw Error(a(306,N,""))}return g;case 0:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:Pi(N,j),pS(m,g,N,j,T);case 1:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:Pi(N,j),e3(m,g,N,j,T);case 3:e:{if(t3(g),m===null)throw Error(a(387));N=g.pendingProps,B=g.memoizedState,j=B.element,cO(m,g),uv(g,N,null,T);var ee=g.memoizedState;if(N=ee.element,me&&B.isDehydrated)if(B={element:N,isDehydrated:!1,cache:ee.cache,transitions:ee.transitions},g.updateQueue.baseState=B,g.memoizedState=B,g.flags&256){j=Error(a(423)),g=n3(m,g,N,T,j);break e}else if(N!==j){j=Error(a(424)),g=n3(m,g,N,T,j);break e}else for(me&&(gs=br(g.stateNode.containerInfo),ms=g,jn=!0,va=null,gp=!1),T=wO(g,null,N,T),g.child=T;T;)T.flags=T.flags&-3|4096,T=T.sibling;else{if(Pf(),N===j){g=Po(m,g,T);break e}Ni(m,g,N,T)}g=g.child}return g;case 5:return SO(g),m===null&&eS(g),N=g.type,j=g.pendingProps,B=m!==null?m.memoizedProps:null,ee=j.children,te(N,j)?ee=null:B!==null&&te(N,B)&&(g.flags|=32),QO(m,g),Ni(m,g,ee,T),g.child;case 6:return m===null&&eS(g),null;case 13:return r3(m,g,T);case 4:return nS(g,g.stateNode.containerInfo),N=g.pendingProps,m===null?g.child=Cf(g,null,N,T):Ni(m,g,N,T),g.child;case 11:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:Pi(N,j),YO(m,g,N,j,T);case 7:return Ni(m,g,g.pendingProps,T),g.child;case 8:return Ni(m,g,g.pendingProps.children,T),g.child;case 12:return Ni(m,g,g.pendingProps.children,T),g.child;case 10:e:{if(N=g.type._context,j=g.pendingProps,B=g.memoizedProps,ee=j.value,lv(g,N,ee),B!==null)if(hs(B.value,ee)){if(B.children===j.children&&!In.current){g=Po(m,g,T);break e}}else for(B=g.child,B!==null&&(B.return=g);B!==null;){var ue=B.dependencies;if(ue!==null){ee=B.child;for(var Ie=ue.firstContext;Ie!==null;){if(Ie.context===N){if(B.tag===1){Ie=Mo(-1,T&-T),Ie.tag=2;var Ze=B.updateQueue;if(Ze!==null){Ze=Ze.shared;var ft=Ze.pending;ft===null?Ie.next=Ie:(Ie.next=ft.next,ft.next=Ie),Ze.pending=Ie}}B.lanes|=T,Ie=B.alternate,Ie!==null&&(Ie.lanes|=T),Ci(B.return,T,g),ue.lanes|=T;break}Ie=Ie.next}}else if(B.tag===10)ee=B.type===g.type?null:B.child;else if(B.tag===18){if(ee=B.return,ee===null)throw Error(a(341));ee.lanes|=T,ue=ee.alternate,ue!==null&&(ue.lanes|=T),Ci(ee,T,g),ee=B.sibling}else ee=B.child;if(ee!==null)ee.return=B;else for(ee=B;ee!==null;){if(ee===g){ee=null;break}if(B=ee.sibling,B!==null){B.return=ee.return,ee=B;break}ee=ee.return}B=ee}Ni(m,g,j.children,T),g=g.child}return g;case 9:return j=g.type,N=g.pendingProps.children,tr(g,T),j=nr(j),N=N(j),g.flags|=1,Ni(m,g,N,T),g.child;case 14:return N=g.type,j=Pi(N,g.pendingProps),j=Pi(N.type,j),KO(m,g,N,j,T);case 15:return ZO(m,g,g.type,g.pendingProps,T);case 17:return N=g.type,j=g.pendingProps,j=g.elementType===N?j:Pi(N,j),m!==null&&(m.alternate=null,g.alternate=null,g.flags|=2),g.tag=1,wn(N)?(m=!0,Va(g)):m=!1,tr(g,T),pO(g,N,j),Kw(g,N,j,T),mS(null,g,N,!0,m,T);case 19:return o3(m,g,T);case 22:return JO(m,g,T)}throw Error(a(156,g.tag))};function R3(m,g){return So(m,g)}function L7(m,g,T,N){this.tag=m,this.key=T,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=g,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=N,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vs(m,g,T,N){return new L7(m,g,T,N)}function DS(m){return m=m.prototype,!(!m||!m.isReactComponent)}function I7(m){if(typeof m=="function")return DS(m)?1:0;if(m!=null){if(m=m.$$typeof,m===b)return 11;if(m===w)return 14}return 2}function Pl(m,g){var T=m.alternate;return T===null?(T=Vs(m.tag,g,m.key,m.mode),T.elementType=m.elementType,T.type=m.type,T.stateNode=m.stateNode,T.alternate=m,m.alternate=T):(T.pendingProps=g,T.type=m.type,T.flags=0,T.subtreeFlags=0,T.deletions=null),T.flags=m.flags&14680064,T.childLanes=m.childLanes,T.lanes=m.lanes,T.child=m.child,T.memoizedProps=m.memoizedProps,T.memoizedState=m.memoizedState,T.updateQueue=m.updateQueue,g=m.dependencies,T.dependencies=g===null?null:{lanes:g.lanes,firstContext:g.firstContext},T.sibling=m.sibling,T.index=m.index,T.ref=m.ref,T}function Wv(m,g,T,N,j,B){var ee=2;if(N=m,typeof m=="function")DS(m)&&(ee=1);else if(typeof m=="string")ee=5;else e:switch(m){case u:return Yc(T.children,j,B,g);case f:ee=8,j|=8;break;case d:return m=Vs(12,T,g,j|2),m.elementType=d,m.lanes=B,m;case x:return m=Vs(13,T,g,j),m.elementType=x,m.lanes=B,m;case y:return m=Vs(19,T,g,j),m.elementType=y,m.lanes=B,m;case S:return Gv(T,j,B,g);default:if(typeof m=="object"&&m!==null)switch(m.$$typeof){case p:ee=10;break e;case v:ee=9;break e;case b:ee=11;break e;case w:ee=14;break e;case _:ee=16,N=null;break e}throw Error(a(130,m==null?m:typeof m,""))}return g=Vs(ee,T,g,j),g.elementType=m,g.type=N,g.lanes=B,g}function Yc(m,g,T,N){return m=Vs(7,m,N,g),m.lanes=T,m}function Gv(m,g,T,N){return m=Vs(22,m,N,g),m.elementType=S,m.lanes=T,m.stateNode={},m}function US(m,g,T){return m=Vs(6,m,null,g),m.lanes=T,m}function FS(m,g,T){return g=Vs(4,m.children!==null?m.children:[],m.key,g),g.lanes=T,g.stateNode={containerInfo:m.containerInfo,pendingChildren:null,implementation:m.implementation},g}function j7(m,g,T,N,j){this.tag=g,this.containerInfo=m,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=fe,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wf(0),this.expirationTimes=wf(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wf(0),this.identifierPrefix=N,this.onRecoverableError=j,me&&(this.mutableSourceEagerHydrationData=null)}function O3(m,g,T,N,j,B,ee,ue,Ie){return m=new j7(m,g,T,ue,Ie),g===1?(g=1,B===!0&&(g|=8)):g=0,B=Vs(3,null,null,g),m.current=B,B.stateNode=m,B.memoizedState={element:N,isDehydrated:T,cache:null,transitions:null},qw(B),m}function L3(m){if(!m)return er;m=m._reactInternals;e:{if(P(m)!==m||m.tag!==1)throw Error(a(170));var g=m;do{switch(g.tag){case 3:g=g.stateNode.context;break e;case 1:if(wn(g.type)){g=g.stateNode.__reactInternalMemoizedMergedChildContext;break e}}g=g.return}while(g!==null);throw Error(a(171))}if(m.tag===1){var T=m.type;if(wn(T))return za(m,T,g)}return g}function I3(m){var g=m._reactInternals;if(g===void 0)throw typeof m.render=="function"?Error(a(188)):(m=Object.keys(m).join(","),Error(a(268,m)));return m=O(g),m===null?null:m.stateNode}function j3(m,g){if(m=m.memoizedState,m!==null&&m.dehydrated!==null){var T=m.retryLane;m.retryLane=T!==0&&T<g?T:g}}function BS(m,g){j3(m,g),(m=m.alternate)&&j3(m,g)}function k7(m){return m=O(m),m===null?null:m.stateNode}function D7(){return null}return n.attemptContinuousHydration=function(m){if(m.tag===13){var g=Ri();zs(m,134217728,g),BS(m,134217728)}},n.attemptHydrationAtCurrentPriority=function(m){if(m.tag===13){var g=Ri(),T=Tl(m);zs(m,T,g),BS(m,T)}},n.attemptSynchronousHydration=function(m){switch(m.tag){case 3:var g=m.stateNode;if(g.current.memoizedState.isDehydrated){var T=_o(g.pendingLanes);T!==0&&($a(g,T|1),Gi(g,Un()),!(zt&6)&&(jf(),$i()))}break;case 13:var N=Ri();S3(function(){return zs(m,1,N)}),BS(m,1)}},n.batchedUpdates=function(m,g){var T=zt;zt|=1;try{return m(g)}finally{zt=T,zt===0&&(jf(),Wa&&$i())}},n.createComponentSelector=function(m){return{$$typeof:Rv,value:m}},n.createContainer=function(m,g,T,N,j,B,ee){return O3(m,g,!1,null,T,N,j,B,ee)},n.createHasPseudoClassSelector=function(m){return{$$typeof:Ov,value:m}},n.createHydrationContainer=function(m,g,T,N,j,B,ee,ue,Ie){return m=O3(T,N,!0,m,j,B,ee,ue,Ie),m.context=L3(null),T=m.current,N=Ri(),j=Tl(T),B=Mo(N,j),B.callback=g??null,Sl(T,B),m.current.lanes=j,Ha(m,j,N),Gi(m,N),m},n.createPortal=function(m,g,T){var N=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:c,key:N==null?null:""+N,children:m,containerInfo:g,implementation:T}},n.createRoleSelector=function(m){return{$$typeof:Lv,value:m}},n.createTestNameSelector=function(m){return{$$typeof:Iv,value:m}},n.createTextSelector=function(m){return{$$typeof:jv,value:m}},n.deferredUpdates=function(m){var g=$t,T=rr.transition;try{return rr.transition=null,$t=16,m()}finally{$t=g,rr.transition=T}},n.discreteUpdates=function(m,g,T,N,j){var B=$t,ee=rr.transition;try{return rr.transition=null,$t=1,m(g,T,N,j)}finally{$t=B,rr.transition=ee,zt===0&&jf()}},n.findAllNodes=TS,n.findBoundingRects=function(m,g){if(!Be)throw Error(a(363));g=TS(m,g),m=[];for(var T=0;T<g.length;T++)m.push(Ye(g[T]));for(g=m.length-1;0<g;g--){T=m[g];for(var N=T.x,j=N+T.width,B=T.y,ee=B+T.height,ue=g-1;0<=ue;ue--)if(g!==ue){var Ie=m[ue],Ze=Ie.x,ft=Ze+Ie.width,Ot=Ie.y,bt=Ot+Ie.height;if(N>=Ze&&B>=Ot&&j<=ft&&ee<=bt){m.splice(g,1);break}else if(N!==Ze||T.width!==Ie.width||bt<B||Ot>ee){if(!(B!==Ot||T.height!==Ie.height||ft<N||Ze>j)){Ze>N&&(Ie.width+=Ze-N,Ie.x=N),ft<j&&(Ie.width=j-Ze),m.splice(g,1);break}}else{Ot>B&&(Ie.height+=Ot-B,Ie.y=B),bt<ee&&(Ie.height=ee-Ot),m.splice(g,1);break}}}return m},n.findHostInstance=I3,n.findHostInstanceWithNoPortals=function(m){return m=L(m),m=m!==null?I(m):null,m===null?null:m.stateNode},n.findHostInstanceWithWarning=function(m){return I3(m)},n.flushControlled=function(m){var g=zt;zt|=1;var T=rr.transition,N=$t;try{rr.transition=null,$t=1,m()}finally{$t=N,rr.transition=T,zt=g,zt===0&&(jf(),$i())}},n.flushPassiveEffects=qc,n.flushSync=S3,n.focusWithin=function(m,g){if(!Be)throw Error(a(363));for(m=SS(m),g=b3(m,g),g=Array.from(g),m=0;m<g.length;){var T=g[m++];if(!X(T)){if(T.tag===5&&Fe(T.stateNode))return!0;for(T=T.child;T!==null;)g.push(T),T=T.sibling}}return!1},n.getCurrentUpdatePriority=function(){return $t},n.getFindAllNodesFailureDescription=function(m,g){if(!Be)throw Error(a(363));var T=0,N=[];m=[SS(m),0];for(var j=0;j<m.length;){var B=m[j++],ee=m[j++],ue=g[ee];if((B.tag!==5||!X(B))&&(MS(B,ue)&&(N.push(ES(ue)),ee++,ee>T&&(T=ee)),ee<g.length))for(B=B.child;B!==null;)m.push(B,ee),B=B.sibling}if(T<g.length){for(m=[];T<g.length;T++)m.push(ES(g[T]));return`findAllNodes was able to match part of the selector:
  `+(N.join(" > ")+`

No matching component was found for:
  `)+m.join(" > ")}return null},n.getPublicRootInstance=function(m){if(m=m.current,!m.child)return null;switch(m.child.tag){case 5:return $(m.child.stateNode);default:return m.child.stateNode}},n.injectIntoDevTools=function(m){if(m={bundleType:m.bundleType,version:m.version,rendererPackageName:m.rendererPackageName,rendererConfig:m.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:o.ReactCurrentDispatcher,findHostInstanceByFiber:k7,findFiberByHostInstance:m.findFiberByHostInstance||D7,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.0.0-fc46dba67-20220329"},typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u")m=!1;else{var g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(g.isDisabled||!g.supportsFiber)m=!0;else{try{Dc=g.inject(m),ds=g}catch{}m=!!g.checkDCE}}return m},n.isAlreadyRendering=function(){return!1},n.observeVisibleRects=function(m,g,T,N){if(!Be)throw Error(a(363));m=TS(m,g);var j=ye(m,T,N).disconnect;return{disconnect:function(){j()}}},n.registerMutableSourceForHydration=function(m,g){var T=g._getVersion;T=T(g._source),m.mutableSourceEagerHydrationData==null?m.mutableSourceEagerHydrationData=[g,T]:m.mutableSourceEagerHydrationData.push(g,T)},n.runWithPriority=function(m,g){var T=$t;try{return $t=m,g()}finally{$t=T}},n.shouldError=function(){return null},n.shouldSuspend=function(){return!1},n.updateContainer=function(m,g,T,N){var j=g.current,B=Ri(),ee=Tl(j);return T=L3(T),g.context===null?g.context=T:g.pendingContext=T,g=Mo(B,ee),g.payload={element:m},N=N===void 0?null:N,N!==null&&(g.callback=N),Sl(j,g),m=zs(j,ee,B),m!==null&&cv(m,j,ee),ee},n};TH.exports=wle;var Sle=TH.exports;const Mle=yn(Sle),WN={},Ele=t=>void Object.assign(WN,t);function Tle(t,e){function n(u,{args:f=[],attach:d,...p},v){let b=`${u[0].toUpperCase()}${u.slice(1)}`,x;if(u==="primitive"){if(p.object===void 0)throw new Error("R3F: Primitives without 'object' are invalid!");const y=p.object;x=dd(y,{type:u,root:v,attach:d,primitive:!0})}else{const y=WN[b];if(!y)throw new Error(`R3F: ${b} is not part of the THREE namespace! Did you forget to extend? See: https://docs.pmnd.rs/react-three-fiber/api/objects#using-3rd-party-objects-declaratively`);if(!Array.isArray(f))throw new Error("R3F: The args prop must be an array!");x=dd(new y(...f),{type:u,root:v,attach:d,memoizedProps:{args:f}})}return x.__r3f.attach===void 0&&(x.isBufferGeometry?x.__r3f.attach="geometry":x.isMaterial&&(x.__r3f.attach="material")),b!=="inject"&&lM(x,p),x}function r(u,f){let d=!1;if(f){var p,v;(p=f.__r3f)!=null&&p.attach?oM(u,f,f.__r3f.attach):f.isObject3D&&u.isObject3D&&(u.add(f),d=!0),d||(v=u.__r3f)==null||v.objects.push(f),f.__r3f||dd(f,{}),f.__r3f.parent=u,JT(f),hd(f)}}function i(u,f,d){let p=!1;if(f){var v,b;if((v=f.__r3f)!=null&&v.attach)oM(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){f.parent=u,f.dispatchEvent({type:"added"}),u.dispatchEvent({type:"childadded",child:f});const x=u.children.filter(w=>w!==f),y=x.indexOf(d);u.children=[...x.slice(0,y),f,...x.slice(y)],p=!0}p||(b=u.__r3f)==null||b.objects.push(f),f.__r3f||dd(f,{}),f.__r3f.parent=u,JT(f),hd(f)}}function s(u,f,d=!1){u&&[...u].forEach(p=>a(f,p,d))}function a(u,f,d){if(f){var p,v,b;if(f.__r3f&&(f.__r3f.parent=null),(p=u.__r3f)!=null&&p.objects&&(u.__r3f.objects=u.__r3f.objects.filter(S=>S!==f)),(v=f.__r3f)!=null&&v.attach)kk(u,f,f.__r3f.attach);else if(f.isObject3D&&u.isObject3D){var x;u.remove(f),(x=f.__r3f)!=null&&x.root&&Ile(Gx(f),f)}const w=(b=f.__r3f)==null?void 0:b.primitive,_=!w&&(d===void 0?f.dispose!==null:d);if(!w){var y;s((y=f.__r3f)==null?void 0:y.objects,f,_),s(f.children,f,_)}if(delete f.__r3f,_&&f.dispose&&f.type!=="Scene"){const S=()=>{try{f.dispose()}catch{}};typeof IS_REACT_ACT_ENVIRONMENT>"u"?KT.unstable_scheduleCallback(KT.unstable_IdlePriority,S):S()}hd(u)}}function o(u,f,d,p){var v;const b=(v=u.__r3f)==null?void 0:v.parent;if(!b)return;const x=n(f,d,u.__r3f.root);if(u.children){for(const y of u.children)y.__r3f&&r(x,y);u.children=u.children.filter(y=>!y.__r3f)}u.__r3f.objects.forEach(y=>r(x,y)),u.__r3f.objects=[],u.__r3f.autoRemovedBeforeAppend||a(b,u),x.parent&&(x.__r3f.autoRemovedBeforeAppend=!0),r(b,x),x.raycast&&x.__r3f.eventCount&&Gx(x).getState().internal.interaction.push(x),[p,p.alternate].forEach(y=>{y!==null&&(y.stateNode=x,y.ref&&(typeof y.ref=="function"?y.ref(x):y.ref.current=x))})}const l=()=>{};return{reconciler:Mle({createInstance:n,removeChild:a,appendChild:r,appendInitialChild:r,insertBefore:i,supportsMutation:!0,isPrimaryRenderer:!1,supportsPersistence:!1,supportsHydration:!1,noTimeout:-1,appendChildToContainer:(u,f)=>{if(!f)return;const d=u.getState().scene;d.__r3f&&(d.__r3f.root=u,r(d,f))},removeChildFromContainer:(u,f)=>{f&&a(u.getState().scene,f)},insertInContainerBefore:(u,f,d)=>{if(!f||!d)return;const p=u.getState().scene;p.__r3f&&i(p,f,d)},getRootHostContext:()=>null,getChildHostContext:u=>u,finalizeInitialChildren(u){var f;return!!((f=u==null?void 0:u.__r3f)!=null?f:{}).handlers},prepareUpdate(u,f,d,p){var v;if(((v=u==null?void 0:u.__r3f)!=null?v:{}).primitive&&p.object&&p.object!==u)return[!0];{const{args:x=[],children:y,...w}=p,{args:_=[],children:S,...M}=d;if(!Array.isArray(x))throw new Error("R3F: the args prop must be an array!");if(x.some((A,C)=>A!==_[C]))return[!0];const E=jH(u,w,M,!0);return E.changes.length?[!1,E]:null}},commitUpdate(u,[f,d],p,v,b,x){f?o(u,p,b,x):lM(u,d)},commitMount(u,f,d,p){var v;const b=(v=u.__r3f)!=null?v:{};u.raycast&&b.handlers&&b.eventCount&&Gx(u).getState().internal.interaction.push(u)},getPublicInstance:u=>u,prepareForCommit:()=>null,preparePortalMount:u=>dd(u.getState().scene),resetAfterCommit:()=>{},shouldSetTextContent:()=>!1,clearContainer:()=>!1,hideInstance(u){var f;const{attach:d,parent:p}=(f=u.__r3f)!=null?f:{};d&&p&&kk(p,u,d),u.isObject3D&&(u.visible=!1),hd(u)},unhideInstance(u,f){var d;const{attach:p,parent:v}=(d=u.__r3f)!=null?d:{};p&&v&&oM(v,u,p),(u.isObject3D&&f.visible==null||f.visible)&&(u.visible=!0),hd(u)},createTextInstance:l,hideTextInstance:l,unhideTextInstance:l,getCurrentEventPriority:()=>e?e():jd.DefaultEventPriority,beforeActiveInstanceBlur:()=>{},afterActiveInstanceBlur:()=>{},detachDeletedInstance:()=>{},now:typeof performance<"u"&&Cn.fun(performance.now)?performance.now:Cn.fun(Date.now)?Date.now:()=>0,scheduleTimeout:Cn.fun(setTimeout)?setTimeout:void 0,cancelTimeout:Cn.fun(clearTimeout)?clearTimeout:void 0}),applyProps:lM}}var Ok,Lk;const aM=t=>"colorSpace"in t||"outputColorSpace"in t,CH=()=>{var t;return(t=WN.ColorManagement)!=null?t:null},NH=t=>t&&t.isOrthographicCamera,Ale=t=>t&&t.hasOwnProperty("current"),H0=typeof window<"u"&&((Ok=window.document)!=null&&Ok.createElement||((Lk=window.navigator)==null?void 0:Lk.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function RH(t){const e=F.useRef(t);return H0(()=>void(e.current=t),[t]),e}function Ple({set:t}){return H0(()=>(t(new Promise(()=>null)),()=>t(!1)),[t]),null}class OH extends F.Component{constructor(...e){super(...e),this.state={error:!1}}componentDidCatch(e){this.props.set(e)}render(){return this.state.error?null:this.props.children}}OH.getDerivedStateFromError=()=>({error:!0});const LH="__default",Ik=new Map,Cle=t=>t&&!!t.memoized&&!!t.changes;function IH(t){var e;const n=typeof window<"u"?(e=window.devicePixelRatio)!=null?e:2:1;return Array.isArray(t)?Math.min(Math.max(t[0],n),t[1]):t}const Qp=t=>{var e;return(e=t.__r3f)==null?void 0:e.root.getState()};function Gx(t){let e=t.__r3f.root;for(;e.getState().previousRoot;)e=e.getState().previousRoot;return e}const Cn={obj:t=>t===Object(t)&&!Cn.arr(t)&&typeof t!="function",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",boo:t=>typeof t=="boolean",und:t=>t===void 0,arr:t=>Array.isArray(t),equ(t,e,{arrays:n="shallow",objects:r="reference",strict:i=!0}={}){if(typeof t!=typeof e||!!t!=!!e)return!1;if(Cn.str(t)||Cn.num(t)||Cn.boo(t))return t===e;const s=Cn.obj(t);if(s&&r==="reference")return t===e;const a=Cn.arr(t);if(a&&n==="reference")return t===e;if((a||s)&&t===e)return!0;let o;for(o in t)if(!(o in e))return!1;if(s&&n==="shallow"&&r==="shallow"){for(o in i?e:t)if(!Cn.equ(t[o],e[o],{strict:i,objects:"reference"}))return!1}else for(o in i?e:t)if(t[o]!==e[o])return!1;if(Cn.und(o)){if(a&&t.length===0&&e.length===0||s&&Object.keys(t).length===0&&Object.keys(e).length===0)return!0;if(t!==e)return!1}return!0}};function Nle(t){t.dispose&&t.type!=="Scene"&&t.dispose();for(const e in t)e.dispose==null||e.dispose(),delete t[e]}function dd(t,e){const n=t;return n.__r3f={type:"",root:null,previousAttach:null,memoizedProps:{},eventCount:0,handlers:{},objects:[],parent:null,...e},t}function ZT(t,e){let n=t;if(e.includes("-")){const r=e.split("-"),i=r.pop();return n=r.reduce((s,a)=>s[a],t),{target:n,key:i}}else return{target:n,key:e}}const jk=/-\d+$/;function oM(t,e,n){if(Cn.str(n)){if(jk.test(n)){const s=n.replace(jk,""),{target:a,key:o}=ZT(t,s);Array.isArray(a[o])||(a[o]=[])}const{target:r,key:i}=ZT(t,n);e.__r3f.previousAttach=r[i],r[i]=e}else e.__r3f.previousAttach=n(t,e)}function kk(t,e,n){var r,i;if(Cn.str(n)){const{target:s,key:a}=ZT(t,n),o=e.__r3f.previousAttach;o===void 0?delete s[a]:s[a]=o}else(r=e.__r3f)==null||r.previousAttach==null||r.previousAttach(t,e);(i=e.__r3f)==null||delete i.previousAttach}function jH(t,{children:e,key:n,ref:r,...i},{children:s,key:a,ref:o,...l}={},c=!1){const u=t.__r3f,f=Object.entries(i),d=[];if(c){const v=Object.keys(l);for(let b=0;b<v.length;b++)i.hasOwnProperty(v[b])||f.unshift([v[b],LH+"remove"])}f.forEach(([v,b])=>{var x;if((x=t.__r3f)!=null&&x.primitive&&v==="object"||Cn.equ(b,l[v]))return;if(/^on(Pointer|Click|DoubleClick|ContextMenu|Wheel)/.test(v))return d.push([v,b,!0,[]]);let y=[];v.includes("-")&&(y=v.split("-")),d.push([v,b,!1,y]);for(const w in i){const _=i[w];w.startsWith(`${v}-`)&&d.push([w,_,!1,w.split("-")])}});const p={...i};return u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.args&&(p.args=u.memoizedProps.args),u!=null&&u.memoizedProps&&u!=null&&u.memoizedProps.attach&&(p.attach=u.memoizedProps.attach),{memoized:p,changes:d}}const Rle=typeof process<"u"&&!1;function lM(t,e){var n;const r=t.__r3f,i=r==null?void 0:r.root,s=i==null||i.getState==null?void 0:i.getState(),{memoized:a,changes:o}=Cle(e)?e:jH(t,e),l=r==null?void 0:r.eventCount;t.__r3f&&(t.__r3f.memoizedProps=a);for(let d=0;d<o.length;d++){let[p,v,b,x]=o[d];if(aM(t)){const S="srgb",M="srgb-linear";p==="encoding"?(p="colorSpace",v=v===3001?S:M):p==="outputEncoding"&&(p="outputColorSpace",v=v===3001?S:M)}let y=t,w=y[p];if(x.length&&(w=x.reduce((_,S)=>_[S],t),!(w&&w.set))){const[_,...S]=x.reverse();y=S.reverse().reduce((M,E)=>M[E],t),p=_}if(v===LH+"remove")if(y.constructor){let _=Ik.get(y.constructor);_||(_=new y.constructor,Ik.set(y.constructor,_)),v=_[p]}else v=0;if(b&&r)v?r.handlers[p]=v:delete r.handlers[p],r.eventCount=Object.keys(r.handlers).length;else if(w&&w.set&&(w.copy||w instanceof ku)){if(Array.isArray(v))w.fromArray?w.fromArray(v):w.set(...v);else if(w.copy&&v&&v.constructor&&(Rle?w.constructor.name===v.constructor.name:w.constructor===v.constructor))w.copy(v);else if(v!==void 0){var c;const _=(c=w)==null?void 0:c.isColor;!_&&w.setScalar?w.setScalar(v):w instanceof ku&&v instanceof ku?w.mask=v.mask:w.set(v),!CH()&&s&&!s.linear&&_&&w.convertSRGBToLinear()}}else{var u;if(y[p]=v,(u=y[p])!=null&&u.isTexture&&y[p].format===Zi&&y[p].type===oo&&s){const _=y[p];aM(_)&&aM(s.gl)?_.colorSpace=s.gl.outputColorSpace:_.encoding=s.gl.outputEncoding}}hd(t)}if(r&&r.parent&&t.raycast&&l!==r.eventCount){const d=Gx(t).getState().internal,p=d.interaction.indexOf(t);p>-1&&d.interaction.splice(p,1),r.eventCount&&d.interaction.push(t)}return!(o.length===1&&o[0][0]==="onUpdate")&&o.length&&(n=t.__r3f)!=null&&n.parent&&JT(t),t}function hd(t){var e,n;const r=(e=t.__r3f)==null||(n=e.root)==null||n.getState==null?void 0:n.getState();r&&r.internal.frames===0&&r.invalidate()}function JT(t){t.onUpdate==null||t.onUpdate(t)}function Ole(t,e){t.manual||(NH(t)?(t.left=e.width/-2,t.right=e.width/2,t.top=e.height/2,t.bottom=e.height/-2):t.aspect=e.width/e.height,t.updateProjectionMatrix(),t.updateMatrixWorld())}function ix(t){return(t.eventObject||t.object).uuid+"/"+t.index+t.instanceId}function Lle(){var t;const e=typeof self<"u"&&self||typeof window<"u"&&window;if(!e)return jd.DefaultEventPriority;switch((t=e.event)==null?void 0:t.type){case"click":case"contextmenu":case"dblclick":case"pointercancel":case"pointerdown":case"pointerup":return jd.DiscreteEventPriority;case"pointermove":case"pointerout":case"pointerover":case"pointerenter":case"pointerleave":case"wheel":return jd.ContinuousEventPriority;default:return jd.DefaultEventPriority}}function kH(t,e,n,r){const i=n.get(e);i&&(n.delete(e),n.size===0&&(t.delete(r),i.target.releasePointerCapture(r)))}function Ile(t,e){const{internal:n}=t.getState();n.interaction=n.interaction.filter(r=>r!==e),n.initialHits=n.initialHits.filter(r=>r!==e),n.hovered.forEach((r,i)=>{(r.eventObject===e||r.object===e)&&n.hovered.delete(i)}),n.capturedMap.forEach((r,i)=>{kH(n.capturedMap,e,r,i)})}function jle(t){function e(l){const{internal:c}=t.getState(),u=l.offsetX-c.initialClick[0],f=l.offsetY-c.initialClick[1];return Math.round(Math.sqrt(u*u+f*f))}function n(l){return l.filter(c=>["Move","Over","Enter","Out","Leave"].some(u=>{var f;return(f=c.__r3f)==null?void 0:f.handlers["onPointer"+u]}))}function r(l,c){const u=t.getState(),f=new Set,d=[],p=c?c(u.internal.interaction):u.internal.interaction;for(let y=0;y<p.length;y++){const w=Qp(p[y]);w&&(w.raycaster.camera=void 0)}u.previousRoot||u.events.compute==null||u.events.compute(l,u);function v(y){const w=Qp(y);if(!w||!w.events.enabled||w.raycaster.camera===null)return[];if(w.raycaster.camera===void 0){var _;w.events.compute==null||w.events.compute(l,w,(_=w.previousRoot)==null?void 0:_.getState()),w.raycaster.camera===void 0&&(w.raycaster.camera=null)}return w.raycaster.camera?w.raycaster.intersectObject(y,!0):[]}let b=p.flatMap(v).sort((y,w)=>{const _=Qp(y.object),S=Qp(w.object);return!_||!S?y.distance-w.distance:S.events.priority-_.events.priority||y.distance-w.distance}).filter(y=>{const w=ix(y);return f.has(w)?!1:(f.add(w),!0)});u.events.filter&&(b=u.events.filter(b,u));for(const y of b){let w=y.object;for(;w;){var x;(x=w.__r3f)!=null&&x.eventCount&&d.push({...y,eventObject:w}),w=w.parent}}if("pointerId"in l&&u.internal.capturedMap.has(l.pointerId))for(let y of u.internal.capturedMap.get(l.pointerId).values())f.has(ix(y.intersection))||d.push(y.intersection);return d}function i(l,c,u,f){const d=t.getState();if(l.length){const p={stopped:!1};for(const v of l){const b=Qp(v.object)||d,{raycaster:x,pointer:y,camera:w,internal:_}=b,S=new Z(y.x,y.y,0).unproject(w),M=R=>{var L,O;return(L=(O=_.capturedMap.get(R))==null?void 0:O.has(v.eventObject))!=null?L:!1},E=R=>{const L={intersection:v,target:c.target};_.capturedMap.has(R)?_.capturedMap.get(R).set(v.eventObject,L):_.capturedMap.set(R,new Map([[v.eventObject,L]])),c.target.setPointerCapture(R)},A=R=>{const L=_.capturedMap.get(R);L&&kH(_.capturedMap,v.eventObject,L,R)};let C={};for(let R in c){let L=c[R];typeof L!="function"&&(C[R]=L)}let P={...v,...C,pointer:y,intersections:l,stopped:p.stopped,delta:u,unprojectedPoint:S,ray:x.ray,camera:w,stopPropagation(){const R="pointerId"in c&&_.capturedMap.get(c.pointerId);if((!R||R.has(v.eventObject))&&(P.stopped=p.stopped=!0,_.hovered.size&&Array.from(_.hovered.values()).find(L=>L.eventObject===v.eventObject))){const L=l.slice(0,l.indexOf(v));s([...L,v])}},target:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:A},currentTarget:{hasPointerCapture:M,setPointerCapture:E,releasePointerCapture:A},nativeEvent:c};if(f(P),p.stopped===!0)break}}return l}function s(l){const{internal:c}=t.getState();for(const u of c.hovered.values())if(!l.length||!l.find(f=>f.object===u.object&&f.index===u.index&&f.instanceId===u.instanceId)){const d=u.eventObject.__r3f,p=d==null?void 0:d.handlers;if(c.hovered.delete(ix(u)),d!=null&&d.eventCount){const v={...u,intersections:l};p.onPointerOut==null||p.onPointerOut(v),p.onPointerLeave==null||p.onPointerLeave(v)}}}function a(l,c){for(let u=0;u<c.length;u++){const f=c[u].__r3f;f==null||f.handlers.onPointerMissed==null||f.handlers.onPointerMissed(l)}}function o(l){switch(l){case"onPointerLeave":case"onPointerCancel":return()=>s([]);case"onLostPointerCapture":return c=>{const{internal:u}=t.getState();"pointerId"in c&&u.capturedMap.has(c.pointerId)&&requestAnimationFrame(()=>{u.capturedMap.has(c.pointerId)&&(u.capturedMap.delete(c.pointerId),s([]))})}}return function(u){const{onPointerMissed:f,internal:d}=t.getState();d.lastEvent.current=u;const p=l==="onPointerMove",v=l==="onClick"||l==="onContextMenu"||l==="onDoubleClick",x=r(u,p?n:void 0),y=v?e(u):0;l==="onPointerDown"&&(d.initialClick=[u.offsetX,u.offsetY],d.initialHits=x.map(_=>_.eventObject)),v&&!x.length&&y<=2&&(a(u,d.interaction),f&&f(u)),p&&s(x);function w(_){const S=_.eventObject,M=S.__r3f,E=M==null?void 0:M.handlers;if(M!=null&&M.eventCount)if(p){if(E.onPointerOver||E.onPointerEnter||E.onPointerOut||E.onPointerLeave){const A=ix(_),C=d.hovered.get(A);C?C.stopped&&_.stopPropagation():(d.hovered.set(A,_),E.onPointerOver==null||E.onPointerOver(_),E.onPointerEnter==null||E.onPointerEnter(_))}E.onPointerMove==null||E.onPointerMove(_)}else{const A=E[l];A?(!v||d.initialHits.includes(S))&&(a(u,d.interaction.filter(C=>!d.initialHits.includes(C))),A(_)):v&&d.initialHits.includes(S)&&a(u,d.interaction.filter(C=>!d.initialHits.includes(C)))}}i(x,u,y,w)}}return{handlePointer:o}}const DH=t=>!!(t!=null&&t.render),UH=F.createContext(null),kle=(t,e)=>{const n=vle((o,l)=>{const c=new Z,u=new Z,f=new Z;function d(y=l().camera,w=u,_=l().size){const{width:S,height:M,top:E,left:A}=_,C=S/M;w.isVector3?f.copy(w):f.set(...w);const P=y.getWorldPosition(c).distanceTo(f);if(NH(y))return{width:S/y.zoom,height:M/y.zoom,top:E,left:A,factor:1,distance:P,aspect:C};{const R=y.fov*Math.PI/180,L=2*Math.tan(R/2)*P,O=L*(S/M);return{width:O,height:L,top:E,left:A,factor:S/O,distance:P,aspect:C}}}let p;const v=y=>o(w=>({performance:{...w.performance,current:y}})),b=new De;return{set:o,get:l,gl:null,camera:null,raycaster:null,events:{priority:1,enabled:!0,connected:!1},xr:null,scene:null,invalidate:(y=1)=>t(l(),y),advance:(y,w)=>e(y,w,l()),legacy:!1,linear:!1,flat:!1,controls:null,clock:new zN,pointer:b,mouse:b,frameloop:"always",onPointerMissed:void 0,performance:{current:1,min:.5,max:1,debounce:200,regress:()=>{const y=l();p&&clearTimeout(p),y.performance.current!==y.performance.min&&v(y.performance.min),p=setTimeout(()=>v(l().performance.max),y.performance.debounce)}},size:{width:0,height:0,top:0,left:0,updateStyle:!1},viewport:{initialDpr:0,dpr:0,width:0,height:0,top:0,left:0,aspect:0,distance:0,factor:0,getCurrentViewport:d},setEvents:y=>o(w=>({...w,events:{...w.events,...y}})),setSize:(y,w,_,S,M)=>{const E=l().camera,A={width:y,height:w,top:S||0,left:M||0,updateStyle:_};o(C=>({size:A,viewport:{...C.viewport,...d(E,u,A)}}))},setDpr:y=>o(w=>{const _=IH(y);return{viewport:{...w.viewport,dpr:_,initialDpr:w.viewport.initialDpr||_}}}),setFrameloop:(y="always")=>{const w=l().clock;w.stop(),w.elapsedTime=0,y!=="never"&&(w.start(),w.elapsedTime=0),o(()=>({frameloop:y}))},previousRoot:void 0,internal:{active:!1,priority:0,frames:0,lastEvent:F.createRef(),interaction:[],hovered:new Map,subscribers:[],initialClick:[0,0],initialHits:[],capturedMap:new Map,subscribe:(y,w,_)=>{const S=l().internal;return S.priority=S.priority+(w>0?1:0),S.subscribers.push({ref:y,priority:w,store:_}),S.subscribers=S.subscribers.sort((M,E)=>M.priority-E.priority),()=>{const M=l().internal;M!=null&&M.subscribers&&(M.priority=M.priority-(w>0?1:0),M.subscribers=M.subscribers.filter(E=>E.ref!==y))}}}}}),r=n.getState();let i=r.size,s=r.viewport.dpr,a=r.camera;return n.subscribe(()=>{const{camera:o,size:l,viewport:c,gl:u,set:f}=n.getState();if(l.width!==i.width||l.height!==i.height||c.dpr!==s){var d;i=l,s=c.dpr,Ole(o,l),u.setPixelRatio(c.dpr);const p=(d=l.updateStyle)!=null?d:typeof HTMLCanvasElement<"u"&&u.domElement instanceof HTMLCanvasElement;u.setSize(l.width,l.height,p)}o!==a&&(a=o,f(p=>({viewport:{...p.viewport,...p.viewport.getCurrentViewport(o)}})))}),n.subscribe(o=>t(o)),n};let sx,Dle=new Set,Ule=new Set,Fle=new Set;function cM(t,e){if(t.size)for(const{callback:n}of t.values())n(e)}function em(t,e){switch(t){case"before":return cM(Dle,e);case"after":return cM(Ule,e);case"tail":return cM(Fle,e)}}let uM,fM;function dM(t,e,n){let r=e.clock.getDelta();for(e.frameloop==="never"&&typeof t=="number"&&(r=t-e.clock.elapsedTime,e.clock.oldTime=e.clock.elapsedTime,e.clock.elapsedTime=t),uM=e.internal.subscribers,sx=0;sx<uM.length;sx++)fM=uM[sx],fM.ref.current(fM.store.getState(),r,n);return!e.internal.priority&&e.gl.render&&e.gl.render(e.scene,e.camera),e.internal.frames=Math.max(0,e.internal.frames-1),e.frameloop==="always"?1:e.internal.frames}function Ble(t){let e=!1,n=!1,r,i,s;function a(c){i=requestAnimationFrame(a),e=!0,r=0,em("before",c),n=!0;for(const f of t.values()){var u;s=f.store.getState(),s.internal.active&&(s.frameloop==="always"||s.internal.frames>0)&&!((u=s.gl.xr)!=null&&u.isPresenting)&&(r+=dM(c,s))}if(n=!1,em("after",c),r===0)return em("tail",c),e=!1,cancelAnimationFrame(i)}function o(c,u=1){var f;if(!c)return t.forEach(d=>o(d.store.getState(),u));(f=c.gl.xr)!=null&&f.isPresenting||!c.internal.active||c.frameloop==="never"||(u>1?c.internal.frames=Math.min(60,c.internal.frames+u):n?c.internal.frames=2:c.internal.frames=1,e||(e=!0,requestAnimationFrame(a)))}function l(c,u=!0,f,d){if(u&&em("before",c),f)dM(c,f,d);else for(const p of t.values())dM(c,p.store.getState());u&&em("after",c)}return{loop:a,invalidate:o,advance:l}}function FH(){const t=F.useContext(UH);if(!t)throw new Error("R3F: Hooks can only be used within the Canvas component!");return t}function ki(t=n=>n,e){return FH()(t,e)}function $0(t,e=0){const n=FH(),r=n.getState().internal.subscribe,i=RH(t);return H0(()=>r(i,e,n),[e,r,n]),null}const dh=new Map,{invalidate:Dk,advance:Uk}=Ble(dh),{reconciler:z1,applyProps:sd}=Tle(dh,Lle),ad={objects:"shallow",strict:!1},zle=(t,e)=>{const n=typeof t=="function"?t(e):t;return DH(n)?n:new wN({powerPreference:"high-performance",canvas:e,antialias:!0,alpha:!0,...t})};function Vle(t,e){const n=typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement;if(e){const{width:r,height:i,top:s,left:a,updateStyle:o=n}=e;return{width:r,height:i,top:s,left:a,updateStyle:o}}else if(typeof HTMLCanvasElement<"u"&&t instanceof HTMLCanvasElement&&t.parentElement){const{width:r,height:i,top:s,left:a}=t.parentElement.getBoundingClientRect();return{width:r,height:i,top:s,left:a,updateStyle:n}}else if(typeof OffscreenCanvas<"u"&&t instanceof OffscreenCanvas)return{width:t.width,height:t.height,top:0,left:0,updateStyle:n};return{width:0,height:0,top:0,left:0}}function Hle(t){const e=dh.get(t),n=e==null?void 0:e.fiber,r=e==null?void 0:e.store;e&&console.warn("R3F.createRoot should only be called once!");const i=typeof reportError=="function"?reportError:console.error,s=r||kle(Dk,Uk),a=n||z1.createContainer(s,jd.ConcurrentRoot,null,!1,null,"",i,null);e||dh.set(t,{fiber:a,store:s});let o,l=!1,c;return{configure(u={}){let{gl:f,size:d,scene:p,events:v,onCreated:b,shadows:x=!1,linear:y=!1,flat:w=!1,legacy:_=!1,orthographic:S=!1,frameloop:M="always",dpr:E=[1,2],performance:A,raycaster:C,camera:P,onPointerMissed:R}=u,L=s.getState(),O=L.gl;L.gl||L.set({gl:O=zle(f,t)});let D=L.raycaster;D||L.set({raycaster:D=new SH});const{params:I,...z}=C||{};if(Cn.equ(z,D,ad)||sd(D,{...z}),Cn.equ(I,D.params,ad)||sd(D,{params:{...D.params,...I}}),!L.camera||L.camera===c&&!Cn.equ(c,P,ad)){c=P;const W=P instanceof D0,k=W?P:S?new cc(0,0,0,0,.1,1e3):new or(75,0,.1,1e3);W||(k.position.z=5,P&&(sd(k,P),("aspect"in P||"left"in P||"right"in P||"bottom"in P||"top"in P)&&(k.manual=!0,k.updateProjectionMatrix())),!L.camera&&!(P!=null&&P.rotation)&&k.lookAt(0,0,0)),L.set({camera:k}),D.camera=k}if(!L.scene){let W;p!=null&&p.isScene?W=p:(W=new SN,p&&sd(W,p)),L.set({scene:dd(W)})}if(!L.xr){var $;const W=(K,ne)=>{const te=s.getState();te.frameloop!=="never"&&Uk(K,!0,te,ne)},k=()=>{const K=s.getState();K.gl.xr.enabled=K.gl.xr.isPresenting,K.gl.xr.setAnimationLoop(K.gl.xr.isPresenting?W:null),K.gl.xr.isPresenting||Dk(K)},H={connect(){const K=s.getState().gl;K.xr.addEventListener("sessionstart",k),K.xr.addEventListener("sessionend",k)},disconnect(){const K=s.getState().gl;K.xr.removeEventListener("sessionstart",k),K.xr.removeEventListener("sessionend",k)}};typeof(($=O.xr)==null?void 0:$.addEventListener)=="function"&&H.connect(),L.set({xr:H})}if(O.shadowMap){const W=O.shadowMap.enabled,k=O.shadowMap.type;if(O.shadowMap.enabled=!!x,Cn.boo(x))O.shadowMap.type=jm;else if(Cn.str(x)){var q;const H={basic:wV,percentage:__,soft:jm,variance:Sa};O.shadowMap.type=(q=H[x])!=null?q:jm}else Cn.obj(x)&&Object.assign(O.shadowMap,x);(W!==O.shadowMap.enabled||k!==O.shadowMap.type)&&(O.shadowMap.needsUpdate=!0)}const V=CH();V&&("enabled"in V?V.enabled=!_:"legacyMode"in V&&(V.legacyMode=_)),l||sd(O,{outputEncoding:y?3e3:3001,toneMapping:w?ao:rN}),L.legacy!==_&&L.set(()=>({legacy:_})),L.linear!==y&&L.set(()=>({linear:y})),L.flat!==w&&L.set(()=>({flat:w})),f&&!Cn.fun(f)&&!DH(f)&&!Cn.equ(f,O,ad)&&sd(O,f),v&&!L.events.handlers&&L.set({events:v(s)});const U=Vle(t,d);return Cn.equ(U,L.size,ad)||L.setSize(U.width,U.height,U.updateStyle,U.top,U.left),E&&L.viewport.dpr!==IH(E)&&L.setDpr(E),L.frameloop!==M&&L.setFrameloop(M),L.onPointerMissed||L.set({onPointerMissed:R}),A&&!Cn.equ(A,L.performance,ad)&&L.set(W=>({performance:{...W.performance,...A}})),o=b,l=!0,this},render(u){return l||this.configure(),z1.updateContainer(h.jsx($le,{store:s,children:u,onCreated:o,rootElement:t}),a,null,()=>{}),s},unmount(){BH(t)}}}function $le({store:t,children:e,onCreated:n,rootElement:r}){return H0(()=>{const i=t.getState();i.set(s=>({internal:{...s.internal,active:!0}})),n&&n(i),t.getState().events.connected||i.events.connect==null||i.events.connect(r)},[]),h.jsx(UH.Provider,{value:t,children:e})}function BH(t,e){const n=dh.get(t),r=n==null?void 0:n.fiber;if(r){const i=n==null?void 0:n.store.getState();i&&(i.internal.active=!1),z1.updateContainer(null,r,null,()=>{i&&setTimeout(()=>{try{var s,a,o,l;i.events.disconnect==null||i.events.disconnect(),(s=i.gl)==null||(a=s.renderLists)==null||a.dispose==null||a.dispose(),(o=i.gl)==null||o.forceContextLoss==null||o.forceContextLoss(),(l=i.gl)!=null&&l.xr&&i.xr.disconnect(),Nle(i),dh.delete(t),e&&e(t)}catch{}},500)})}}z1.injectIntoDevTools({bundleType:0,rendererPackageName:"@react-three/fiber",version:F.version});const hM={onClick:["click",!1],onContextMenu:["contextmenu",!1],onDoubleClick:["dblclick",!1],onWheel:["wheel",!0],onPointerDown:["pointerdown",!0],onPointerUp:["pointerup",!0],onPointerLeave:["pointerleave",!0],onPointerMove:["pointermove",!0],onPointerCancel:["pointercancel",!0],onLostPointerCapture:["lostpointercapture",!0]};function Wle(t){const{handlePointer:e}=jle(t);return{priority:1,enabled:!0,compute(n,r,i){r.pointer.set(n.offsetX/r.size.width*2-1,-(n.offsetY/r.size.height)*2+1),r.raycaster.setFromCamera(r.pointer,r.camera)},connected:void 0,handlers:Object.keys(hM).reduce((n,r)=>({...n,[r]:e(r)}),{}),update:()=>{var n;const{events:r,internal:i}=t.getState();(n=i.lastEvent)!=null&&n.current&&r.handlers&&r.handlers.onPointerMove(i.lastEvent.current)},connect:n=>{var r;const{set:i,events:s}=t.getState();s.disconnect==null||s.disconnect(),i(a=>({events:{...a.events,connected:n}})),Object.entries((r=s.handlers)!=null?r:[]).forEach(([a,o])=>{const[l,c]=hM[a];n.addEventListener(l,o,{passive:c})})},disconnect:()=>{const{set:n,events:r}=t.getState();if(r.connected){var i;Object.entries((i=r.handlers)!=null?i:[]).forEach(([s,a])=>{if(r&&r.connected instanceof HTMLElement){const[o]=hM[s];r.connected.removeEventListener(o,a)}}),n(s=>({events:{...s.events,connected:void 0}}))}}}}function Fk(t,e){let n;return(...r)=>{window.clearTimeout(n),n=window.setTimeout(()=>t(...r),e)}}function Gle({debounce:t,scroll:e,polyfill:n,offsetSize:r}={debounce:0,scroll:!1,offsetSize:!1}){const i=n||(typeof window>"u"?class{}:window.ResizeObserver);if(!i)throw new Error("This browser does not support ResizeObserver out of the box. See: https://github.com/react-spring/react-use-measure/#resize-observer-polyfills");const[s,a]=F.useState({left:0,top:0,width:0,height:0,bottom:0,right:0,x:0,y:0}),o=F.useRef({element:null,scrollContainers:null,resizeObserver:null,lastBounds:s,orientationHandler:null}),l=t?typeof t=="number"?t:t.scroll:null,c=t?typeof t=="number"?t:t.resize:null,u=F.useRef(!1);F.useEffect(()=>(u.current=!0,()=>void(u.current=!1)));const[f,d,p]=F.useMemo(()=>{const y=()=>{if(!o.current.element)return;const{left:w,top:_,width:S,height:M,bottom:E,right:A,x:C,y:P}=o.current.element.getBoundingClientRect(),R={left:w,top:_,width:S,height:M,bottom:E,right:A,x:C,y:P};o.current.element instanceof HTMLElement&&r&&(R.height=o.current.element.offsetHeight,R.width=o.current.element.offsetWidth),Object.freeze(R),u.current&&!Kle(o.current.lastBounds,R)&&a(o.current.lastBounds=R)};return[y,c?Fk(y,c):y,l?Fk(y,l):y]},[a,r,l,c]);function v(){o.current.scrollContainers&&(o.current.scrollContainers.forEach(y=>y.removeEventListener("scroll",p,!0)),o.current.scrollContainers=null),o.current.resizeObserver&&(o.current.resizeObserver.disconnect(),o.current.resizeObserver=null),o.current.orientationHandler&&("orientation"in screen&&"removeEventListener"in screen.orientation?screen.orientation.removeEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.removeEventListener("orientationchange",o.current.orientationHandler))}function b(){o.current.element&&(o.current.resizeObserver=new i(p),o.current.resizeObserver.observe(o.current.element),e&&o.current.scrollContainers&&o.current.scrollContainers.forEach(y=>y.addEventListener("scroll",p,{capture:!0,passive:!0})),o.current.orientationHandler=()=>{p()},"orientation"in screen&&"addEventListener"in screen.orientation?screen.orientation.addEventListener("change",o.current.orientationHandler):"onorientationchange"in window&&window.addEventListener("orientationchange",o.current.orientationHandler))}const x=y=>{!y||y===o.current.element||(v(),o.current.element=y,o.current.scrollContainers=zH(y),b())};return qle(p,!!e),Xle(d),F.useEffect(()=>{v(),b()},[e,p,d]),F.useEffect(()=>v,[]),[x,s,f]}function Xle(t){F.useEffect(()=>{const e=t;return window.addEventListener("resize",e),()=>void window.removeEventListener("resize",e)},[t])}function qle(t,e){F.useEffect(()=>{if(e){const n=t;return window.addEventListener("scroll",n,{capture:!0,passive:!0}),()=>void window.removeEventListener("scroll",n,!0)}},[t,e])}function zH(t){const e=[];if(!t||t===document.body)return e;const{overflow:n,overflowX:r,overflowY:i}=window.getComputedStyle(t);return[n,r,i].some(s=>s==="auto"||s==="scroll")&&e.push(t),[...e,...zH(t.parentElement)]}const Yle=["x","y","top","bottom","left","right","width","height"],Kle=(t,e)=>Yle.every(n=>t[n]===e[n]);var Zle=Object.defineProperty,Jle=Object.defineProperties,Qle=Object.getOwnPropertyDescriptors,Bk=Object.getOwnPropertySymbols,ece=Object.prototype.hasOwnProperty,tce=Object.prototype.propertyIsEnumerable,zk=(t,e,n)=>e in t?Zle(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,Vk=(t,e)=>{for(var n in e||(e={}))ece.call(e,n)&&zk(t,n,e[n]);if(Bk)for(var n of Bk(e))tce.call(e,n)&&zk(t,n,e[n]);return t},nce=(t,e)=>Jle(t,Qle(e)),Hk,$k;typeof window<"u"&&((Hk=window.document)!=null&&Hk.createElement||(($k=window.navigator)==null?void 0:$k.product)==="ReactNative")?F.useLayoutEffect:F.useEffect;function VH(t,e,n){if(!t)return;if(n(t)===!0)return t;let r=e?t.return:t.child;for(;r;){const i=VH(r,e,n);if(i)return i;r=e?null:r.sibling}}function HH(t){try{return Object.defineProperties(t,{_currentRenderer:{get(){return null},set(){}},_currentRenderer2:{get(){return null},set(){}}})}catch{return t}}const Wk=console.error;console.error=function(){const t=[...arguments].join("");if(t!=null&&t.startsWith("Warning:")&&t.includes("useContext")){console.error=Wk;return}return Wk.apply(this,arguments)};const GN=HH(F.createContext(null));class $H extends F.Component{render(){return F.createElement(GN.Provider,{value:this._reactInternals},this.props.children)}}function rce(){const t=F.useContext(GN);if(t===null)throw new Error("its-fine: useFiber must be called within a <FiberProvider />!");const e=F.useId();return F.useMemo(()=>{for(const r of[t,t==null?void 0:t.alternate]){if(!r)continue;const i=VH(r,!1,s=>{let a=s.memoizedState;for(;a;){if(a.memoizedState===e)return!0;a=a.next}});if(i)return i}},[t,e])}function ice(){const t=rce(),[e]=F.useState(()=>new Map);e.clear();let n=t;for(;n;){if(n.type&&typeof n.type=="object"){const i=n.type._context===void 0&&n.type.Provider===n.type?n.type:n.type._context;i&&i!==GN&&!e.has(i)&&e.set(i,F.useContext(HH(i)))}n=n.return}return e}function sce(){const t=ice();return F.useMemo(()=>Array.from(t.keys()).reduce((e,n)=>r=>F.createElement(e,null,F.createElement(n.Provider,nce(Vk({},r),{value:t.get(n)}))),e=>F.createElement($H,Vk({},e))),[t])}const ace=F.forwardRef(function({children:e,fallback:n,resize:r,style:i,gl:s,events:a=Wle,eventSource:o,eventPrefix:l,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:v,dpr:b,performance:x,raycaster:y,camera:w,scene:_,onPointerMissed:S,onCreated:M,...E},A){F.useMemo(()=>Ele(ple),[]);const C=sce(),[P,R]=Gle({scroll:!0,debounce:{scroll:50,resize:0},...r}),L=F.useRef(null),O=F.useRef(null);F.useImperativeHandle(A,()=>L.current);const D=RH(S),[I,z]=F.useState(!1),[$,q]=F.useState(!1);if(I)throw I;if($)throw $;const V=F.useRef(null);H0(()=>{const W=L.current;R.width>0&&R.height>0&&W&&(V.current||(V.current=Hle(W)),V.current.configure({gl:s,events:a,shadows:c,linear:u,flat:f,legacy:d,orthographic:p,frameloop:v,dpr:b,performance:x,raycaster:y,camera:w,scene:_,size:R,onPointerMissed:(...k)=>D.current==null?void 0:D.current(...k),onCreated:k=>{k.events.connect==null||k.events.connect(o?Ale(o)?o.current:o:O.current),l&&k.setEvents({compute:(H,K)=>{const ne=H[l+"X"],te=H[l+"Y"];K.pointer.set(ne/K.size.width*2-1,-(te/K.size.height)*2+1),K.raycaster.setFromCamera(K.pointer,K.camera)}}),M==null||M(k)}}),V.current.render(h.jsx(C,{children:h.jsx(OH,{set:q,children:h.jsx(F.Suspense,{fallback:h.jsx(Ple,{set:z}),children:e??null})})})))}),F.useEffect(()=>{const W=L.current;if(W)return()=>BH(W)},[]);const U=o?"none":"auto";return h.jsx("div",{ref:O,style:{position:"relative",width:"100%",height:"100%",overflow:"hidden",pointerEvents:U,...i},...E,children:h.jsx("div",{ref:P,style:{width:"100%",height:"100%"},children:h.jsx("canvas",{ref:L,style:{display:"block"},children:n})})})}),XN=F.forwardRef(function(e,n){return h.jsx($H,{children:h.jsx(ace,{...e,ref:n})})});function Ug(){return Ug=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)({}).hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ug.apply(null,arguments)}var oce=Object.defineProperty,lce=(t,e,n)=>e in t?oce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,cce=(t,e,n)=>(lce(t,typeof e!="symbol"?e+"":e,n),n);class uce{constructor(){cce(this,"_listeners")}addEventListener(e,n){this._listeners===void 0&&(this._listeners={});const r=this._listeners;r[e]===void 0&&(r[e]=[]),r[e].indexOf(n)===-1&&r[e].push(n)}hasEventListener(e,n){if(this._listeners===void 0)return!1;const r=this._listeners;return r[e]!==void 0&&r[e].indexOf(n)!==-1}removeEventListener(e,n){if(this._listeners===void 0)return;const i=this._listeners[e];if(i!==void 0){const s=i.indexOf(n);s!==-1&&i.splice(s,1)}}dispatchEvent(e){if(this._listeners===void 0)return;const r=this._listeners[e.type];if(r!==void 0){e.target=this;const i=r.slice(0);for(let s=0,a=i.length;s<a;s++)i[s].call(this,e);e.target=null}}}var fce=Object.defineProperty,dce=(t,e,n)=>e in t?fce(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,_t=(t,e,n)=>(dce(t,typeof e!="symbol"?e+"":e,n),n);const ax=new uf,Gk=new Bo,hce=Math.cos(70*(Math.PI/180)),Xk=(t,e)=>(t%e+e)%e;let pce=class extends uce{constructor(e,n){super(),_t(this,"object"),_t(this,"domElement"),_t(this,"enabled",!0),_t(this,"target",new Z),_t(this,"minDistance",0),_t(this,"maxDistance",1/0),_t(this,"minZoom",0),_t(this,"maxZoom",1/0),_t(this,"minPolarAngle",0),_t(this,"maxPolarAngle",Math.PI),_t(this,"minAzimuthAngle",-1/0),_t(this,"maxAzimuthAngle",1/0),_t(this,"enableDamping",!1),_t(this,"dampingFactor",.05),_t(this,"enableZoom",!0),_t(this,"zoomSpeed",1),_t(this,"enableRotate",!0),_t(this,"rotateSpeed",1),_t(this,"enablePan",!0),_t(this,"panSpeed",1),_t(this,"screenSpacePanning",!0),_t(this,"keyPanSpeed",7),_t(this,"zoomToCursor",!1),_t(this,"autoRotate",!1),_t(this,"autoRotateSpeed",2),_t(this,"reverseOrbit",!1),_t(this,"reverseHorizontalOrbit",!1),_t(this,"reverseVerticalOrbit",!1),_t(this,"keys",{LEFT:"ArrowLeft",UP:"ArrowUp",RIGHT:"ArrowRight",BOTTOM:"ArrowDown"}),_t(this,"mouseButtons",{LEFT:Qa.ROTATE,MIDDLE:Qa.DOLLY,RIGHT:Qa.PAN}),_t(this,"touches",{ONE:Fo.ROTATE,TWO:Fo.DOLLY_PAN}),_t(this,"target0"),_t(this,"position0"),_t(this,"zoom0"),_t(this,"_domElementKeyEvents",null),_t(this,"getPolarAngle"),_t(this,"getAzimuthalAngle"),_t(this,"setPolarAngle"),_t(this,"setAzimuthalAngle"),_t(this,"getDistance"),_t(this,"getZoomScale"),_t(this,"listenToKeyEvents"),_t(this,"stopListenToKeyEvents"),_t(this,"saveState"),_t(this,"reset"),_t(this,"update"),_t(this,"connect"),_t(this,"dispose"),_t(this,"dollyIn"),_t(this,"dollyOut"),_t(this,"getScale"),_t(this,"setScale"),this.object=e,this.domElement=n,this.target0=this.target.clone(),this.position0=this.object.position.clone(),this.zoom0=this.object.zoom,this.getPolarAngle=()=>u.phi,this.getAzimuthalAngle=()=>u.theta,this.setPolarAngle=re=>{let we=Xk(re,2*Math.PI),Ve=u.phi;Ve<0&&(Ve+=2*Math.PI),we<0&&(we+=2*Math.PI);let J=Math.abs(we-Ve);2*Math.PI-J<J&&(we<Ve?we+=2*Math.PI:Ve+=2*Math.PI),f.phi=we-Ve,r.update()},this.setAzimuthalAngle=re=>{let we=Xk(re,2*Math.PI),Ve=u.theta;Ve<0&&(Ve+=2*Math.PI),we<0&&(we+=2*Math.PI);let J=Math.abs(we-Ve);2*Math.PI-J<J&&(we<Ve?we+=2*Math.PI:Ve+=2*Math.PI),f.theta=we-Ve,r.update()},this.getDistance=()=>r.object.position.distanceTo(r.target),this.listenToKeyEvents=re=>{re.addEventListener("keydown",Ee),this._domElementKeyEvents=re},this.stopListenToKeyEvents=()=>{this._domElementKeyEvents.removeEventListener("keydown",Ee),this._domElementKeyEvents=null},this.saveState=()=>{r.target0.copy(r.target),r.position0.copy(r.object.position),r.zoom0=r.object.zoom},this.reset=()=>{r.target.copy(r.target0),r.object.position.copy(r.position0),r.object.zoom=r.zoom0,r.object.updateProjectionMatrix(),r.dispatchEvent(i),r.update(),l=o.NONE},this.update=(()=>{const re=new Z,we=new Z(0,1,0),Ve=new _i().setFromUnitVectors(e.up,we),J=Ve.clone().invert(),Me=new Z,ke=new _i,Je=2*Math.PI;return function(){const Te=r.object.position;Ve.setFromUnitVectors(e.up,we),J.copy(Ve).invert(),re.copy(Te).sub(r.target),re.applyQuaternion(Ve),u.setFromVector3(re),r.autoRotate&&l===o.NONE&&I(O()),r.enableDamping?(u.theta+=f.theta*r.dampingFactor,u.phi+=f.phi*r.dampingFactor):(u.theta+=f.theta,u.phi+=f.phi);let Ke=r.minAzimuthAngle,nt=r.maxAzimuthAngle;isFinite(Ke)&&isFinite(nt)&&(Ke<-Math.PI?Ke+=Je:Ke>Math.PI&&(Ke-=Je),nt<-Math.PI?nt+=Je:nt>Math.PI&&(nt-=Je),Ke<=nt?u.theta=Math.max(Ke,Math.min(nt,u.theta)):u.theta=u.theta>(Ke+nt)/2?Math.max(Ke,u.theta):Math.min(nt,u.theta)),u.phi=Math.max(r.minPolarAngle,Math.min(r.maxPolarAngle,u.phi)),u.makeSafe(),r.enableDamping===!0?r.target.addScaledVector(p,r.dampingFactor):r.target.add(p),r.zoomToCursor&&P||r.object.isOrthographicCamera?u.radius=K(u.radius):u.radius=K(u.radius*d),re.setFromSpherical(u),re.applyQuaternion(J),Te.copy(r.target).add(re),r.object.matrixAutoUpdate||r.object.updateMatrix(),r.object.lookAt(r.target),r.enableDamping===!0?(f.theta*=1-r.dampingFactor,f.phi*=1-r.dampingFactor,p.multiplyScalar(1-r.dampingFactor)):(f.set(0,0,0),p.set(0,0,0));let lt=!1;if(r.zoomToCursor&&P){let ht=null;if(r.object instanceof or&&r.object.isPerspectiveCamera){const qt=re.length();ht=K(qt*d);const Bt=qt-ht;r.object.position.addScaledVector(A,Bt),r.object.updateMatrixWorld()}else if(r.object.isOrthographicCamera){const qt=new Z(C.x,C.y,0);qt.unproject(r.object),r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix(),lt=!0;const Bt=new Z(C.x,C.y,0);Bt.unproject(r.object),r.object.position.sub(Bt).add(qt),r.object.updateMatrixWorld(),ht=re.length()}else console.warn("WARNING: OrbitControls.js encountered an unknown camera type - zoom to cursor disabled."),r.zoomToCursor=!1;ht!==null&&(r.screenSpacePanning?r.target.set(0,0,-1).transformDirection(r.object.matrix).multiplyScalar(ht).add(r.object.position):(ax.origin.copy(r.object.position),ax.direction.set(0,0,-1).transformDirection(r.object.matrix),Math.abs(r.object.up.dot(ax.direction))<hce?e.lookAt(r.target):(Gk.setFromNormalAndCoplanarPoint(r.object.up,r.target),ax.intersectPlane(Gk,r.target))))}else r.object instanceof cc&&r.object.isOrthographicCamera&&(lt=d!==1,lt&&(r.object.zoom=Math.max(r.minZoom,Math.min(r.maxZoom,r.object.zoom/d)),r.object.updateProjectionMatrix()));return d=1,P=!1,lt||Me.distanceToSquared(r.object.position)>c||8*(1-ke.dot(r.object.quaternion))>c?(r.dispatchEvent(i),Me.copy(r.object.position),ke.copy(r.object.quaternion),lt=!1,!0):!1}})(),this.connect=re=>{r.domElement=re,r.domElement.style.touchAction="none",r.domElement.addEventListener("contextmenu",$e),r.domElement.addEventListener("pointerdown",Ye),r.domElement.addEventListener("pointercancel",X),r.domElement.addEventListener("wheel",ye)},this.dispose=()=>{var re,we,Ve,J,Me,ke;r.domElement&&(r.domElement.style.touchAction="auto"),(re=r.domElement)==null||re.removeEventListener("contextmenu",$e),(we=r.domElement)==null||we.removeEventListener("pointerdown",Ye),(Ve=r.domElement)==null||Ve.removeEventListener("pointercancel",X),(J=r.domElement)==null||J.removeEventListener("wheel",ye),(Me=r.domElement)==null||Me.ownerDocument.removeEventListener("pointermove",Y),(ke=r.domElement)==null||ke.ownerDocument.removeEventListener("pointerup",X),r._domElementKeyEvents!==null&&r._domElementKeyEvents.removeEventListener("keydown",Ee)};const r=this,i={type:"change"},s={type:"start"},a={type:"end"},o={NONE:-1,ROTATE:0,DOLLY:1,PAN:2,TOUCH_ROTATE:3,TOUCH_PAN:4,TOUCH_DOLLY_PAN:5,TOUCH_DOLLY_ROTATE:6};let l=o.NONE;const c=1e-6,u=new YT,f=new YT;let d=1;const p=new Z,v=new De,b=new De,x=new De,y=new De,w=new De,_=new De,S=new De,M=new De,E=new De,A=new Z,C=new De;let P=!1;const R=[],L={};function O(){return 2*Math.PI/60/60*r.autoRotateSpeed}function D(){return Math.pow(.95,r.zoomSpeed)}function I(re){r.reverseOrbit||r.reverseHorizontalOrbit?f.theta+=re:f.theta-=re}function z(re){r.reverseOrbit||r.reverseVerticalOrbit?f.phi+=re:f.phi-=re}const $=(()=>{const re=new Z;return function(Ve,J){re.setFromMatrixColumn(J,0),re.multiplyScalar(-Ve),p.add(re)}})(),q=(()=>{const re=new Z;return function(Ve,J){r.screenSpacePanning===!0?re.setFromMatrixColumn(J,1):(re.setFromMatrixColumn(J,0),re.crossVectors(r.object.up,re)),re.multiplyScalar(Ve),p.add(re)}})(),V=(()=>{const re=new Z;return function(Ve,J){const Me=r.domElement;if(Me&&r.object instanceof or&&r.object.isPerspectiveCamera){const ke=r.object.position;re.copy(ke).sub(r.target);let Je=re.length();Je*=Math.tan(r.object.fov/2*Math.PI/180),$(2*Ve*Je/Me.clientHeight,r.object.matrix),q(2*J*Je/Me.clientHeight,r.object.matrix)}else Me&&r.object instanceof cc&&r.object.isOrthographicCamera?($(Ve*(r.object.right-r.object.left)/r.object.zoom/Me.clientWidth,r.object.matrix),q(J*(r.object.top-r.object.bottom)/r.object.zoom/Me.clientHeight,r.object.matrix)):(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - pan disabled."),r.enablePan=!1)}})();function U(re){r.object instanceof or&&r.object.isPerspectiveCamera||r.object instanceof cc&&r.object.isOrthographicCamera?d=re:(console.warn("WARNING: OrbitControls.js encountered an unknown camera type - dolly/zoom disabled."),r.enableZoom=!1)}function W(re){U(d/re)}function k(re){U(d*re)}function H(re){if(!r.zoomToCursor||!r.domElement)return;P=!0;const we=r.domElement.getBoundingClientRect(),Ve=re.clientX-we.left,J=re.clientY-we.top,Me=we.width,ke=we.height;C.x=Ve/Me*2-1,C.y=-(J/ke)*2+1,A.set(C.x,C.y,1).unproject(r.object).sub(r.object.position).normalize()}function K(re){return Math.max(r.minDistance,Math.min(r.maxDistance,re))}function ne(re){v.set(re.clientX,re.clientY)}function te(re){H(re),S.set(re.clientX,re.clientY)}function ae(re){y.set(re.clientX,re.clientY)}function oe(re){b.set(re.clientX,re.clientY),x.subVectors(b,v).multiplyScalar(r.rotateSpeed);const we=r.domElement;we&&(I(2*Math.PI*x.x/we.clientHeight),z(2*Math.PI*x.y/we.clientHeight)),v.copy(b),r.update()}function he(re){M.set(re.clientX,re.clientY),E.subVectors(M,S),E.y>0?W(D()):E.y<0&&k(D()),S.copy(M),r.update()}function fe(re){w.set(re.clientX,re.clientY),_.subVectors(w,y).multiplyScalar(r.panSpeed),V(_.x,_.y),y.copy(w),r.update()}function Ce(re){H(re),re.deltaY<0?k(D()):re.deltaY>0&&W(D()),r.update()}function le(re){let we=!1;switch(re.code){case r.keys.UP:V(0,r.keyPanSpeed),we=!0;break;case r.keys.BOTTOM:V(0,-r.keyPanSpeed),we=!0;break;case r.keys.LEFT:V(r.keyPanSpeed,0),we=!0;break;case r.keys.RIGHT:V(-r.keyPanSpeed,0),we=!0;break}we&&(re.preventDefault(),r.update())}function G(){if(R.length==1)v.set(R[0].pageX,R[0].pageY);else{const re=.5*(R[0].pageX+R[1].pageX),we=.5*(R[0].pageY+R[1].pageY);v.set(re,we)}}function me(){if(R.length==1)y.set(R[0].pageX,R[0].pageY);else{const re=.5*(R[0].pageX+R[1].pageX),we=.5*(R[0].pageY+R[1].pageY);y.set(re,we)}}function se(){const re=R[0].pageX-R[1].pageX,we=R[0].pageY-R[1].pageY,Ve=Math.sqrt(re*re+we*we);S.set(0,Ve)}function xe(){r.enableZoom&&se(),r.enablePan&&me()}function pe(){r.enableZoom&&se(),r.enableRotate&&G()}function ze(re){if(R.length==1)b.set(re.pageX,re.pageY);else{const Ve=Xe(re),J=.5*(re.pageX+Ve.x),Me=.5*(re.pageY+Ve.y);b.set(J,Me)}x.subVectors(b,v).multiplyScalar(r.rotateSpeed);const we=r.domElement;we&&(I(2*Math.PI*x.x/we.clientHeight),z(2*Math.PI*x.y/we.clientHeight)),v.copy(b)}function ve(re){if(R.length==1)w.set(re.pageX,re.pageY);else{const we=Xe(re),Ve=.5*(re.pageX+we.x),J=.5*(re.pageY+we.y);w.set(Ve,J)}_.subVectors(w,y).multiplyScalar(r.panSpeed),V(_.x,_.y),y.copy(w)}function Re(re){const we=Xe(re),Ve=re.pageX-we.x,J=re.pageY-we.y,Me=Math.sqrt(Ve*Ve+J*J);M.set(0,Me),E.set(0,Math.pow(M.y/S.y,r.zoomSpeed)),W(E.y),S.copy(M)}function Be(re){r.enableZoom&&Re(re),r.enablePan&&ve(re)}function ge(re){r.enableZoom&&Re(re),r.enableRotate&&ze(re)}function Ye(re){var we,Ve;r.enabled!==!1&&(R.length===0&&((we=r.domElement)==null||we.ownerDocument.addEventListener("pointermove",Y),(Ve=r.domElement)==null||Ve.ownerDocument.addEventListener("pointerup",X)),et(re),re.pointerType==="touch"?He(re):ie(re))}function Y(re){r.enabled!==!1&&(re.pointerType==="touch"?Ue(re):Fe(re))}function X(re){var we,Ve,J;tt(re),R.length===0&&((we=r.domElement)==null||we.releasePointerCapture(re.pointerId),(Ve=r.domElement)==null||Ve.ownerDocument.removeEventListener("pointermove",Y),(J=r.domElement)==null||J.ownerDocument.removeEventListener("pointerup",X)),r.dispatchEvent(a),l=o.NONE}function ie(re){let we;switch(re.button){case 0:we=r.mouseButtons.LEFT;break;case 1:we=r.mouseButtons.MIDDLE;break;case 2:we=r.mouseButtons.RIGHT;break;default:we=-1}switch(we){case Qa.DOLLY:if(r.enableZoom===!1)return;te(re),l=o.DOLLY;break;case Qa.ROTATE:if(re.ctrlKey||re.metaKey||re.shiftKey){if(r.enablePan===!1)return;ae(re),l=o.PAN}else{if(r.enableRotate===!1)return;ne(re),l=o.ROTATE}break;case Qa.PAN:if(re.ctrlKey||re.metaKey||re.shiftKey){if(r.enableRotate===!1)return;ne(re),l=o.ROTATE}else{if(r.enablePan===!1)return;ae(re),l=o.PAN}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function Fe(re){if(r.enabled!==!1)switch(l){case o.ROTATE:if(r.enableRotate===!1)return;oe(re);break;case o.DOLLY:if(r.enableZoom===!1)return;he(re);break;case o.PAN:if(r.enablePan===!1)return;fe(re);break}}function ye(re){r.enabled===!1||r.enableZoom===!1||l!==o.NONE&&l!==o.ROTATE||(re.preventDefault(),r.dispatchEvent(s),Ce(re),r.dispatchEvent(a))}function Ee(re){r.enabled===!1||r.enablePan===!1||le(re)}function He(re){switch(Ne(re),R.length){case 1:switch(r.touches.ONE){case Fo.ROTATE:if(r.enableRotate===!1)return;G(),l=o.TOUCH_ROTATE;break;case Fo.PAN:if(r.enablePan===!1)return;me(),l=o.TOUCH_PAN;break;default:l=o.NONE}break;case 2:switch(r.touches.TWO){case Fo.DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;xe(),l=o.TOUCH_DOLLY_PAN;break;case Fo.DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;pe(),l=o.TOUCH_DOLLY_ROTATE;break;default:l=o.NONE}break;default:l=o.NONE}l!==o.NONE&&r.dispatchEvent(s)}function Ue(re){switch(Ne(re),l){case o.TOUCH_ROTATE:if(r.enableRotate===!1)return;ze(re),r.update();break;case o.TOUCH_PAN:if(r.enablePan===!1)return;ve(re),r.update();break;case o.TOUCH_DOLLY_PAN:if(r.enableZoom===!1&&r.enablePan===!1)return;Be(re),r.update();break;case o.TOUCH_DOLLY_ROTATE:if(r.enableZoom===!1&&r.enableRotate===!1)return;ge(re),r.update();break;default:l=o.NONE}}function $e(re){r.enabled!==!1&&re.preventDefault()}function et(re){R.push(re)}function tt(re){delete L[re.pointerId];for(let we=0;we<R.length;we++)if(R[we].pointerId==re.pointerId){R.splice(we,1);return}}function Ne(re){let we=L[re.pointerId];we===void 0&&(we=new De,L[re.pointerId]=we),we.set(re.pageX,re.pageY)}function Xe(re){const we=re.pointerId===R[0].pointerId?R[1]:R[0];return L[we.pointerId]}this.dollyIn=(re=D())=>{k(re),r.update()},this.dollyOut=(re=D())=>{W(re),r.update()},this.getScale=()=>d,this.setScale=re=>{U(re),r.update()},this.getZoomScale=()=>D(),n!==void 0&&this.connect(n),this.update()}};function mce(){var t=Object.create(null);function e(i,s){var a=i.id,o=i.name,l=i.dependencies;l===void 0&&(l=[]);var c=i.init;c===void 0&&(c=function(){});var u=i.getTransferables;if(u===void 0&&(u=null),!t[a])try{l=l.map(function(d){return d&&d.isWorkerModule&&(e(d,function(p){if(p instanceof Error)throw p}),d=t[d.id].value),d}),c=r("<"+o+">.init",c),u&&(u=r("<"+o+">.getTransferables",u));var f=null;typeof c=="function"?f=c.apply(void 0,l):console.error("worker module init function failed to rehydrate"),t[a]={id:a,value:f,getTransferables:u},s(f)}catch(d){d&&d.noLog||console.error(d),s(d)}}function n(i,s){var a,o=i.id,l=i.args;(!t[o]||typeof t[o].value!="function")&&s(new Error("Worker module "+o+": not found or its 'init' did not return a function"));try{var c=(a=t[o]).value.apply(a,l);c&&typeof c.then=="function"?c.then(u,function(f){return s(f instanceof Error?f:new Error(""+f))}):u(c)}catch(f){s(f)}function u(f){try{var d=t[o].getTransferables&&t[o].getTransferables(f);(!d||!Array.isArray(d)||!d.length)&&(d=void 0),s(f,d)}catch(p){console.error(p),s(p)}}}function r(i,s){var a=void 0;self.troikaDefine=function(l){return a=l};var o=URL.createObjectURL(new Blob(["/** "+i.replace(/\*/g,"")+` **/

troikaDefine(
`+s+`
)`],{type:"application/javascript"}));try{importScripts(o)}catch(l){console.error(l)}return URL.revokeObjectURL(o),delete self.troikaDefine,a}self.addEventListener("message",function(i){var s=i.data,a=s.messageId,o=s.action,l=s.data;try{o==="registerModule"&&e(l,function(c){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:{isCallable:typeof c=="function"}})}),o==="callModule"&&n(l,function(c,u){c instanceof Error?postMessage({messageId:a,success:!1,error:c.message}):postMessage({messageId:a,success:!0,result:c},u||void 0)})}catch(c){postMessage({messageId:a,success:!1,error:c.stack})}})}function gce(t){var e=function(){for(var n=[],r=arguments.length;r--;)n[r]=arguments[r];return e._getInitResult().then(function(i){if(typeof i=="function")return i.apply(void 0,n);throw new Error("Worker module function was called but `init` did not return a callable function")})};return e._getInitResult=function(){var n=t.dependencies,r=t.init;n=Array.isArray(n)?n.map(function(s){return s&&(s=s.onMainThread||s,s._getInitResult&&(s=s._getInitResult())),s}):[];var i=Promise.all(n).then(function(s){return r.apply(null,s)});return e._getInitResult=function(){return i},i},e}var WH=function(){var t=!1;if(typeof window<"u"&&typeof window.document<"u")try{var e=new Worker(URL.createObjectURL(new Blob([""],{type:"application/javascript"})));e.terminate(),t=!0}catch(n){typeof process<"u",console.log("Troika createWorkerModule: web workers not allowed; falling back to main thread execution. Cause: ["+n.message+"]")}return WH=function(){return t},t},vce=0,yce=0,pM=!1,zm=Object.create(null),Vm=Object.create(null),QT=Object.create(null);function Xh(t){if((!t||typeof t.init!="function")&&!pM)throw new Error("requires `options.init` function");var e=t.dependencies,n=t.init,r=t.getTransferables,i=t.workerId,s=gce(t);i==null&&(i="#default");var a="workerModule"+ ++vce,o=t.name||a,l=null;e=e&&e.map(function(u){return typeof u=="function"&&!u.workerModuleData&&(pM=!0,u=Xh({workerId:i,name:"<"+o+"> function dependency: "+u.name,init:`function(){return (
`+Xx(u)+`
)}`}),pM=!1),u&&u.workerModuleData&&(u=u.workerModuleData),u});function c(){for(var u=[],f=arguments.length;f--;)u[f]=arguments[f];if(!WH())return s.apply(void 0,u);if(!l){l=qk(i,"registerModule",c.workerModuleData);var d=function(){l=null,Vm[i].delete(d)};(Vm[i]||(Vm[i]=new Set)).add(d)}return l.then(function(p){var v=p.isCallable;if(v)return qk(i,"callModule",{id:a,args:u});throw new Error("Worker module function was called but `init` did not return a callable function")})}return c.workerModuleData={isWorkerModule:!0,id:a,name:o,dependencies:e,init:Xx(n),getTransferables:r&&Xx(r)},c.onMainThread=s,c}function xce(t){Vm[t]&&Vm[t].forEach(function(e){e()}),zm[t]&&(zm[t].terminate(),delete zm[t])}function Xx(t){var e=t.toString();return!/^function/.test(e)&&/^\w+\s*\(/.test(e)&&(e="function "+e),e}function bce(t){var e=zm[t];if(!e){var n=Xx(mce);e=zm[t]=new Worker(URL.createObjectURL(new Blob(["/** Worker Module Bootstrap: "+t.replace(/\*/g,"")+` **/

;(`+n+")()"],{type:"application/javascript"}))),e.onmessage=function(r){var i=r.data,s=i.messageId,a=QT[s];if(!a)throw new Error("WorkerModule response with empty or unknown messageId");delete QT[s],a(i)}}return e}function qk(t,e,n){return new Promise(function(r,i){var s=++yce;QT[s]=function(a){a.success?r(a.result):i(new Error("Error in worker "+e+" call: "+a.error))},bce(t).postMessage({messageId:s,action:e,data:n})})}function GH(){var t=function(e){function n(U,W,k,H,K,ne,te,ae){var oe=1-te;ae.x=oe*oe*U+2*oe*te*k+te*te*K,ae.y=oe*oe*W+2*oe*te*H+te*te*ne}function r(U,W,k,H,K,ne,te,ae,oe,he){var fe=1-oe;he.x=fe*fe*fe*U+3*fe*fe*oe*k+3*fe*oe*oe*K+oe*oe*oe*te,he.y=fe*fe*fe*W+3*fe*fe*oe*H+3*fe*oe*oe*ne+oe*oe*oe*ae}function i(U,W){for(var k=/([MLQCZ])([^MLQCZ]*)/g,H,K,ne,te,ae;H=k.exec(U);){var oe=H[2].replace(/^\s*|\s*$/g,"").split(/[,\s]+/).map(function(he){return parseFloat(he)});switch(H[1]){case"M":te=K=oe[0],ae=ne=oe[1];break;case"L":(oe[0]!==te||oe[1]!==ae)&&W("L",te,ae,te=oe[0],ae=oe[1]);break;case"Q":{W("Q",te,ae,te=oe[2],ae=oe[3],oe[0],oe[1]);break}case"C":{W("C",te,ae,te=oe[4],ae=oe[5],oe[0],oe[1],oe[2],oe[3]);break}case"Z":(te!==K||ae!==ne)&&W("L",te,ae,K,ne);break}}}function s(U,W,k){k===void 0&&(k=16);var H={x:0,y:0};i(U,function(K,ne,te,ae,oe,he,fe,Ce,le){switch(K){case"L":W(ne,te,ae,oe);break;case"Q":{for(var G=ne,me=te,se=1;se<k;se++)n(ne,te,he,fe,ae,oe,se/(k-1),H),W(G,me,H.x,H.y),G=H.x,me=H.y;break}case"C":{for(var xe=ne,pe=te,ze=1;ze<k;ze++)r(ne,te,he,fe,Ce,le,ae,oe,ze/(k-1),H),W(xe,pe,H.x,H.y),xe=H.x,pe=H.y;break}}})}var a="precision highp float;attribute vec2 aUV;varying vec2 vUV;void main(){vUV=aUV;gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",o="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){gl_FragColor=texture2D(tex,vUV);}",l=new WeakMap,c={premultipliedAlpha:!1,preserveDrawingBuffer:!0,antialias:!1,depth:!1};function u(U,W){var k=U.getContext?U.getContext("webgl",c):U,H=l.get(k);if(!H){let xe=function(ge){var Ye=ne[ge];if(!Ye&&(Ye=ne[ge]=k.getExtension(ge),!Ye))throw new Error(ge+" not supported");return Ye},pe=function(ge,Ye){var Y=k.createShader(Ye);return k.shaderSource(Y,ge),k.compileShader(Y),Y},ze=function(ge,Ye,Y,X){if(!te[ge]){var ie={},Fe={},ye=k.createProgram();k.attachShader(ye,pe(Ye,k.VERTEX_SHADER)),k.attachShader(ye,pe(Y,k.FRAGMENT_SHADER)),k.linkProgram(ye),te[ge]={program:ye,transaction:function(He){k.useProgram(ye),He({setUniform:function($e,et){for(var tt=[],Ne=arguments.length-2;Ne-- >0;)tt[Ne]=arguments[Ne+2];var Xe=Fe[et]||(Fe[et]=k.getUniformLocation(ye,et));k["uniform"+$e].apply(k,[Xe].concat(tt))},setAttribute:function($e,et,tt,Ne,Xe){var re=ie[$e];re||(re=ie[$e]={buf:k.createBuffer(),loc:k.getAttribLocation(ye,$e),data:null}),k.bindBuffer(k.ARRAY_BUFFER,re.buf),k.vertexAttribPointer(re.loc,et,k.FLOAT,!1,0,0),k.enableVertexAttribArray(re.loc),K?k.vertexAttribDivisor(re.loc,Ne):xe("ANGLE_instanced_arrays").vertexAttribDivisorANGLE(re.loc,Ne),Xe!==re.data&&(k.bufferData(k.ARRAY_BUFFER,Xe,tt),re.data=Xe)}})}}}te[ge].transaction(X)},ve=function(ge,Ye){oe++;try{k.activeTexture(k.TEXTURE0+oe);var Y=ae[ge];Y||(Y=ae[ge]=k.createTexture(),k.bindTexture(k.TEXTURE_2D,Y),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MIN_FILTER,k.NEAREST),k.texParameteri(k.TEXTURE_2D,k.TEXTURE_MAG_FILTER,k.NEAREST)),k.bindTexture(k.TEXTURE_2D,Y),Ye(Y,oe)}finally{oe--}},Re=function(ge,Ye,Y){var X=k.createFramebuffer();he.push(X),k.bindFramebuffer(k.FRAMEBUFFER,X),k.activeTexture(k.TEXTURE0+Ye),k.bindTexture(k.TEXTURE_2D,ge),k.framebufferTexture2D(k.FRAMEBUFFER,k.COLOR_ATTACHMENT0,k.TEXTURE_2D,ge,0);try{Y(X)}finally{k.deleteFramebuffer(X),k.bindFramebuffer(k.FRAMEBUFFER,he[--he.length-1]||null)}},Be=function(){ne={},te={},ae={},oe=-1,he.length=0};var fe=xe,Ce=pe,le=ze,G=ve,me=Re,se=Be,K=typeof WebGL2RenderingContext<"u"&&k instanceof WebGL2RenderingContext,ne={},te={},ae={},oe=-1,he=[];k.canvas.addEventListener("webglcontextlost",function(ge){Be(),ge.preventDefault()},!1),l.set(k,H={gl:k,isWebGL2:K,getExtension:xe,withProgram:ze,withTexture:ve,withTextureFramebuffer:Re,handleContextLoss:Be})}W(H)}function f(U,W,k,H,K,ne,te,ae){te===void 0&&(te=15),ae===void 0&&(ae=null),u(U,function(oe){var he=oe.gl,fe=oe.withProgram,Ce=oe.withTexture;Ce("copy",function(le,G){he.texImage2D(he.TEXTURE_2D,0,he.RGBA,K,ne,0,he.RGBA,he.UNSIGNED_BYTE,W),fe("copy",a,o,function(me){var se=me.setUniform,xe=me.setAttribute;xe("aUV",2,he.STATIC_DRAW,0,new Float32Array([0,0,2,0,0,2])),se("1i","image",G),he.bindFramebuffer(he.FRAMEBUFFER,ae||null),he.disable(he.BLEND),he.colorMask(te&8,te&4,te&2,te&1),he.viewport(k,H,K,ne),he.scissor(k,H,K,ne),he.drawArrays(he.TRIANGLES,0,3)})})})}function d(U,W,k){var H=U.width,K=U.height;u(U,function(ne){var te=ne.gl,ae=new Uint8Array(H*K*4);te.readPixels(0,0,H,K,te.RGBA,te.UNSIGNED_BYTE,ae),U.width=W,U.height=k,f(te,ae,0,0,H,K)})}var p=Object.freeze({__proto__:null,withWebGLContext:u,renderImageData:f,resizeWebGLCanvasWithoutClearing:d});function v(U,W,k,H,K,ne){ne===void 0&&(ne=1);var te=new Uint8Array(U*W),ae=H[2]-H[0],oe=H[3]-H[1],he=[];s(k,function(xe,pe,ze,ve){he.push({x1:xe,y1:pe,x2:ze,y2:ve,minX:Math.min(xe,ze),minY:Math.min(pe,ve),maxX:Math.max(xe,ze),maxY:Math.max(pe,ve)})}),he.sort(function(xe,pe){return xe.maxX-pe.maxX});for(var fe=0;fe<U;fe++)for(var Ce=0;Ce<W;Ce++){var le=me(H[0]+ae*(fe+.5)/U,H[1]+oe*(Ce+.5)/W),G=Math.pow(1-Math.abs(le)/K,ne)/2;le<0&&(G=1-G),G=Math.max(0,Math.min(255,Math.round(G*255))),te[Ce*U+fe]=G}return te;function me(xe,pe){for(var ze=1/0,ve=1/0,Re=he.length;Re--;){var Be=he[Re];if(Be.maxX+ve<=xe)break;if(xe+ve>Be.minX&&pe-ve<Be.maxY&&pe+ve>Be.minY){var ge=y(xe,pe,Be.x1,Be.y1,Be.x2,Be.y2);ge<ze&&(ze=ge,ve=Math.sqrt(ze))}}return se(xe,pe)&&(ve=-ve),ve}function se(xe,pe){for(var ze=0,ve=he.length;ve--;){var Re=he[ve];if(Re.maxX<=xe)break;var Be=Re.y1>pe!=Re.y2>pe&&xe<(Re.x2-Re.x1)*(pe-Re.y1)/(Re.y2-Re.y1)+Re.x1;Be&&(ze+=Re.y1<Re.y2?1:-1)}return ze!==0}}function b(U,W,k,H,K,ne,te,ae,oe,he){ne===void 0&&(ne=1),ae===void 0&&(ae=0),oe===void 0&&(oe=0),he===void 0&&(he=0),x(U,W,k,H,K,ne,te,null,ae,oe,he)}function x(U,W,k,H,K,ne,te,ae,oe,he,fe){ne===void 0&&(ne=1),oe===void 0&&(oe=0),he===void 0&&(he=0),fe===void 0&&(fe=0);for(var Ce=v(U,W,k,H,K,ne),le=new Uint8Array(Ce.length*4),G=0;G<Ce.length;G++)le[G*4+fe]=Ce[G];f(te,le,oe,he,U,W,1<<3-fe,ae)}function y(U,W,k,H,K,ne){var te=K-k,ae=ne-H,oe=te*te+ae*ae,he=oe?Math.max(0,Math.min(1,((U-k)*te+(W-H)*ae)/oe)):0,fe=U-(k+he*te),Ce=W-(H+he*ae);return fe*fe+Ce*Ce}var w=Object.freeze({__proto__:null,generate:v,generateIntoCanvas:b,generateIntoFramebuffer:x}),_="precision highp float;uniform vec4 uGlyphBounds;attribute vec2 aUV;attribute vec4 aLineSegment;varying vec4 vLineSegment;varying vec2 vGlyphXY;void main(){vLineSegment=aLineSegment;vGlyphXY=mix(uGlyphBounds.xy,uGlyphBounds.zw,aUV);gl_Position=vec4(mix(vec2(-1.0),vec2(1.0),aUV),0.0,1.0);}",S="precision highp float;uniform vec4 uGlyphBounds;uniform float uMaxDistance;uniform float uExponent;varying vec4 vLineSegment;varying vec2 vGlyphXY;float absDistToSegment(vec2 point,vec2 lineA,vec2 lineB){vec2 lineDir=lineB-lineA;float lenSq=dot(lineDir,lineDir);float t=lenSq==0.0 ? 0.0 : clamp(dot(point-lineA,lineDir)/lenSq,0.0,1.0);vec2 linePt=lineA+t*lineDir;return distance(point,linePt);}void main(){vec4 seg=vLineSegment;vec2 p=vGlyphXY;float dist=absDistToSegment(p,seg.xy,seg.zw);float val=pow(1.0-clamp(dist/uMaxDistance,0.0,1.0),uExponent)*0.5;bool crossing=(seg.y>p.y!=seg.w>p.y)&&(p.x<(seg.z-seg.x)*(p.y-seg.y)/(seg.w-seg.y)+seg.x);bool crossingUp=crossing&&vLineSegment.y<vLineSegment.w;gl_FragColor=vec4(crossingUp ? 1.0/255.0 : 0.0,crossing&&!crossingUp ? 1.0/255.0 : 0.0,0.0,val);}",M="precision highp float;uniform sampler2D tex;varying vec2 vUV;void main(){vec4 color=texture2D(tex,vUV);bool inside=color.r!=color.g;float val=inside ? 1.0-color.a : color.a;gl_FragColor=vec4(val);}",E=new Float32Array([0,0,2,0,0,2]),A=null,C=!1,P={},R=new WeakMap;function L(U){if(!C&&!z(U))throw new Error("WebGL generation not supported")}function O(U,W,k,H,K,ne,te){if(ne===void 0&&(ne=1),te===void 0&&(te=null),!te&&(te=A,!te)){var ae=typeof OffscreenCanvas=="function"?new OffscreenCanvas(1,1):typeof document<"u"?document.createElement("canvas"):null;if(!ae)throw new Error("OffscreenCanvas or DOM canvas not supported");te=A=ae.getContext("webgl",{depth:!1})}L(te);var oe=new Uint8Array(U*W*4);u(te,function(le){var G=le.gl,me=le.withTexture,se=le.withTextureFramebuffer;me("readable",function(xe,pe){G.texImage2D(G.TEXTURE_2D,0,G.RGBA,U,W,0,G.RGBA,G.UNSIGNED_BYTE,null),se(xe,pe,function(ze){I(U,W,k,H,K,ne,G,ze,0,0,0),G.readPixels(0,0,U,W,G.RGBA,G.UNSIGNED_BYTE,oe)})})});for(var he=new Uint8Array(U*W),fe=0,Ce=0;fe<oe.length;fe+=4)he[Ce++]=oe[fe];return he}function D(U,W,k,H,K,ne,te,ae,oe,he){ne===void 0&&(ne=1),ae===void 0&&(ae=0),oe===void 0&&(oe=0),he===void 0&&(he=0),I(U,W,k,H,K,ne,te,null,ae,oe,he)}function I(U,W,k,H,K,ne,te,ae,oe,he,fe){ne===void 0&&(ne=1),oe===void 0&&(oe=0),he===void 0&&(he=0),fe===void 0&&(fe=0),L(te);var Ce=[];s(k,function(le,G,me,se){Ce.push(le,G,me,se)}),Ce=new Float32Array(Ce),u(te,function(le){var G=le.gl,me=le.isWebGL2,se=le.getExtension,xe=le.withProgram,pe=le.withTexture,ze=le.withTextureFramebuffer,ve=le.handleContextLoss;if(pe("rawDistances",function(Re,Be){(U!==Re._lastWidth||W!==Re._lastHeight)&&G.texImage2D(G.TEXTURE_2D,0,G.RGBA,Re._lastWidth=U,Re._lastHeight=W,0,G.RGBA,G.UNSIGNED_BYTE,null),xe("main",_,S,function(ge){var Ye=ge.setAttribute,Y=ge.setUniform,X=!me&&se("ANGLE_instanced_arrays"),ie=!me&&se("EXT_blend_minmax");Ye("aUV",2,G.STATIC_DRAW,0,E),Ye("aLineSegment",4,G.DYNAMIC_DRAW,1,Ce),Y.apply(void 0,["4f","uGlyphBounds"].concat(H)),Y("1f","uMaxDistance",K),Y("1f","uExponent",ne),ze(Re,Be,function(Fe){G.enable(G.BLEND),G.colorMask(!0,!0,!0,!0),G.viewport(0,0,U,W),G.scissor(0,0,U,W),G.blendFunc(G.ONE,G.ONE),G.blendEquationSeparate(G.FUNC_ADD,me?G.MAX:ie.MAX_EXT),G.clear(G.COLOR_BUFFER_BIT),me?G.drawArraysInstanced(G.TRIANGLES,0,3,Ce.length/4):X.drawArraysInstancedANGLE(G.TRIANGLES,0,3,Ce.length/4)})}),xe("post",a,M,function(ge){ge.setAttribute("aUV",2,G.STATIC_DRAW,0,E),ge.setUniform("1i","tex",Be),G.bindFramebuffer(G.FRAMEBUFFER,ae),G.disable(G.BLEND),G.colorMask(fe===0,fe===1,fe===2,fe===3),G.viewport(oe,he,U,W),G.scissor(oe,he,U,W),G.drawArrays(G.TRIANGLES,0,3)})}),G.isContextLost())throw ve(),new Error("webgl context lost")})}function z(U){var W=!U||U===A?P:U.canvas||U,k=R.get(W);if(k===void 0){C=!0;var H=null;try{var K=[97,106,97,61,99,137,118,80,80,118,137,99,61,97,106,97],ne=O(4,4,"M8,8L16,8L24,24L16,24Z",[0,0,32,32],24,1,U);k=ne&&K.length===ne.length&&ne.every(function(te,ae){return te===K[ae]}),k||(H="bad trial run results",console.info(K,ne))}catch(te){k=!1,H=te.message}H&&console.warn("WebGL SDF generation not supported:",H),C=!1,R.set(W,k)}return k}var $=Object.freeze({__proto__:null,generate:O,generateIntoCanvas:D,generateIntoFramebuffer:I,isSupported:z});function q(U,W,k,H,K,ne){K===void 0&&(K=Math.max(H[2]-H[0],H[3]-H[1])/2),ne===void 0&&(ne=1);try{return O.apply($,arguments)}catch(te){return console.info("WebGL SDF generation failed, falling back to JS",te),v.apply(w,arguments)}}function V(U,W,k,H,K,ne,te,ae,oe,he){K===void 0&&(K=Math.max(H[2]-H[0],H[3]-H[1])/2),ne===void 0&&(ne=1),ae===void 0&&(ae=0),oe===void 0&&(oe=0),he===void 0&&(he=0);try{return D.apply($,arguments)}catch(fe){return console.info("WebGL SDF generation failed, falling back to JS",fe),b.apply(w,arguments)}}return e.forEachPathCommand=i,e.generate=q,e.generateIntoCanvas=V,e.javascript=w,e.pathToLineSegments=s,e.webgl=$,e.webglUtils=p,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}function _ce(){var t=function(e){var n={R:"13k,1a,2,3,3,2+1j,ch+16,a+1,5+2,2+n,5,a,4,6+16,4+3,h+1b,4mo,179q,2+9,2+11,2i9+7y,2+68,4,3+4,5+13,4+3,2+4k,3+29,8+cf,1t+7z,w+17,3+3m,1t+3z,16o1+5r,8+30,8+mc,29+1r,29+4v,75+73",EN:"1c+9,3d+1,6,187+9,513,4+5,7+9,sf+j,175h+9,qw+q,161f+1d,4xt+a,25i+9",ES:"17,2,6dp+1,f+1,av,16vr,mx+1,4o,2",ET:"z+2,3h+3,b+1,ym,3e+1,2o,p4+1,8,6u,7c,g6,1wc,1n9+4,30+1b,2n,6d,qhx+1,h0m,a+1,49+2,63+1,4+1,6bb+3,12jj",AN:"16o+5,2j+9,2+1,35,ed,1ff2+9,87+u",CS:"18,2+1,b,2u,12k,55v,l,17v0,2,3,53,2+1,b",B:"a,3,f+2,2v,690",S:"9,2,k",WS:"c,k,4f4,1vk+a,u,1j,335",ON:"x+1,4+4,h+5,r+5,r+3,z,5+3,2+1,2+1,5,2+2,3+4,o,w,ci+1,8+d,3+d,6+8,2+g,39+1,9,6+1,2,33,b8,3+1,3c+1,7+1,5r,b,7h+3,sa+5,2,3i+6,jg+3,ur+9,2v,ij+1,9g+9,7+a,8m,4+1,49+x,14u,2+2,c+2,e+2,e+2,e+1,i+n,e+e,2+p,u+2,e+2,36+1,2+3,2+1,b,2+2,6+5,2,2,2,h+1,5+4,6+3,3+f,16+2,5+3l,3+81,1y+p,2+40,q+a,m+13,2r+ch,2+9e,75+hf,3+v,2+2w,6e+5,f+6,75+2a,1a+p,2+2g,d+5x,r+b,6+3,4+o,g,6+1,6+2,2k+1,4,2j,5h+z,1m+1,1e+f,t+2,1f+e,d+3,4o+3,2s+1,w,535+1r,h3l+1i,93+2,2s,b+1,3l+x,2v,4g+3,21+3,kz+1,g5v+1,5a,j+9,n+v,2,3,2+8,2+1,3+2,2,3,46+1,4+4,h+5,r+5,r+a,3h+2,4+6,b+4,78,1r+24,4+c,4,1hb,ey+6,103+j,16j+c,1ux+7,5+g,fsh,jdq+1t,4,57+2e,p1,1m,1m,1m,1m,4kt+1,7j+17,5+2r,d+e,3+e,2+e,2+10,m+4,w,1n+5,1q,4z+5,4b+rb,9+c,4+c,4+37,d+2g,8+b,l+b,5+1j,9+9,7+13,9+t,3+1,27+3c,2+29,2+3q,d+d,3+4,4+2,6+6,a+o,8+6,a+2,e+6,16+42,2+1i",BN:"0+8,6+d,2s+5,2+p,e,4m9,1kt+2,2b+5,5+5,17q9+v,7k,6p+8,6+1,119d+3,440+7,96s+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+1,1ekf+75,6p+2rz,1ben+1,1ekf+1,1ekf+1",NSM:"lc+33,7o+6,7c+18,2,2+1,2+1,2,21+a,1d+k,h,2u+6,3+5,3+1,2+3,10,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,g+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+g,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,k1+w,2db+2,3y,2p+v,ff+3,30+1,n9x+3,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,r2,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+5,3+1,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2d+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,f0c+4,1o+6,t5,1s+3,2a,f5l+1,43t+2,i+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,gzhy+6n",AL:"16w,3,2,e+1b,z+2,2+2s,g+1,8+1,b+m,2+t,s+2i,c+e,4h+f,1d+1e,1bwe+dp,3+3z,x+c,2+1,35+3y,2rm+z,5+7,b+5,dt+l,c+u,17nl+27,1t+27,4x+6n,3+d",LRO:"6ct",RLO:"6cu",LRE:"6cq",RLE:"6cr",PDF:"6cs",LRI:"6ee",RLI:"6ef",FSI:"6eg",PDI:"6eh"},r={},i={};r.L=1,i[1]="L",Object.keys(n).forEach(function(ve,Re){r[ve]=1<<Re+1,i[r[ve]]=ve}),Object.freeze(r);var s=r.LRI|r.RLI|r.FSI,a=r.L|r.R|r.AL,o=r.B|r.S|r.WS|r.ON|r.FSI|r.LRI|r.RLI|r.PDI,l=r.BN|r.RLE|r.LRE|r.RLO|r.LRO|r.PDF,c=r.S|r.WS|r.B|s|r.PDI|l,u=null;function f(){if(!u){u=new Map;var ve=function(Be){if(n.hasOwnProperty(Be)){var ge=0;n[Be].split(",").forEach(function(Ye){var Y=Ye.split("+"),X=Y[0],ie=Y[1];X=parseInt(X,36),ie=ie?parseInt(ie,36):0,u.set(ge+=X,r[Be]);for(var Fe=0;Fe<ie;Fe++)u.set(++ge,r[Be])})}};for(var Re in n)ve(Re)}}function d(ve){return f(),u.get(ve.codePointAt(0))||r.L}function p(ve){return i[d(ve)]}var v={pairs:"14>1,1e>2,u>2,2wt>1,1>1,1ge>1,1wp>1,1j>1,f>1,hm>1,1>1,u>1,u6>1,1>1,+5,28>1,w>1,1>1,+3,b8>1,1>1,+3,1>3,-1>-1,3>1,1>1,+2,1s>1,1>1,x>1,th>1,1>1,+2,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,4q>1,1e>2,u>2,2>1,+1",canonical:"6f1>-6dx,6dy>-6dx,6ec>-6ed,6ee>-6ed,6ww>2jj,-2ji>2jj,14r4>-1e7l,1e7m>-1e7l,1e7m>-1e5c,1e5d>-1e5b,1e5c>-14qx,14qy>-14qx,14vn>-1ecg,1ech>-1ecg,1edu>-1ecg,1eci>-1ecg,1eda>-1ecg,1eci>-1ecg,1eci>-168q,168r>-168q,168s>-14ye,14yf>-14ye"};function b(ve,Re){var Be=36,ge=0,Ye=new Map,Y=Re&&new Map,X;return ve.split(",").forEach(function ie(Fe){if(Fe.indexOf("+")!==-1)for(var ye=+Fe;ye--;)ie(X);else{X=Fe;var Ee=Fe.split(">"),He=Ee[0],Ue=Ee[1];He=String.fromCodePoint(ge+=parseInt(He,Be)),Ue=String.fromCodePoint(ge+=parseInt(Ue,Be)),Ye.set(He,Ue),Re&&Y.set(Ue,He)}}),{map:Ye,reverseMap:Y}}var x,y,w;function _(){if(!x){var ve=b(v.pairs,!0),Re=ve.map,Be=ve.reverseMap;x=Re,y=Be,w=b(v.canonical,!1).map}}function S(ve){return _(),x.get(ve)||null}function M(ve){return _(),y.get(ve)||null}function E(ve){return _(),w.get(ve)||null}var A=r.L,C=r.R,P=r.EN,R=r.ES,L=r.ET,O=r.AN,D=r.CS,I=r.B,z=r.S,$=r.ON,q=r.BN,V=r.NSM,U=r.AL,W=r.LRO,k=r.RLO,H=r.LRE,K=r.RLE,ne=r.PDF,te=r.LRI,ae=r.RLI,oe=r.FSI,he=r.PDI;function fe(ve,Re){for(var Be=125,ge=new Uint32Array(ve.length),Ye=0;Ye<ve.length;Ye++)ge[Ye]=d(ve[Ye]);var Y=new Map;function X(Fr,Ci){var tr=ge[Fr];ge[Fr]=Ci,Y.set(tr,Y.get(tr)-1),tr&o&&Y.set(o,Y.get(o)-1),Y.set(Ci,(Y.get(Ci)||0)+1),Ci&o&&Y.set(o,(Y.get(o)||0)+1)}for(var ie=new Uint8Array(ve.length),Fe=new Map,ye=[],Ee=null,He=0;He<ve.length;He++)Ee||ye.push(Ee={start:He,end:ve.length-1,level:Re==="rtl"?1:Re==="ltr"?0:Ef(He,!1)}),ge[He]&I&&(Ee.end=He,Ee=null);for(var Ue=K|H|k|W|s|he|ne|I,$e=function(Fr){return Fr+(Fr&1?1:2)},et=function(Fr){return Fr+(Fr&1?2:1)},tt=0;tt<ye.length;tt++){Ee=ye[tt];var Ne=[{_level:Ee.level,_override:0,_isolate:0}],Xe=void 0,re=0,we=0,Ve=0;Y.clear();for(var J=Ee.start;J<=Ee.end;J++){var Me=ge[J];if(Xe=Ne[Ne.length-1],Y.set(Me,(Y.get(Me)||0)+1),Me&o&&Y.set(o,(Y.get(o)||0)+1),Me&Ue)if(Me&(K|H)){ie[J]=Xe._level;var ke=(Me===K?et:$e)(Xe._level);ke<=Be&&!re&&!we?Ne.push({_level:ke,_override:0,_isolate:0}):re||we++}else if(Me&(k|W)){ie[J]=Xe._level;var Je=(Me===k?et:$e)(Xe._level);Je<=Be&&!re&&!we?Ne.push({_level:Je,_override:Me&k?C:A,_isolate:0}):re||we++}else if(Me&s){Me&oe&&(Me=Ef(J+1,!0)===1?ae:te),ie[J]=Xe._level,Xe._override&&X(J,Xe._override);var Ge=(Me===ae?et:$e)(Xe._level);Ge<=Be&&re===0&&we===0?(Ve++,Ne.push({_level:Ge,_override:0,_isolate:1,_isolInitIndex:J})):re++}else if(Me&he){if(re>0)re--;else if(Ve>0){for(we=0;!Ne[Ne.length-1]._isolate;)Ne.pop();var Te=Ne[Ne.length-1]._isolInitIndex;Te!=null&&(Fe.set(Te,J),Fe.set(J,Te)),Ne.pop(),Ve--}Xe=Ne[Ne.length-1],ie[J]=Xe._level,Xe._override&&X(J,Xe._override)}else Me&ne?(re===0&&(we>0?we--:!Xe._isolate&&Ne.length>1&&(Ne.pop(),Xe=Ne[Ne.length-1])),ie[J]=Xe._level):Me&I&&(ie[J]=Ee.level);else ie[J]=Xe._level,Xe._override&&Me!==q&&X(J,Xe._override)}for(var Ke=[],nt=null,lt=Ee.start;lt<=Ee.end;lt++){var ht=ge[lt];if(!(ht&l)){var qt=ie[lt],Bt=ht&s,Ln=ht===he;nt&&qt===nt._level?(nt._end=lt,nt._endsWithIsolInit=Bt):Ke.push(nt={_start:lt,_end:lt,_level:qt,_startsWithPDI:Ln,_endsWithIsolInit:Bt})}}for(var ni=[],cs=0;cs<Ke.length;cs++){var kr=Ke[cs];if(!kr._startsWithPDI||kr._startsWithPDI&&!Fe.has(kr._start)){for(var us=[nt=kr],Dr=void 0;nt&&nt._endsWithIsolInit&&(Dr=Fe.get(nt._end))!=null;)for(var Vi=cs+1;Vi<Ke.length;Vi++)if(Ke[Vi]._start===Dr){us.push(nt=Ke[Vi]);break}for(var br=[],ma=0;ma<us.length;ma++)for(var bf=us[ma],Q=bf._start;Q<=bf._end;Q++)br.push(Q);for(var be=ie[br[0]],Le=Ee.level,_e=br[0]-1;_e>=0;_e--)if(!(ge[_e]&l)){Le=ie[_e];break}var Oe=br[br.length-1],ot=ie[Oe],vt=Ee.level;if(!(ge[Oe]&s)){for(var yt=Oe+1;yt<=Ee.end;yt++)if(!(ge[yt]&l)){vt=ie[yt];break}}ni.push({_seqIndices:br,_sosType:Math.max(Le,be)%2?C:A,_eosType:Math.max(vt,ot)%2?C:A})}}for(var wt=0;wt<ni.length;wt++){var Rt=ni[wt],We=Rt._seqIndices,xt=Rt._sosType,mn=Rt._eosType,tn=ie[We[0]]&1?C:A;if(Y.get(V))for(var _r=0;_r<We.length;_r++){var ri=We[_r];if(ge[ri]&V){for(var ln=xt,St=_r-1;St>=0;St--)if(!(ge[We[St]]&l)){ln=ge[We[St]];break}X(ri,ln&(s|he)?$:ln)}}if(Y.get(P))for(var Zt=0;Zt<We.length;Zt++){var Mt=We[Zt];if(ge[Mt]&P)for(var er=Zt-1;er>=-1;er--){var Wn=er===-1?xt:ge[We[er]];if(Wn&a){Wn===U&&X(Mt,O);break}}}if(Y.get(U))for(var In=0;In<We.length;In++){var Hi=We[In];ge[Hi]&U&&X(Hi,C)}if(Y.get(R)||Y.get(D))for(var gn=1;gn<We.length-1;gn++){var wn=We[gn];if(ge[wn]&(R|D)){for(var Ei=0,ur=0,za=gn-1;za>=0&&(Ei=ge[We[za]],!!(Ei&l));za--);for(var Va=gn+1;Va<We.length&&(ur=ge[We[Va]],!!(ur&l));Va++);Ei===ur&&(ge[wn]===R?Ei===P:Ei&(P|O))&&X(wn,Ei)}}if(Y.get(P))for(var ii=0;ii<We.length;ii++){var fs=We[ii];if(ge[fs]&P){for(var _f=ii-1;_f>=0&&ge[We[_f]]&(L|l);_f--)X(We[_f],P);for(ii++;ii<We.length&&ge[We[ii]]&(L|l|P);ii++)ge[We[ii]]!==P&&X(We[ii],P)}}if(Y.get(L)||Y.get(R)||Y.get(D))for(var Ic=0;Ic<We.length;Ic++){var rv=We[Ic];if(ge[rv]&(L|R|D)){X(rv,$);for(var xo=Ic-1;xo>=0&&ge[We[xo]]&l;xo--)X(We[xo],$);for(var bo=Ic+1;bo<We.length&&ge[We[bo]]&l;bo++)X(We[bo],$)}}if(Y.get(P))for(var _o=0,jc=xt;_o<We.length;_o++){var iv=We[_o],cp=ge[iv];cp&P?jc===A&&X(iv,A):cp&a&&(jc=cp)}if(Y.get(o)){var wo=C|P|O,wf=wo|A,Ha=[];{for(var bl=[],$a=0;$a<We.length;$a++)if(ge[We[$a]]&o){var $t=ve[We[$a]],up=void 0;if(S($t)!==null)if(bl.length<63)bl.push({char:$t,seqIndex:$a});else break;else if((up=M($t))!==null)for(var So=bl.length-1;So>=0;So--){var Sf=bl[So].char;if(Sf===up||Sf===M(E($t))||S(E(Sf))===$t){Ha.push([bl[So].seqIndex,$a]),bl.length=So;break}}}Ha.sort(function(Fr,Ci){return Fr[0]-Ci[0]})}for(var fp=0;fp<Ha.length;fp++){for(var sv=Ha[fp],Un=sv[0],kc=sv[1],av=!1,Ti=0,dp=Un+1;dp<kc;dp++){var Dc=We[dp];if(ge[Dc]&wf){av=!0;var ds=ge[Dc]&wo?C:A;if(ds===tn){Ti=ds;break}}}if(av&&!Ti){Ti=xt;for(var hp=Un-1;hp>=0;hp--){var ov=We[hp];if(ge[ov]&wf){var hs=ge[ov]&wo?C:A;hs!==tn?Ti=hs:Ti=tn;break}}}if(Ti){if(ge[We[Un]]=ge[We[kc]]=Ti,Ti!==tn){for(var Ai=Un+1;Ai<We.length;Ai++)if(!(ge[We[Ai]]&l)){d(ve[We[Ai]])&V&&(ge[We[Ai]]=Ti);break}}if(Ti!==tn){for(var Wa=kc+1;Wa<We.length;Wa++)if(!(ge[We[Wa]]&l)){d(ve[We[Wa]])&V&&(ge[We[Wa]]=Ti);break}}}}for(var ks=0;ks<We.length;ks++)if(ge[We[ks]]&o){for(var pp=ks,mp=ks,$i=xt,Uc=ks-1;Uc>=0;Uc--)if(ge[We[Uc]]&l)pp=Uc;else{$i=ge[We[Uc]]&wo?C:A;break}for(var Fc=mn,Bc=ks+1;Bc<We.length;Bc++)if(ge[We[Bc]]&(o|l))mp=Bc;else{Fc=ge[We[Bc]]&wo?C:A;break}for(var Pi=pp;Pi<=mp;Pi++)ge[We[Pi]]=$i===Fc?$i:tn;ks=mp}}}for(var Ur=Ee.start;Ur<=Ee.end;Ur++){var Mf=ie[Ur],ga=ge[Ur];if(Mf&1?ga&(A|P|O)&&ie[Ur]++:ga&C?ie[Ur]++:ga&(O|P)&&(ie[Ur]+=2),ga&l&&(ie[Ur]=Ur===0?Ee.level:ie[Ur-1]),Ur===Ee.end||d(ve[Ur])&(z|I))for(var _l=Ur;_l>=0&&d(ve[_l])&c;_l--)ie[_l]=Ee.level}}return{levels:ie,paragraphs:ye};function Ef(Fr,Ci){for(var tr=Fr;tr<ve.length;tr++){var nr=ge[tr];if(nr&(C|U))return 1;if(nr&(I|A)||Ci&&nr===he)return 0;if(nr&s){var ps=lv(tr);tr=ps===-1?ve.length:ps}}return 0}function lv(Fr){for(var Ci=1,tr=Fr+1;tr<ve.length;tr++){var nr=ge[tr];if(nr&I)break;if(nr&he){if(--Ci===0)return tr}else nr&s&&Ci++}return-1}}var Ce="14>1,j>2,t>2,u>2,1a>g,2v3>1,1>1,1ge>1,1wd>1,b>1,1j>1,f>1,ai>3,-2>3,+1,8>1k0,-1jq>1y7,-1y6>1hf,-1he>1h6,-1h5>1ha,-1h8>1qi,-1pu>1,6>3u,-3s>7,6>1,1>1,f>1,1>1,+2,3>1,1>1,+13,4>1,1>1,6>1eo,-1ee>1,3>1mg,-1me>1mk,-1mj>1mi,-1mg>1mi,-1md>1,1>1,+2,1>10k,-103>1,1>1,4>1,5>1,1>1,+10,3>1,1>8,-7>8,+1,-6>7,+1,a>1,1>1,u>1,u6>1,1>1,+5,26>1,1>1,2>1,2>2,8>1,7>1,4>1,1>1,+5,b8>1,1>1,+3,1>3,-2>1,2>1,1>1,+2,c>1,3>1,1>1,+2,h>1,3>1,a>1,1>1,2>1,3>1,1>1,d>1,f>1,3>1,1a>1,1>1,6>1,7>1,13>1,k>1,1>1,+19,4>1,1>1,+2,2>1,1>1,+18,m>1,a>1,1>1,lk>1,1>1,4>1,2>1,f>1,3>1,1>1,+3,db>1,1>1,+3,3>1,1>1,+2,14qm>1,1>1,+1,6>1,4j>1,j>2,t>2,u>2,2>1,+1",le;function G(){if(!le){var ve=b(Ce,!0),Re=ve.map,Be=ve.reverseMap;Be.forEach(function(ge,Ye){Re.set(Ye,ge)}),le=Re}}function me(ve){return G(),le.get(ve)||null}function se(ve,Re,Be,ge){var Ye=ve.length;Be=Math.max(0,Be==null?0:+Be),ge=Math.min(Ye-1,ge==null?Ye-1:+ge);for(var Y=new Map,X=Be;X<=ge;X++)if(Re[X]&1){var ie=me(ve[X]);ie!==null&&Y.set(X,ie)}return Y}function xe(ve,Re,Be,ge){var Ye=ve.length;Be=Math.max(0,Be==null?0:+Be),ge=Math.min(Ye-1,ge==null?Ye-1:+ge);var Y=[];return Re.paragraphs.forEach(function(X){var ie=Math.max(Be,X.start),Fe=Math.min(ge,X.end);if(ie<Fe){for(var ye=Re.levels.slice(ie,Fe+1),Ee=Fe;Ee>=ie&&d(ve[Ee])&c;Ee--)ye[Ee]=X.level;for(var He=X.level,Ue=1/0,$e=0;$e<ye.length;$e++){var et=ye[$e];et>He&&(He=et),et<Ue&&(Ue=et|1)}for(var tt=He;tt>=Ue;tt--)for(var Ne=0;Ne<ye.length;Ne++)if(ye[Ne]>=tt){for(var Xe=Ne;Ne+1<ye.length&&ye[Ne+1]>=tt;)Ne++;Ne>Xe&&Y.push([Xe+ie,Ne+ie])}}}),Y}function pe(ve,Re,Be,ge){var Ye=ze(ve,Re,Be,ge),Y=[].concat(ve);return Ye.forEach(function(X,ie){Y[ie]=(Re.levels[X]&1?me(ve[X]):null)||ve[X]}),Y.join("")}function ze(ve,Re,Be,ge){for(var Ye=xe(ve,Re,Be,ge),Y=[],X=0;X<ve.length;X++)Y[X]=X;return Ye.forEach(function(ie){for(var Fe=ie[0],ye=ie[1],Ee=Y.slice(Fe,ye+1),He=Ee.length;He--;)Y[ye-He]=Ee[He]}),Y}return e.closingToOpeningBracket=M,e.getBidiCharType=d,e.getBidiCharTypeName=p,e.getCanonicalBracket=E,e.getEmbeddingLevels=fe,e.getMirroredCharacter=me,e.getMirroredCharactersMap=se,e.getReorderSegments=xe,e.getReorderedIndices=ze,e.getReorderedString=pe,e.openingToClosingBracket=S,Object.defineProperty(e,"__esModule",{value:!0}),e}({});return t}const XH=/\bvoid\s+main\s*\(\s*\)\s*{/g;function eA(t){const e=/^[ \t]*#include +<([\w\d./]+)>/gm;function n(r,i){let s=It[i];return s?eA(s):r}return t.replace(e,n)}const Kr=[];for(let t=0;t<256;t++)Kr[t]=(t<16?"0":"")+t.toString(16);function wce(){const t=Math.random()*4294967295|0,e=Math.random()*4294967295|0,n=Math.random()*4294967295|0,r=Math.random()*4294967295|0;return(Kr[t&255]+Kr[t>>8&255]+Kr[t>>16&255]+Kr[t>>24&255]+"-"+Kr[e&255]+Kr[e>>8&255]+"-"+Kr[e>>16&15|64]+Kr[e>>24&255]+"-"+Kr[n&63|128]+Kr[n>>8&255]+"-"+Kr[n>>16&255]+Kr[n>>24&255]+Kr[r&255]+Kr[r>>8&255]+Kr[r>>16&255]+Kr[r>>24&255]).toUpperCase()}const au=Object.assign||function(){let t=arguments[0];for(let e=1,n=arguments.length;e<n;e++){let r=arguments[e];if(r)for(let i in r)Object.prototype.hasOwnProperty.call(r,i)&&(t[i]=r[i])}return t},Sce=Date.now(),Yk=new WeakMap,Kk=new Map;let Mce=1e10;function tA(t,e){const n=Pce(e);let r=Yk.get(t);if(r||Yk.set(t,r=Object.create(null)),r[n])return new r[n];const i=`_onBeforeCompile${n}`,s=function(c,u){t.onBeforeCompile.call(this,c,u);const f=this.customProgramCacheKey()+"|"+c.vertexShader+"|"+c.fragmentShader;let d=Kk[f];if(!d){const p=Ece(this,c,e,n);d=Kk[f]=p}c.vertexShader=d.vertexShader,c.fragmentShader=d.fragmentShader,au(c.uniforms,this.uniforms),e.timeUniform&&(c.uniforms[e.timeUniform]={get value(){return Date.now()-Sce}}),this[i]&&this[i](c)},a=function(){return o(e.chained?t:t.clone())},o=function(c){const u=Object.create(c,l);return Object.defineProperty(u,"baseMaterial",{value:t}),Object.defineProperty(u,"id",{value:Mce++}),u.uuid=wce(),u.uniforms=au({},c.uniforms,e.uniforms),u.defines=au({},c.defines,e.defines),u.defines[`TROIKA_DERIVED_MATERIAL_${n}`]="",u.extensions=au({},c.extensions,e.extensions),u._listeners=void 0,u},l={constructor:{value:a},isDerivedMaterial:{value:!0},type:{get:()=>t.type,set:c=>{t.type=c}},isDerivedFrom:{writable:!0,configurable:!0,value:function(c){const u=this.baseMaterial;return c===u||u.isDerivedMaterial&&u.isDerivedFrom(c)||!1}},customProgramCacheKey:{writable:!0,configurable:!0,value:function(){return t.customProgramCacheKey()+"|"+n}},onBeforeCompile:{get(){return s},set(c){this[i]=c}},copy:{writable:!0,configurable:!0,value:function(c){return t.copy.call(this,c),!t.isShaderMaterial&&!t.isDerivedMaterial&&(au(this.extensions,c.extensions),au(this.defines,c.defines),au(this.uniforms,xN.clone(c.uniforms))),this}},clone:{writable:!0,configurable:!0,value:function(){const c=new t.constructor;return o(c).copy(this)}},getDepthMaterial:{writable:!0,configurable:!0,value:function(){let c=this._depthMaterial;return c||(c=this._depthMaterial=tA(t.isDerivedMaterial?t.getDepthMaterial():new C_({depthPacking:hN}),e),c.defines.IS_DEPTH_MATERIAL="",c.uniforms=this.uniforms),c}},getDistanceMaterial:{writable:!0,configurable:!0,value:function(){let c=this._distanceMaterial;return c||(c=this._distanceMaterial=tA(t.isDerivedMaterial?t.getDistanceMaterial():new N_,e),c.defines.IS_DISTANCE_MATERIAL="",c.uniforms=this.uniforms),c}},dispose:{writable:!0,configurable:!0,value(){const{_depthMaterial:c,_distanceMaterial:u}=this;c&&c.dispose(),u&&u.dispose(),t.dispose.call(this)}}};return r[n]=a,new a}function Ece(t,{vertexShader:e,fragmentShader:n},r,i){let{vertexDefs:s,vertexMainIntro:a,vertexMainOutro:o,vertexTransform:l,fragmentDefs:c,fragmentMainIntro:u,fragmentMainOutro:f,fragmentColorTransform:d,customRewriter:p,timeUniform:v}=r;if(s=s||"",a=a||"",o=o||"",c=c||"",u=u||"",f=f||"",(l||p)&&(e=eA(e)),(d||p)&&(n=n.replace(/^[ \t]*#include <((?:tonemapping|encodings|colorspace|fog|premultiplied_alpha|dithering)_fragment)>/gm,`
//!BEGIN_POST_CHUNK $1
$&
//!END_POST_CHUNK
`),n=eA(n)),p){let b=p({vertexShader:e,fragmentShader:n});e=b.vertexShader,n=b.fragmentShader}if(d){let b=[];n=n.replace(/^\/\/!BEGIN_POST_CHUNK[^]+?^\/\/!END_POST_CHUNK/gm,x=>(b.push(x),"")),f=`${d}
${b.join(`
`)}
${f}`}if(v){const b=`
uniform float ${v};
`;s=b+s,c=b+c}return l&&(e=`vec3 troika_position_${i};
vec3 troika_normal_${i};
vec2 troika_uv_${i};
${e}
`,s=`${s}
void troikaVertexTransform${i}(inout vec3 position, inout vec3 normal, inout vec2 uv) {
  ${l}
}
`,a=`
troika_position_${i} = vec3(position);
troika_normal_${i} = vec3(normal);
troika_uv_${i} = vec2(uv);
troikaVertexTransform${i}(troika_position_${i}, troika_normal_${i}, troika_uv_${i});
${a}
`,e=e.replace(/\b(position|normal|uv)\b/g,(b,x,y,w)=>/\battribute\s+vec[23]\s+$/.test(w.substr(0,y))?x:`troika_${x}_${i}`),t.map&&t.map.channel>0||(e=e.replace(/\bMAP_UV\b/g,`troika_uv_${i}`))),e=Zk(e,i,s,a,o),n=Zk(n,i,c,u,f),{vertexShader:e,fragmentShader:n}}function Zk(t,e,n,r,i){return(r||i||n)&&(t=t.replace(XH,`
${n}
void troikaOrigMain${e}() {`),t+=`
void main() {
  ${r}
  troikaOrigMain${e}();
  ${i}
}`),t}function Tce(t,e){return t==="uniforms"?void 0:typeof e=="function"?e.toString():e}let Ace=0;const Jk=new Map;function Pce(t){const e=JSON.stringify(t,Tce);let n=Jk.get(e);return n==null&&Jk.set(e,n=++Ace),n}/*!
Custom build of Typr.ts (https://github.com/fredli74/Typr.ts) for use in Troika text rendering.
Original MIT license applies: https://github.com/fredli74/Typr.ts/blob/master/LICENSE
*/function Cce(){return typeof window>"u"&&(self.window=self),function(t){var e={parse:function(i){var s=e._bin,a=new Uint8Array(i);if(s.readASCII(a,0,4)=="ttcf"){var o=4;s.readUshort(a,o),o+=2,s.readUshort(a,o),o+=2;var l=s.readUint(a,o);o+=4;for(var c=[],u=0;u<l;u++){var f=s.readUint(a,o);o+=4,c.push(e._readFont(a,f))}return c}return[e._readFont(a,0)]},_readFont:function(i,s){var a=e._bin,o=s;a.readFixed(i,s),s+=4;var l=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2;for(var c=["cmap","head","hhea","maxp","hmtx","name","OS/2","post","loca","glyf","kern","CFF ","GDEF","GPOS","GSUB","SVG "],u={_data:i,_offset:o},f={},d=0;d<l;d++){var p=a.readASCII(i,s,4);s+=4,a.readUint(i,s),s+=4;var v=a.readUint(i,s);s+=4;var b=a.readUint(i,s);s+=4,f[p]={offset:v,length:b}}for(d=0;d<c.length;d++){var x=c[d];f[x]&&(u[x.trim()]=e[x.trim()].parse(i,f[x].offset,f[x].length,u))}return u},_tabOffset:function(i,s,a){for(var o=e._bin,l=o.readUshort(i,a+4),c=a+12,u=0;u<l;u++){var f=o.readASCII(i,c,4);c+=4,o.readUint(i,c),c+=4;var d=o.readUint(i,c);if(c+=4,o.readUint(i,c),c+=4,f==s)return d}return 0}};e._bin={readFixed:function(i,s){return(i[s]<<8|i[s+1])+(i[s+2]<<8|i[s+3])/65540},readF2dot14:function(i,s){return e._bin.readShort(i,s)/16384},readInt:function(i,s){return e._bin._view(i).getInt32(s)},readInt8:function(i,s){return e._bin._view(i).getInt8(s)},readShort:function(i,s){return e._bin._view(i).getInt16(s)},readUshort:function(i,s){return e._bin._view(i).getUint16(s)},readUshorts:function(i,s,a){for(var o=[],l=0;l<a;l++)o.push(e._bin.readUshort(i,s+2*l));return o},readUint:function(i,s){return e._bin._view(i).getUint32(s)},readUint64:function(i,s){return 4294967296*e._bin.readUint(i,s)+e._bin.readUint(i,s+4)},readASCII:function(i,s,a){for(var o="",l=0;l<a;l++)o+=String.fromCharCode(i[s+l]);return o},readUnicode:function(i,s,a){for(var o="",l=0;l<a;l++){var c=i[s++]<<8|i[s++];o+=String.fromCharCode(c)}return o},_tdec:typeof window<"u"&&window.TextDecoder?new window.TextDecoder:null,readUTF8:function(i,s,a){var o=e._bin._tdec;return o&&s==0&&a==i.length?o.decode(i):e._bin.readASCII(i,s,a)},readBytes:function(i,s,a){for(var o=[],l=0;l<a;l++)o.push(i[s+l]);return o},readASCIIArray:function(i,s,a){for(var o=[],l=0;l<a;l++)o.push(String.fromCharCode(i[s+l]));return o},_view:function(i){return i._dataView||(i._dataView=i.buffer?new DataView(i.buffer,i.byteOffset,i.byteLength):new DataView(new Uint8Array(i).buffer))}},e._lctf={},e._lctf.parse=function(i,s,a,o,l){var c=e._bin,u={},f=s;c.readFixed(i,s),s+=4;var d=c.readUshort(i,s);s+=2;var p=c.readUshort(i,s);s+=2;var v=c.readUshort(i,s);return s+=2,u.scriptList=e._lctf.readScriptList(i,f+d),u.featureList=e._lctf.readFeatureList(i,f+p),u.lookupList=e._lctf.readLookupList(i,f+v,l),u},e._lctf.readLookupList=function(i,s,a){var o=e._bin,l=s,c=[],u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=o.readUshort(i,s);s+=2;var p=e._lctf.readLookupTable(i,l+d,a);c.push(p)}return c},e._lctf.readLookupTable=function(i,s,a){var o=e._bin,l=s,c={tabs:[]};c.ltype=o.readUshort(i,s),s+=2,c.flag=o.readUshort(i,s),s+=2;var u=o.readUshort(i,s);s+=2;for(var f=c.ltype,d=0;d<u;d++){var p=o.readUshort(i,s);s+=2;var v=a(i,f,l+p,c);c.tabs.push(v)}return c},e._lctf.numOfOnes=function(i){for(var s=0,a=0;a<32;a++)i>>>a&1&&s++;return s},e._lctf.readClassDef=function(i,s){var a=e._bin,o=[],l=a.readUshort(i,s);if(s+=2,l==1){var c=a.readUshort(i,s);s+=2;var u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++)o.push(c+f),o.push(c+f),o.push(a.readUshort(i,s)),s+=2}if(l==2){var d=a.readUshort(i,s);for(s+=2,f=0;f<d;f++)o.push(a.readUshort(i,s)),s+=2,o.push(a.readUshort(i,s)),s+=2,o.push(a.readUshort(i,s)),s+=2}return o},e._lctf.getInterval=function(i,s){for(var a=0;a<i.length;a+=3){var o=i[a],l=i[a+1];if(i[a+2],o<=s&&s<=l)return a}return-1},e._lctf.readCoverage=function(i,s){var a=e._bin,o={};o.fmt=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);return s+=2,o.fmt==1&&(o.tab=a.readUshorts(i,s,l)),o.fmt==2&&(o.tab=a.readUshorts(i,s,3*l)),o},e._lctf.coverageIndex=function(i,s){var a=i.tab;if(i.fmt==1)return a.indexOf(s);if(i.fmt==2){var o=e._lctf.getInterval(a,s);if(o!=-1)return a[o+2]+(s-a[o])}return-1},e._lctf.readFeatureList=function(i,s){var a=e._bin,o=s,l=[],c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=a.readASCII(i,s,4);s+=4;var d=a.readUshort(i,s);s+=2;var p=e._lctf.readFeatureTable(i,o+d);p.tag=f.trim(),l.push(p)}return l},e._lctf.readFeatureTable=function(i,s){var a=e._bin,o=s,l={},c=a.readUshort(i,s);s+=2,c>0&&(l.featureParams=o+c);var u=a.readUshort(i,s);s+=2,l.tab=[];for(var f=0;f<u;f++)l.tab.push(a.readUshort(i,s+2*f));return l},e._lctf.readScriptList=function(i,s){var a=e._bin,o=s,l={},c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=a.readASCII(i,s,4);s+=4;var d=a.readUshort(i,s);s+=2,l[f.trim()]=e._lctf.readScriptTable(i,o+d)}return l},e._lctf.readScriptTable=function(i,s){var a=e._bin,o=s,l={},c=a.readUshort(i,s);s+=2,c>0&&(l.default=e._lctf.readLangSysTable(i,o+c));var u=a.readUshort(i,s);s+=2;for(var f=0;f<u;f++){var d=a.readASCII(i,s,4);s+=4;var p=a.readUshort(i,s);s+=2,l[d.trim()]=e._lctf.readLangSysTable(i,o+p)}return l},e._lctf.readLangSysTable=function(i,s){var a=e._bin,o={};a.readUshort(i,s),s+=2,o.reqFeature=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);return s+=2,o.features=a.readUshorts(i,s,l),o},e.CFF={},e.CFF.parse=function(i,s,a){var o=e._bin;(i=new Uint8Array(i.buffer,s,a))[s=0],i[++s],i[++s],i[++s],s++;var l=[];s=e.CFF.readIndex(i,s,l);for(var c=[],u=0;u<l.length-1;u++)c.push(o.readASCII(i,s+l[u],l[u+1]-l[u]));s+=l[l.length-1];var f=[];s=e.CFF.readIndex(i,s,f);var d=[];for(u=0;u<f.length-1;u++)d.push(e.CFF.readDict(i,s+f[u],s+f[u+1]));s+=f[f.length-1];var p=d[0],v=[];s=e.CFF.readIndex(i,s,v);var b=[];for(u=0;u<v.length-1;u++)b.push(o.readASCII(i,s+v[u],v[u+1]-v[u]));if(s+=v[v.length-1],e.CFF.readSubrs(i,s,p),p.CharStrings){s=p.CharStrings,v=[],s=e.CFF.readIndex(i,s,v);var x=[];for(u=0;u<v.length-1;u++)x.push(o.readBytes(i,s+v[u],v[u+1]-v[u]));p.CharStrings=x}if(p.ROS){s=p.FDArray;var y=[];for(s=e.CFF.readIndex(i,s,y),p.FDArray=[],u=0;u<y.length-1;u++){var w=e.CFF.readDict(i,s+y[u],s+y[u+1]);e.CFF._readFDict(i,w,b),p.FDArray.push(w)}s+=y[y.length-1],s=p.FDSelect,p.FDSelect=[];var _=i[s];if(s++,_!=3)throw _;var S=o.readUshort(i,s);for(s+=2,u=0;u<S+1;u++)p.FDSelect.push(o.readUshort(i,s),i[s+2]),s+=3}return p.Encoding&&(p.Encoding=e.CFF.readEncoding(i,p.Encoding,p.CharStrings.length)),p.charset&&(p.charset=e.CFF.readCharset(i,p.charset,p.CharStrings.length)),e.CFF._readFDict(i,p,b),p},e.CFF._readFDict=function(i,s,a){var o;for(var l in s.Private&&(o=s.Private[1],s.Private=e.CFF.readDict(i,o,o+s.Private[0]),s.Private.Subrs&&e.CFF.readSubrs(i,o+s.Private.Subrs,s.Private)),s)["FamilyName","FontName","FullName","Notice","version","Copyright"].indexOf(l)!=-1&&(s[l]=a[s[l]-426+35])},e.CFF.readSubrs=function(i,s,a){var o=e._bin,l=[];s=e.CFF.readIndex(i,s,l);var c,u=l.length;c=u<1240?107:u<33900?1131:32768,a.Bias=c,a.Subrs=[];for(var f=0;f<l.length-1;f++)a.Subrs.push(o.readBytes(i,s+l[f],l[f+1]-l[f]))},e.CFF.tableSE=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32,33,34,35,36,37,38,39,40,41,42,43,44,45,46,47,48,49,50,51,52,53,54,55,56,57,58,59,60,61,62,63,64,65,66,67,68,69,70,71,72,73,74,75,76,77,78,79,80,81,82,83,84,85,86,87,88,89,90,91,92,93,94,95,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,96,97,98,99,100,101,102,103,104,105,106,107,108,109,110,0,111,112,113,114,0,115,116,117,118,119,120,121,122,0,123,0,124,125,126,127,128,129,130,131,0,132,133,0,134,135,136,137,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,138,0,139,0,0,0,0,140,141,142,143,0,0,0,0,0,144,0,0,0,145,0,0,146,147,148,149,0,0,0,0],e.CFF.glyphByUnicode=function(i,s){for(var a=0;a<i.charset.length;a++)if(i.charset[a]==s)return a;return-1},e.CFF.glyphBySE=function(i,s){return s<0||s>255?-1:e.CFF.glyphByUnicode(i,e.CFF.tableSE[s])},e.CFF.readEncoding=function(i,s,a){e._bin;var o=[".notdef"],l=i[s];if(s++,l!=0)throw"error: unknown encoding format: "+l;var c=i[s];s++;for(var u=0;u<c;u++)o.push(i[s+u]);return o},e.CFF.readCharset=function(i,s,a){var o=e._bin,l=[".notdef"],c=i[s];if(s++,c==0)for(var u=0;u<a;u++){var f=o.readUshort(i,s);s+=2,l.push(f)}else{if(c!=1&&c!=2)throw"error: format: "+c;for(;l.length<a;){f=o.readUshort(i,s),s+=2;var d=0;for(c==1?(d=i[s],s++):(d=o.readUshort(i,s),s+=2),u=0;u<=d;u++)l.push(f),f++}}return l},e.CFF.readIndex=function(i,s,a){var o=e._bin,l=o.readUshort(i,s)+1,c=i[s+=2];if(s++,c==1)for(var u=0;u<l;u++)a.push(i[s+u]);else if(c==2)for(u=0;u<l;u++)a.push(o.readUshort(i,s+2*u));else if(c==3)for(u=0;u<l;u++)a.push(16777215&o.readUint(i,s+3*u-1));else if(l!=1)throw"unsupported offset size: "+c+", count: "+l;return(s+=l*c)-1},e.CFF.getCharString=function(i,s,a){var o=e._bin,l=i[s],c=i[s+1];i[s+2],i[s+3],i[s+4];var u=1,f=null,d=null;l<=20&&(f=l,u=1),l==12&&(f=100*l+c,u=2),21<=l&&l<=27&&(f=l,u=1),l==28&&(d=o.readShort(i,s+1),u=3),29<=l&&l<=31&&(f=l,u=1),32<=l&&l<=246&&(d=l-139,u=1),247<=l&&l<=250&&(d=256*(l-247)+c+108,u=2),251<=l&&l<=254&&(d=256*-(l-251)-c-108,u=2),l==255&&(d=o.readInt(i,s+1)/65535,u=5),a.val=d??"o"+f,a.size=u},e.CFF.readCharString=function(i,s,a){for(var o=s+a,l=e._bin,c=[];s<o;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,v=null;u<=20&&(p=u,d=1),u==12&&(p=100*u+f,d=2),u!=19&&u!=20||(p=u,d=2),21<=u&&u<=27&&(p=u,d=1),u==28&&(v=l.readShort(i,s+1),d=3),29<=u&&u<=31&&(p=u,d=1),32<=u&&u<=246&&(v=u-139,d=1),247<=u&&u<=250&&(v=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(v=256*-(u-251)-f-108,d=2),u==255&&(v=l.readInt(i,s+1)/65535,d=5),c.push(v??"o"+p),s+=d}return c},e.CFF.readDict=function(i,s,a){for(var o=e._bin,l={},c=[];s<a;){var u=i[s],f=i[s+1];i[s+2],i[s+3],i[s+4];var d=1,p=null,v=null;if(u==28&&(v=o.readShort(i,s+1),d=3),u==29&&(v=o.readInt(i,s+1),d=5),32<=u&&u<=246&&(v=u-139,d=1),247<=u&&u<=250&&(v=256*(u-247)+f+108,d=2),251<=u&&u<=254&&(v=256*-(u-251)-f-108,d=2),u==255)throw v=o.readInt(i,s+1)/65535,d=5,"unknown number";if(u==30){var b=[];for(d=1;;){var x=i[s+d];d++;var y=x>>4,w=15&x;if(y!=15&&b.push(y),w!=15&&b.push(w),w==15)break}for(var _="",S=[0,1,2,3,4,5,6,7,8,9,".","e","e-","reserved","-","endOfNumber"],M=0;M<b.length;M++)_+=S[b[M]];v=parseFloat(_)}u<=21&&(p=["version","Notice","FullName","FamilyName","Weight","FontBBox","BlueValues","OtherBlues","FamilyBlues","FamilyOtherBlues","StdHW","StdVW","escape","UniqueID","XUID","charset","Encoding","CharStrings","Private","Subrs","defaultWidthX","nominalWidthX"][u],d=1,u==12&&(p=["Copyright","isFixedPitch","ItalicAngle","UnderlinePosition","UnderlineThickness","PaintType","CharstringType","FontMatrix","StrokeWidth","BlueScale","BlueShift","BlueFuzz","StemSnapH","StemSnapV","ForceBold",0,0,"LanguageGroup","ExpansionFactor","initialRandomSeed","SyntheticBase","PostScript","BaseFontName","BaseFontBlend",0,0,0,0,0,0,"ROS","CIDFontVersion","CIDFontRevision","CIDFontType","CIDCount","UIDBase","FDArray","FDSelect","FontName"][f],d=2)),p!=null?(l[p]=c.length==1?c[0]:c,c=[]):c.push(v),s+=d}return l},e.cmap={},e.cmap.parse=function(i,s,a){i=new Uint8Array(i.buffer,s,a),s=0;var o=e._bin,l={};o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2;var u=[];l.tables=[];for(var f=0;f<c;f++){var d=o.readUshort(i,s);s+=2;var p=o.readUshort(i,s);s+=2;var v=o.readUint(i,s);s+=4;var b="p"+d+"e"+p,x=u.indexOf(v);if(x==-1){var y;x=l.tables.length,u.push(v);var w=o.readUshort(i,v);w==0?y=e.cmap.parse0(i,v):w==4?y=e.cmap.parse4(i,v):w==6?y=e.cmap.parse6(i,v):w==12?y=e.cmap.parse12(i,v):console.debug("unknown format: "+w,d,p,v),l.tables.push(y)}if(l[b]!=null)throw"multiple tables for one platform+encoding";l[b]=x}return l},e.cmap.parse0=function(i,s){var a=e._bin,o={};o.format=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2,o.map=[];for(var c=0;c<l-6;c++)o.map.push(i[s+c]);return o},e.cmap.parse4=function(i,s){var a=e._bin,o=s,l={};l.format=a.readUshort(i,s),s+=2;var c=a.readUshort(i,s);s+=2,a.readUshort(i,s),s+=2;var u=a.readUshort(i,s);s+=2;var f=u/2;l.searchRange=a.readUshort(i,s),s+=2,l.entrySelector=a.readUshort(i,s),s+=2,l.rangeShift=a.readUshort(i,s),s+=2,l.endCount=a.readUshorts(i,s,f),s+=2*f,s+=2,l.startCount=a.readUshorts(i,s,f),s+=2*f,l.idDelta=[];for(var d=0;d<f;d++)l.idDelta.push(a.readShort(i,s)),s+=2;for(l.idRangeOffset=a.readUshorts(i,s,f),s+=2*f,l.glyphIdArray=[];s<o+c;)l.glyphIdArray.push(a.readUshort(i,s)),s+=2;return l},e.cmap.parse6=function(i,s){var a=e._bin,o={};o.format=a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,a.readUshort(i,s),s+=2,o.firstCode=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);s+=2,o.glyphIdArray=[];for(var c=0;c<l;c++)o.glyphIdArray.push(a.readUshort(i,s)),s+=2;return o},e.cmap.parse12=function(i,s){var a=e._bin,o={};o.format=a.readUshort(i,s),s+=2,s+=2,a.readUint(i,s),s+=4,a.readUint(i,s),s+=4;var l=a.readUint(i,s);s+=4,o.groups=[];for(var c=0;c<l;c++){var u=s+12*c,f=a.readUint(i,u+0),d=a.readUint(i,u+4),p=a.readUint(i,u+8);o.groups.push([f,d,p])}return o},e.glyf={},e.glyf.parse=function(i,s,a,o){for(var l=[],c=0;c<o.maxp.numGlyphs;c++)l.push(null);return l},e.glyf._parseGlyf=function(i,s){var a=e._bin,o=i._data,l=e._tabOffset(o,"glyf",i._offset)+i.loca[s];if(i.loca[s]==i.loca[s+1])return null;var c={};if(c.noc=a.readShort(o,l),l+=2,c.xMin=a.readShort(o,l),l+=2,c.yMin=a.readShort(o,l),l+=2,c.xMax=a.readShort(o,l),l+=2,c.yMax=a.readShort(o,l),l+=2,c.xMin>=c.xMax||c.yMin>=c.yMax)return null;if(c.noc>0){c.endPts=[];for(var u=0;u<c.noc;u++)c.endPts.push(a.readUshort(o,l)),l+=2;var f=a.readUshort(o,l);if(l+=2,o.length-l<f)return null;c.instructions=a.readBytes(o,l,f),l+=f;var d=c.endPts[c.noc-1]+1;for(c.flags=[],u=0;u<d;u++){var p=o[l];if(l++,c.flags.push(p),(8&p)!=0){var v=o[l];l++;for(var b=0;b<v;b++)c.flags.push(p),u++}}for(c.xs=[],u=0;u<d;u++){var x=(2&c.flags[u])!=0,y=(16&c.flags[u])!=0;x?(c.xs.push(y?o[l]:-o[l]),l++):y?c.xs.push(0):(c.xs.push(a.readShort(o,l)),l+=2)}for(c.ys=[],u=0;u<d;u++)x=(4&c.flags[u])!=0,y=(32&c.flags[u])!=0,x?(c.ys.push(y?o[l]:-o[l]),l++):y?c.ys.push(0):(c.ys.push(a.readShort(o,l)),l+=2);var w=0,_=0;for(u=0;u<d;u++)w+=c.xs[u],_+=c.ys[u],c.xs[u]=w,c.ys[u]=_}else{var S;c.parts=[];do{S=a.readUshort(o,l),l+=2;var M={m:{a:1,b:0,c:0,d:1,tx:0,ty:0},p1:-1,p2:-1};if(c.parts.push(M),M.glyphIndex=a.readUshort(o,l),l+=2,1&S){var E=a.readShort(o,l);l+=2;var A=a.readShort(o,l);l+=2}else E=a.readInt8(o,l),l++,A=a.readInt8(o,l),l++;2&S?(M.m.tx=E,M.m.ty=A):(M.p1=E,M.p2=A),8&S?(M.m.a=M.m.d=a.readF2dot14(o,l),l+=2):64&S?(M.m.a=a.readF2dot14(o,l),l+=2,M.m.d=a.readF2dot14(o,l),l+=2):128&S&&(M.m.a=a.readF2dot14(o,l),l+=2,M.m.b=a.readF2dot14(o,l),l+=2,M.m.c=a.readF2dot14(o,l),l+=2,M.m.d=a.readF2dot14(o,l),l+=2)}while(32&S);if(256&S){var C=a.readUshort(o,l);for(l+=2,c.instr=[],u=0;u<C;u++)c.instr.push(o[l]),l++}}return c},e.GDEF={},e.GDEF.parse=function(i,s,a,o){var l=s;s+=4;var c=e._bin.readUshort(i,s);return{glyphClassDef:c===0?null:e._lctf.readClassDef(i,l+c)}},e.GPOS={},e.GPOS.parse=function(i,s,a,o){return e._lctf.parse(i,s,a,o,e.GPOS.subt)},e.GPOS.subt=function(i,s,a,o){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(i,a),a+=2,s==1||s==2||s==3||s==7||s==8&&u.fmt<=2){var f=l.readUshort(i,a);a+=2,u.coverage=e._lctf.readCoverage(i,f+c)}if(s==1&&u.fmt==1){var d=l.readUshort(i,a);a+=2,d!=0&&(u.pos=e.GPOS.readValueRecord(i,a,d))}else if(s==2&&u.fmt>=1&&u.fmt<=2){d=l.readUshort(i,a),a+=2;var p=l.readUshort(i,a);a+=2;var v=e._lctf.numOfOnes(d),b=e._lctf.numOfOnes(p);if(u.fmt==1){u.pairsets=[];var x=l.readUshort(i,a);a+=2;for(var y=0;y<x;y++){var w=c+l.readUshort(i,a);a+=2;var _=l.readUshort(i,w);w+=2;for(var S=[],M=0;M<_;M++){var E=l.readUshort(i,w);w+=2,d!=0&&(O=e.GPOS.readValueRecord(i,w,d),w+=2*v),p!=0&&(D=e.GPOS.readValueRecord(i,w,p),w+=2*b),S.push({gid2:E,val1:O,val2:D})}u.pairsets.push(S)}}if(u.fmt==2){var A=l.readUshort(i,a);a+=2;var C=l.readUshort(i,a);a+=2;var P=l.readUshort(i,a);a+=2;var R=l.readUshort(i,a);for(a+=2,u.classDef1=e._lctf.readClassDef(i,c+A),u.classDef2=e._lctf.readClassDef(i,c+C),u.matrix=[],y=0;y<P;y++){var L=[];for(M=0;M<R;M++){var O=null,D=null;d!=0&&(O=e.GPOS.readValueRecord(i,a,d),a+=2*v),p!=0&&(D=e.GPOS.readValueRecord(i,a,p),a+=2*b),L.push({val1:O,val2:D})}u.matrix.push(L)}}}else if(s==4&&u.fmt==1)u.markCoverage=e._lctf.readCoverage(i,l.readUshort(i,a)+c),u.baseCoverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+c),u.markClassCount=l.readUshort(i,a+4),u.markArray=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+c),u.baseArray=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+c,u.markClassCount);else if(s==6&&u.fmt==1)u.mark1Coverage=e._lctf.readCoverage(i,l.readUshort(i,a)+c),u.mark2Coverage=e._lctf.readCoverage(i,l.readUshort(i,a+2)+c),u.markClassCount=l.readUshort(i,a+4),u.mark1Array=e.GPOS.readMarkArray(i,l.readUshort(i,a+6)+c),u.mark2Array=e.GPOS.readBaseArray(i,l.readUshort(i,a+8)+c,u.markClassCount);else{if(s==9&&u.fmt==1){var I=l.readUshort(i,a);a+=2;var z=l.readUint(i,a);if(a+=4,o.ltype==9)o.ltype=I;else if(o.ltype!=I)throw"invalid extension substitution";return e.GPOS.subt(i,o.ltype,c+z)}console.debug("unsupported GPOS table LookupType",s,"format",u.fmt)}return u},e.GPOS.readValueRecord=function(i,s,a){var o=e._bin,l=[];return l.push(1&a?o.readShort(i,s):0),s+=1&a?2:0,l.push(2&a?o.readShort(i,s):0),s+=2&a?2:0,l.push(4&a?o.readShort(i,s):0),s+=4&a?2:0,l.push(8&a?o.readShort(i,s):0),s+=8&a?2:0,l},e.GPOS.readBaseArray=function(i,s,a){var o=e._bin,l=[],c=s,u=o.readUshort(i,s);s+=2;for(var f=0;f<u;f++){for(var d=[],p=0;p<a;p++)d.push(e.GPOS.readAnchorRecord(i,c+o.readUshort(i,s))),s+=2;l.push(d)}return l},e.GPOS.readMarkArray=function(i,s){var a=e._bin,o=[],l=s,c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=e.GPOS.readAnchorRecord(i,a.readUshort(i,s+2)+l);f.markClass=a.readUshort(i,s),o.push(f),s+=4}return o},e.GPOS.readAnchorRecord=function(i,s){var a=e._bin,o={};return o.fmt=a.readUshort(i,s),o.x=a.readShort(i,s+2),o.y=a.readShort(i,s+4),o},e.GSUB={},e.GSUB.parse=function(i,s,a,o){return e._lctf.parse(i,s,a,o,e.GSUB.subt)},e.GSUB.subt=function(i,s,a,o){var l=e._bin,c=a,u={};if(u.fmt=l.readUshort(i,a),a+=2,s!=1&&s!=2&&s!=4&&s!=5&&s!=6)return null;if(s==1||s==2||s==4||s==5&&u.fmt<=2||s==6&&u.fmt<=2){var f=l.readUshort(i,a);a+=2,u.coverage=e._lctf.readCoverage(i,c+f)}if(s==1&&u.fmt>=1&&u.fmt<=2){if(u.fmt==1)u.delta=l.readShort(i,a),a+=2;else if(u.fmt==2){var d=l.readUshort(i,a);a+=2,u.newg=l.readUshorts(i,a,d),a+=2*u.newg.length}}else if(s==2&&u.fmt==1){d=l.readUshort(i,a),a+=2,u.seqs=[];for(var p=0;p<d;p++){var v=l.readUshort(i,a)+c;a+=2;var b=l.readUshort(i,v);u.seqs.push(l.readUshorts(i,v+2,b))}}else if(s==4)for(u.vals=[],d=l.readUshort(i,a),a+=2,p=0;p<d;p++){var x=l.readUshort(i,a);a+=2,u.vals.push(e.GSUB.readLigatureSet(i,c+x))}else if(s==5&&u.fmt==2){if(u.fmt==2){var y=l.readUshort(i,a);a+=2,u.cDef=e._lctf.readClassDef(i,c+y),u.scset=[];var w=l.readUshort(i,a);for(a+=2,p=0;p<w;p++){var _=l.readUshort(i,a);a+=2,u.scset.push(_==0?null:e.GSUB.readSubClassSet(i,c+_))}}}else if(s==6&&u.fmt==3){if(u.fmt==3){for(p=0;p<3;p++){d=l.readUshort(i,a),a+=2;for(var S=[],M=0;M<d;M++)S.push(e._lctf.readCoverage(i,c+l.readUshort(i,a+2*M)));a+=2*d,p==0&&(u.backCvg=S),p==1&&(u.inptCvg=S),p==2&&(u.ahedCvg=S)}d=l.readUshort(i,a),a+=2,u.lookupRec=e.GSUB.readSubstLookupRecords(i,a,d)}}else{if(s==7&&u.fmt==1){var E=l.readUshort(i,a);a+=2;var A=l.readUint(i,a);if(a+=4,o.ltype==9)o.ltype=E;else if(o.ltype!=E)throw"invalid extension substitution";return e.GSUB.subt(i,o.ltype,c+A)}console.debug("unsupported GSUB table LookupType",s,"format",u.fmt)}return u},e.GSUB.readSubClassSet=function(i,s){var a=e._bin.readUshort,o=s,l=[],c=a(i,s);s+=2;for(var u=0;u<c;u++){var f=a(i,s);s+=2,l.push(e.GSUB.readSubClassRule(i,o+f))}return l},e.GSUB.readSubClassRule=function(i,s){var a=e._bin.readUshort,o={},l=a(i,s),c=a(i,s+=2);s+=2,o.input=[];for(var u=0;u<l-1;u++)o.input.push(a(i,s)),s+=2;return o.substLookupRecords=e.GSUB.readSubstLookupRecords(i,s,c),o},e.GSUB.readSubstLookupRecords=function(i,s,a){for(var o=e._bin.readUshort,l=[],c=0;c<a;c++)l.push(o(i,s),o(i,s+2)),s+=4;return l},e.GSUB.readChainSubClassSet=function(i,s){var a=e._bin,o=s,l=[],c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2,l.push(e.GSUB.readChainSubClassRule(i,o+f))}return l},e.GSUB.readChainSubClassRule=function(i,s){for(var a=e._bin,o={},l=["backtrack","input","lookahead"],c=0;c<l.length;c++){var u=a.readUshort(i,s);s+=2,c==1&&u--,o[l[c]]=a.readUshorts(i,s,u),s+=2*o[l[c]].length}return u=a.readUshort(i,s),s+=2,o.subst=a.readUshorts(i,s,2*u),s+=2*o.subst.length,o},e.GSUB.readLigatureSet=function(i,s){var a=e._bin,o=s,l=[],c=a.readUshort(i,s);s+=2;for(var u=0;u<c;u++){var f=a.readUshort(i,s);s+=2,l.push(e.GSUB.readLigature(i,o+f))}return l},e.GSUB.readLigature=function(i,s){var a=e._bin,o={chain:[]};o.nglyph=a.readUshort(i,s),s+=2;var l=a.readUshort(i,s);s+=2;for(var c=0;c<l-1;c++)o.chain.push(a.readUshort(i,s)),s+=2;return o},e.head={},e.head.parse=function(i,s,a){var o=e._bin,l={};return o.readFixed(i,s),s+=4,l.fontRevision=o.readFixed(i,s),s+=4,o.readUint(i,s),s+=4,o.readUint(i,s),s+=4,l.flags=o.readUshort(i,s),s+=2,l.unitsPerEm=o.readUshort(i,s),s+=2,l.created=o.readUint64(i,s),s+=8,l.modified=o.readUint64(i,s),s+=8,l.xMin=o.readShort(i,s),s+=2,l.yMin=o.readShort(i,s),s+=2,l.xMax=o.readShort(i,s),s+=2,l.yMax=o.readShort(i,s),s+=2,l.macStyle=o.readUshort(i,s),s+=2,l.lowestRecPPEM=o.readUshort(i,s),s+=2,l.fontDirectionHint=o.readShort(i,s),s+=2,l.indexToLocFormat=o.readShort(i,s),s+=2,l.glyphDataFormat=o.readShort(i,s),s+=2,l},e.hhea={},e.hhea.parse=function(i,s,a){var o=e._bin,l={};return o.readFixed(i,s),s+=4,l.ascender=o.readShort(i,s),s+=2,l.descender=o.readShort(i,s),s+=2,l.lineGap=o.readShort(i,s),s+=2,l.advanceWidthMax=o.readUshort(i,s),s+=2,l.minLeftSideBearing=o.readShort(i,s),s+=2,l.minRightSideBearing=o.readShort(i,s),s+=2,l.xMaxExtent=o.readShort(i,s),s+=2,l.caretSlopeRise=o.readShort(i,s),s+=2,l.caretSlopeRun=o.readShort(i,s),s+=2,l.caretOffset=o.readShort(i,s),s+=2,s+=8,l.metricDataFormat=o.readShort(i,s),s+=2,l.numberOfHMetrics=o.readUshort(i,s),s+=2,l},e.hmtx={},e.hmtx.parse=function(i,s,a,o){for(var l=e._bin,c={aWidth:[],lsBearing:[]},u=0,f=0,d=0;d<o.maxp.numGlyphs;d++)d<o.hhea.numberOfHMetrics&&(u=l.readUshort(i,s),s+=2,f=l.readShort(i,s),s+=2),c.aWidth.push(u),c.lsBearing.push(f);return c},e.kern={},e.kern.parse=function(i,s,a,o){var l=e._bin,c=l.readUshort(i,s);if(s+=2,c==1)return e.kern.parseV1(i,s-2,a,o);var u=l.readUshort(i,s);s+=2;for(var f={glyph1:[],rval:[]},d=0;d<u;d++){s+=2,a=l.readUshort(i,s),s+=2;var p=l.readUshort(i,s);s+=2;var v=p>>>8;if((v&=15)!=0)throw"unknown kern table format: "+v;s=e.kern.readFormat0(i,s,f)}return f},e.kern.parseV1=function(i,s,a,o){var l=e._bin;l.readFixed(i,s),s+=4;var c=l.readUint(i,s);s+=4;for(var u={glyph1:[],rval:[]},f=0;f<c;f++){l.readUint(i,s),s+=4;var d=l.readUshort(i,s);s+=2,l.readUshort(i,s),s+=2;var p=d>>>8;if((p&=15)!=0)throw"unknown kern table format: "+p;s=e.kern.readFormat0(i,s,u)}return u},e.kern.readFormat0=function(i,s,a){var o=e._bin,l=-1,c=o.readUshort(i,s);s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2,o.readUshort(i,s),s+=2;for(var u=0;u<c;u++){var f=o.readUshort(i,s);s+=2;var d=o.readUshort(i,s);s+=2;var p=o.readShort(i,s);s+=2,f!=l&&(a.glyph1.push(f),a.rval.push({glyph2:[],vals:[]}));var v=a.rval[a.rval.length-1];v.glyph2.push(d),v.vals.push(p),l=f}return s},e.loca={},e.loca.parse=function(i,s,a,o){var l=e._bin,c=[],u=o.head.indexToLocFormat,f=o.maxp.numGlyphs+1;if(u==0)for(var d=0;d<f;d++)c.push(l.readUshort(i,s+(d<<1))<<1);if(u==1)for(d=0;d<f;d++)c.push(l.readUint(i,s+(d<<2)));return c},e.maxp={},e.maxp.parse=function(i,s,a){var o=e._bin,l={},c=o.readUint(i,s);return s+=4,l.numGlyphs=o.readUshort(i,s),s+=2,c==65536&&(l.maxPoints=o.readUshort(i,s),s+=2,l.maxContours=o.readUshort(i,s),s+=2,l.maxCompositePoints=o.readUshort(i,s),s+=2,l.maxCompositeContours=o.readUshort(i,s),s+=2,l.maxZones=o.readUshort(i,s),s+=2,l.maxTwilightPoints=o.readUshort(i,s),s+=2,l.maxStorage=o.readUshort(i,s),s+=2,l.maxFunctionDefs=o.readUshort(i,s),s+=2,l.maxInstructionDefs=o.readUshort(i,s),s+=2,l.maxStackElements=o.readUshort(i,s),s+=2,l.maxSizeOfInstructions=o.readUshort(i,s),s+=2,l.maxComponentElements=o.readUshort(i,s),s+=2,l.maxComponentDepth=o.readUshort(i,s),s+=2),l},e.name={},e.name.parse=function(i,s,a){var o=e._bin,l={};o.readUshort(i,s),s+=2;var c=o.readUshort(i,s);s+=2,o.readUshort(i,s);for(var u,f=["copyright","fontFamily","fontSubfamily","ID","fullName","version","postScriptName","trademark","manufacturer","designer","description","urlVendor","urlDesigner","licence","licenceURL","---","typoFamilyName","typoSubfamilyName","compatibleFull","sampleText","postScriptCID","wwsFamilyName","wwsSubfamilyName","lightPalette","darkPalette"],d=s+=2,p=0;p<c;p++){var v=o.readUshort(i,s);s+=2;var b=o.readUshort(i,s);s+=2;var x=o.readUshort(i,s);s+=2;var y=o.readUshort(i,s);s+=2;var w=o.readUshort(i,s);s+=2;var _=o.readUshort(i,s);s+=2;var S,M=f[y],E=d+12*c+_;if(v==0)S=o.readUnicode(i,E,w/2);else if(v==3&&b==0)S=o.readUnicode(i,E,w/2);else if(b==0)S=o.readASCII(i,E,w);else if(b==1)S=o.readUnicode(i,E,w/2);else if(b==3)S=o.readUnicode(i,E,w/2);else{if(v!=1)throw"unknown encoding "+b+", platformID: "+v;S=o.readASCII(i,E,w),console.debug("reading unknown MAC encoding "+b+" as ASCII")}var A="p"+v+","+x.toString(16);l[A]==null&&(l[A]={}),l[A][M!==void 0?M:y]=S,l[A]._lang=x}for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==1033)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==0)return l[C];for(var C in l)if(l[C].postScriptName!=null&&l[C]._lang==3084)return l[C];for(var C in l)if(l[C].postScriptName!=null)return l[C];for(var C in l){u=C;break}return console.debug("returning name table with languageID "+l[u]._lang),l[u]},e["OS/2"]={},e["OS/2"].parse=function(i,s,a){var o=e._bin.readUshort(i,s);s+=2;var l={};if(o==0)e["OS/2"].version0(i,s,l);else if(o==1)e["OS/2"].version1(i,s,l);else if(o==2||o==3||o==4)e["OS/2"].version2(i,s,l);else{if(o!=5)throw"unknown OS/2 table version: "+o;e["OS/2"].version5(i,s,l)}return l},e["OS/2"].version0=function(i,s,a){var o=e._bin;return a.xAvgCharWidth=o.readShort(i,s),s+=2,a.usWeightClass=o.readUshort(i,s),s+=2,a.usWidthClass=o.readUshort(i,s),s+=2,a.fsType=o.readUshort(i,s),s+=2,a.ySubscriptXSize=o.readShort(i,s),s+=2,a.ySubscriptYSize=o.readShort(i,s),s+=2,a.ySubscriptXOffset=o.readShort(i,s),s+=2,a.ySubscriptYOffset=o.readShort(i,s),s+=2,a.ySuperscriptXSize=o.readShort(i,s),s+=2,a.ySuperscriptYSize=o.readShort(i,s),s+=2,a.ySuperscriptXOffset=o.readShort(i,s),s+=2,a.ySuperscriptYOffset=o.readShort(i,s),s+=2,a.yStrikeoutSize=o.readShort(i,s),s+=2,a.yStrikeoutPosition=o.readShort(i,s),s+=2,a.sFamilyClass=o.readShort(i,s),s+=2,a.panose=o.readBytes(i,s,10),s+=10,a.ulUnicodeRange1=o.readUint(i,s),s+=4,a.ulUnicodeRange2=o.readUint(i,s),s+=4,a.ulUnicodeRange3=o.readUint(i,s),s+=4,a.ulUnicodeRange4=o.readUint(i,s),s+=4,a.achVendID=[o.readInt8(i,s),o.readInt8(i,s+1),o.readInt8(i,s+2),o.readInt8(i,s+3)],s+=4,a.fsSelection=o.readUshort(i,s),s+=2,a.usFirstCharIndex=o.readUshort(i,s),s+=2,a.usLastCharIndex=o.readUshort(i,s),s+=2,a.sTypoAscender=o.readShort(i,s),s+=2,a.sTypoDescender=o.readShort(i,s),s+=2,a.sTypoLineGap=o.readShort(i,s),s+=2,a.usWinAscent=o.readUshort(i,s),s+=2,a.usWinDescent=o.readUshort(i,s),s+=2},e["OS/2"].version1=function(i,s,a){var o=e._bin;return s=e["OS/2"].version0(i,s,a),a.ulCodePageRange1=o.readUint(i,s),s+=4,a.ulCodePageRange2=o.readUint(i,s),s+=4},e["OS/2"].version2=function(i,s,a){var o=e._bin;return s=e["OS/2"].version1(i,s,a),a.sxHeight=o.readShort(i,s),s+=2,a.sCapHeight=o.readShort(i,s),s+=2,a.usDefault=o.readUshort(i,s),s+=2,a.usBreak=o.readUshort(i,s),s+=2,a.usMaxContext=o.readUshort(i,s),s+=2},e["OS/2"].version5=function(i,s,a){var o=e._bin;return s=e["OS/2"].version2(i,s,a),a.usLowerOpticalPointSize=o.readUshort(i,s),s+=2,a.usUpperOpticalPointSize=o.readUshort(i,s),s+=2},e.post={},e.post.parse=function(i,s,a){var o=e._bin,l={};return l.version=o.readFixed(i,s),s+=4,l.italicAngle=o.readFixed(i,s),s+=4,l.underlinePosition=o.readShort(i,s),s+=2,l.underlineThickness=o.readShort(i,s),s+=2,l},e==null&&(e={}),e.U==null&&(e.U={}),e.U.codeToGlyph=function(i,s){var a=i.cmap,o=-1;if(a.p0e4!=null?o=a.p0e4:a.p3e1!=null?o=a.p3e1:a.p1e0!=null?o=a.p1e0:a.p0e3!=null&&(o=a.p0e3),o==-1)throw"no familiar platform and encoding!";var l=a.tables[o];if(l.format==0)return s>=l.map.length?0:l.map[s];if(l.format==4){for(var c=-1,u=0;u<l.endCount.length;u++)if(s<=l.endCount[u]){c=u;break}return c==-1||l.startCount[c]>s?0:65535&(l.idRangeOffset[c]!=0?l.glyphIdArray[s-l.startCount[c]+(l.idRangeOffset[c]>>1)-(l.idRangeOffset.length-c)]:s+l.idDelta[c])}if(l.format==12){if(s>l.groups[l.groups.length-1][1])return 0;for(u=0;u<l.groups.length;u++){var f=l.groups[u];if(f[0]<=s&&s<=f[1])return f[2]+(s-f[0])}return 0}throw"unknown cmap table format "+l.format},e.U.glyphToPath=function(i,s){var a={cmds:[],crds:[]};if(i.SVG&&i.SVG.entries[s]){var o=i.SVG.entries[s];return o==null?a:(typeof o=="string"&&(o=e.SVG.toPath(o),i.SVG.entries[s]=o),o)}if(i.CFF){var l={x:0,y:0,stack:[],nStems:0,haveWidth:!1,width:i.CFF.Private?i.CFF.Private.defaultWidthX:0,open:!1},c=i.CFF,u=i.CFF.Private;if(c.ROS){for(var f=0;c.FDSelect[f+2]<=s;)f+=2;u=c.FDArray[c.FDSelect[f+1]].Private}e.U._drawCFF(i.CFF.CharStrings[s],l,c,u,a)}else i.glyf&&e.U._drawGlyf(s,i,a);return a},e.U._drawGlyf=function(i,s,a){var o=s.glyf[i];o==null&&(o=s.glyf[i]=e.glyf._parseGlyf(s,i)),o!=null&&(o.noc>-1?e.U._simpleGlyph(o,a):e.U._compoGlyph(o,s,a))},e.U._simpleGlyph=function(i,s){for(var a=0;a<i.noc;a++){for(var o=a==0?0:i.endPts[a-1]+1,l=i.endPts[a],c=o;c<=l;c++){var u=c==o?l:c-1,f=c==l?o:c+1,d=1&i.flags[c],p=1&i.flags[u],v=1&i.flags[f],b=i.xs[c],x=i.ys[c];if(c==o)if(d){if(!p){e.U.P.moveTo(s,b,x);continue}e.U.P.moveTo(s,i.xs[u],i.ys[u])}else p?e.U.P.moveTo(s,i.xs[u],i.ys[u]):e.U.P.moveTo(s,(i.xs[u]+b)/2,(i.ys[u]+x)/2);d?p&&e.U.P.lineTo(s,b,x):v?e.U.P.qcurveTo(s,b,x,i.xs[f],i.ys[f]):e.U.P.qcurveTo(s,b,x,(b+i.xs[f])/2,(x+i.ys[f])/2)}e.U.P.closePath(s)}},e.U._compoGlyph=function(i,s,a){for(var o=0;o<i.parts.length;o++){var l={cmds:[],crds:[]},c=i.parts[o];e.U._drawGlyf(c.glyphIndex,s,l);for(var u=c.m,f=0;f<l.crds.length;f+=2){var d=l.crds[f],p=l.crds[f+1];a.crds.push(d*u.a+p*u.b+u.tx),a.crds.push(d*u.c+p*u.d+u.ty)}for(f=0;f<l.cmds.length;f++)a.cmds.push(l.cmds[f])}},e.U._getGlyphClass=function(i,s){var a=e._lctf.getInterval(s,i);return a==-1?0:s[a+2]},e.U._applySubs=function(i,s,a,o){for(var l=i.length-s-1,c=0;c<a.tabs.length;c++)if(a.tabs[c]!=null){var u,f=a.tabs[c];if(!f.coverage||(u=e._lctf.coverageIndex(f.coverage,i[s]))!=-1){if(a.ltype==1)i[s],f.fmt==1?i[s]=i[s]+f.delta:i[s]=f.newg[u];else if(a.ltype==4)for(var d=f.vals[u],p=0;p<d.length;p++){var v=d[p],b=v.chain.length;if(!(b>l)){for(var x=!0,y=0,w=0;w<b;w++){for(;i[s+y+(1+w)]==-1;)y++;v.chain[w]!=i[s+y+(1+w)]&&(x=!1)}if(x){for(i[s]=v.nglyph,w=0;w<b+y;w++)i[s+w+1]=-1;break}}}else if(a.ltype==5&&f.fmt==2)for(var _=e._lctf.getInterval(f.cDef,i[s]),S=f.cDef[_+2],M=f.scset[S],E=0;E<M.length;E++){var A=M[E],C=A.input;if(!(C.length>l)){for(x=!0,w=0;w<C.length;w++){var P=e._lctf.getInterval(f.cDef,i[s+1+w]);if(_==-1&&f.cDef[P+2]!=C[w]){x=!1;break}}if(x){var R=A.substLookupRecords;for(p=0;p<R.length;p+=2)R[p],R[p+1]}}}else if(a.ltype==6&&f.fmt==3){if(!e.U._glsCovered(i,f.backCvg,s-f.backCvg.length)||!e.U._glsCovered(i,f.inptCvg,s)||!e.U._glsCovered(i,f.ahedCvg,s+f.inptCvg.length))continue;var L=f.lookupRec;for(E=0;E<L.length;E+=2){_=L[E];var O=o[L[E+1]];e.U._applySubs(i,s+_,O,o)}}}}},e.U._glsCovered=function(i,s,a){for(var o=0;o<s.length;o++)if(e._lctf.coverageIndex(s[o],i[a+o])==-1)return!1;return!0},e.U.glyphsToPath=function(i,s,a){for(var o={cmds:[],crds:[]},l=0,c=0;c<s.length;c++){var u=s[c];if(u!=-1){for(var f=c<s.length-1&&s[c+1]!=-1?s[c+1]:0,d=e.U.glyphToPath(i,u),p=0;p<d.crds.length;p+=2)o.crds.push(d.crds[p]+l),o.crds.push(d.crds[p+1]);for(a&&o.cmds.push(a),p=0;p<d.cmds.length;p++)o.cmds.push(d.cmds[p]);a&&o.cmds.push("X"),l+=i.hmtx.aWidth[u],c<s.length-1&&(l+=e.U.getPairAdjustment(i,u,f))}}return o},e.U.P={},e.U.P.moveTo=function(i,s,a){i.cmds.push("M"),i.crds.push(s,a)},e.U.P.lineTo=function(i,s,a){i.cmds.push("L"),i.crds.push(s,a)},e.U.P.curveTo=function(i,s,a,o,l,c,u){i.cmds.push("C"),i.crds.push(s,a,o,l,c,u)},e.U.P.qcurveTo=function(i,s,a,o,l){i.cmds.push("Q"),i.crds.push(s,a,o,l)},e.U.P.closePath=function(i){i.cmds.push("Z")},e.U._drawCFF=function(i,s,a,o,l){for(var c=s.stack,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open,v=0,b=s.x,x=s.y,y=0,w=0,_=0,S=0,M=0,E=0,A=0,C=0,P=0,R=0,L={val:0,size:0};v<i.length;){e.CFF.getCharString(i,v,L);var O=L.val;if(v+=L.size,O=="o1"||O=="o18")c.length%2!=0&&!f&&(d=c.shift()+o.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(O=="o3"||O=="o23")c.length%2!=0&&!f&&(d=c.shift()+o.nominalWidthX),u+=c.length>>1,c.length=0,f=!0;else if(O=="o4")c.length>1&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),p&&e.U.P.closePath(l),x+=c.pop(),e.U.P.moveTo(l,b,x),p=!0;else if(O=="o5")for(;c.length>0;)b+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,b,x);else if(O=="o6"||O=="o7")for(var D=c.length,I=O=="o6",z=0;z<D;z++){var $=c.shift();I?b+=$:x+=$,I=!I,e.U.P.lineTo(l,b,x)}else if(O=="o8"||O=="o24"){D=c.length;for(var q=0;q+6<=D;)y=b+c.shift(),w=x+c.shift(),_=y+c.shift(),S=w+c.shift(),b=_+c.shift(),x=S+c.shift(),e.U.P.curveTo(l,y,w,_,S,b,x),q+=6;O=="o24"&&(b+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,b,x))}else{if(O=="o11")break;if(O=="o1234"||O=="o1235"||O=="o1236"||O=="o1237")O=="o1234"&&(w=x,_=(y=b+c.shift())+c.shift(),R=S=w+c.shift(),E=S,C=x,b=(A=(M=(P=_+c.shift())+c.shift())+c.shift())+c.shift(),e.U.P.curveTo(l,y,w,_,S,P,R),e.U.P.curveTo(l,M,E,A,C,b,x)),O=="o1235"&&(y=b+c.shift(),w=x+c.shift(),_=y+c.shift(),S=w+c.shift(),P=_+c.shift(),R=S+c.shift(),M=P+c.shift(),E=R+c.shift(),A=M+c.shift(),C=E+c.shift(),b=A+c.shift(),x=C+c.shift(),c.shift(),e.U.P.curveTo(l,y,w,_,S,P,R),e.U.P.curveTo(l,M,E,A,C,b,x)),O=="o1236"&&(y=b+c.shift(),w=x+c.shift(),_=y+c.shift(),R=S=w+c.shift(),E=S,A=(M=(P=_+c.shift())+c.shift())+c.shift(),C=E+c.shift(),b=A+c.shift(),e.U.P.curveTo(l,y,w,_,S,P,R),e.U.P.curveTo(l,M,E,A,C,b,x)),O=="o1237"&&(y=b+c.shift(),w=x+c.shift(),_=y+c.shift(),S=w+c.shift(),P=_+c.shift(),R=S+c.shift(),M=P+c.shift(),E=R+c.shift(),A=M+c.shift(),C=E+c.shift(),Math.abs(A-b)>Math.abs(C-x)?b=A+c.shift():x=C+c.shift(),e.U.P.curveTo(l,y,w,_,S,P,R),e.U.P.curveTo(l,M,E,A,C,b,x));else if(O=="o14"){if(c.length>0&&!f&&(d=c.shift()+a.nominalWidthX,f=!0),c.length==4){var V=c.shift(),U=c.shift(),W=c.shift(),k=c.shift(),H=e.CFF.glyphBySE(a,W),K=e.CFF.glyphBySE(a,k);e.U._drawCFF(a.CharStrings[H],s,a,o,l),s.x=V,s.y=U,e.U._drawCFF(a.CharStrings[K],s,a,o,l)}p&&(e.U.P.closePath(l),p=!1)}else if(O=="o19"||O=="o20")c.length%2!=0&&!f&&(d=c.shift()+o.nominalWidthX),u+=c.length>>1,c.length=0,f=!0,v+=u+7>>3;else if(O=="o21")c.length>2&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),x+=c.pop(),b+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,b,x),p=!0;else if(O=="o22")c.length>1&&!f&&(d=c.shift()+o.nominalWidthX,f=!0),b+=c.pop(),p&&e.U.P.closePath(l),e.U.P.moveTo(l,b,x),p=!0;else if(O=="o25"){for(;c.length>6;)b+=c.shift(),x+=c.shift(),e.U.P.lineTo(l,b,x);y=b+c.shift(),w=x+c.shift(),_=y+c.shift(),S=w+c.shift(),b=_+c.shift(),x=S+c.shift(),e.U.P.curveTo(l,y,w,_,S,b,x)}else if(O=="o26")for(c.length%2&&(b+=c.shift());c.length>0;)y=b,w=x+c.shift(),b=_=y+c.shift(),x=(S=w+c.shift())+c.shift(),e.U.P.curveTo(l,y,w,_,S,b,x);else if(O=="o27")for(c.length%2&&(x+=c.shift());c.length>0;)w=x,_=(y=b+c.shift())+c.shift(),S=w+c.shift(),b=_+c.shift(),x=S,e.U.P.curveTo(l,y,w,_,S,b,x);else if(O=="o10"||O=="o29"){var ne=O=="o10"?o:a;if(c.length==0)console.debug("error: empty stack");else{var te=c.pop(),ae=ne.Subrs[te+ne.Bias];s.x=b,s.y=x,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p,e.U._drawCFF(ae,s,a,o,l),b=s.x,x=s.y,u=s.nStems,f=s.haveWidth,d=s.width,p=s.open}}else if(O=="o30"||O=="o31"){var oe=c.length,he=(q=0,O=="o31");for(q+=oe-(D=-3&oe);q<D;)he?(w=x,_=(y=b+c.shift())+c.shift(),x=(S=w+c.shift())+c.shift(),D-q==5?(b=_+c.shift(),q++):b=_,he=!1):(y=b,w=x+c.shift(),_=y+c.shift(),S=w+c.shift(),b=_+c.shift(),D-q==5?(x=S+c.shift(),q++):x=S,he=!0),e.U.P.curveTo(l,y,w,_,S,b,x),q+=4}else{if((O+"").charAt(0)=="o")throw console.debug("Unknown operation: "+O,i),O;c.push(O)}}}s.x=b,s.y=x,s.nStems=u,s.haveWidth=f,s.width=d,s.open=p};var n=e,r={Typr:n};return t.Typr=n,t.default=r,Object.defineProperty(t,"__esModule",{value:!0}),t}({}).Typr}/*!
Custom bundle of woff2otf (https://github.com/arty-name/woff2otf) with fflate
(https://github.com/101arrowz/fflate) for use in Troika text rendering. 
Original licenses apply: 
- fflate: https://github.com/101arrowz/fflate/blob/master/LICENSE (MIT)
- woff2otf.js: https://github.com/arty-name/woff2otf/blob/master/woff2otf.js (Apache2)
*/function Nce(){return function(t){var e=Uint8Array,n=Uint16Array,r=Uint32Array,i=new e([0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0,0,0,0]),s=new e([0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13,0,0]),a=new e([16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15]),o=function(O,D){for(var I=new n(31),z=0;z<31;++z)I[z]=D+=1<<O[z-1];var $=new r(I[30]);for(z=1;z<30;++z)for(var q=I[z];q<I[z+1];++q)$[q]=q-I[z]<<5|z;return[I,$]},l=o(i,2),c=l[0],u=l[1];c[28]=258,u[258]=28;for(var f=o(s,0)[0],d=new n(32768),p=0;p<32768;++p){var v=(43690&p)>>>1|(21845&p)<<1;v=(61680&(v=(52428&v)>>>2|(13107&v)<<2))>>>4|(3855&v)<<4,d[p]=((65280&v)>>>8|(255&v)<<8)>>>1}var b=function(O,D,I){for(var z=O.length,$=0,q=new n(D);$<z;++$)++q[O[$]-1];var V,U=new n(D);for($=0;$<D;++$)U[$]=U[$-1]+q[$-1]<<1;if(I){V=new n(1<<D);var W=15-D;for($=0;$<z;++$)if(O[$])for(var k=$<<4|O[$],H=D-O[$],K=U[O[$]-1]++<<H,ne=K|(1<<H)-1;K<=ne;++K)V[d[K]>>>W]=k}else for(V=new n(z),$=0;$<z;++$)O[$]&&(V[$]=d[U[O[$]-1]++]>>>15-O[$]);return V},x=new e(288);for(p=0;p<144;++p)x[p]=8;for(p=144;p<256;++p)x[p]=9;for(p=256;p<280;++p)x[p]=7;for(p=280;p<288;++p)x[p]=8;var y=new e(32);for(p=0;p<32;++p)y[p]=5;var w=b(x,9,1),_=b(y,5,1),S=function(O){for(var D=O[0],I=1;I<O.length;++I)O[I]>D&&(D=O[I]);return D},M=function(O,D,I){var z=D/8|0;return(O[z]|O[z+1]<<8)>>(7&D)&I},E=function(O,D){var I=D/8|0;return(O[I]|O[I+1]<<8|O[I+2]<<16)>>(7&D)},A=["unexpected EOF","invalid block type","invalid length/literal","invalid distance","stream finished","no stream handler",,"no callback","invalid UTF-8 data","extra field too long","date not in range 1980-2099","filename too long","stream finishing","invalid zip data"],C=function(O,D,I){var z=new Error(D||A[O]);if(z.code=O,Error.captureStackTrace&&Error.captureStackTrace(z,C),!I)throw z;return z},P=function(O,D,I){var z=O.length;if(!z||I&&!I.l&&z<5)return D||new e(0);var $=!D||I,q=!I||I.i;I||(I={}),D||(D=new e(3*z));var V,U=function(Xe){var re=D.length;if(Xe>re){var we=new e(Math.max(2*re,Xe));we.set(D),D=we}},W=I.f||0,k=I.p||0,H=I.b||0,K=I.l,ne=I.d,te=I.m,ae=I.n,oe=8*z;do{if(!K){I.f=W=M(O,k,1);var he=M(O,k+1,3);if(k+=3,!he){var fe=O[(Be=((V=k)/8|0)+(7&V&&1)+4)-4]|O[Be-3]<<8,Ce=Be+fe;if(Ce>z){q&&C(0);break}$&&U(H+fe),D.set(O.subarray(Be,Ce),H),I.b=H+=fe,I.p=k=8*Ce;continue}if(he==1)K=w,ne=_,te=9,ae=5;else if(he==2){var le=M(O,k,31)+257,G=M(O,k+10,15)+4,me=le+M(O,k+5,31)+1;k+=14;for(var se=new e(me),xe=new e(19),pe=0;pe<G;++pe)xe[a[pe]]=M(O,k+3*pe,7);k+=3*G;var ze=S(xe),ve=(1<<ze)-1,Re=b(xe,ze,1);for(pe=0;pe<me;){var Be,ge=Re[M(O,k,ve)];if(k+=15&ge,(Be=ge>>>4)<16)se[pe++]=Be;else{var Ye=0,Y=0;for(Be==16?(Y=3+M(O,k,3),k+=2,Ye=se[pe-1]):Be==17?(Y=3+M(O,k,7),k+=3):Be==18&&(Y=11+M(O,k,127),k+=7);Y--;)se[pe++]=Ye}}var X=se.subarray(0,le),ie=se.subarray(le);te=S(X),ae=S(ie),K=b(X,te,1),ne=b(ie,ae,1)}else C(1);if(k>oe){q&&C(0);break}}$&&U(H+131072);for(var Fe=(1<<te)-1,ye=(1<<ae)-1,Ee=k;;Ee=k){var He=(Ye=K[E(O,k)&Fe])>>>4;if((k+=15&Ye)>oe){q&&C(0);break}if(Ye||C(2),He<256)D[H++]=He;else{if(He==256){Ee=k,K=null;break}var Ue=He-254;if(He>264){var $e=i[pe=He-257];Ue=M(O,k,(1<<$e)-1)+c[pe],k+=$e}var et=ne[E(O,k)&ye],tt=et>>>4;if(et||C(3),k+=15&et,ie=f[tt],tt>3&&($e=s[tt],ie+=E(O,k)&(1<<$e)-1,k+=$e),k>oe){q&&C(0);break}$&&U(H+131072);for(var Ne=H+Ue;H<Ne;H+=4)D[H]=D[H-ie],D[H+1]=D[H+1-ie],D[H+2]=D[H+2-ie],D[H+3]=D[H+3-ie];H=Ne}}I.l=K,I.p=Ee,I.b=H,K&&(W=1,I.m=te,I.d=ne,I.n=ae)}while(!W);return H==D.length?D:function(Xe,re,we){(re==null||re<0)&&(re=0),(we==null||we>Xe.length)&&(we=Xe.length);var Ve=new(Xe instanceof n?n:Xe instanceof r?r:e)(we-re);return Ve.set(Xe.subarray(re,we)),Ve}(D,0,H)},R=new e(0),L=typeof TextDecoder<"u"&&new TextDecoder;try{L.decode(R,{stream:!0})}catch{}return t.convert_streams=function(O){var D=new DataView(O),I=0;function z(){var le=D.getUint16(I);return I+=2,le}function $(){var le=D.getUint32(I);return I+=4,le}function q(le){fe.setUint16(Ce,le),Ce+=2}function V(le){fe.setUint32(Ce,le),Ce+=4}for(var U={signature:$(),flavor:$(),length:$(),numTables:z(),reserved:z(),totalSfntSize:$(),majorVersion:z(),minorVersion:z(),metaOffset:$(),metaLength:$(),metaOrigLength:$(),privOffset:$(),privLength:$()},W=0;Math.pow(2,W)<=U.numTables;)W++;W--;for(var k=16*Math.pow(2,W),H=16*U.numTables-k,K=12,ne=[],te=0;te<U.numTables;te++)ne.push({tag:$(),offset:$(),compLength:$(),origLength:$(),origChecksum:$()}),K+=16;var ae,oe=new Uint8Array(12+16*ne.length+ne.reduce(function(le,G){return le+G.origLength+4},0)),he=oe.buffer,fe=new DataView(he),Ce=0;return V(U.flavor),q(U.numTables),q(k),q(W),q(H),ne.forEach(function(le){V(le.tag),V(le.origChecksum),V(K),V(le.origLength),le.outOffset=K,(K+=le.origLength)%4!=0&&(K+=4-K%4)}),ne.forEach(function(le){var G,me=O.slice(le.offset,le.offset+le.compLength);if(le.compLength!=le.origLength){var se=new Uint8Array(le.origLength);G=new Uint8Array(me,2),P(G,se)}else se=new Uint8Array(me);oe.set(se,le.outOffset);var xe=0;(K=le.outOffset+le.origLength)%4!=0&&(xe=4-K%4),oe.set(new Uint8Array(xe).buffer,le.outOffset+le.origLength),ae=K+xe}),he.slice(0,ae)},Object.defineProperty(t,"__esModule",{value:!0}),t}({}).convert_streams}function Rce(t,e){const n={M:2,L:2,Q:4,C:6,Z:0},r={C:"18g,ca,368,1kz",D:"17k,6,2,2+4,5+c,2+6,2+1,10+1,9+f,j+11,2+1,a,2,2+1,15+2,3,j+2,6+3,2+8,2,2,2+1,w+a,4+e,3+3,2,3+2,3+5,23+w,2f+4,3,2+9,2,b,2+3,3,1k+9,6+1,3+1,2+2,2+d,30g,p+y,1,1+1g,f+x,2,sd2+1d,jf3+4,f+3,2+4,2+2,b+3,42,2,4+2,2+1,2,3,t+1,9f+w,2,el+2,2+g,d+2,2l,2+1,5,3+1,2+1,2,3,6,16wm+1v",R:"17m+3,2,2,6+3,m,15+2,2+2,h+h,13,3+8,2,2,3+1,2,p+1,x,5+4,5,a,2,2,3,u,c+2,g+1,5,2+1,4+1,5j,6+1,2,b,2+2,f,2+1,1s+2,2,3+1,7,1ez0,2,2+1,4+4,b,4,3,b,42,2+2,4,3,2+1,2,o+3,ae,ep,x,2o+2,3+1,3,5+1,6",L:"x9u,jff,a,fd,jv",T:"4t,gj+33,7o+4,1+1,7c+18,2,2+1,2+1,2,21+a,2,1b+k,h,2u+6,3+5,3+1,2+3,y,2,v+q,2k+a,1n+8,a,p+3,2+8,2+2,2+4,18+2,3c+e,2+v,1k,2,5+7,5,4+6,b+1,u,1n,5+3,9,l+1,r,3+1,1m,5+1,5+1,3+2,4,v+1,4,c+1,1m,5+4,2+1,5,l+1,n+5,2,1n,3,2+3,9,8+1,c+1,v,1q,d,1f,4,1m+2,6+2,2+3,8+1,c+1,u,1n,3,7,6+1,l+1,t+1,1m+1,5+3,9,l+1,u,21,8+2,2,2j,3+6,d+7,2r,3+8,c+5,23+1,s,2,2,1k+d,2+4,2+1,6+a,2+z,a,2v+3,2+5,2+1,3+1,q+1,5+2,h+3,e,3+1,7,g,jk+2,qb+2,u+2,u+1,v+1,1t+1,2+6,9,3+a,a,1a+2,3c+1,z,3b+2,5+1,a,7+2,64+1,3,1n,2+6,2,2,3+7,7+9,3,1d+d,1,1+1,1s+3,1d,2+4,2,6,15+8,d+1,x+3,3+1,2+2,1l,2+1,4,2+2,1n+7,3+1,49+2,2+c,2+6,5,7,4+1,5j+1l,2+4,ek,3+1,r+4,1e+4,6+5,2p+c,1+3,1,1+2,1+b,2db+2,3y,2p+v,ff+3,30+1,n9x,1+2,2+9,x+1,29+1,7l,4,5,q+1,6,48+1,r+h,e,13+7,q+a,1b+2,1d,3+3,3+1,14,1w+5,3+1,3+1,d,9,1c,1g,2+2,3+1,6+1,2,17+1,9,6n,3,5,fn5,ki+f,h+f,5s,6y+2,ea,6b,46+4,1af+2,2+1,6+3,15+2,5,4m+1,fy+3,as+1,4a+a,4x,1j+e,1l+2,1e+3,3+1,1y+2,11+4,2+7,1r,d+1,1h+8,b+3,3,2o+2,3,2+1,7,4h,4+7,m+1,1m+1,4,12+6,4+4,5g+7,3+2,2,o,2d+5,2,5+1,2+1,6n+3,7+1,2+1,s+1,2e+7,3,2+1,2z,2,3+5,2,2u+2,3+3,2+4,78+8,2+1,75+1,2,5,41+3,3+1,5,x+9,15+5,3+3,9,a+5,3+2,1b+c,2+1,bb+6,2+5,2,2b+l,3+6,2+1,2+1,3f+5,4,2+1,2+6,2,21+1,4,2,9o+1,470+8,at4+4,1o+6,t5,1s+3,2a,f5l+1,2+3,43o+2,a+7,1+7,3+6,v+3,45+2,1j0+1i,5+1d,9,f,n+4,2+e,11t+6,2+g,3+6,2+1,2+4,7a+6,c6+3,15t+6,32+6,1,gzau,v+2n,3l+6n"},i=1,s=2,a=4,o=8,l=16,c=32;let u;function f(A){if(!u){const C={R:s,L:i,D:a,C:l,U:c,T:o};u=new Map;for(let P in r){let R=0;r[P].split(",").forEach(L=>{let[O,D]=L.split("+");O=parseInt(O,36),D=D?parseInt(D,36):0,u.set(R+=O,C[P]);for(let I=D;I--;)u.set(++R,C[P])})}}return u.get(A)||c}const d=1,p=2,v=3,b=4,x=[null,"isol","init","fina","medi"];function y(A){const C=new Uint8Array(A.length);let P=c,R=d,L=-1;for(let O=0;O<A.length;O++){const D=A.codePointAt(O);let I=f(D)|0,z=d;I&o||(P&(i|a|l)?I&(s|a|l)?(z=v,(R===d||R===v)&&C[L]++):I&(i|c)&&(R===p||R===b)&&C[L]--:P&(s|c)&&(R===p||R===b)&&C[L]--,R=C[O]=z,P=I,L=O,D>65535&&O++)}return C}function w(A,C){const P=[];for(let L=0;L<C.length;L++){const O=C.codePointAt(L);O>65535&&L++,P.push(t.U.codeToGlyph(A,O))}const R=A.GSUB;if(R){const{lookupList:L,featureList:O}=R;let D;const I=/^(rlig|liga|mset|isol|init|fina|medi|half|pres|blws|ccmp)$/,z=[];O.forEach($=>{if(I.test($.tag))for(let q=0;q<$.tab.length;q++){if(z[$.tab[q]])continue;z[$.tab[q]]=!0;const V=L[$.tab[q]],U=/^(isol|init|fina|medi)$/.test($.tag);U&&!D&&(D=y(C));for(let W=0;W<P.length;W++)(!D||!U||x[D[W]]===$.tag)&&t.U._applySubs(P,W,V,L)}})}return P}function _(A,C){const P=new Int16Array(C.length*3);let R=0;for(;R<C.length;R++){const I=C[R];if(I===-1)continue;P[R*3+2]=A.hmtx.aWidth[I];const z=A.GPOS;if(z){const $=z.lookupList;for(let q=0;q<$.length;q++){const V=$[q];for(let U=0;U<V.tabs.length;U++){const W=V.tabs[U];if(V.ltype===1){if(t._lctf.coverageIndex(W.coverage,I)!==-1&&W.pos){D(W.pos,R);break}}else if(V.ltype===2){let k=null,H=L();if(H!==-1){const K=t._lctf.coverageIndex(W.coverage,C[H]);if(K!==-1){if(W.fmt===1){const ne=W.pairsets[K];for(let te=0;te<ne.length;te++)ne[te].gid2===I&&(k=ne[te])}else if(W.fmt===2){const ne=t.U._getGlyphClass(C[H],W.classDef1),te=t.U._getGlyphClass(I,W.classDef2);k=W.matrix[ne][te]}if(k){k.val1&&D(k.val1,H),k.val2&&D(k.val2,R);break}}}}else if(V.ltype===4){const k=t._lctf.coverageIndex(W.markCoverage,I);if(k!==-1){const H=L(O),K=H===-1?-1:t._lctf.coverageIndex(W.baseCoverage,C[H]);if(K!==-1){const ne=W.markArray[k],te=W.baseArray[K][ne.markClass];P[R*3]=te.x-ne.x+P[H*3]-P[H*3+2],P[R*3+1]=te.y-ne.y+P[H*3+1];break}}}else if(V.ltype===6){const k=t._lctf.coverageIndex(W.mark1Coverage,I);if(k!==-1){const H=L();if(H!==-1){const K=C[H];if(S(A,K)===3){const ne=t._lctf.coverageIndex(W.mark2Coverage,K);if(ne!==-1){const te=W.mark1Array[k],ae=W.mark2Array[ne][te.markClass];P[R*3]=ae.x-te.x+P[H*3]-P[H*3+2],P[R*3+1]=ae.y-te.y+P[H*3+1];break}}}}}}}}else if(A.kern&&!A.cff){const $=L();if($!==-1){const q=A.kern.glyph1.indexOf(C[$]);if(q!==-1){const V=A.kern.rval[q].glyph2.indexOf(I);V!==-1&&(P[$*3+2]+=A.kern.rval[q].vals[V])}}}}return P;function L(I){for(let z=R-1;z>=0;z--)if(C[z]!==-1&&(!I||I(C[z])))return z;return-1}function O(I){return S(A,I)===1}function D(I,z){for(let $=0;$<3;$++)P[z*3+$]+=I[$]||0}}function S(A,C){const P=A.GDEF&&A.GDEF.glyphClassDef;return P?t.U._getGlyphClass(C,P):0}function M(...A){for(let C=0;C<A.length;C++)if(typeof A[C]=="number")return A[C]}function E(A){const C=Object.create(null),P=A["OS/2"],R=A.hhea,L=A.head.unitsPerEm,O=M(P&&P.sTypoAscender,R&&R.ascender,L),D={unitsPerEm:L,ascender:O,descender:M(P&&P.sTypoDescender,R&&R.descender,0),capHeight:M(P&&P.sCapHeight,O),xHeight:M(P&&P.sxHeight,O),lineGap:M(P&&P.sTypoLineGap,R&&R.lineGap),supportsCodePoint(I){return t.U.codeToGlyph(A,I)>0},forEachGlyph(I,z,$,q){let V=0;const U=1/D.unitsPerEm*z,W=w(A,I);let k=0;const H=_(A,W);return W.forEach((K,ne)=>{if(K!==-1){let te=C[K];if(!te){const{cmds:ae,crds:oe}=t.U.glyphToPath(A,K);let he="",fe=0;for(let se=0,xe=ae.length;se<xe;se++){const pe=n[ae[se]];he+=ae[se];for(let ze=1;ze<=pe;ze++)he+=(ze>1?",":"")+oe[fe++]}let Ce,le,G,me;if(oe.length){Ce=le=1/0,G=me=-1/0;for(let se=0,xe=oe.length;se<xe;se+=2){let pe=oe[se],ze=oe[se+1];pe<Ce&&(Ce=pe),ze<le&&(le=ze),pe>G&&(G=pe),ze>me&&(me=ze)}}else Ce=G=le=me=0;te=C[K]={index:K,advanceWidth:A.hmtx.aWidth[K],xMin:Ce,yMin:le,xMax:G,yMax:me,path:he}}q.call(null,te,V+H[ne*3]*U,H[ne*3+1]*U,k),V+=H[ne*3+2]*U,$&&(V+=$*z)}k+=I.codePointAt(k)>65535?2:1}),V}};return D}return function(C){const P=new Uint8Array(C,0,4),R=t._bin.readASCII(P,0,4);if(R==="wOFF")C=e(C);else if(R==="wOF2")throw new Error("woff2 fonts not supported");return E(t.parse(C)[0])}}const Oce=Xh({name:"Typr Font Parser",dependencies:[Cce,Nce,Rce],init(t,e,n){const r=t(),i=e();return n(r,i)}});/*!
Custom bundle of @unicode-font-resolver/client v1.0.2 (https://github.com/lojjic/unicode-font-resolver)
for use in Troika text rendering. 
Original MIT license applies
*/function Lce(){return function(t){var e=function(){this.buckets=new Map};e.prototype.add=function(_){var S=_>>5;this.buckets.set(S,(this.buckets.get(S)||0)|1<<(31&_))},e.prototype.has=function(_){var S=this.buckets.get(_>>5);return S!==void 0&&(S&1<<(31&_))!=0},e.prototype.serialize=function(){var _=[];return this.buckets.forEach(function(S,M){_.push((+M).toString(36)+":"+S.toString(36))}),_.join(",")},e.prototype.deserialize=function(_){var S=this;this.buckets.clear(),_.split(",").forEach(function(M){var E=M.split(":");S.buckets.set(parseInt(E[0],36),parseInt(E[1],36))})};var n=Math.pow(2,8),r=n-1,i=~r;function s(_){var S=function(E){return E&i}(_).toString(16),M=function(E){return(E&i)+n-1}(_).toString(16);return"codepoint-index/plane"+(_>>16)+"/"+S+"-"+M+".json"}function a(_,S){var M=_&r,E=S.codePointAt(M/6|0);return((E=(E||48)-48)&1<<M%6)!=0}function o(_,S){var M;(M=_,M.replace(/U\+/gi,"").replace(/^,+|,+$/g,"").split(/,+/).map(function(E){return E.split("-").map(function(A){return parseInt(A.trim(),16)})})).forEach(function(E){var A=E[0],C=E[1];C===void 0&&(C=A),S(A,C)})}function l(_,S){o(_,function(M,E){for(var A=M;A<=E;A++)S(A)})}var c={},u={},f=new WeakMap,d="https://cdn.jsdelivr.net/gh/lojjic/unicode-font-resolver@v1.0.1/packages/data";function p(_){var S=f.get(_);return S||(S=new e,l(_.ranges,function(M){return S.add(M)}),f.set(_,S)),S}var v,b=new Map;function x(_,S,M){return _[S]?S:_[M]?M:function(E){for(var A in E)return A}(_)}function y(_,S){var M=S;if(!_.includes(M)){M=1/0;for(var E=0;E<_.length;E++)Math.abs(_[E]-S)<Math.abs(M-S)&&(M=_[E])}return M}function w(_){return v||(v=new Set,l("9-D,20,85,A0,1680,2000-200A,2028-202F,205F,3000",function(S){v.add(S)})),v.has(_)}return t.CodePointSet=e,t.clearCache=function(){c={},u={}},t.getFontsForString=function(_,S){S===void 0&&(S={});var M,E=S.lang;E===void 0&&(E=/\p{Script=Hangul}/u.test(M=_)?"ko":/\p{Script=Hiragana}|\p{Script=Katakana}/u.test(M)?"ja":"en");var A=S.category;A===void 0&&(A="sans-serif");var C=S.style;C===void 0&&(C="normal");var P=S.weight;P===void 0&&(P=400);var R=(S.dataUrl||d).replace(/\/$/g,""),L=new Map,O=new Uint8Array(_.length),D={},I={},z=new Array(_.length),$=new Map,q=!1;function V(k){var H=b.get(k);return H||(H=fetch(R+"/"+k).then(function(K){if(!K.ok)throw new Error(K.statusText);return K.json().then(function(ne){if(!Array.isArray(ne)||ne[0]!==1)throw new Error("Incorrect schema version; need 1, got "+ne[0]);return ne[1]})}).catch(function(K){if(R!==d)return q||(console.error('unicode-font-resolver: Failed loading from dataUrl "'+R+'", trying default CDN. '+K.message),q=!0),R=d,b.delete(k),V(k);throw K}),b.set(k,H)),H}for(var U=function(k){var H=_.codePointAt(k),K=s(H);z[k]=K,c[K]||$.has(K)||$.set(K,V(K).then(function(ne){c[K]=ne})),H>65535&&(k++,W=k)},W=0;W<_.length;W++)U(W);return Promise.all($.values()).then(function(){$.clear();for(var k=function(K){var ne=_.codePointAt(K),te=null,ae=c[z[K]],oe=void 0;for(var he in ae){var fe=I[he];if(fe===void 0&&(fe=I[he]=new RegExp(he).test(E||"en")),fe){for(var Ce in oe=he,ae[he])if(a(ne,ae[he][Ce])){te=Ce;break}break}}if(!te){e:for(var le in ae)if(le!==oe){for(var G in ae[le])if(a(ne,ae[le][G])){te=G;break e}}}te||(console.debug("No font coverage for U+"+ne.toString(16)),te="latin"),z[K]=te,u[te]||$.has(te)||$.set(te,V("font-meta/"+te+".json").then(function(me){u[te]=me})),ne>65535&&(K++,H=K)},H=0;H<_.length;H++)k(H);return Promise.all($.values())}).then(function(){for(var k,H=null,K=0;K<_.length;K++){var ne=_.codePointAt(K);if(H&&(w(ne)||p(H).has(ne)))O[K]=O[K-1];else{H=u[z[K]];var te=D[H.id];if(!te){var ae=H.typeforms,oe=x(ae,A,"sans-serif"),he=x(ae[oe],C,"normal"),fe=y((k=ae[oe])===null||k===void 0?void 0:k[he],P);te=D[H.id]=R+"/font-files/"+H.id+"/"+oe+"."+he+"."+fe+".woff"}var Ce=L.get(te);Ce==null&&(Ce=L.size,L.set(te,Ce)),O[K]=Ce}ne>65535&&(K++,O[K]=O[K-1])}return{fontUrls:Array.from(L.keys()),chars:O}})},Object.defineProperty(t,"__esModule",{value:!0}),t}({})}function Ice(t,e){const n=Object.create(null),r=Object.create(null);function i(a,o){const l=c=>{console.error(`Failure loading font ${a}`,c)};try{const c=new XMLHttpRequest;c.open("get",a,!0),c.responseType="arraybuffer",c.onload=function(){if(c.status>=400)l(new Error(c.statusText));else if(c.status>0)try{const u=t(c.response);u.src=a,o(u)}catch(u){l(u)}},c.onerror=l,c.send()}catch(c){l(c)}}function s(a,o){let l=n[a];l?o(l):r[a]?r[a].push(o):(r[a]=[o],i(a,c=>{c.src=a,n[a]=c,r[a].forEach(u=>u(c)),delete r[a]}))}return function(a,o,{lang:l,fonts:c=[],style:u="normal",weight:f="normal",unicodeFontsURL:d}={}){const p=new Uint8Array(a.length),v=[];a.length||w();const b=new Map,x=[];if(u!=="italic"&&(u="normal"),typeof f!="number"&&(f=f==="bold"?700:400),c&&!Array.isArray(c)&&(c=[c]),c=c.slice().filter(S=>!S.lang||S.lang.test(l)).reverse(),c.length){let A=0;(function C(P=0){for(let R=P,L=a.length;R<L;R++){const O=a.codePointAt(R);if(A===1&&v[p[R-1]].supportsCodePoint(O)||R>0&&/\s/.test(a[R]))p[R]=p[R-1],A===2&&(x[x.length-1][1]=R);else for(let D=p[R],I=c.length;D<=I;D++)if(D===I){const z=A===2?x[x.length-1]:x[x.length]=[R,R];z[1]=R,A=2}else{p[R]=D;const{src:z,unicodeRange:$}=c[D];if(!$||_(O,$)){const q=n[z];if(!q){s(z,()=>{C(R)});return}if(q.supportsCodePoint(O)){let V=b.get(q);typeof V!="number"&&(V=v.length,v.push(q),b.set(q,V)),p[R]=V,A=1;break}}}O>65535&&R+1<L&&(p[R+1]=p[R],R++,A===2&&(x[x.length-1][1]=R))}y()})()}else x.push([0,a.length-1]),y();function y(){if(x.length){const S=x.map(M=>a.substring(M[0],M[1]+1)).join(`
`);e.getFontsForString(S,{lang:l||void 0,style:u,weight:f,dataUrl:d}).then(({fontUrls:M,chars:E})=>{const A=v.length;let C=0;x.forEach(R=>{for(let L=0,O=R[1]-R[0];L<=O;L++)p[R[0]+L]=E[C++]+A;C++});let P=0;M.forEach((R,L)=>{s(R,O=>{v[L+A]=O,++P===M.length&&w()})})})}else w()}function w(){o({chars:p,fonts:v})}function _(S,M){for(let E=0;E<M.length;E++){const[A,C=A]=M[E];if(A<=S&&S<=C)return!0}return!1}}}const jce=Xh({name:"FontResolver",dependencies:[Ice,Oce,Lce],init(t,e,n){return t(e,n())}});function kce(t,e){const r=/[\u00AD\u034F\u061C\u115F-\u1160\u17B4-\u17B5\u180B-\u180E\u200B-\u200F\u202A-\u202E\u2060-\u206F\u3164\uFE00-\uFE0F\uFEFF\uFFA0\uFFF0-\uFFF8]/,i="[^\\S\\u00A0]",s=new RegExp(`${i}|[\\-\\u007C\\u00AD\\u2010\\u2012-\\u2014\\u2027\\u2056\\u2E17\\u2E40]`);function a({text:v,lang:b,fonts:x,style:y,weight:w,preResolvedFonts:_,unicodeFontsURL:S},M){const E=({chars:A,fonts:C})=>{let P,R;const L=[];for(let O=0;O<A.length;O++)A[O]!==R?(R=A[O],L.push(P={start:O,end:O,fontObj:C[A[O]]})):P.end=O;M(L)};_?E(_):t(v,E,{lang:b,fonts:x,style:y,weight:w,unicodeFontsURL:S})}function o({text:v="",font:b,lang:x,sdfGlyphSize:y=64,fontSize:w=400,fontWeight:_=1,fontStyle:S="normal",letterSpacing:M=0,lineHeight:E="normal",maxWidth:A=1/0,direction:C,textAlign:P="left",textIndent:R=0,whiteSpace:L="normal",overflowWrap:O="normal",anchorX:D=0,anchorY:I=0,metricsOnly:z=!1,unicodeFontsURL:$,preResolvedFonts:q=null,includeCaretPositions:V=!1,chunkedBoundsSize:U=8192,colorRanges:W=null},k){const H=f(),K={fontLoad:0,typesetting:0};v.indexOf("\r")>-1&&(console.info("Typesetter: got text with \\r chars; normalizing to \\n"),v=v.replace(/\r\n/g,`
`).replace(/\r/g,`
`)),w=+w,M=+M,A=+A,E=E||"normal",R=+R,a({text:v,lang:x,style:S,weight:_,fonts:typeof b=="string"?[{src:b}]:b,unicodeFontsURL:$,preResolvedFonts:q},ne=>{K.fontLoad=f()-H;const te=isFinite(A);let ae=null,oe=null,he=null,fe=null,Ce=null,le=null,G=null,me=null,se=0,xe=0,pe=L!=="nowrap";const ze=new Map,ve=f();let Re=R,Be=0,ge=new d;const Ye=[ge];ne.forEach(ye=>{const{fontObj:Ee}=ye,{ascender:He,descender:Ue,unitsPerEm:$e,lineGap:et,capHeight:tt,xHeight:Ne}=Ee;let Xe=ze.get(Ee);if(!Xe){const Me=w/$e,ke=E==="normal"?(He-Ue+et)*Me:E*w,Je=(ke-(He-Ue)*Me)/2,Ge=Math.min(ke,(He-Ue)*Me),Te=(He+Ue)/2*Me+Ge/2;Xe={index:ze.size,src:Ee.src,fontObj:Ee,fontSizeMult:Me,unitsPerEm:$e,ascender:He*Me,descender:Ue*Me,capHeight:tt*Me,xHeight:Ne*Me,lineHeight:ke,baseline:-Je-He*Me,caretTop:Te,caretBottom:Te-Ge},ze.set(Ee,Xe)}const{fontSizeMult:re}=Xe,we=v.slice(ye.start,ye.end+1);let Ve,J;Ee.forEachGlyph(we,w,M,(Me,ke,Je,Ge)=>{ke+=Be,Ge+=ye.start,Ve=ke,J=Me;const Te=v.charAt(Ge),Ke=Me.advanceWidth*re,nt=ge.count;let lt;if("isEmpty"in Me||(Me.isWhitespace=!!Te&&new RegExp(i).test(Te),Me.canBreakAfter=!!Te&&s.test(Te),Me.isEmpty=Me.xMin===Me.xMax||Me.yMin===Me.yMax||r.test(Te)),!Me.isWhitespace&&!Me.isEmpty&&xe++,pe&&te&&!Me.isWhitespace&&ke+Ke+Re>A&&nt){if(ge.glyphAt(nt-1).glyphObj.canBreakAfter)lt=new d,Re=-ke;else for(let qt=nt;qt--;)if(qt===0&&O==="break-word"){lt=new d,Re=-ke;break}else if(ge.glyphAt(qt).glyphObj.canBreakAfter){lt=ge.splitAt(qt+1);const Bt=lt.glyphAt(0).x;Re-=Bt;for(let Ln=lt.count;Ln--;)lt.glyphAt(Ln).x-=Bt;break}lt&&(ge.isSoftWrapped=!0,ge=lt,Ye.push(ge),se=A)}let ht=ge.glyphAt(ge.count);ht.glyphObj=Me,ht.x=ke+Re,ht.y=Je,ht.width=Ke,ht.charIndex=Ge,ht.fontData=Xe,Te===`
`&&(ge=new d,Ye.push(ge),Re=-(ke+Ke+M*w)+R)}),Be=Ve+J.advanceWidth*re+M*w});let Y=0;Ye.forEach(ye=>{let Ee=!0;for(let He=ye.count;He--;){const Ue=ye.glyphAt(He);Ee&&!Ue.glyphObj.isWhitespace&&(ye.width=Ue.x+Ue.width,ye.width>se&&(se=ye.width),Ee=!1);let{lineHeight:$e,capHeight:et,xHeight:tt,baseline:Ne}=Ue.fontData;$e>ye.lineHeight&&(ye.lineHeight=$e);const Xe=Ne-ye.baseline;Xe<0&&(ye.baseline+=Xe,ye.cap+=Xe,ye.ex+=Xe),ye.cap=Math.max(ye.cap,ye.baseline+et),ye.ex=Math.max(ye.ex,ye.baseline+tt)}ye.baseline-=Y,ye.cap-=Y,ye.ex-=Y,Y+=ye.lineHeight});let X=0,ie=0;if(D&&(typeof D=="number"?X=-D:typeof D=="string"&&(X=-se*(D==="left"?0:D==="center"?.5:D==="right"?1:c(D)))),I&&(typeof I=="number"?ie=-I:typeof I=="string"&&(ie=I==="top"?0:I==="top-baseline"?-Ye[0].baseline:I==="top-cap"?-Ye[0].cap:I==="top-ex"?-Ye[0].ex:I==="middle"?Y/2:I==="bottom"?Y:I==="bottom-baseline"?-Ye[Ye.length-1].baseline:c(I)*Y)),!z){const ye=e.getEmbeddingLevels(v,C);ae=new Uint16Array(xe),oe=new Uint8Array(xe),he=new Float32Array(xe*2),fe={},G=[1/0,1/0,-1/0,-1/0],me=[],V&&(le=new Float32Array(v.length*4)),W&&(Ce=new Uint8Array(xe*3));let Ee=0,He=-1,Ue=-1,$e,et;if(Ye.forEach((tt,Ne)=>{let{count:Xe,width:re}=tt;if(Xe>0){let we=0;for(let Ge=Xe;Ge--&&tt.glyphAt(Ge).glyphObj.isWhitespace;)we++;let Ve=0,J=0;if(P==="center")Ve=(se-re)/2;else if(P==="right")Ve=se-re;else if(P==="justify"&&tt.isSoftWrapped){let Ge=0;for(let Te=Xe-we;Te--;)tt.glyphAt(Te).glyphObj.isWhitespace&&Ge++;J=(se-re)/Ge}if(J||Ve){let Ge=0;for(let Te=0;Te<Xe;Te++){let Ke=tt.glyphAt(Te);const nt=Ke.glyphObj;Ke.x+=Ve+Ge,J!==0&&nt.isWhitespace&&Te<Xe-we&&(Ge+=J,Ke.width+=J)}}const Me=e.getReorderSegments(v,ye,tt.glyphAt(0).charIndex,tt.glyphAt(tt.count-1).charIndex);for(let Ge=0;Ge<Me.length;Ge++){const[Te,Ke]=Me[Ge];let nt=1/0,lt=-1/0;for(let ht=0;ht<Xe;ht++)if(tt.glyphAt(ht).charIndex>=Te){let qt=ht,Bt=ht;for(;Bt<Xe;Bt++){let Ln=tt.glyphAt(Bt);if(Ln.charIndex>Ke)break;Bt<Xe-we&&(nt=Math.min(nt,Ln.x),lt=Math.max(lt,Ln.x+Ln.width))}for(let Ln=qt;Ln<Bt;Ln++){const ni=tt.glyphAt(Ln);ni.x=lt-(ni.x+ni.width-nt)}break}}let ke;const Je=Ge=>ke=Ge;for(let Ge=0;Ge<Xe;Ge++){const Te=tt.glyphAt(Ge);ke=Te.glyphObj;const Ke=ke.index,nt=ye.levels[Te.charIndex]&1;if(nt){const lt=e.getMirroredCharacter(v[Te.charIndex]);lt&&Te.fontData.fontObj.forEachGlyph(lt,0,0,Je)}if(V){const{charIndex:lt,fontData:ht}=Te,qt=Te.x+X,Bt=Te.x+Te.width+X;le[lt*4]=nt?Bt:qt,le[lt*4+1]=nt?qt:Bt,le[lt*4+2]=tt.baseline+ht.caretBottom+ie,le[lt*4+3]=tt.baseline+ht.caretTop+ie;const Ln=lt-He;Ln>1&&u(le,He,Ln),He=lt}if(W){const{charIndex:lt}=Te;for(;lt>Ue;)Ue++,W.hasOwnProperty(Ue)&&(et=W[Ue])}if(!ke.isWhitespace&&!ke.isEmpty){const lt=Ee++,{fontSizeMult:ht,src:qt,index:Bt}=Te.fontData,Ln=fe[qt]||(fe[qt]={});Ln[Ke]||(Ln[Ke]={path:ke.path,pathBounds:[ke.xMin,ke.yMin,ke.xMax,ke.yMax]});const ni=Te.x+X,cs=Te.y+tt.baseline+ie;he[lt*2]=ni,he[lt*2+1]=cs;const kr=ni+ke.xMin*ht,us=cs+ke.yMin*ht,Dr=ni+ke.xMax*ht,Vi=cs+ke.yMax*ht;kr<G[0]&&(G[0]=kr),us<G[1]&&(G[1]=us),Dr>G[2]&&(G[2]=Dr),Vi>G[3]&&(G[3]=Vi),lt%U===0&&($e={start:lt,end:lt,rect:[1/0,1/0,-1/0,-1/0]},me.push($e)),$e.end++;const br=$e.rect;if(kr<br[0]&&(br[0]=kr),us<br[1]&&(br[1]=us),Dr>br[2]&&(br[2]=Dr),Vi>br[3]&&(br[3]=Vi),ae[lt]=Ke,oe[lt]=Bt,W){const ma=lt*3;Ce[ma]=et>>16&255,Ce[ma+1]=et>>8&255,Ce[ma+2]=et&255}}}}}),le){const tt=v.length-He;tt>1&&u(le,He,tt)}}const Fe=[];ze.forEach(({index:ye,src:Ee,unitsPerEm:He,ascender:Ue,descender:$e,lineHeight:et,capHeight:tt,xHeight:Ne})=>{Fe[ye]={src:Ee,unitsPerEm:He,ascender:Ue,descender:$e,lineHeight:et,capHeight:tt,xHeight:Ne}}),K.typesetting=f()-ve,k({glyphIds:ae,glyphFontIndices:oe,glyphPositions:he,glyphData:fe,fontData:Fe,caretPositions:le,glyphColors:Ce,chunkedBounds:me,fontSize:w,topBaseline:ie+Ye[0].baseline,blockBounds:[X,ie-Y,X+se,ie],visibleBounds:G,timings:K})})}function l(v,b){o({...v,metricsOnly:!0},x=>{const[y,w,_,S]=x.blockBounds;b({width:_-y,height:S-w})})}function c(v){let b=v.match(/^([\d.]+)%$/),x=b?parseFloat(b[1]):NaN;return isNaN(x)?0:x/100}function u(v,b,x){const y=v[b*4],w=v[b*4+1],_=v[b*4+2],S=v[b*4+3],M=(w-y)/x;for(let E=0;E<x;E++){const A=(b+E)*4;v[A]=y+M*E,v[A+1]=y+M*(E+1),v[A+2]=_,v[A+3]=S}}function f(){return(self.performance||Date).now()}function d(){this.data=[]}const p=["glyphObj","x","y","width","charIndex","fontData"];return d.prototype={width:0,lineHeight:0,baseline:0,cap:0,ex:0,isSoftWrapped:!1,get count(){return Math.ceil(this.data.length/p.length)},glyphAt(v){let b=d.flyweight;return b.data=this.data,b.index=v,b},splitAt(v){let b=new d;return b.data=this.data.splice(v*p.length),b}},d.flyweight=p.reduce((v,b,x,y)=>(Object.defineProperty(v,b,{get(){return this.data[this.index*p.length+x]},set(w){this.data[this.index*p.length+x]=w}}),v),{data:null,index:0}),{typeset:o,measure:l}}const Uu=()=>(self.performance||Date).now(),Z_=GH();let Qk;function Dce(t,e,n,r,i,s,a,o,l,c,u=!0){return u?Fce(t,e,n,r,i,s,a,o,l,c).then(null,f=>(Qk||(console.warn("WebGL SDF generation failed, falling back to JS",f),Qk=!0),tD(t,e,n,r,i,s,a,o,l,c))):tD(t,e,n,r,i,s,a,o,l,c)}const qx=[],Uce=5;let nA=0;function qH(){const t=Uu();for(;qx.length&&Uu()-t<Uce;)qx.shift()();nA=qx.length?setTimeout(qH,0):0}const Fce=(...t)=>new Promise((e,n)=>{qx.push(()=>{const r=Uu();try{Z_.webgl.generateIntoCanvas(...t),e({timing:Uu()-r})}catch(i){n(i)}}),nA||(nA=setTimeout(qH,0))}),Bce=4,zce=2e3,eD={};let Vce=0;function tD(t,e,n,r,i,s,a,o,l,c){const u="TroikaTextSDFGenerator_JS_"+Vce++%Bce;let f=eD[u];return f||(f=eD[u]={workerModule:Xh({name:u,workerId:u,dependencies:[GH,Uu],init(d,p){const v=d().javascript.generate;return function(...b){const x=p();return{textureData:v(...b),timing:p()-x}}},getTransferables(d){return[d.textureData.buffer]}}),requests:0,idleTimer:null}),f.requests++,clearTimeout(f.idleTimer),f.workerModule(t,e,n,r,i,s).then(({textureData:d,timing:p})=>{const v=Uu(),b=new Uint8Array(d.length*4);for(let x=0;x<d.length;x++)b[x*4+c]=d[x];return Z_.webglUtils.renderImageData(a,b,o,l,t,e,1<<3-c),p+=Uu()-v,--f.requests===0&&(f.idleTimer=setTimeout(()=>{xce(u)},zce)),{timing:p}})}function Hce(t){t._warm||(Z_.webgl.isSupported(t),t._warm=!0)}const $ce=Z_.webglUtils.resizeWebGLCanvasWithoutClearing,pd={defaultFontURL:null,unicodeFontsURL:null,sdfGlyphSize:64,sdfMargin:1/16,sdfExponent:9,textureWidth:2048,useWorker:!0},Wce=new at;function od(){return(self.performance||Date).now()}const nD=Object.create(null);function YH(t,e){t=qce({},t);const n=od(),{defaultFontURL:r}=pd,i=[];if(r&&i.push({label:"default",src:rD(r)}),t.font&&i.push({label:"user",src:rD(t.font)}),t.font=i,t.text=""+t.text,t.sdfGlyphSize=t.sdfGlyphSize||pd.sdfGlyphSize,t.unicodeFontsURL=t.unicodeFontsURL||pd.unicodeFontsURL,t.colorRanges!=null){let p={};for(let v in t.colorRanges)if(t.colorRanges.hasOwnProperty(v)){let b=t.colorRanges[v];typeof b!="number"&&(b=Wce.set(b).getHex()),p[v]=b}t.colorRanges=p}Object.freeze(t);const{textureWidth:s,sdfExponent:a}=pd,{sdfGlyphSize:o}=t,l=s/o*4;let c=nD[o];if(!c){const p=document.createElement("canvas");p.width=s,p.height=o*256/l,c=nD[o]={glyphCount:0,sdfGlyphSize:o,sdfCanvas:p,sdfTexture:new Qn(p,void 0,void 0,void 0,Rn,Rn),contextLost:!1,glyphsByFont:new Map},c.sdfTexture.generateMipmaps=!1,Gce(c)}const{sdfTexture:u,sdfCanvas:f}=c;JH(t).then(p=>{const{glyphIds:v,glyphFontIndices:b,fontData:x,glyphPositions:y,fontSize:w,timings:_}=p,S=[],M=new Float32Array(v.length*4);let E=0,A=0;const C=od(),P=x.map(I=>{let z=c.glyphsByFont.get(I.src);return z||c.glyphsByFont.set(I.src,z=new Map),z});v.forEach((I,z)=>{const $=b[z],{src:q,unitsPerEm:V}=x[$];let U=P[$].get(I);if(!U){const{path:ne,pathBounds:te}=p.glyphData[q][I],ae=Math.max(te[2]-te[0],te[3]-te[1])/o*(pd.sdfMargin*o+.5),oe=c.glyphCount++,he=[te[0]-ae,te[1]-ae,te[2]+ae,te[3]+ae];P[$].set(I,U={path:ne,atlasIndex:oe,sdfViewBox:he}),S.push(U)}const{sdfViewBox:W}=U,k=y[A++],H=y[A++],K=w/V;M[E++]=k+W[0]*K,M[E++]=H+W[1]*K,M[E++]=k+W[2]*K,M[E++]=H+W[3]*K,v[z]=U.atlasIndex}),_.quads=(_.quads||0)+(od()-C);const R=od();_.sdf={};const L=f.height,O=Math.ceil(c.glyphCount/l),D=Math.pow(2,Math.ceil(Math.log2(O*o)));D>L&&(console.info(`Increasing SDF texture size ${L}->${D}`),$ce(f,s,D),u.dispose()),Promise.all(S.map(I=>KH(I,c,t.gpuAccelerateSDF).then(({timing:z})=>{_.sdf[I.atlasIndex]=z}))).then(()=>{S.length&&!c.contextLost&&(ZH(c),u.needsUpdate=!0),_.sdfTotal=od()-R,_.total=od()-n,e(Object.freeze({parameters:t,sdfTexture:u,sdfGlyphSize:o,sdfExponent:a,glyphBounds:M,glyphAtlasIndices:v,glyphColors:p.glyphColors,caretPositions:p.caretPositions,chunkedBounds:p.chunkedBounds,ascender:p.ascender,descender:p.descender,lineHeight:p.lineHeight,capHeight:p.capHeight,xHeight:p.xHeight,topBaseline:p.topBaseline,blockBounds:p.blockBounds,visibleBounds:p.visibleBounds,timings:p.timings}))})}),Promise.resolve().then(()=>{c.contextLost||Hce(f)})}function KH({path:t,atlasIndex:e,sdfViewBox:n},{sdfGlyphSize:r,sdfCanvas:i,contextLost:s},a){if(s)return Promise.resolve({timing:-1});const{textureWidth:o,sdfExponent:l}=pd,c=Math.max(n[2]-n[0],n[3]-n[1]),u=Math.floor(e/4),f=u%(o/r)*r,d=Math.floor(u/(o/r))*r,p=e%4;return Dce(r,r,t,n,c,l,i,f,d,p,a)}function Gce(t){const e=t.sdfCanvas;e.addEventListener("webglcontextlost",n=>{console.log("Context Lost",n),n.preventDefault(),t.contextLost=!0}),e.addEventListener("webglcontextrestored",n=>{console.log("Context Restored",n),t.contextLost=!1;const r=[];t.glyphsByFont.forEach(i=>{i.forEach(s=>{r.push(KH(s,t,!0))})}),Promise.all(r).then(()=>{ZH(t),t.sdfTexture.needsUpdate=!0})})}function Xce({font:t,characters:e,sdfGlyphSize:n},r){let i=Array.isArray(e)?e.join(`
`):""+e;YH({font:t,sdfGlyphSize:n,text:i},r)}function qce(t,e){for(let n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}let ox;function rD(t){return ox||(ox=typeof document>"u"?{}:document.createElement("a")),ox.href=t,ox.href}function ZH(t){if(typeof createImageBitmap!="function"){console.info("Safari<15: applying SDF canvas workaround");const{sdfCanvas:e,sdfTexture:n}=t,{width:r,height:i}=e,s=t.sdfCanvas.getContext("webgl");let a=n.image.data;(!a||a.length!==r*i*4)&&(a=new Uint8Array(r*i*4),n.image={width:r,height:i,data:a},n.flipY=!1,n.isDataTexture=!0),s.readPixels(0,0,r,i,s.RGBA,s.UNSIGNED_BYTE,a)}}const Yce=Xh({name:"Typesetter",dependencies:[kce,jce,_ce],init(t,e,n){return t(e,n())}}),JH=Xh({name:"Typesetter",dependencies:[Yce],init(t){return function(e){return new Promise(n=>{t.typeset(e,n)})}},getTransferables(t){const e=[];for(let n in t)t[n]&&t[n].buffer&&e.push(t[n].buffer);return e}});JH.onMainThread;const iD={};function Kce(t){let e=iD[t];return e||(e=iD[t]=new Tc(1,1,t,t).translate(.5,.5,0)),e}const Zce="aTroikaGlyphBounds",sD="aTroikaGlyphIndex",Jce="aTroikaGlyphColor";class Qce extends FN{constructor(){super(),this.detail=1,this.curveRadius=0,this.groups=[{start:0,count:1/0,materialIndex:0},{start:0,count:1/0,materialIndex:1}],this.boundingSphere=new da,this.boundingBox=new fa}computeBoundingSphere(){}computeBoundingBox(){}set detail(e){if(e!==this._detail){this._detail=e,(typeof e!="number"||e<1)&&(e=1);let n=Kce(e);["position","normal","uv"].forEach(r=>{this.attributes[r]=n.attributes[r].clone()}),this.setIndex(n.getIndex().clone())}}get detail(){return this._detail}set curveRadius(e){e!==this._curveRadius&&(this._curveRadius=e,this._updateBounds())}get curveRadius(){return this._curveRadius}updateGlyphs(e,n,r,i,s){this.updateAttributeData(Zce,e,4),this.updateAttributeData(sD,n,1),this.updateAttributeData(Jce,s,3),this._blockBounds=r,this._chunkedBounds=i,this.instanceCount=n.length,this._updateBounds()}_updateBounds(){const e=this._blockBounds;if(e){const{curveRadius:n,boundingBox:r}=this;if(n){const{PI:i,floor:s,min:a,max:o,sin:l,cos:c}=Math,u=i/2,f=i*2,d=Math.abs(n),p=e[0]/d,v=e[2]/d,b=s((p+u)/f)!==s((v+u)/f)?-d:a(l(p)*d,l(v)*d),x=s((p-u)/f)!==s((v-u)/f)?d:o(l(p)*d,l(v)*d),y=s((p+i)/f)!==s((v+i)/f)?d*2:o(d-c(p)*d,d-c(v)*d);r.min.set(b,e[1],n<0?-y:0),r.max.set(x,e[3],n<0?0:y)}else r.min.set(e[0],e[1],0),r.max.set(e[2],e[3],0);r.getBoundingSphere(this.boundingSphere)}}applyClipRect(e){let n=this.getAttribute(sD).count,r=this._chunkedBounds;if(r)for(let i=r.length;i--;){n=r[i].end;let s=r[i].rect;if(s[1]<e.w&&s[3]>e.y&&s[0]<e.z&&s[2]>e.x)break}this.instanceCount=n}updateAttributeData(e,n,r){const i=this.getAttribute(e);n?i&&i.array.length===n.length?(i.array.set(n),i.needsUpdate=!0):(this.setAttribute(e,new Ku(n,r)),delete this._maxInstanceCount,this.dispose()):i&&this.deleteAttribute(e)}}const eue=`
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform vec4 uTroikaTotalBounds;
uniform vec4 uTroikaClipRect;
uniform mat3 uTroikaOrient;
uniform bool uTroikaUseGlyphColors;
uniform float uTroikaEdgeOffset;
uniform float uTroikaBlurRadius;
uniform vec2 uTroikaPositionOffset;
uniform float uTroikaCurveRadius;
attribute vec4 aTroikaGlyphBounds;
attribute float aTroikaGlyphIndex;
attribute vec3 aTroikaGlyphColor;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec3 vTroikaGlyphColor;
varying vec2 vTroikaGlyphDimensions;
`,tue=`
vec4 bounds = aTroikaGlyphBounds;
bounds.xz += uTroikaPositionOffset.x;
bounds.yw -= uTroikaPositionOffset.y;

vec4 outlineBounds = vec4(
  bounds.xy - uTroikaEdgeOffset - uTroikaBlurRadius,
  bounds.zw + uTroikaEdgeOffset + uTroikaBlurRadius
);
vec4 clippedBounds = vec4(
  clamp(outlineBounds.xy, uTroikaClipRect.xy, uTroikaClipRect.zw),
  clamp(outlineBounds.zw, uTroikaClipRect.xy, uTroikaClipRect.zw)
);

vec2 clippedXY = (mix(clippedBounds.xy, clippedBounds.zw, position.xy) - bounds.xy) / (bounds.zw - bounds.xy);

position.xy = mix(bounds.xy, bounds.zw, clippedXY);

uv = (position.xy - uTroikaTotalBounds.xy) / (uTroikaTotalBounds.zw - uTroikaTotalBounds.xy);

float rad = uTroikaCurveRadius;
if (rad != 0.0) {
  float angle = position.x / rad;
  position.xz = vec2(sin(angle) * rad, rad - cos(angle) * rad);
  normal.xz = vec2(sin(angle), cos(angle));
}
  
position = uTroikaOrient * position;
normal = uTroikaOrient * normal;

vTroikaGlyphUV = clippedXY.xy;
vTroikaGlyphDimensions = vec2(bounds[2] - bounds[0], bounds[3] - bounds[1]);


float txCols = uTroikaSDFTextureSize.x / uTroikaSDFGlyphSize;
vec2 txUvPerSquare = uTroikaSDFGlyphSize / uTroikaSDFTextureSize;
vec2 txStartUV = txUvPerSquare * vec2(
  mod(floor(aTroikaGlyphIndex / 4.0), txCols),
  floor(floor(aTroikaGlyphIndex / 4.0) / txCols)
);
vTroikaTextureUVBounds = vec4(txStartUV, vec2(txStartUV) + txUvPerSquare);
vTroikaTextureChannel = mod(aTroikaGlyphIndex, 4.0);
`,nue=`
uniform sampler2D uTroikaSDFTexture;
uniform vec2 uTroikaSDFTextureSize;
uniform float uTroikaSDFGlyphSize;
uniform float uTroikaSDFExponent;
uniform float uTroikaEdgeOffset;
uniform float uTroikaFillOpacity;
uniform float uTroikaBlurRadius;
uniform vec3 uTroikaStrokeColor;
uniform float uTroikaStrokeWidth;
uniform float uTroikaStrokeOpacity;
uniform bool uTroikaSDFDebug;
varying vec2 vTroikaGlyphUV;
varying vec4 vTroikaTextureUVBounds;
varying float vTroikaTextureChannel;
varying vec2 vTroikaGlyphDimensions;

float troikaSdfValueToSignedDistance(float alpha) {
  // Inverse of exponential encoding in webgl-sdf-generator
  
  float maxDimension = max(vTroikaGlyphDimensions.x, vTroikaGlyphDimensions.y);
  float absDist = (1.0 - pow(2.0 * (alpha > 0.5 ? 1.0 - alpha : alpha), 1.0 / uTroikaSDFExponent)) * maxDimension;
  float signedDist = absDist * (alpha > 0.5 ? -1.0 : 1.0);
  return signedDist;
}

float troikaGlyphUvToSdfValue(vec2 glyphUV) {
  vec2 textureUV = mix(vTroikaTextureUVBounds.xy, vTroikaTextureUVBounds.zw, glyphUV);
  vec4 rgba = texture2D(uTroikaSDFTexture, textureUV);
  float ch = floor(vTroikaTextureChannel + 0.5); //NOTE: can't use round() in WebGL1
  return ch == 0.0 ? rgba.r : ch == 1.0 ? rgba.g : ch == 2.0 ? rgba.b : rgba.a;
}

float troikaGlyphUvToDistance(vec2 uv) {
  return troikaSdfValueToSignedDistance(troikaGlyphUvToSdfValue(uv));
}

float troikaGetAADist() {
  
  #if defined(GL_OES_standard_derivatives) || __VERSION__ >= 300
  return length(fwidth(vTroikaGlyphUV * vTroikaGlyphDimensions)) * 0.5;
  #else
  return vTroikaGlyphDimensions.x / 64.0;
  #endif
}

float troikaGetFragDistValue() {
  vec2 clampedGlyphUV = clamp(vTroikaGlyphUV, 0.5 / uTroikaSDFGlyphSize, 1.0 - 0.5 / uTroikaSDFGlyphSize);
  float distance = troikaGlyphUvToDistance(clampedGlyphUV);
 
  // Extrapolate distance when outside bounds:
  distance += clampedGlyphUV == vTroikaGlyphUV ? 0.0 : 
    length((vTroikaGlyphUV - clampedGlyphUV) * vTroikaGlyphDimensions);

  

  return distance;
}

float troikaGetEdgeAlpha(float distance, float distanceOffset, float aaDist) {
  #if defined(IS_DEPTH_MATERIAL) || defined(IS_DISTANCE_MATERIAL)
  float alpha = step(-distanceOffset, -distance);
  #else

  float alpha = smoothstep(
    distanceOffset + aaDist,
    distanceOffset - aaDist,
    distance
  );
  #endif

  return alpha;
}
`,rue=`
float aaDist = troikaGetAADist();
float fragDistance = troikaGetFragDistValue();
float edgeAlpha = uTroikaSDFDebug ?
  troikaGlyphUvToSdfValue(vTroikaGlyphUV) :
  troikaGetEdgeAlpha(fragDistance, uTroikaEdgeOffset, max(aaDist, uTroikaBlurRadius));

#if !defined(IS_DEPTH_MATERIAL) && !defined(IS_DISTANCE_MATERIAL)
vec4 fillRGBA = gl_FragColor;
fillRGBA.a *= uTroikaFillOpacity;
vec4 strokeRGBA = uTroikaStrokeWidth == 0.0 ? fillRGBA : vec4(uTroikaStrokeColor, uTroikaStrokeOpacity);
if (fillRGBA.a == 0.0) fillRGBA.rgb = strokeRGBA.rgb;
gl_FragColor = mix(fillRGBA, strokeRGBA, smoothstep(
  -uTroikaStrokeWidth - aaDist,
  -uTroikaStrokeWidth + aaDist,
  fragDistance
));
gl_FragColor.a *= edgeAlpha;
#endif

if (edgeAlpha == 0.0) {
  discard;
}
`;function iue(t){const e=tA(t,{chained:!0,extensions:{derivatives:!0},uniforms:{uTroikaSDFTexture:{value:null},uTroikaSDFTextureSize:{value:new De},uTroikaSDFGlyphSize:{value:0},uTroikaSDFExponent:{value:0},uTroikaTotalBounds:{value:new cn(0,0,0,0)},uTroikaClipRect:{value:new cn(0,0,0,0)},uTroikaEdgeOffset:{value:0},uTroikaFillOpacity:{value:1},uTroikaPositionOffset:{value:new De},uTroikaCurveRadius:{value:0},uTroikaBlurRadius:{value:0},uTroikaStrokeWidth:{value:0},uTroikaStrokeColor:{value:new at},uTroikaStrokeOpacity:{value:1},uTroikaOrient:{value:new Dt},uTroikaUseGlyphColors:{value:!0},uTroikaSDFDebug:{value:!1}},vertexDefs:eue,vertexTransform:tue,fragmentDefs:nue,fragmentColorTransform:rue,customRewriter({vertexShader:n,fragmentShader:r}){let i=/\buniform\s+vec3\s+diffuse\b/;return i.test(r)&&(r=r.replace(i,"varying vec3 vTroikaGlyphColor").replace(/\bdiffuse\b/g,"vTroikaGlyphColor"),i.test(n)||(n=n.replace(XH,`uniform vec3 diffuse;
$&
vTroikaGlyphColor = uTroikaUseGlyphColors ? aTroikaGlyphColor / 255.0 : diffuse;
`))),{vertexShader:n,fragmentShader:r}}});return e.transparent=!0,e.forceSinglePass=!0,Object.defineProperties(e,{isTroikaTextMaterial:{value:!0},shadowSide:{get(){return this.side},set(){}}}),e}const qN=new gl({color:16777215,side:ea,transparent:!0}),aD=8421504,oD=new Nt,lx=new Z,mM=new Z,tm=[],sue=new Z,gM="+x+y";function lD(t){return Array.isArray(t)?t[0]:t}let QH=()=>{const t=new vr(new Tc(1,1),qN);return QH=()=>t,t},e$=()=>{const t=new vr(new Tc(1,1,32,1),qN);return e$=()=>t,t};const aue={type:"syncstart"},oue={type:"synccomplete"},t$=["font","fontSize","fontStyle","fontWeight","lang","letterSpacing","lineHeight","maxWidth","overflowWrap","text","direction","textAlign","textIndent","whiteSpace","anchorX","anchorY","colorRanges","sdfGlyphSize"],lue=t$.concat("material","color","depthOffset","clipRect","curveRadius","orientation","glyphGeometryDetail");let n$=class extends vr{constructor(){const e=new Qce;super(e,null),this.text="",this.anchorX=0,this.anchorY=0,this.curveRadius=0,this.direction="auto",this.font=null,this.unicodeFontsURL=null,this.fontSize=.1,this.fontWeight="normal",this.fontStyle="normal",this.lang=null,this.letterSpacing=0,this.lineHeight="normal",this.maxWidth=1/0,this.overflowWrap="normal",this.textAlign="left",this.textIndent=0,this.whiteSpace="normal",this.material=null,this.color=null,this.colorRanges=null,this.outlineWidth=0,this.outlineColor=0,this.outlineOpacity=1,this.outlineBlur=0,this.outlineOffsetX=0,this.outlineOffsetY=0,this.strokeWidth=0,this.strokeColor=aD,this.strokeOpacity=1,this.fillOpacity=1,this.depthOffset=0,this.clipRect=null,this.orientation=gM,this.glyphGeometryDetail=1,this.sdfGlyphSize=null,this.gpuAccelerateSDF=!0,this.debugSDF=!1}sync(e){this._needsSync&&(this._needsSync=!1,this._isSyncing?(this._queuedSyncs||(this._queuedSyncs=[])).push(e):(this._isSyncing=!0,this.dispatchEvent(aue),YH({text:this.text,font:this.font,lang:this.lang,fontSize:this.fontSize||.1,fontWeight:this.fontWeight||"normal",fontStyle:this.fontStyle||"normal",letterSpacing:this.letterSpacing||0,lineHeight:this.lineHeight||"normal",maxWidth:this.maxWidth,direction:this.direction||"auto",textAlign:this.textAlign,textIndent:this.textIndent,whiteSpace:this.whiteSpace,overflowWrap:this.overflowWrap,anchorX:this.anchorX,anchorY:this.anchorY,colorRanges:this.colorRanges,includeCaretPositions:!0,sdfGlyphSize:this.sdfGlyphSize,gpuAccelerateSDF:this.gpuAccelerateSDF,unicodeFontsURL:this.unicodeFontsURL},n=>{this._isSyncing=!1,this._textRenderInfo=n,this.geometry.updateGlyphs(n.glyphBounds,n.glyphAtlasIndices,n.blockBounds,n.chunkedBounds,n.glyphColors);const r=this._queuedSyncs;r&&(this._queuedSyncs=null,this._needsSync=!0,this.sync(()=>{r.forEach(i=>i&&i())})),this.dispatchEvent(oue),e&&e()})))}onBeforeRender(e,n,r,i,s,a){this.sync(),s.isTroikaTextMaterial&&this._prepareForRender(s)}dispose(){this.geometry.dispose()}get textRenderInfo(){return this._textRenderInfo||null}createDerivedMaterial(e){return iue(e)}get material(){let e=this._derivedMaterial;const n=this._baseMaterial||this._defaultMaterial||(this._defaultMaterial=qN.clone());if((!e||!e.isDerivedFrom(n))&&(e=this._derivedMaterial=this.createDerivedMaterial(n),n.addEventListener("dispose",function r(){n.removeEventListener("dispose",r),e.dispose()})),this.hasOutline()){let r=e._outlineMtl;return r||(r=e._outlineMtl=Object.create(e,{id:{value:e.id+.1}}),r.isTextOutlineMaterial=!0,r.depthWrite=!1,r.map=null,e.addEventListener("dispose",function i(){e.removeEventListener("dispose",i),r.dispose()})),[r,e]}else return e}set material(e){e&&e.isTroikaTextMaterial?(this._derivedMaterial=e,this._baseMaterial=e.baseMaterial):this._baseMaterial=e}hasOutline(){return!!(this.outlineWidth||this.outlineBlur||this.outlineOffsetX||this.outlineOffsetY)}get glyphGeometryDetail(){return this.geometry.detail}set glyphGeometryDetail(e){this.geometry.detail=e}get curveRadius(){return this.geometry.curveRadius}set curveRadius(e){this.geometry.curveRadius=e}get customDepthMaterial(){return lD(this.material).getDepthMaterial()}set customDepthMaterial(e){}get customDistanceMaterial(){return lD(this.material).getDistanceMaterial()}set customDistanceMaterial(e){}_prepareForRender(e){const n=e.isTextOutlineMaterial,r=e.uniforms,i=this.textRenderInfo;if(i){const{sdfTexture:o,blockBounds:l}=i;r.uTroikaSDFTexture.value=o,r.uTroikaSDFTextureSize.value.set(o.image.width,o.image.height),r.uTroikaSDFGlyphSize.value=i.sdfGlyphSize,r.uTroikaSDFExponent.value=i.sdfExponent,r.uTroikaTotalBounds.value.fromArray(l),r.uTroikaUseGlyphColors.value=!n&&!!i.glyphColors;let c=0,u=0,f=0,d,p,v,b=0,x=0;if(n){let{outlineWidth:w,outlineOffsetX:_,outlineOffsetY:S,outlineBlur:M,outlineOpacity:E}=this;c=this._parsePercent(w)||0,u=Math.max(0,this._parsePercent(M)||0),d=E,b=this._parsePercent(_)||0,x=this._parsePercent(S)||0}else f=Math.max(0,this._parsePercent(this.strokeWidth)||0),f&&(v=this.strokeColor,r.uTroikaStrokeColor.value.set(v??aD),p=this.strokeOpacity,p==null&&(p=1)),d=this.fillOpacity;r.uTroikaEdgeOffset.value=c,r.uTroikaPositionOffset.value.set(b,x),r.uTroikaBlurRadius.value=u,r.uTroikaStrokeWidth.value=f,r.uTroikaStrokeOpacity.value=p,r.uTroikaFillOpacity.value=d??1,r.uTroikaCurveRadius.value=this.curveRadius||0;let y=this.clipRect;if(y&&Array.isArray(y)&&y.length===4)r.uTroikaClipRect.value.fromArray(y);else{const w=(this.fontSize||.1)*100;r.uTroikaClipRect.value.set(l[0]-w,l[1]-w,l[2]+w,l[3]+w)}this.geometry.applyClipRect(r.uTroikaClipRect.value)}r.uTroikaSDFDebug.value=!!this.debugSDF,e.polygonOffset=!!this.depthOffset,e.polygonOffsetFactor=e.polygonOffsetUnits=this.depthOffset||0;const s=n?this.outlineColor||0:this.color;if(s==null)delete e.color;else{const o=e.hasOwnProperty("color")?e.color:e.color=new at;(s!==o._input||typeof s=="object")&&o.set(o._input=s)}let a=this.orientation||gM;if(a!==e._orientation){let o=r.uTroikaOrient.value;a=a.replace(/[^-+xyz]/g,"");let l=a!==gM&&a.match(/^([-+])([xyz])([-+])([xyz])$/);if(l){let[,c,u,f,d]=l;lx.set(0,0,0)[u]=c==="-"?1:-1,mM.set(0,0,0)[d]=f==="-"?-1:1,oD.lookAt(sue,lx.cross(mM),mM),o.setFromMatrix4(oD)}else o.identity();e._orientation=a}}_parsePercent(e){if(typeof e=="string"){let n=e.match(/^(-?[\d.]+)%$/),r=n?parseFloat(n[1]):NaN;e=(isNaN(r)?0:r/100)*this.fontSize}return e}localPositionToTextCoords(e,n=new De){n.copy(e);const r=this.curveRadius;return r&&(n.x=Math.atan2(e.x,Math.abs(r)-Math.abs(e.z))*Math.abs(r)),n}worldPositionToTextCoords(e,n=new De){return lx.copy(e),this.localPositionToTextCoords(this.worldToLocal(lx),n)}raycast(e,n){const{textRenderInfo:r,curveRadius:i}=this;if(r){const s=r.blockBounds,a=i?e$():QH(),o=a.geometry,{position:l,uv:c}=o.attributes;for(let u=0;u<c.count;u++){let f=s[0]+c.getX(u)*(s[2]-s[0]);const d=s[1]+c.getY(u)*(s[3]-s[1]);let p=0;i&&(p=i-Math.cos(f/i)*i,f=Math.sin(f/i)*i),l.setXYZ(u,f,d,p)}o.boundingSphere=this.geometry.boundingSphere,o.boundingBox=this.geometry.boundingBox,a.matrixWorld=this.matrixWorld,a.material.side=this.material.side,tm.length=0,a.raycast(e,tm);for(let u=0;u<tm.length;u++)tm[u].object=this,n.push(tm[u])}}copy(e){const n=this.geometry;return super.copy(e),this.geometry=n,lue.forEach(r=>{this[r]=e[r]}),this}clone(){return new this.constructor().copy(this)}};t$.forEach(t=>{const e="_private_"+t;Object.defineProperty(n$.prototype,t,{get(){return this[e]},set(n){n!==this[e]&&(this[e]=n,this._needsSync=!0)}})});new fa;new at;const cue=F.forwardRef(({sdfGlyphSize:t=64,anchorX:e="center",anchorY:n="middle",font:r,fontSize:i=1,children:s,characters:a,onSync:o,...l},c)=>{const u=ki(({invalidate:v})=>v),[f]=F.useState(()=>new n$),[d,p]=F.useMemo(()=>{const v=[];let b="";return F.Children.forEach(s,x=>{typeof x=="string"||typeof x=="number"?b+=x:v.push(x)}),[v,b]},[s]);return _le(()=>new Promise(v=>Xce({font:r,characters:a},v)),["troika-text",r,a]),F.useLayoutEffect(()=>void f.sync(()=>{u(),o&&o(f)})),F.useEffect(()=>()=>f.dispose(),[f]),F.createElement("primitive",Ug({object:f,ref:c,font:r,text:p,anchorX:e,anchorY:n,fontSize:i,sdfGlyphSize:t},l),d)});function uue(t,e,n){const r=ki(d=>d.size),i=ki(d=>d.viewport),s=typeof t=="number"?t:r.width*i.dpr,a=typeof e=="number"?e:r.height*i.dpr,o=(typeof t=="number"?n:t)||{},{samples:l=0,depth:c,...u}=o,f=F.useMemo(()=>{const d=new la(s,a,{minFilter:Rn,magFilter:Rn,type:Xu,...u});return c&&(d.depthTexture=new _N(s,a,Ra)),d.samples=l,d},[]);return F.useLayoutEffect(()=>{f.setSize(s,a),l&&(f.samples=l)},[l,f,s,a]),F.useEffect(()=>()=>f.dispose(),[]),f}const fue=t=>typeof t=="function",r$=F.forwardRef(({envMap:t,resolution:e=256,frames:n=1/0,makeDefault:r,children:i,...s},a)=>{const o=ki(({set:x})=>x),l=ki(({camera:x})=>x),c=ki(({size:x})=>x),u=F.useRef(null);F.useImperativeHandle(a,()=>u.current,[]);const f=F.useRef(null),d=uue(e);F.useLayoutEffect(()=>{s.manual||(u.current.aspect=c.width/c.height)},[c,s]),F.useLayoutEffect(()=>{u.current.updateProjectionMatrix()});let p=0,v=null;const b=fue(i);return $0(x=>{b&&(n===1/0||p<n)&&(f.current.visible=!1,x.gl.setRenderTarget(d),v=x.scene.background,t&&(x.scene.background=t),x.gl.render(x.scene,u.current),x.scene.background=v,x.gl.setRenderTarget(null),f.current.visible=!0,p++)}),F.useLayoutEffect(()=>{if(r){const x=l;return o(()=>({camera:u.current})),()=>o(()=>({camera:x}))}},[u,r,o]),F.createElement(F.Fragment,null,F.createElement("perspectiveCamera",Ug({ref:u},s),!b&&i),F.createElement("group",{ref:f},b&&i(d.texture)))}),i$=F.forwardRef(({makeDefault:t,camera:e,regress:n,domElement:r,enableDamping:i=!0,keyEvents:s=!1,onChange:a,onStart:o,onEnd:l,...c},u)=>{const f=ki(E=>E.invalidate),d=ki(E=>E.camera),p=ki(E=>E.gl),v=ki(E=>E.events),b=ki(E=>E.setEvents),x=ki(E=>E.set),y=ki(E=>E.get),w=ki(E=>E.performance),_=e||d,S=r||v.connected||p.domElement,M=F.useMemo(()=>new pce(_),[_]);return $0(()=>{M.enabled&&M.update()},-1),F.useEffect(()=>(s&&M.connect(s===!0?S:s),M.connect(S),()=>void M.dispose()),[s,S,n,M,f]),F.useEffect(()=>{const E=P=>{f(),n&&w.regress(),a&&a(P)},A=P=>{o&&o(P)},C=P=>{l&&l(P)};return M.addEventListener("change",E),M.addEventListener("start",A),M.addEventListener("end",C),()=>{M.removeEventListener("start",A),M.removeEventListener("end",C),M.removeEventListener("change",E)}},[a,o,l,M,f,b]),F.useEffect(()=>{if(t){const E=y().controls;return x({controls:M}),()=>x({controls:E})}},[t,M]),F.createElement("primitive",Ug({ref:u,object:M,enableDamping:i},c))});var s$={exports:{}},due="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED",hue=due,pue=hue;function a$(){}function o$(){}o$.resetWarningCache=a$;var mue=function(){function t(r,i,s,a,o,l){if(l!==pue){var c=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw c.name="Invariant Violation",c}}t.isRequired=t;function e(){return t}var n={array:t,bigint:t,bool:t,func:t,number:t,object:t,string:t,symbol:t,any:t,arrayOf:e,element:t,elementType:t,instanceOf:e,node:t,objectOf:e,oneOf:e,oneOfType:e,shape:e,exact:e,checkPropTypes:o$,resetWarningCache:a$};return n.PropTypes=n,n};s$.exports=mue();var gue=s$.exports;const un=yn(gue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vue=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),yue=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),cD=t=>{const e=yue(t);return e.charAt(0).toUpperCase()+e.slice(1)},l$=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim(),xue=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var bue={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _ue=F.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:a,...o},l)=>F.createElement("svg",{ref:l,...bue,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:l$("lucide",i),...!s&&!xue(o)&&{"aria-hidden":"true"},...o},[...a.map(([c,u])=>F.createElement(c,u)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pt=(t,e)=>{const n=F.forwardRef(({className:r,...i},s)=>F.createElement(_ue,{ref:s,iconNode:e,className:l$(`lucide-${vue(cD(t))}`,`lucide-${t}`,r),...i}));return n.displayName=cD(t),n};/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wue=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],c$=Pt("activity",wue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sue=[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]],Mue=Pt("arrow-down",Sue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Eue=[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]],Tue=Pt("arrow-up",Eue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aue=[["path",{d:"M4.5 3h15",key:"c7n0jr"}],["path",{d:"M6 3v16a2 2 0 0 0 2 2h8a2 2 0 0 0 2-2V3",key:"m1uhx7"}],["path",{d:"M6 14h12",key:"4cwo0f"}]],vM=Pt("beaker",Aue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pue=[["path",{d:"M12 7v14",key:"1akyts"}],["path",{d:"M3 18a1 1 0 0 1-1-1V4a1 1 0 0 1 1-1h5a4 4 0 0 1 4 4 4 4 0 0 1 4-4h5a1 1 0 0 1 1 1v13a1 1 0 0 1-1 1h-6a3 3 0 0 0-3 3 3 3 0 0 0-3-3z",key:"ruj8y"}]],kd=Pt("book-open",Pue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cue=[["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M9 22v-3a1 1 0 0 1 1-1h4a1 1 0 0 1 1 1v3",key:"cabbwy"}],["rect",{x:"4",y:"2",width:"16",height:"20",rx:"2",key:"1uxh74"}]],Nue=Pt("building",Cue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rue=[["path",{d:"M13.997 4a2 2 0 0 1 1.76 1.05l.486.9A2 2 0 0 0 18.003 7H20a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2H4a2 2 0 0 1-2-2V9a2 2 0 0 1 2-2h1.997a2 2 0 0 0 1.759-1.048l.489-.904A2 2 0 0 1 10.004 4z",key:"18u6gg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],u$=Pt("camera",Rue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Oue=[["path",{d:"M19 17h2c.6 0 1-.4 1-1v-3c0-.9-.7-1.7-1.5-1.9C18.7 10.6 16 10 16 10s-1.3-1.4-2.2-2.3c-.5-.4-1.1-.7-1.8-.7H5c-.6 0-1.1.4-1.4.9l-1.4 2.9A3.7 3.7 0 0 0 2 12v4c0 .6.4 1 1 1h2",key:"5owen"}],["circle",{cx:"7",cy:"17",r:"2",key:"u2ysq9"}],["path",{d:"M9 17h6",key:"r8uit2"}],["circle",{cx:"17",cy:"17",r:"2",key:"axvx0g"}]],Lue=Pt("car",Oue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],co=Pt("chart-column",Iue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jue=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],kue=Pt("chart-line",jue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Due=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],yM=Pt("chevron-down",Due);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uue=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],Yx=Pt("chevron-right",Uue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Bue=Pt("circle-alert",Fue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zue=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],Vue=Pt("circle-check",zue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hue=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],Kx=Pt("cpu",Hue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $ue=[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]],f$=Pt("database",$ue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wue=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],Fg=Pt("download",Wue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gue=[["path",{d:"M7 16.3c2.2 0 4-1.83 4-4.05 0-1.16-.57-2.26-1.71-3.19S7.29 6.75 7 5.3c-.29 1.45-1.14 2.84-2.29 3.76S3 11.1 3 12.25c0 2.22 1.8 4.05 4 4.05z",key:"1ptgy4"}],["path",{d:"M12.56 6.6A10.97 10.97 0 0 0 14 3.02c.5 2.5 2 4.9 4 6.5s3 3.5 3 5.5a6.98 6.98 0 0 1-11.91 4.97",key:"1sl1rz"}]],Xue=Pt("droplets",Gue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const que=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],Yue=Pt("eye-off",que);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kue=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],V1=Pt("eye",Kue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zue=[["path",{d:"M12 16h.01",key:"1drbdi"}],["path",{d:"M16 16h.01",key:"1f9h7w"}],["path",{d:"M3 19a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V8.5a.5.5 0 0 0-.769-.422l-4.462 2.844A.5.5 0 0 1 15 10.5v-2a.5.5 0 0 0-.769-.422L9.77 10.922A.5.5 0 0 1 9 10.5V5a2 2 0 0 0-2-2H5a2 2 0 0 0-2 2z",key:"1iv0i2"}],["path",{d:"M8 16h.01",key:"18s6g9"}]],Jue=Pt("factory",Zue);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Que=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 17h2",key:"10kma7"}]],efe=Pt("file-spreadsheet",Que);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tfe=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],H1=Pt("file-text",tfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nfe=[["path",{d:"m6 14 1.5-2.9A2 2 0 0 1 9.24 10H20a2 2 0 0 1 1.94 2.5l-1.54 6a2 2 0 0 1-1.95 1.5H4a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h3.9a2 2 0 0 1 1.69.9l.81 1.2a2 2 0 0 0 1.67.9H18a2 2 0 0 1 2 2v2",key:"usdka0"}]],rfe=Pt("folder-open",nfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ife=[["path",{d:"m12 14 4-4",key:"9kzdfg"}],["path",{d:"M3.34 19a10 10 0 1 1 17.32 0",key:"19p75a"}]],$1=Pt("gauge",ife);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sfe=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],afe=Pt("house",sfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ofe=[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]],lfe=Pt("image",ofe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cfe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Bg=Pt("info",cfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ufe=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],ffe=Pt("lightbulb",ufe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dfe=[["path",{d:"M4.037 4.688a.495.495 0 0 1 .651-.651l16 6.5a.5.5 0 0 1-.063.947l-6.124 1.58a2 2 0 0 0-1.438 1.435l-1.579 6.126a.5.5 0 0 1-.947.063z",key:"edeuup"}]],hfe=Pt("mouse-pointer-2",dfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pfe=[["path",{d:"M12 2v20",key:"t6zp3m"}],["path",{d:"m15 19-3 3-3-3",key:"11eu04"}],["path",{d:"m19 9 3 3-3 3",key:"1mg7y2"}],["path",{d:"M2 12h20",key:"9i4pu4"}],["path",{d:"m5 9-3 3 3 3",key:"j64kie"}],["path",{d:"m9 5 3-3 3 3",key:"l8vdw6"}]],uD=Pt("move",pfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mfe=[["rect",{x:"14",y:"3",width:"5",height:"18",rx:"1",key:"kaeet6"}],["rect",{x:"5",y:"3",width:"5",height:"18",rx:"1",key:"1wsw3u"}]],qh=Pt("pause",mfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gfe=[["path",{d:"M5 5a2 2 0 0 1 3.008-1.728l11.997 6.998a2 2 0 0 1 .003 3.458l-12 7A2 2 0 0 1 5 19z",key:"10ikf1"}]],mf=Pt("play",gfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vfe=[["path",{d:"M17.8 19.2 16 11l3.5-3.5C21 6 21.5 4 21 3c-1-.5-3 0-4.5 1.5L13 8 4.8 6.2c-.5-.1-.9.1-1.1.5l-.3.5c-.2.5-.1 1 .3 1.3L9 12l-2 3H4l-1 1 3 2 2 3 1-1v-3l3-2 3.5 5.3c.3.4.8.5 1.3.3l.5-.2c.4-.3.6-.7.5-1.2z",key:"1v9wt8"}]],yfe=Pt("plane",vfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xfe=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]],W0=Pt("rotate-ccw",xfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bfe=[["path",{d:"M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8",key:"1p45f6"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}]],_fe=Pt("rotate-cw",bfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wfe=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],hh=Pt("settings",wfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sfe=[["path",{d:"M12 10.189V14",key:"1p8cqu"}],["path",{d:"M12 2v3",key:"qbqxhf"}],["path",{d:"M19 13V7a2 2 0 0 0-2-2H7a2 2 0 0 0-2 2v6",key:"qpkstq"}],["path",{d:"M19.38 20A11.6 11.6 0 0 0 21 14l-8.188-3.639a2 2 0 0 0-1.624 0L3 14a11.6 11.6 0 0 0 2.81 7.76",key:"7tigtc"}],["path",{d:"M2 21c.6.5 1.2 1 2.5 1 2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1s1.2 1 2.5 1c2.5 0 2.5-2 5-2 1.3 0 1.9.5 2.5 1",key:"1924j5"}]],Mfe=Pt("ship",Sfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Efe=[["path",{d:"M10 8h4",key:"1sr2af"}],["path",{d:"M12 21v-9",key:"17s77i"}],["path",{d:"M12 8V3",key:"13r4qs"}],["path",{d:"M17 16h4",key:"h1uq16"}],["path",{d:"M19 12V3",key:"o1uvq1"}],["path",{d:"M19 21v-5",key:"qua636"}],["path",{d:"M3 14h4",key:"bcjad9"}],["path",{d:"M5 10V3",key:"cb8scm"}],["path",{d:"M5 21v-7",key:"1w1uti"}]],Tfe=Pt("sliders-vertical",Efe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Afe=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]],zg=Pt("target",Afe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pfe=[["path",{d:"M14 4v10.54a4 4 0 1 1-4 0V4a2 2 0 0 1 4 0Z",key:"17jzev"}]],Cfe=Pt("thermometer",Pfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nfe=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],YN=Pt("trending-up",Nfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rfe=[["path",{d:"m16 13 5.223 3.482a.5.5 0 0 0 .777-.416V7.87a.5.5 0 0 0-.752-.432L16 10.5",key:"ftymec"}],["rect",{x:"2",y:"6",width:"14",height:"12",rx:"2",key:"158x01"}]],d$=Pt("video",Rfe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ofe=[["path",{d:"M12.8 19.6A2 2 0 1 0 14 16H2",key:"148xed"}],["path",{d:"M17.5 8a2.5 2.5 0 1 1 2 4H2",key:"1u4tom"}],["path",{d:"M9.8 4.4A2 2 0 1 1 11 8H2",key:"75valh"}]],ph=Pt("wind",Ofe);/**
 * @license lucide-react v0.544.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lfe=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],rA=Pt("zap",Lfe),h$=({enablePan:t=!0,enableZoom:e=!0,enableRotate:n=!0,autoRotate:r=!1,autoRotateSpeed:i=.5,minDistance:s=5,maxDistance:a=50,showControls:o=!0,onViewChange:l})=>{const{camera:c}=ki(),u=F.useRef(null),[f,d]=F.useState(r),[p,v]=F.useState(!1),[b,x]=F.useState("自由视角"),y=[{name:"前视图",position:[0,0,20],target:[0,0,0]},{name:"侧视图",position:[20,0,0],target:[0,0,0]},{name:"顶视图",position:[0,20,0],target:[0,0,0]},{name:"等距视图",position:[15,15,15],target:[0,0,0]}],w=E=>{if(u.current){const A=u.current,C=c.position.clone(),P=A.target.clone(),R=new Z(...E.position),L=new Z(...E.target);let O=0;const D=1e3,I=Date.now(),z=()=>{const $=Date.now()-I;O=Math.min($/D,1);const q=1-Math.pow(1-O,3);c.position.lerpVectors(C,R,q),A.target.lerpVectors(P,L,q),A.update(),O<1?requestAnimationFrame(z):(x(E.name),l==null||l(c.position,A.target))};z()}},_=()=>{w(y[3])};F.useEffect(()=>{const E=A=>{if(!u.current)return;const C=u.current,P=2;switch(A.key.toLowerCase()){case"w":c.position.z-=P;break;case"s":c.position.z+=P;break;case"a":c.position.x-=P;break;case"d":c.position.x+=P;break;case"q":c.position.y+=P;break;case"e":c.position.y-=P;break;case"r":A.ctrlKey&&(A.preventDefault(),_());break;case"h":A.ctrlKey&&(A.preventDefault(),v(!p));break;case" ":A.ctrlKey&&(A.preventDefault(),d(!f));break}C.update(),l==null||l(c.position,C.target)};return window.addEventListener("keydown",E),()=>window.removeEventListener("keydown",E)},[c,p,f,l]);const S=()=>h.jsx("div",{className:"absolute top-4 right-4 bg-black/80 backdrop-blur-sm rounded-lg p-4 text-white z-10 max-w-xs",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-sm text-blue-300 mb-1",children:"当前视角"}),h.jsx("div",{className:"text-xs text-white font-medium",children:b})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold mb-2 flex items-center",children:[h.jsx(u$,{className:"w-4 h-4 mr-2"}),"视角预设"]}),h.jsx("div",{className:"grid grid-cols-2 gap-1",children:y.map((E,A)=>h.jsx("button",{onClick:()=>w(E),className:"px-2 py-1 text-xs rounded bg-gray-700 hover:bg-gray-600 text-gray-300 transition-colors",children:E.name},A))})]}),h.jsxs("div",{children:[h.jsxs("h3",{className:"text-sm font-semibold mb-2 flex items-center",children:[h.jsx(hh,{className:"w-4 h-4 mr-2"}),"控制选项"]}),h.jsxs("div",{className:"space-y-1",children:[h.jsxs("button",{onClick:()=>d(!f),className:`w-full px-2 py-1 text-xs rounded transition-colors ${f?"bg-green-600 text-white":"bg-gray-700 hover:bg-gray-600 text-gray-300"}`,children:[h.jsx(_fe,{className:"w-3 h-3 inline mr-1"}),"自动旋转"]}),h.jsxs("button",{onClick:_,className:"w-full px-2 py-1 text-xs rounded bg-gray-700 hover:bg-gray-600 text-gray-300 transition-colors",children:[h.jsx(afe,{className:"w-3 h-3 inline mr-1"}),"重置视角"]}),h.jsxs("button",{onClick:()=>v(!p),className:"w-full px-2 py-1 text-xs rounded bg-gray-700 hover:bg-gray-600 text-gray-300 transition-colors",children:[h.jsx(Bg,{className:"w-3 h-3 inline mr-1"}),"操作帮助"]})]})]})]})}),M=()=>h.jsx("div",{className:"absolute top-4 left-4 bg-black/90 backdrop-blur-sm rounded-lg p-4 text-white z-10 max-w-md",children:h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("h3",{className:"text-lg font-semibold",children:"3D 操作指南"}),h.jsx("button",{onClick:()=>v(!1),className:"text-gray-400 hover:text-white",children:h.jsx(Yue,{className:"w-5 h-5"})})]}),h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-blue-400 mb-1",children:"鼠标操作"}),h.jsxs("ul",{className:"space-y-1 text-gray-300 text-xs",children:[h.jsx("li",{children:"• 左键拖拽：旋转视角"}),h.jsx("li",{children:"• 右键拖拽：平移视图"}),h.jsx("li",{children:"• 滚轮：缩放视图"})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-green-400 mb-1",children:"键盘快捷键"}),h.jsxs("ul",{className:"space-y-1 text-gray-300 text-xs",children:[h.jsx("li",{children:"• WASD：移动相机"}),h.jsx("li",{children:"• QE：上下移动"}),h.jsx("li",{children:"• Ctrl+R：重置视角"}),h.jsx("li",{children:"• Ctrl+Space：自动旋转"}),h.jsx("li",{children:"• Ctrl+H：显示/隐藏帮助"})]})]})]})]})});return h.jsxs(h.Fragment,{children:[h.jsx(i$,{ref:u,enablePan:t,enableZoom:e,enableRotate:n,autoRotate:f,autoRotateSpeed:i,minDistance:s,maxDistance:a,minPolarAngle:0,maxPolarAngle:Math.PI,dampingFactor:.1,enableDamping:!0,rotateSpeed:.8,panSpeed:1.2,zoomSpeed:1.5,screenSpacePanning:!0,mouseButtons:{LEFT:Qa.ROTATE,MIDDLE:Qa.DOLLY,RIGHT:Qa.PAN},touches:{ONE:Fo.ROTATE,TWO:Fo.DOLLY_PAN},onChange:()=>{u.current&&(l==null||l(c.position,u.current.target))}}),o&&h.jsx(S,{}),p&&h.jsx(M,{})]})},Ife=({className:t="",reynoldsNumber:e=100,viscosity:n=.01,density:r=1,flowSpeed:i=1,obstacleSize:s=1,simulationType:a="cylinder",visualizationType:o="velocity",viewType:l="free",enableDataProbe:c=!1})=>h.jsx("div",{className:`w-full h-full ${t}`,children:h.jsxs(XN,{shadows:!0,children:[h.jsx("color",{attach:"background",args:["#000"]}),h.jsx(r$,{makeDefault:!0,position:[0,5,15],fov:60}),h.jsx("ambientLight",{intensity:.3}),h.jsx("pointLight",{position:[10,10,10],intensity:1,castShadow:!0}),h.jsx(jfe,{reynoldsNumber:e,viscosity:n,density:r,flowSpeed:i,obstacleSize:s,simulationType:a,visualizationType:o,enableDataProbe:c}),h.jsx(h$,{enablePan:!0,enableZoom:!0,enableRotate:!0,minDistance:5,maxDistance:50,showControls:!0})]})}),jfe=({reynoldsNumber:t=100,viscosity:e=.01,density:n=1,flowSpeed:r=1,obstacleSize:i=1,simulationType:s="cylinder",visualizationType:a="velocity",enableDataProbe:o=!1})=>{const l=F.useRef(null),c=F.useRef(null),u=F.useRef(null),[f,d]=F.useState(null),[p,v]=F.useState(0);F.useEffect(()=>{const y=new Float32Array(6e3),w=new Float32Array(2e3*3),_=new Float32Array(2e3*3),S=new Float32Array(2e3);for(let M=0;M<2e3;M++)y[M*3]=-10+Math.random()*5,y[M*3+1]=-5+Math.random()*10,y[M*3+2]=-2+Math.random()*4,w[M*3]=r+Math.random()*.5,w[M*3+1]=(Math.random()-.5)*.2,w[M*3+2]=(Math.random()-.5)*.2,_[M*3]=.2+Math.random()*.3,_[M*3+1]=.5+Math.random()*.3,_[M*3+2]=.8+Math.random()*.2,S[M]=.1+Math.random()*.2;d({positions:y,velocities:w,colors:_,sizes:S})},[r]),$0((x,y)=>{if(!f||!c.current)return;v(S=>S+y);const w=c.current.geometry.attributes.position.array,_=c.current.geometry.attributes.color.array;for(let S=0;S<w.length/3;S++){const M=S*3;let E=w[M],A=w[M+1];w[M+2];const C=0,P=0,R=i*2,L=E-C,O=A-P,D=Math.sqrt(L*L+O*O);let I=r,z=0,$=0;if((s==="cylinder"||s==="karman")&&D<R+2){const U=Math.atan2(O,L),W=Math.max(0,(R+2-D)/2);if(I=r*(1-W)+Math.cos(U+Math.PI/2)*W*r,z=Math.sin(U+Math.PI/2)*W*r,s==="karman"&&E>C){const k=t*.01,H=.5;z+=Math.sin(p*k+A*.5)*H}}w[M]+=I*y,w[M+1]+=z*y,w[M+2]+=$*y,(E>15||D<R)&&(w[M]=-10+Math.random()*5,w[M+1]=-5+Math.random()*10,w[M+2]=-2+Math.random()*4);const q=Math.sqrt(I*I+z*z+$*$),V=Math.min(q/(r*2),1);if(a==="velocity")_[M]=.1+V*.8,_[M+1]=.3+V*.5,_[M+2]=.8+V*.2;else if(a==="pressure"){const U=1-D/10;_[M]=Math.max(0,U),_[M+1]=.2,_[M+2]=Math.max(0,1-U)}else if(a==="vorticity"){const U=Math.abs(z);_[M]=U>.5?1:0,_[M+1]=.3,_[M+2]=U<.5?1:0}}c.current.geometry.attributes.position.needsUpdate=!0,c.current.geometry.attributes.color.needsUpdate=!0});const b=F.useMemo(()=>new ca({transparent:!0,vertexColors:!0,blending:gg,depthWrite:!1,vertexShader:`
        attribute float size;
        varying vec3 vColor;
        
        void main() {
          vColor = color;
          vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
          gl_PointSize = size * (300.0 / -mvPosition.z);
          gl_Position = projectionMatrix * mvPosition;
        }
      `,fragmentShader:`
        varying vec3 vColor;
        
        void main() {
          float r = distance(gl_PointCoord, vec2(0.5, 0.5));
          if (r > 0.5) {
            discard;
          }
          
          float intensity = 1.0 - 2.0 * r;
          intensity = pow(intensity, 0.5);
          
          gl_FragColor = vec4(vColor * intensity, intensity);
        }
      `}),[]);return h.jsxs("group",{ref:l,children:[h.jsxs("mesh",{ref:u,position:[0,0,0],castShadow:!0,receiveShadow:!0,children:[h.jsx("cylinderGeometry",{args:[i*2,i*2,6,32]}),h.jsx("meshStandardMaterial",{color:"#444",roughness:.7,metalness:.3})]}),f&&h.jsx("points",{ref:c,material:b,children:h.jsxs("bufferGeometry",{children:[h.jsx("bufferAttribute",{attach:"attributes-position",count:f.positions.length/3,array:f.positions,itemSize:3}),h.jsx("bufferAttribute",{attach:"attributes-color",count:f.colors.length/3,array:f.colors,itemSize:3}),h.jsx("bufferAttribute",{attach:"attributes-size",count:f.sizes.length,array:f.sizes,itemSize:1})]})}),h.jsx("gridHelper",{args:[30,30,"#333","#111"],position:[0,-5,0]}),h.jsx("axesHelper",{args:[5]})]})},kfe=()=>{const[t,e]=F.useState("cylinder"),[n,r]=F.useState(100),[i,s]=F.useState(.01),[a,o]=F.useState(1),[l,c]=F.useState(1),[u,f]=F.useState(1),[d,p]=F.useState("velocity");return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(gt.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[h.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4 font-display",children:["流体动力学",h.jsx("span",{className:"text-blue-400",children:"仿真实验"})]}),h.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"基于Navier-Stokes方程的实时流体模拟，探索流体在不同条件下的运动规律"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsx(gt.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"lg:col-span-1",children:h.jsxs("div",{className:"glass-panel p-6 space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"仿真参数"}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"仿真类型"}),h.jsxs("select",{value:t,onChange:v=>e(v.target.value),className:"w-full px-3 py-2 bg-blue-900/30 border border-blue-500/30 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"cylinder",children:"圆柱绕流"}),h.jsx("option",{value:"karman",children:"卡门涡街"}),h.jsx("option",{value:"tunnel",children:"风洞流动"}),h.jsx("option",{value:"custom",children:"自定义"})]})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["雷诺数: ",n]}),h.jsx("input",{type:"range",min:"10",max:"1000",value:n,onChange:v=>r(Number(v.target.value)),className:"w-full"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["粘性系数: ",i.toFixed(3)]}),h.jsx("input",{type:"range",min:"0.001",max:"0.1",step:"0.001",value:i,onChange:v=>s(Number(v.target.value)),className:"w-full"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["流体密度: ",a.toFixed(1)]}),h.jsx("input",{type:"range",min:"0.1",max:"2.0",step:"0.1",value:a,onChange:v=>o(Number(v.target.value)),className:"w-full"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["流速: ",l.toFixed(1)]}),h.jsx("input",{type:"range",min:"0.1",max:"3.0",step:"0.1",value:l,onChange:v=>c(Number(v.target.value)),className:"w-full"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["障碍物尺寸: ",u.toFixed(1)]}),h.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:u,onChange:v=>f(Number(v.target.value)),className:"w-full"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"可视化类型"}),h.jsxs("select",{value:d,onChange:v=>p(v.target.value),className:"w-full px-3 py-2 bg-blue-900/30 border border-blue-500/30 rounded-md text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"velocity",children:"速度场"}),h.jsx("option",{value:"pressure",children:"压力场"}),h.jsx("option",{value:"vorticity",children:"涡量场"}),h.jsx("option",{value:"streamlines",children:"流线"})]})]})]})}),h.jsx(gt.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4},className:"lg:col-span-3",children:h.jsx("div",{className:"glass-panel h-[600px] overflow-hidden",children:h.jsx(Ife,{className:"w-full h-full",reynoldsNumber:n,viscosity:i,density:a,flowSpeed:l,obstacleSize:u,simulationType:t,visualizationType:d,viewType:"free",enableDataProbe:!0})})})]}),h.jsx(gt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-8",children:h.jsxs("div",{className:"glass-panel p-6",children:[h.jsx("h3",{className:"text-lg font-semibold text-white mb-3",children:"实验说明"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 text-blue-100",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-blue-200 mb-2",children:"雷诺数 (Re)"}),h.jsx("p",{className:"text-sm",children:"表示流体惯性力与粘性力的比值。低雷诺数时流动为层流，高雷诺数时转为湍流。"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-blue-200 mb-2",children:"可视化选项"}),h.jsx("p",{className:"text-sm",children:"速度场显示流体运动，压力场显示压强分布，涡量场显示流体旋转，流线显示流体路径。"})]})]})]})})]})})},Dfe=()=>h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(gt.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[h.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4 font-display",children:["流体力学",h.jsx("span",{className:"text-blue-400",children:"知识库"})]}),h.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"探索流体力学的奥秘，从基础理论到工程应用"})]}),h.jsxs("div",{className:"glass-panel p-8",children:[h.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 mb-6",children:"基础理论"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"glass-panel p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:"Navier-Stokes方程"}),h.jsx("p",{className:"text-blue-100 mb-4",children:"描述粘性流体运动的基本方程组，是流体力学的核心理论基础。"}),h.jsx("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:h.jsx("code",{className:"text-green-300 text-sm",children:"∂u/∂t + (u·∇)u = -∇p/ρ + ν∇²u + f"})})]}),h.jsxs("div",{className:"glass-panel p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:"雷诺数"}),h.jsx("p",{className:"text-blue-100 mb-4",children:"表征流体惯性力与粘性力相对大小的无量纲数。"}),h.jsx("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:h.jsx("code",{className:"text-green-300 text-sm",children:"Re = ρVL/μ = VL/ν"})})]}),h.jsxs("div",{className:"glass-panel p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:"伯努利方程"}),h.jsx("p",{className:"text-blue-100 mb-4",children:"描述理想流体在稳定流动中能量守恒的基本方程。"}),h.jsx("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:h.jsx("code",{className:"text-green-300 text-sm",children:"p + ½ρv² + ρgh = constant"})})]})]})]})]})}),Ufe=()=>h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(gt.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[h.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4 font-display",children:["数据",h.jsx("span",{className:"text-blue-400",children:"分析"})]}),h.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"深入分析流体仿真数据，探索流动规律"})]}),h.jsxs("div",{className:"glass-panel p-8",children:[h.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 mb-6",children:"分析工具"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"glass-panel p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:"速度场分析"}),h.jsx("p",{className:"text-blue-100",children:"分析流体速度分布，识别流动模式和特征区域。"})]}),h.jsxs("div",{className:"glass-panel p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:"压力场分析"}),h.jsx("p",{className:"text-blue-100",children:"研究压力分布，分析流体与固体边界的相互作用。"})]}),h.jsxs("div",{className:"glass-panel p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:"涡量分析"}),h.jsx("p",{className:"text-blue-100",children:"检测和量化流体中的涡流结构，研究湍流特性。"})]})]})]})]})}),Ffe=()=>h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(gt.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-12",children:[h.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4 font-display",children:["案例",h.jsx("span",{className:"text-blue-400",children:"展示"})]}),h.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"流体力学在各个领域的应用实例"})]}),h.jsxs("div",{className:"glass-panel p-8",children:[h.jsx("h2",{className:"text-2xl font-semibold text-cyan-300 mb-6",children:"经典案例"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"glass-panel p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:"飞机机翼设计"}),h.jsx("p",{className:"text-blue-100 mb-4",children:"通过流体仿真优化翼型设计，提高升力并降低阻力。"}),h.jsx("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:h.jsxs("p",{className:"text-green-300 text-sm",children:["升力系数提升: 15%",h.jsx("br",{}),"阻力减少: 8%",h.jsx("br",{}),"燃油效率提升: 12%"]})})]}),h.jsxs("div",{className:"glass-panel p-6",children:[h.jsx("h3",{className:"text-xl font-semibold text-cyan-300 mb-4",children:"汽车空气动力学"}),h.jsx("p",{className:"text-blue-100 mb-4",children:"分析车身周围气流，减少风阻，提高燃油经济性。"}),h.jsx("div",{className:"bg-blue-900/30 p-4 rounded-lg",children:h.jsxs("p",{className:"text-green-300 text-sm",children:["阻力系数: 0.24",h.jsx("br",{}),"风噪降低: 20%",h.jsx("br",{}),"燃油节省: 6%"]})})]})]})]})]})}),Bfe=({className:t="",reynoldsNumber:e=100,obstacleSize:n=1,flowSpeed:r=1,showVorticity:i=!0,showPressure:s=!1,showVelocity:a=!0,showStreamlines:o=!0,autoRotate:l=!1,onSimulationData:c})=>h.jsx("div",{className:`${t} w-full h-full`,children:h.jsxs(XN,{shadows:!0,gl:{antialias:!0},children:[h.jsx("color",{attach:"background",args:["#000"]}),h.jsx(r$,{makeDefault:!0,position:[0,10,20],fov:60}),h.jsx("ambientLight",{intensity:.3}),h.jsx("pointLight",{position:[10,10,10],intensity:1,castShadow:!0}),h.jsx(zfe,{reynoldsNumber:e,obstacleSize:n,flowSpeed:r,showVorticity:i,showPressure:s,showVelocity:a,showStreamlines:o,onSimulationData:c}),h.jsx(h$,{enablePan:!0,enableZoom:!0,enableRotate:!0,autoRotate:l,autoRotateSpeed:.5,minDistance:5,maxDistance:50,showControls:!0})]})}),zfe=({reynoldsNumber:t=100,obstacleSize:e=1,flowSpeed:n=1,showVorticity:r=!0,showPressure:i=!1,showVelocity:s=!0,showStreamlines:a=!0,onSimulationData:o})=>{const l=F.useRef(null),c=F.useRef(null),u=F.useRef(null),f=F.useRef(null),[d,p]=F.useState(null),[v,b]=F.useState(0);F.useEffect(()=>{const w=new Float32Array(15e3),_=new Float32Array(5e3*3),S=new Float32Array(5e3),M=[[.1,.4,.9],[.2,.5,1],[0,.6,.9],[.4,.7,1]];for(let E=0;E<5e3;E++){Math.random()<.8?(w[E*3]=Math.random()*10,w[E*3+1]=5+Math.random()*40):(w[E*3]=Math.random()*100,w[E*3+1]=Math.random()*50),w[E*3+2]=Math.random()*3-1.5;const C=Math.floor(Math.random()*M.length),[P,R,L]=M[C];_[E*3]=P*(.9+Math.random()*.2),_[E*3+1]=R*(.9+Math.random()*.2),_[E*3+2]=L*(.9+Math.random()*.2);const O=Math.abs(w[E*3+2]),D=1-Math.min(1,O/1.5);S[E]=(.3+Math.random()*.4)*D}p({positions:w,colors:_,sizes:S})},[n]),$0((y,w)=>{if(!d||!c.current)return;b(E=>E+w);const _=c.current.geometry.attributes.position.array,S=c.current.geometry.attributes.color.array,M=c.current.geometry.attributes.size.array;for(let E=0;E<_.length/3;E++){const A=E*3;let C=_[A],P=_[A+1];_[A+2];const R=25,L=25,O=e*3,D=C-R,I=P-L,z=Math.sqrt(D*D+I*I);let $=n,q=0,V=0,U=0;if(z<O+5){const H=Math.atan2(I,D),K=Math.max(0,(O+5-z)/5);if($=n*(1-K)+Math.cos(H+Math.PI/2)*K*n,q=Math.sin(H+Math.PI/2)*K*n,C>R){const ne=t*.02,te=1,ae=P*.3;q+=Math.sin(v*ne+ae)*te,U=Math.cos(v*ne+ae)*te}}const W=Math.sqrt($*$+q*q+V*V),k=Math.min(8,3+W*5);if(_[A]+=$*w*k,_[A+1]+=q*w*k,_[A+2]+=V*w*k,_[A]+=(Math.random()-.5)*.05*w,_[A+1]+=(Math.random()-.5)*.05*w,C>100||C<0||P>50||P<0||z<O)_[A]=Math.random()*5,_[A+1]=10+Math.random()*30,_[A+2]=Math.random()*2-1,S[A]=.2,S[A+1]=.5,S[A+2]=1;else{const H=Math.abs(U);if(U>.01)S[A]=Math.min(1,.5+U*.8),S[A+1]=Math.max(0,.4-H*.3),S[A+2]=Math.max(0,.4-H*.3);else if(U<-.01)S[A]=Math.max(0,.4-H*.3),S[A+1]=Math.max(0,.4-H*.3),S[A+2]=Math.min(1,.5+H*.8);else{const K=Math.min(1,W/2);S[A]=.2+(1-K)*.3,S[A+1]=.5+(1-K)*.2,S[A+2]=.8}M[E]=.2+W*.1+H*.2}}c.current.geometry.attributes.position.needsUpdate=!0,c.current.geometry.attributes.color.needsUpdate=!0,c.current.geometry.attributes.size.needsUpdate=!0});const x=F.useMemo(()=>new ca({transparent:!0,vertexColors:!0,blending:gg,depthWrite:!1,vertexShader:`
        attribute float size;
        varying vec3 vColor;
        
        void main() {
          vColor = color;
          vec4 mvPosition = modelViewMatrix * vec4(position, 1.0);
          gl_PointSize = size * (300.0 / -mvPosition.z);
          gl_Position = projectionMatrix * mvPosition;
        }
      `,fragmentShader:`
        varying vec3 vColor;
        
        void main() {
          // 创建圆形粒子
          float r = distance(gl_PointCoord, vec2(0.5, 0.5));
          if (r > 0.5) {
            discard;
          }
          
          // 柔和的边缘和亮度变化
          float intensity = 1.0 - 2.0 * r;
          intensity = pow(intensity, 0.75);
          
          // 添加亮边光晕效果
          float haloFactor = 1.0 - smoothstep(0.4, 0.5, r);
          vec3 halo = vColor + vec3(0.3, 0.3, 0.3) * haloFactor;
          
          gl_FragColor = vec4(halo * intensity, intensity * (1.0 - r * 0.5));
        }
      `}),[]);return h.jsxs("group",{children:[h.jsxs("mesh",{ref:l,position:[25,25,0],rotation:[Math.PI/2,0,0],castShadow:!0,receiveShadow:!0,children:[h.jsx("cylinderGeometry",{args:[e*3,e*3,10,32]}),h.jsx("meshStandardMaterial",{color:"#444",roughness:.7,metalness:.3})]}),d&&h.jsx("points",{ref:c,material:x,children:h.jsxs("bufferGeometry",{children:[h.jsx("bufferAttribute",{attach:"attributes-position",count:d.positions.length/3,array:d.positions,itemSize:3}),h.jsx("bufferAttribute",{attach:"attributes-color",count:d.colors.length/3,array:d.colors,itemSize:3}),h.jsx("bufferAttribute",{attach:"attributes-size",count:d.sizes.length,array:d.sizes,itemSize:1})]})}),h.jsx("group",{ref:u}),h.jsx("mesh",{ref:f,position:[50,25,-.5],rotation:[-Math.PI/2,0,0],visible:r,children:h.jsx("planeGeometry",{args:[100,50,1,1]})}),h.jsx("gridHelper",{args:[100,50,"#222","#111"],rotation:[Math.PI/2,0,0],position:[0,0,-.6]}),h.jsx(cue,{position:[50,5,10],color:"white",fontSize:3,anchorX:"center",anchorY:"middle",children:"卡门涡街模拟"}),h.jsx("ambientLight",{intensity:.5}),h.jsx("directionalLight",{position:[10,10,10],intensity:.8,castShadow:!0}),h.jsx("pointLight",{position:[25,25,5],intensity:1.5,color:"#ffaa88",distance:20})]})},At=({children:t,className:e=""})=>h.jsx("div",{className:`bg-white rounded-lg border border-gray-200 shadow-sm ${e}`,children:t}),Xt=({children:t,className:e=""})=>h.jsx("div",{className:`p-6 pb-0 ${e}`,children:t}),Yt=({children:t,className:e=""})=>h.jsx("h3",{className:`text-lg font-semibold leading-none tracking-tight ${e}`,children:t}),wi=({children:t,className:e=""})=>h.jsx("p",{className:`text-sm text-gray-600 ${e}`,children:t}),Ct=({children:t,className:e=""})=>h.jsx("div",{className:`p-6 pt-0 ${e}`,children:t}),sn=({variant:t="default",size:e="default",className:n="",children:r,...i})=>{const s="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",a={default:"bg-blue-600 text-white hover:bg-blue-700",destructive:"bg-red-600 text-white hover:bg-red-700",outline:"border border-gray-300 bg-white hover:bg-gray-50 hover:text-gray-900",secondary:"bg-gray-100 text-gray-900 hover:bg-gray-200",ghost:"hover:bg-gray-100 hover:text-gray-900",link:"text-blue-600 underline-offset-4 hover:underline"},o={default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"};return h.jsx("button",{className:`${s} ${a[t]} ${o[e]} ${n}`,...i,children:r})},Tr=({children:t,className:e="",onValueChange:n,...r})=>{const i=s=>{n&&n(s.target.value)};return h.jsx("select",{className:`flex h-10 w-full items-center justify-between rounded-md border border-gray-300 bg-white px-3 py-2 text-sm ring-offset-background placeholder:text-gray-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 ${e}`,onChange:i,...r,children:t})},Ar=({children:t,className:e=""})=>h.jsx("div",{className:e,children:t}),Pr=({placeholder:t,className:e=""})=>h.jsx("span",{className:`text-gray-500 ${e}`,children:t}),Cr=({children:t,className:e=""})=>h.jsx("div",{className:e,children:t}),kt=({value:t,children:e,className:n=""})=>h.jsx("option",{value:t,className:n,children:e}),uo=({variant:t="default",children:e,className:n=""})=>{const r="relative w-full rounded-lg border p-4",i={default:"bg-blue-50 text-blue-900 border-blue-200",destructive:"bg-red-50 text-red-900 border-red-200"};return h.jsx("div",{className:`${r} ${i[t]} ${n}`,children:e})},fo=({children:t,className:e=""})=>h.jsx("div",{className:`text-sm [&_p]:leading-relaxed ${e}`,children:t}),p$=({data:t,onExport:e})=>{const[n,r]=F.useState("csv"),[i,s]=F.useState("idle"),[a,o]=F.useState(0),l=F.useRef(null),c=[{value:"csv",label:"CSV 数据文件",icon:efe,description:"适用于Excel、MATLAB等软件"},{value:"json",label:"JSON 数据文件",icon:f$,description:"结构化数据，适用于编程分析"},{value:"vtk",label:"VTK 科学数据",icon:H1,description:"适用于ParaView、VisIt等可视化软件"},{value:"png",label:"PNG 图像",icon:lfe,description:"高质量静态图像"},{value:"gif",label:"GIF 动画",icon:d$,description:"流场动画演示"},{value:"report",label:"PDF 实验报告",icon:H1,description:"完整的实验分析报告"}],u=x=>{const{results:y,parameters:w,metadata:_}=x;let S="";return S+=`实验类型,${x.experimentType}
`,S+=`时间戳,${x.timestamp}
`,S+=`雷诺数,${_.reynoldsNumber}
`,S+=`网格分辨率,"${_.meshResolution[0]}x${_.meshResolution[1]}"
`,S+=`时间步长,${_.timeStep}
`,S+=`模拟时间,${_.simulationTime}

`,S+=`参数名,数值
`,Object.entries(w).forEach(([M,E])=>{S+=`${M},${E}
`}),S+=`
`,S+=`速度场数据
`,S+=`X坐标,Y坐标,U速度,V速度,速度幅值
`,y.velocity.forEach((M,E)=>{M.forEach((A,C)=>{const P=y.velocity[E]?y.velocity[E][C]:0,R=Math.sqrt(A*A+P*P);S+=`${C},${E},${A},${P},${R}
`})}),S},f=x=>JSON.stringify({...x,exportDate:new Date().toISOString(),version:"1.0"},null,2),d=x=>{const{results:y,metadata:w}=x,[_,S]=w.meshResolution;let M="";M+=`# vtk DataFile Version 3.0
`,M+=`Fluid Dynamics Simulation - ${x.experimentType}
`,M+=`ASCII
`,M+=`DATASET STRUCTURED_GRID
`,M+=`DIMENSIONS ${_} ${S} 1
`,M+=`POINTS ${_*S} float
`;for(let E=0;E<S;E++)for(let A=0;A<_;A++)M+=`${A*w.timeStep} ${E*w.timeStep} 0.0
`;M+=`POINT_DATA ${_*S}
`,M+=`VECTORS velocity float
`;for(let E=0;E<S;E++)for(let A=0;A<_;A++){const C=y.velocity[E]?y.velocity[E][A]:0,P=y.velocity[E]?y.velocity[E][A]:0;M+=`${C} ${P} 0.0
`}M+=`SCALARS pressure float 1
`,M+=`LOOKUP_TABLE default
`;for(let E=0;E<S;E++)for(let A=0;A<_;A++){const C=y.pressure[E]?y.pressure[E][A]:0;M+=`${C}
`}return M},p=async x=>{const y=l.current;if(!y)throw new Error("Canvas not available");const w=y.getContext("2d");if(!w)throw new Error("Canvas context not available");const{results:_,metadata:S}=x,[M,E]=S.meshResolution;y.width=M,y.height=E;const A=w.createImageData(M,E);for(let C=0;C<E;C++)for(let P=0;P<M;P++){const R=_.velocity[C]?_.velocity[C][P]:0,L=_.velocity[C]?_.velocity[C][P]:0,O=Math.sqrt(R*R+L*L),D=Math.min(O/5,1),I=(C*M+P)*4;D<.25?(A.data[I]=0,A.data[I+1]=Math.floor(D*4*255),A.data[I+2]=255):D<.5?(A.data[I]=0,A.data[I+1]=255,A.data[I+2]=Math.floor((.5-D)*4*255)):D<.75?(A.data[I]=Math.floor((D-.5)*4*255),A.data[I+1]=255,A.data[I+2]=0):(A.data[I]=255,A.data[I+1]=Math.floor((1-D)*4*255),A.data[I+2]=0),A.data[I+3]=255}return w.putImageData(A,0,0),new Promise(C=>{y.toBlob(P=>C(P),"image/png")})},v=async()=>{s("exporting"),o(0);try{let x,y,w;switch(n){case"csv":x=u(t),y=`fluid_simulation_${t.experimentType}_${Date.now()}.csv`,w="text/csv";break;case"json":x=f(t),y=`fluid_simulation_${t.experimentType}_${Date.now()}.json`,w="application/json";break;case"vtk":x=d(t),y=`fluid_simulation_${t.experimentType}_${Date.now()}.vtk`,w="text/plain";break;case"png":x=await p(t),y=`fluid_simulation_${t.experimentType}_${Date.now()}.png`,w="image/png";break;default:throw new Error("Unsupported format")}const _=x instanceof Blob?x:new Blob([x],{type:w}),S=URL.createObjectURL(_),M=document.createElement("a");M.href=S,M.download=y,M.click(),URL.revokeObjectURL(S),o(100),s("success"),e&&e(n,x),setTimeout(()=>{s("idle"),o(0)},3e3)}catch(x){console.error("Export failed:",x),s("error"),setTimeout(()=>{s("idle"),o(0)},3e3)}},b=c.find(x=>x.value===n);return h.jsxs(At,{className:"w-full",children:[h.jsxs(Xt,{children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(Fg,{className:"h-5 w-5"}),"数据导出管理器"]}),h.jsx(wi,{children:"导出实验数据为多种格式，支持后续分析和可视化"})]}),h.jsxs(Ct,{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"实验类型"}),h.jsx("div",{className:"text-lg font-bold text-blue-900",children:t.experimentType})]}),h.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-green-600 font-medium",children:"雷诺数"}),h.jsx("div",{className:"text-lg font-bold text-green-900",children:t.metadata.reynoldsNumber.toFixed(0)})]}),h.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"网格分辨率"}),h.jsxs("div",{className:"text-lg font-bold text-purple-900",children:[t.metadata.meshResolution[0],"×",t.metadata.meshResolution[1]]})]}),h.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"模拟时间"}),h.jsxs("div",{className:"text-lg font-bold text-orange-900",children:[t.metadata.simulationTime.toFixed(2),"s"]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium mb-2 block",children:"选择导出格式"}),h.jsxs(Tr,{value:n,onValueChange:r,children:[h.jsx(Ar,{children:h.jsx(Pr,{})}),h.jsx(Cr,{children:c.map(x=>h.jsx(kt,{value:x.value,children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(x.icon,{className:"h-4 w-4"}),x.label]})},x.value))})]})]}),b&&h.jsxs(uo,{children:[h.jsx(b.icon,{className:"h-4 w-4"}),h.jsx(fo,{children:b.description})]})]}),i!=="idle"&&h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium",children:"导出进度"}),h.jsxs("span",{className:"text-sm text-gray-500",children:[a,"%"]})]}),h.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:h.jsx(gt.div,{className:"bg-blue-500 h-2 rounded-full",initial:{width:0},animate:{width:`${a}%`},transition:{duration:.3}})})]}),i==="success"&&h.jsxs(uo,{className:"border-green-200 bg-green-50",children:[h.jsx(Vue,{className:"h-4 w-4 text-green-600"}),h.jsx(fo,{className:"text-green-800",children:"数据导出成功！文件已保存到下载目录。"})]}),i==="error"&&h.jsxs(uo,{className:"border-red-200 bg-red-50",children:[h.jsx(Bue,{className:"h-4 w-4 text-red-600"}),h.jsx(fo,{className:"text-red-800",children:"导出失败，请检查数据格式或重试。"})]}),h.jsx(sn,{onClick:v,disabled:i==="exporting",className:"w-full",size:"lg",children:i==="exporting"?h.jsxs(h.Fragment,{children:[h.jsx(hh,{className:"h-4 w-4 mr-2 animate-spin"}),"正在导出..."]}):h.jsxs(h.Fragment,{children:[h.jsx(Fg,{className:"h-4 w-4 mr-2"}),"导出数据"]})}),h.jsx("canvas",{ref:l,style:{display:"none"}})]})]})};function m$(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=m$(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function en(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=m$(t))&&(r&&(r+=" "),r+=e);return r}var Vfe=Array.isArray,ls=Vfe,Hfe=typeof Xv=="object"&&Xv&&Xv.Object===Object&&Xv,g$=Hfe,$fe=g$,Wfe=typeof self=="object"&&self&&self.Object===Object&&self,Gfe=$fe||Wfe||Function("return this")(),yo=Gfe,Xfe=yo,qfe=Xfe.Symbol,G0=qfe,fD=G0,v$=Object.prototype,Yfe=v$.hasOwnProperty,Kfe=v$.toString,nm=fD?fD.toStringTag:void 0;function Zfe(t){var e=Yfe.call(t,nm),n=t[nm];try{t[nm]=void 0;var r=!0}catch{}var i=Kfe.call(t);return r&&(e?t[nm]=n:delete t[nm]),i}var Jfe=Zfe,Qfe=Object.prototype,ede=Qfe.toString;function tde(t){return ede.call(t)}var nde=tde,dD=G0,rde=Jfe,ide=nde,sde="[object Null]",ade="[object Undefined]",hD=dD?dD.toStringTag:void 0;function ode(t){return t==null?t===void 0?ade:sde:hD&&hD in Object(t)?rde(t):ide(t)}var vl=ode;function lde(t){return t!=null&&typeof t=="object"}var yl=lde,cde=vl,ude=yl,fde="[object Symbol]";function dde(t){return typeof t=="symbol"||ude(t)&&cde(t)==fde}var Yh=dde,hde=ls,pde=Yh,mde=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,gde=/^\w*$/;function vde(t,e){if(hde(t))return!1;var n=typeof t;return n=="number"||n=="symbol"||n=="boolean"||t==null||pde(t)?!0:gde.test(t)||!mde.test(t)||e!=null&&t in Object(e)}var KN=vde;function yde(t){var e=typeof t;return t!=null&&(e=="object"||e=="function")}var Cc=yde;const Kh=yn(Cc);var xde=vl,bde=Cc,_de="[object AsyncFunction]",wde="[object Function]",Sde="[object GeneratorFunction]",Mde="[object Proxy]";function Ede(t){if(!bde(t))return!1;var e=xde(t);return e==wde||e==Sde||e==_de||e==Mde}var ZN=Ede;const Vt=yn(ZN);var Tde=yo,Ade=Tde["__core-js_shared__"],Pde=Ade,xM=Pde,pD=function(){var t=/[^.]+$/.exec(xM&&xM.keys&&xM.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();function Cde(t){return!!pD&&pD in t}var Nde=Cde,Rde=Function.prototype,Ode=Rde.toString;function Lde(t){if(t!=null){try{return Ode.call(t)}catch{}try{return t+""}catch{}}return""}var y$=Lde,Ide=ZN,jde=Nde,kde=Cc,Dde=y$,Ude=/[\\^$.*+?()[\]{}|]/g,Fde=/^\[object .+?Constructor\]$/,Bde=Function.prototype,zde=Object.prototype,Vde=Bde.toString,Hde=zde.hasOwnProperty,$de=RegExp("^"+Vde.call(Hde).replace(Ude,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function Wde(t){if(!kde(t)||jde(t))return!1;var e=Ide(t)?$de:Fde;return e.test(Dde(t))}var Gde=Wde;function Xde(t,e){return t==null?void 0:t[e]}var qde=Xde,Yde=Gde,Kde=qde;function Zde(t,e){var n=Kde(t,e);return Yde(n)?n:void 0}var gf=Zde,Jde=gf,Qde=Jde(Object,"create"),J_=Qde,mD=J_;function ehe(){this.__data__=mD?mD(null):{},this.size=0}var the=ehe;function nhe(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}var rhe=nhe,ihe=J_,she="__lodash_hash_undefined__",ahe=Object.prototype,ohe=ahe.hasOwnProperty;function lhe(t){var e=this.__data__;if(ihe){var n=e[t];return n===she?void 0:n}return ohe.call(e,t)?e[t]:void 0}var che=lhe,uhe=J_,fhe=Object.prototype,dhe=fhe.hasOwnProperty;function hhe(t){var e=this.__data__;return uhe?e[t]!==void 0:dhe.call(e,t)}var phe=hhe,mhe=J_,ghe="__lodash_hash_undefined__";function vhe(t,e){var n=this.__data__;return this.size+=this.has(t)?0:1,n[t]=mhe&&e===void 0?ghe:e,this}var yhe=vhe,xhe=the,bhe=rhe,_he=che,whe=phe,She=yhe;function Zh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Zh.prototype.clear=xhe;Zh.prototype.delete=bhe;Zh.prototype.get=_he;Zh.prototype.has=whe;Zh.prototype.set=She;var Mhe=Zh;function Ehe(){this.__data__=[],this.size=0}var The=Ehe;function Ahe(t,e){return t===e||t!==t&&e!==e}var JN=Ahe,Phe=JN;function Che(t,e){for(var n=t.length;n--;)if(Phe(t[n][0],e))return n;return-1}var Q_=Che,Nhe=Q_,Rhe=Array.prototype,Ohe=Rhe.splice;function Lhe(t){var e=this.__data__,n=Nhe(e,t);if(n<0)return!1;var r=e.length-1;return n==r?e.pop():Ohe.call(e,n,1),--this.size,!0}var Ihe=Lhe,jhe=Q_;function khe(t){var e=this.__data__,n=jhe(e,t);return n<0?void 0:e[n][1]}var Dhe=khe,Uhe=Q_;function Fhe(t){return Uhe(this.__data__,t)>-1}var Bhe=Fhe,zhe=Q_;function Vhe(t,e){var n=this.__data__,r=zhe(n,t);return r<0?(++this.size,n.push([t,e])):n[r][1]=e,this}var Hhe=Vhe,$he=The,Whe=Ihe,Ghe=Dhe,Xhe=Bhe,qhe=Hhe;function Jh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Jh.prototype.clear=$he;Jh.prototype.delete=Whe;Jh.prototype.get=Ghe;Jh.prototype.has=Xhe;Jh.prototype.set=qhe;var ew=Jh,Yhe=gf,Khe=yo,Zhe=Yhe(Khe,"Map"),QN=Zhe,gD=Mhe,Jhe=ew,Qhe=QN;function epe(){this.size=0,this.__data__={hash:new gD,map:new(Qhe||Jhe),string:new gD}}var tpe=epe;function npe(t){var e=typeof t;return e=="string"||e=="number"||e=="symbol"||e=="boolean"?t!=="__proto__":t===null}var rpe=npe,ipe=rpe;function spe(t,e){var n=t.__data__;return ipe(e)?n[typeof e=="string"?"string":"hash"]:n.map}var tw=spe,ape=tw;function ope(t){var e=ape(this,t).delete(t);return this.size-=e?1:0,e}var lpe=ope,cpe=tw;function upe(t){return cpe(this,t).get(t)}var fpe=upe,dpe=tw;function hpe(t){return dpe(this,t).has(t)}var ppe=hpe,mpe=tw;function gpe(t,e){var n=mpe(this,t),r=n.size;return n.set(t,e),this.size+=n.size==r?0:1,this}var vpe=gpe,ype=tpe,xpe=lpe,bpe=fpe,_pe=ppe,wpe=vpe;function Qh(t){var e=-1,n=t==null?0:t.length;for(this.clear();++e<n;){var r=t[e];this.set(r[0],r[1])}}Qh.prototype.clear=ype;Qh.prototype.delete=xpe;Qh.prototype.get=bpe;Qh.prototype.has=_pe;Qh.prototype.set=wpe;var eR=Qh,x$=eR,Spe="Expected a function";function tR(t,e){if(typeof t!="function"||e!=null&&typeof e!="function")throw new TypeError(Spe);var n=function(){var r=arguments,i=e?e.apply(this,r):r[0],s=n.cache;if(s.has(i))return s.get(i);var a=t.apply(this,r);return n.cache=s.set(i,a)||s,a};return n.cache=new(tR.Cache||x$),n}tR.Cache=x$;var b$=tR;const Mpe=yn(b$);var Epe=b$,Tpe=500;function Ape(t){var e=Epe(t,function(r){return n.size===Tpe&&n.clear(),r}),n=e.cache;return e}var Ppe=Ape,Cpe=Ppe,Npe=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,Rpe=/\\(\\)?/g,Ope=Cpe(function(t){var e=[];return t.charCodeAt(0)===46&&e.push(""),t.replace(Npe,function(n,r,i,s){e.push(i?s.replace(Rpe,"$1"):r||n)}),e}),Lpe=Ope;function Ipe(t,e){for(var n=-1,r=t==null?0:t.length,i=Array(r);++n<r;)i[n]=e(t[n],n,t);return i}var nR=Ipe,vD=G0,jpe=nR,kpe=ls,Dpe=Yh,Upe=1/0,yD=vD?vD.prototype:void 0,xD=yD?yD.toString:void 0;function _$(t){if(typeof t=="string")return t;if(kpe(t))return jpe(t,_$)+"";if(Dpe(t))return xD?xD.call(t):"";var e=t+"";return e=="0"&&1/t==-Upe?"-0":e}var Fpe=_$,Bpe=Fpe;function zpe(t){return t==null?"":Bpe(t)}var w$=zpe,Vpe=ls,Hpe=KN,$pe=Lpe,Wpe=w$;function Gpe(t,e){return Vpe(t)?t:Hpe(t,e)?[t]:$pe(Wpe(t))}var S$=Gpe,Xpe=Yh,qpe=1/0;function Ype(t){if(typeof t=="string"||Xpe(t))return t;var e=t+"";return e=="0"&&1/t==-qpe?"-0":e}var nw=Ype,Kpe=S$,Zpe=nw;function Jpe(t,e){e=Kpe(e,t);for(var n=0,r=e.length;t!=null&&n<r;)t=t[Zpe(e[n++])];return n&&n==r?t:void 0}var rR=Jpe,Qpe=rR;function eme(t,e,n){var r=t==null?void 0:Qpe(t,e);return r===void 0?n:r}var M$=eme;const ia=yn(M$);function tme(t){return t==null}var nme=tme;const Wt=yn(nme);var rme=vl,ime=ls,sme=yl,ame="[object String]";function ome(t){return typeof t=="string"||!ime(t)&&sme(t)&&rme(t)==ame}var lme=ome;const Qu=yn(lme);var E$={exports:{}},pn={};/**
 * @license React
 * react-is.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var iR=Symbol.for("react.element"),sR=Symbol.for("react.portal"),rw=Symbol.for("react.fragment"),iw=Symbol.for("react.strict_mode"),sw=Symbol.for("react.profiler"),aw=Symbol.for("react.provider"),ow=Symbol.for("react.context"),cme=Symbol.for("react.server_context"),lw=Symbol.for("react.forward_ref"),cw=Symbol.for("react.suspense"),uw=Symbol.for("react.suspense_list"),fw=Symbol.for("react.memo"),dw=Symbol.for("react.lazy"),ume=Symbol.for("react.offscreen"),T$;T$=Symbol.for("react.module.reference");function ha(t){if(typeof t=="object"&&t!==null){var e=t.$$typeof;switch(e){case iR:switch(t=t.type,t){case rw:case sw:case iw:case cw:case uw:return t;default:switch(t=t&&t.$$typeof,t){case cme:case ow:case lw:case dw:case fw:case aw:return t;default:return e}}case sR:return e}}}pn.ContextConsumer=ow;pn.ContextProvider=aw;pn.Element=iR;pn.ForwardRef=lw;pn.Fragment=rw;pn.Lazy=dw;pn.Memo=fw;pn.Portal=sR;pn.Profiler=sw;pn.StrictMode=iw;pn.Suspense=cw;pn.SuspenseList=uw;pn.isAsyncMode=function(){return!1};pn.isConcurrentMode=function(){return!1};pn.isContextConsumer=function(t){return ha(t)===ow};pn.isContextProvider=function(t){return ha(t)===aw};pn.isElement=function(t){return typeof t=="object"&&t!==null&&t.$$typeof===iR};pn.isForwardRef=function(t){return ha(t)===lw};pn.isFragment=function(t){return ha(t)===rw};pn.isLazy=function(t){return ha(t)===dw};pn.isMemo=function(t){return ha(t)===fw};pn.isPortal=function(t){return ha(t)===sR};pn.isProfiler=function(t){return ha(t)===sw};pn.isStrictMode=function(t){return ha(t)===iw};pn.isSuspense=function(t){return ha(t)===cw};pn.isSuspenseList=function(t){return ha(t)===uw};pn.isValidElementType=function(t){return typeof t=="string"||typeof t=="function"||t===rw||t===sw||t===iw||t===cw||t===uw||t===ume||typeof t=="object"&&t!==null&&(t.$$typeof===dw||t.$$typeof===fw||t.$$typeof===aw||t.$$typeof===ow||t.$$typeof===lw||t.$$typeof===T$||t.getModuleId!==void 0)};pn.typeOf=ha;E$.exports=pn;var fme=E$.exports,dme=vl,hme=yl,pme="[object Number]";function mme(t){return typeof t=="number"||hme(t)&&dme(t)==pme}var A$=mme;const gme=yn(A$);var vme=A$;function yme(t){return vme(t)&&t!=+t}var xme=yme;const X0=yn(xme);var Oa=function(e){return e===0?0:e>0?1:-1},Au=function(e){return Qu(e)&&e.indexOf("%")===e.length-1},Qe=function(e){return gme(e)&&!X0(e)},bme=function(e){return Wt(e)},Or=function(e){return Qe(e)||Qu(e)},_me=0,q0=function(e){var n=++_me;return"".concat(e||"").concat(n)},ef=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Qe(e)&&!Qu(e))return r;var s;if(Au(e)){var a=e.indexOf("%");s=n*parseFloat(e.slice(0,a))/100}else s=+e;return X0(s)&&(s=r),i&&s>n&&(s=n),s},$l=function(e){if(!e)return null;var n=Object.keys(e);return n&&n.length?e[n[0]]:null},wme=function(e){if(!Array.isArray(e))return!1;for(var n=e.length,r={},i=0;i<n;i++)if(!r[e[i]])r[e[i]]=!0;else return!0;return!1},Ca=function(e,n){return Qe(e)&&Qe(n)?function(r){return e+r*(n-e)}:function(){return n}};function W1(t,e,n){return!t||!t.length?null:t.find(function(r){return r&&(typeof e=="function"?e(r):ia(r,e))===n})}var Sme=function(e,n){return Qe(e)&&Qe(n)?e-n:Qu(e)&&Qu(n)?e.localeCompare(n):e instanceof Date&&n instanceof Date?e.getTime()-n.getTime():String(e).localeCompare(String(n))};function Yd(t,e){for(var n in t)if({}.hasOwnProperty.call(t,n)&&(!{}.hasOwnProperty.call(e,n)||t[n]!==e[n]))return!1;for(var r in e)if({}.hasOwnProperty.call(e,r)&&!{}.hasOwnProperty.call(t,r))return!1;return!0}function iA(t){"@babel/helpers - typeof";return iA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},iA(t)}var Mme=["viewBox","children"],Eme=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],bD=["points","pathLength"],bM={svg:Mme,polygon:bD,polyline:bD},aR=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"],G1=function(e,n){if(!e||typeof e=="function"||typeof e=="boolean")return null;var r=e;if(F.isValidElement(e)&&(r=e.props),!Kh(r))return null;var i={};return Object.keys(r).forEach(function(s){aR.includes(s)&&(i[s]=n||function(a){return r[s](r,a)})}),i},Tme=function(e,n,r){return function(i){return e(n,r,i),null}},X1=function(e,n,r){if(!Kh(e)||iA(e)!=="object")return null;var i=null;return Object.keys(e).forEach(function(s){var a=e[s];aR.includes(s)&&typeof a=="function"&&(i||(i={}),i[s]=Tme(a,n,r))}),i},Ame=["children"],Pme=["children"];function _D(t,e){if(t==null)return{};var n=Cme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Cme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function sA(t){"@babel/helpers - typeof";return sA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},sA(t)}var wD={click:"onClick",mousedown:"onMouseDown",mouseup:"onMouseUp",mouseover:"onMouseOver",mousemove:"onMouseMove",mouseout:"onMouseOut",mouseenter:"onMouseEnter",mouseleave:"onMouseLeave",touchcancel:"onTouchCancel",touchend:"onTouchEnd",touchmove:"onTouchMove",touchstart:"onTouchStart",contextmenu:"onContextMenu",dblclick:"onDoubleClick"},Qo=function(e){return typeof e=="string"?e:e?e.displayName||e.name||"Component":""},SD=null,_M=null,oR=function t(e){if(e===SD&&Array.isArray(_M))return _M;var n=[];return F.Children.forEach(e,function(r){Wt(r)||(fme.isFragment(r)?n=n.concat(t(r.props.children)):n.push(r))}),_M=n,SD=e,n};function sa(t,e){var n=[],r=[];return Array.isArray(e)?r=e.map(function(i){return Qo(i)}):r=[Qo(e)],oR(t).forEach(function(i){var s=ia(i,"type.displayName")||ia(i,"type.name");r.indexOf(s)!==-1&&n.push(i)}),n}function Es(t,e){var n=sa(t,e);return n&&n[0]}var MD=function(e){if(!e||!e.props)return!1;var n=e.props,r=n.width,i=n.height;return!(!Qe(r)||r<=0||!Qe(i)||i<=0)},Nme=["a","altGlyph","altGlyphDef","altGlyphItem","animate","animateColor","animateMotion","animateTransform","circle","clipPath","color-profile","cursor","defs","desc","ellipse","feBlend","feColormatrix","feComponentTransfer","feComposite","feConvolveMatrix","feDiffuseLighting","feDisplacementMap","feDistantLight","feFlood","feFuncA","feFuncB","feFuncG","feFuncR","feGaussianBlur","feImage","feMerge","feMergeNode","feMorphology","feOffset","fePointLight","feSpecularLighting","feSpotLight","feTile","feTurbulence","filter","font","font-face","font-face-format","font-face-name","font-face-url","foreignObject","g","glyph","glyphRef","hkern","image","line","lineGradient","marker","mask","metadata","missing-glyph","mpath","path","pattern","polygon","polyline","radialGradient","rect","script","set","stop","style","svg","switch","symbol","text","textPath","title","tref","tspan","use","view","vkern"],Rme=function(e){return e&&e.type&&Qu(e.type)&&Nme.indexOf(e.type)>=0},Ome=function(e){return e&&sA(e)==="object"&&"clipDot"in e},Lme=function(e,n,r,i){var s,a=(s=bM==null?void 0:bM[i])!==null&&s!==void 0?s:[];return n.startsWith("data-")||!Vt(e)&&(i&&a.includes(n)||Eme.includes(n))||r&&aR.includes(n)},Kt=function(e,n,r){if(!e||typeof e=="function"||typeof e=="boolean")return null;var i=e;if(F.isValidElement(e)&&(i=e.props),!Kh(i))return null;var s={};return Object.keys(i).forEach(function(a){var o;Lme((o=i)===null||o===void 0?void 0:o[a],a,n,r)&&(s[a]=i[a])}),s},aA=function t(e,n){if(e===n)return!0;var r=F.Children.count(e);if(r!==F.Children.count(n))return!1;if(r===0)return!0;if(r===1)return ED(Array.isArray(e)?e[0]:e,Array.isArray(n)?n[0]:n);for(var i=0;i<r;i++){var s=e[i],a=n[i];if(Array.isArray(s)||Array.isArray(a)){if(!t(s,a))return!1}else if(!ED(s,a))return!1}return!0},ED=function(e,n){if(Wt(e)&&Wt(n))return!0;if(!Wt(e)&&!Wt(n)){var r=e.props||{},i=r.children,s=_D(r,Ame),a=n.props||{},o=a.children,l=_D(a,Pme);return i&&o?Yd(s,l)&&aA(i,o):!i&&!o?Yd(s,l):!1}return!1},TD=function(e,n){var r=[],i={};return oR(e).forEach(function(s,a){if(Rme(s))r.push(s);else if(s){var o=Qo(s.type),l=n[o]||{},c=l.handler,u=l.once;if(c&&(!u||!i[o])){var f=c(s,o,a);r.push(f),i[o]=!0}}}),r},Ime=function(e){var n=e&&e.type;return n&&wD[n]?wD[n]:null},jme=function(e,n){return oR(n).indexOf(e)},kme=["children","width","height","viewBox","className","style","title","desc"];function oA(){return oA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oA.apply(this,arguments)}function Dme(t,e){if(t==null)return{};var n=Ume(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function Ume(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function lA(t){var e=t.children,n=t.width,r=t.height,i=t.viewBox,s=t.className,a=t.style,o=t.title,l=t.desc,c=Dme(t,kme),u=i||{width:n,height:r,x:0,y:0},f=en("recharts-surface",s);return ce.createElement("svg",oA({},Kt(c,!0,"svg"),{className:f,width:n,height:r,style:a,viewBox:"".concat(u.x," ").concat(u.y," ").concat(u.width," ").concat(u.height)}),ce.createElement("title",null,o),ce.createElement("desc",null,l),e)}var Fme=["children","className"];function cA(){return cA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cA.apply(this,arguments)}function Bme(t,e){if(t==null)return{};var n=zme(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function zme(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var lr=ce.forwardRef(function(t,e){var n=t.children,r=t.className,i=Bme(t,Fme),s=en("recharts-layer",r);return ce.createElement("g",cA({className:s},Kt(i,!0),{ref:e}),n)}),el=function(e,n){for(var r=arguments.length,i=new Array(r>2?r-2:0),s=2;s<r;s++)i[s-2]=arguments[s]};function Vme(t,e,n){var r=-1,i=t.length;e<0&&(e=-e>i?0:i+e),n=n>i?i:n,n<0&&(n+=i),i=e>n?0:n-e>>>0,e>>>=0;for(var s=Array(i);++r<i;)s[r]=t[r+e];return s}var Hme=Vme,$me=Hme;function Wme(t,e,n){var r=t.length;return n=n===void 0?r:n,!e&&n>=r?t:$me(t,e,n)}var Gme=Wme,Xme="\\ud800-\\udfff",qme="\\u0300-\\u036f",Yme="\\ufe20-\\ufe2f",Kme="\\u20d0-\\u20ff",Zme=qme+Yme+Kme,Jme="\\ufe0e\\ufe0f",Qme="\\u200d",ege=RegExp("["+Qme+Xme+Zme+Jme+"]");function tge(t){return ege.test(t)}var P$=tge;function nge(t){return t.split("")}var rge=nge,C$="\\ud800-\\udfff",ige="\\u0300-\\u036f",sge="\\ufe20-\\ufe2f",age="\\u20d0-\\u20ff",oge=ige+sge+age,lge="\\ufe0e\\ufe0f",cge="["+C$+"]",uA="["+oge+"]",fA="\\ud83c[\\udffb-\\udfff]",uge="(?:"+uA+"|"+fA+")",N$="[^"+C$+"]",R$="(?:\\ud83c[\\udde6-\\uddff]){2}",O$="[\\ud800-\\udbff][\\udc00-\\udfff]",fge="\\u200d",L$=uge+"?",I$="["+lge+"]?",dge="(?:"+fge+"(?:"+[N$,R$,O$].join("|")+")"+I$+L$+")*",hge=I$+L$+dge,pge="(?:"+[N$+uA+"?",uA,R$,O$,cge].join("|")+")",mge=RegExp(fA+"(?="+fA+")|"+pge+hge,"g");function gge(t){return t.match(mge)||[]}var vge=gge,yge=rge,xge=P$,bge=vge;function _ge(t){return xge(t)?bge(t):yge(t)}var wge=_ge,Sge=Gme,Mge=P$,Ege=wge,Tge=w$;function Age(t){return function(e){e=Tge(e);var n=Mge(e)?Ege(e):void 0,r=n?n[0]:e.charAt(0),i=n?Sge(n,1).join(""):e.slice(1);return r[t]()+i}}var Pge=Age,Cge=Pge,Nge=Cge("toUpperCase"),Rge=Nge;const hw=yn(Rge);function Mn(t){return function(){return t}}const j$=Math.cos,q1=Math.sin,Fa=Math.sqrt,Y1=Math.PI,pw=2*Y1,dA=Math.PI,hA=2*dA,pu=1e-6,Oge=hA-pu;function k$(t){this._+=t[0];for(let e=1,n=t.length;e<n;++e)this._+=arguments[e]+t[e]}function Lge(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return k$;const n=10**e;return function(r){this._+=r[0];for(let i=1,s=r.length;i<s;++i)this._+=Math.round(arguments[i]*n)/n+r[i]}}class Ige{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?k$:Lge(e)}moveTo(e,n){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,n){this._append`L${this._x1=+e},${this._y1=+n}`}quadraticCurveTo(e,n,r,i){this._append`Q${+e},${+n},${this._x1=+r},${this._y1=+i}`}bezierCurveTo(e,n,r,i,s,a){this._append`C${+e},${+n},${+r},${+i},${this._x1=+s},${this._y1=+a}`}arcTo(e,n,r,i,s){if(e=+e,n=+n,r=+r,i=+i,s=+s,s<0)throw new Error(`negative radius: ${s}`);let a=this._x1,o=this._y1,l=r-e,c=i-n,u=a-e,f=o-n,d=u*u+f*f;if(this._x1===null)this._append`M${this._x1=e},${this._y1=n}`;else if(d>pu)if(!(Math.abs(f*l-c*u)>pu)||!s)this._append`L${this._x1=e},${this._y1=n}`;else{let p=r-a,v=i-o,b=l*l+c*c,x=p*p+v*v,y=Math.sqrt(b),w=Math.sqrt(d),_=s*Math.tan((dA-Math.acos((b+d-x)/(2*y*w)))/2),S=_/w,M=_/y;Math.abs(S-1)>pu&&this._append`L${e+S*u},${n+S*f}`,this._append`A${s},${s},0,0,${+(f*p>u*v)},${this._x1=e+M*l},${this._y1=n+M*c}`}}arc(e,n,r,i,s,a){if(e=+e,n=+n,r=+r,a=!!a,r<0)throw new Error(`negative radius: ${r}`);let o=r*Math.cos(i),l=r*Math.sin(i),c=e+o,u=n+l,f=1^a,d=a?i-s:s-i;this._x1===null?this._append`M${c},${u}`:(Math.abs(this._x1-c)>pu||Math.abs(this._y1-u)>pu)&&this._append`L${c},${u}`,r&&(d<0&&(d=d%hA+hA),d>Oge?this._append`A${r},${r},0,1,${f},${e-o},${n-l}A${r},${r},0,1,${f},${this._x1=c},${this._y1=u}`:d>pu&&this._append`A${r},${r},0,${+(d>=dA)},${f},${this._x1=e+r*Math.cos(s)},${this._y1=n+r*Math.sin(s)}`)}rect(e,n,r,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+n}h${r=+r}v${+i}h${-r}Z`}toString(){return this._}}function lR(t){let e=3;return t.digits=function(n){if(!arguments.length)return e;if(n==null)e=null;else{const r=Math.floor(n);if(!(r>=0))throw new RangeError(`invalid digits: ${n}`);e=r}return t},()=>new Ige(e)}function cR(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function D$(t){this._context=t}D$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function mw(t){return new D$(t)}function U$(t){return t[0]}function F$(t){return t[1]}function B$(t,e){var n=Mn(!0),r=null,i=mw,s=null,a=lR(o);t=typeof t=="function"?t:t===void 0?U$:Mn(t),e=typeof e=="function"?e:e===void 0?F$:Mn(e);function o(l){var c,u=(l=cR(l)).length,f,d=!1,p;for(r==null&&(s=i(p=a())),c=0;c<=u;++c)!(c<u&&n(f=l[c],c,l))===d&&((d=!d)?s.lineStart():s.lineEnd()),d&&s.point(+t(f,c,l),+e(f,c,l));if(p)return s=null,p+""||null}return o.x=function(l){return arguments.length?(t=typeof l=="function"?l:Mn(+l),o):t},o.y=function(l){return arguments.length?(e=typeof l=="function"?l:Mn(+l),o):e},o.defined=function(l){return arguments.length?(n=typeof l=="function"?l:Mn(!!l),o):n},o.curve=function(l){return arguments.length?(i=l,r!=null&&(s=i(r)),o):i},o.context=function(l){return arguments.length?(l==null?r=s=null:s=i(r=l),o):r},o}function cx(t,e,n){var r=null,i=Mn(!0),s=null,a=mw,o=null,l=lR(c);t=typeof t=="function"?t:t===void 0?U$:Mn(+t),e=typeof e=="function"?e:Mn(e===void 0?0:+e),n=typeof n=="function"?n:n===void 0?F$:Mn(+n);function c(f){var d,p,v,b=(f=cR(f)).length,x,y=!1,w,_=new Array(b),S=new Array(b);for(s==null&&(o=a(w=l())),d=0;d<=b;++d){if(!(d<b&&i(x=f[d],d,f))===y)if(y=!y)p=d,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),v=d-1;v>=p;--v)o.point(_[v],S[v]);o.lineEnd(),o.areaEnd()}y&&(_[d]=+t(x,d,f),S[d]=+e(x,d,f),o.point(r?+r(x,d,f):_[d],n?+n(x,d,f):S[d]))}if(w)return o=null,w+""||null}function u(){return B$().defined(i).curve(a).context(s)}return c.x=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),r=null,c):t},c.x0=function(f){return arguments.length?(t=typeof f=="function"?f:Mn(+f),c):t},c.x1=function(f){return arguments.length?(r=f==null?null:typeof f=="function"?f:Mn(+f),c):r},c.y=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),n=null,c):e},c.y0=function(f){return arguments.length?(e=typeof f=="function"?f:Mn(+f),c):e},c.y1=function(f){return arguments.length?(n=f==null?null:typeof f=="function"?f:Mn(+f),c):n},c.lineX0=c.lineY0=function(){return u().x(t).y(e)},c.lineY1=function(){return u().x(t).y(n)},c.lineX1=function(){return u().x(r).y(e)},c.defined=function(f){return arguments.length?(i=typeof f=="function"?f:Mn(!!f),c):i},c.curve=function(f){return arguments.length?(a=f,s!=null&&(o=a(s)),c):a},c.context=function(f){return arguments.length?(f==null?s=o=null:o=a(s=f),c):s},c}class z${constructor(e,n){this._context=e,this._x=n}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,n){switch(e=+e,n=+n,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,n):this._context.moveTo(e,n);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,n,e,n):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+n)/2,e,this._y0,e,n);break}}this._x0=e,this._y0=n}}function jge(t){return new z$(t,!0)}function kge(t){return new z$(t,!1)}const uR={draw(t,e){const n=Fa(e/Y1);t.moveTo(n,0),t.arc(0,0,n,0,pw)}},Dge={draw(t,e){const n=Fa(e/5)/2;t.moveTo(-3*n,-n),t.lineTo(-n,-n),t.lineTo(-n,-3*n),t.lineTo(n,-3*n),t.lineTo(n,-n),t.lineTo(3*n,-n),t.lineTo(3*n,n),t.lineTo(n,n),t.lineTo(n,3*n),t.lineTo(-n,3*n),t.lineTo(-n,n),t.lineTo(-3*n,n),t.closePath()}},V$=Fa(1/3),Uge=V$*2,Fge={draw(t,e){const n=Fa(e/Uge),r=n*V$;t.moveTo(0,-n),t.lineTo(r,0),t.lineTo(0,n),t.lineTo(-r,0),t.closePath()}},Bge={draw(t,e){const n=Fa(e),r=-n/2;t.rect(r,r,n,n)}},zge=.8908130915292852,H$=q1(Y1/10)/q1(7*Y1/10),Vge=q1(pw/10)*H$,Hge=-j$(pw/10)*H$,$ge={draw(t,e){const n=Fa(e*zge),r=Vge*n,i=Hge*n;t.moveTo(0,-n),t.lineTo(r,i);for(let s=1;s<5;++s){const a=pw*s/5,o=j$(a),l=q1(a);t.lineTo(l*n,-o*n),t.lineTo(o*r-l*i,l*r+o*i)}t.closePath()}},wM=Fa(3),Wge={draw(t,e){const n=-Fa(e/(wM*3));t.moveTo(0,n*2),t.lineTo(-wM*n,-n),t.lineTo(wM*n,-n),t.closePath()}},Xs=-.5,qs=Fa(3)/2,pA=1/Fa(12),Gge=(pA/2+1)*3,Xge={draw(t,e){const n=Fa(e/Gge),r=n/2,i=n*pA,s=r,a=n*pA+n,o=-s,l=a;t.moveTo(r,i),t.lineTo(s,a),t.lineTo(o,l),t.lineTo(Xs*r-qs*i,qs*r+Xs*i),t.lineTo(Xs*s-qs*a,qs*s+Xs*a),t.lineTo(Xs*o-qs*l,qs*o+Xs*l),t.lineTo(Xs*r+qs*i,Xs*i-qs*r),t.lineTo(Xs*s+qs*a,Xs*a-qs*s),t.lineTo(Xs*o+qs*l,Xs*l-qs*o),t.closePath()}};function qge(t,e){let n=null,r=lR(i);t=typeof t=="function"?t:Mn(t||uR),e=typeof e=="function"?e:Mn(e===void 0?64:+e);function i(){let s;if(n||(n=s=r()),t.apply(this,arguments).draw(n,+e.apply(this,arguments)),s)return n=null,s+""||null}return i.type=function(s){return arguments.length?(t=typeof s=="function"?s:Mn(s),i):t},i.size=function(s){return arguments.length?(e=typeof s=="function"?s:Mn(+s),i):e},i.context=function(s){return arguments.length?(n=s??null,i):n},i}function K1(){}function Z1(t,e,n){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+n)/6)}function $$(t){this._context=t}$$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Z1(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Z1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Yge(t){return new $$(t)}function W$(t){this._context=t}W$.prototype={areaStart:K1,areaEnd:K1,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Z1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Kge(t){return new W$(t)}function G$(t){this._context=t}G$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var n=(this._x0+4*this._x1+t)/6,r=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(n,r):this._context.moveTo(n,r);break;case 3:this._point=4;default:Z1(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function Zge(t){return new G$(t)}function X$(t){this._context=t}X$.prototype={areaStart:K1,areaEnd:K1,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function Jge(t){return new X$(t)}function AD(t){return t<0?-1:1}function PD(t,e,n){var r=t._x1-t._x0,i=e-t._x1,s=(t._y1-t._y0)/(r||i<0&&-0),a=(n-t._y1)/(i||r<0&&-0),o=(s*i+a*r)/(r+i);return(AD(s)+AD(a))*Math.min(Math.abs(s),Math.abs(a),.5*Math.abs(o))||0}function CD(t,e){var n=t._x1-t._x0;return n?(3*(t._y1-t._y0)/n-e)/2:e}function SM(t,e,n){var r=t._x0,i=t._y0,s=t._x1,a=t._y1,o=(s-r)/3;t._context.bezierCurveTo(r+o,i+o*e,s-o,a-o*n,s,a)}function J1(t){this._context=t}J1.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:SM(this,this._t0,CD(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var n=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,SM(this,CD(this,n=PD(this,t,e)),n);break;default:SM(this,this._t0,n=PD(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=n}}};function q$(t){this._context=new Y$(t)}(q$.prototype=Object.create(J1.prototype)).point=function(t,e){J1.prototype.point.call(this,e,t)};function Y$(t){this._context=t}Y$.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,n,r,i,s){this._context.bezierCurveTo(e,t,r,n,s,i)}};function Qge(t){return new J1(t)}function e0e(t){return new q$(t)}function K$(t){this._context=t}K$.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,n=t.length;if(n)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),n===2)this._context.lineTo(t[1],e[1]);else for(var r=ND(t),i=ND(e),s=0,a=1;a<n;++s,++a)this._context.bezierCurveTo(r[0][s],i[0][s],r[1][s],i[1][s],t[a],e[a]);(this._line||this._line!==0&&n===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function ND(t){var e,n=t.length-1,r,i=new Array(n),s=new Array(n),a=new Array(n);for(i[0]=0,s[0]=2,a[0]=t[0]+2*t[1],e=1;e<n-1;++e)i[e]=1,s[e]=4,a[e]=4*t[e]+2*t[e+1];for(i[n-1]=2,s[n-1]=7,a[n-1]=8*t[n-1]+t[n],e=1;e<n;++e)r=i[e]/s[e-1],s[e]-=r,a[e]-=r*a[e-1];for(i[n-1]=a[n-1]/s[n-1],e=n-2;e>=0;--e)i[e]=(a[e]-i[e+1])/s[e];for(s[n-1]=(t[n]+i[n-1])/2,e=0;e<n-1;++e)s[e]=2*t[e+1]-i[e+1];return[i,s]}function t0e(t){return new K$(t)}function gw(t,e){this._context=t,this._t=e}gw.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var n=this._x*(1-this._t)+t*this._t;this._context.lineTo(n,this._y),this._context.lineTo(n,e)}break}}this._x=t,this._y=e}};function n0e(t){return new gw(t,.5)}function r0e(t){return new gw(t,0)}function i0e(t){return new gw(t,1)}function mh(t,e){if((a=t.length)>1)for(var n=1,r,i,s=t[e[0]],a,o=s.length;n<a;++n)for(i=s,s=t[e[n]],r=0;r<o;++r)s[r][1]+=s[r][0]=isNaN(i[r][1])?i[r][0]:i[r][1]}function mA(t){for(var e=t.length,n=new Array(e);--e>=0;)n[e]=e;return n}function s0e(t,e){return t[e]}function a0e(t){const e=[];return e.key=t,e}function o0e(){var t=Mn([]),e=mA,n=mh,r=s0e;function i(s){var a=Array.from(t.apply(this,arguments),a0e),o,l=a.length,c=-1,u;for(const f of s)for(o=0,++c;o<l;++o)(a[o][c]=[0,+r(f,a[o].key,c,s)]).data=f;for(o=0,u=cR(e(a));o<l;++o)a[u[o]].index=o;return n(a,u),a}return i.keys=function(s){return arguments.length?(t=typeof s=="function"?s:Mn(Array.from(s)),i):t},i.value=function(s){return arguments.length?(r=typeof s=="function"?s:Mn(+s),i):r},i.order=function(s){return arguments.length?(e=s==null?mA:typeof s=="function"?s:Mn(Array.from(s)),i):e},i.offset=function(s){return arguments.length?(n=s??mh,i):n},i}function l0e(t,e){if((r=t.length)>0){for(var n,r,i=0,s=t[0].length,a;i<s;++i){for(a=n=0;n<r;++n)a+=t[n][i][1]||0;if(a)for(n=0;n<r;++n)t[n][i][1]/=a}mh(t,e)}}function c0e(t,e){if((i=t.length)>0){for(var n=0,r=t[e[0]],i,s=r.length;n<s;++n){for(var a=0,o=0;a<i;++a)o+=t[a][n][1]||0;r[n][1]+=r[n][0]=-o/2}mh(t,e)}}function u0e(t,e){if(!(!((a=t.length)>0)||!((s=(i=t[e[0]]).length)>0))){for(var n=0,r=1,i,s,a;r<s;++r){for(var o=0,l=0,c=0;o<a;++o){for(var u=t[e[o]],f=u[r][1]||0,d=u[r-1][1]||0,p=(f-d)/2,v=0;v<o;++v){var b=t[e[v]],x=b[r][1]||0,y=b[r-1][1]||0;p+=x-y}l+=f,c+=p*f}i[r-1][1]+=i[r-1][0]=n,l&&(n-=c/l)}i[r-1][1]+=i[r-1][0]=n,mh(t,e)}}function Vg(t){"@babel/helpers - typeof";return Vg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Vg(t)}var f0e=["type","size","sizeType"];function gA(){return gA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},gA.apply(this,arguments)}function RD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function OD(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RD(Object(n),!0).forEach(function(r){d0e(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function d0e(t,e,n){return e=h0e(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function h0e(t){var e=p0e(t,"string");return Vg(e)=="symbol"?e:e+""}function p0e(t,e){if(Vg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Vg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function m0e(t,e){if(t==null)return{};var n=g0e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function g0e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var Z$={symbolCircle:uR,symbolCross:Dge,symbolDiamond:Fge,symbolSquare:Bge,symbolStar:$ge,symbolTriangle:Wge,symbolWye:Xge},v0e=Math.PI/180,y0e=function(e){var n="symbol".concat(hw(e));return Z$[n]||uR},x0e=function(e,n,r){if(n==="area")return e;switch(r){case"cross":return 5*e*e/9;case"diamond":return .5*e*e/Math.sqrt(3);case"square":return e*e;case"star":{var i=18*v0e;return 1.25*e*e*(Math.tan(i)-Math.tan(i*2)*Math.pow(Math.tan(i),2))}case"triangle":return Math.sqrt(3)*e*e/4;case"wye":return(21-10*Math.sqrt(3))*e*e/8;default:return Math.PI*e*e/4}},b0e=function(e,n){Z$["symbol".concat(hw(e))]=n},fR=function(e){var n=e.type,r=n===void 0?"circle":n,i=e.size,s=i===void 0?64:i,a=e.sizeType,o=a===void 0?"area":a,l=m0e(e,f0e),c=OD(OD({},l),{},{type:r,size:s,sizeType:o}),u=function(){var x=y0e(r),y=qge().type(x).size(x0e(s,o,r));return y()},f=c.className,d=c.cx,p=c.cy,v=Kt(c,!0);return d===+d&&p===+p&&s===+s?ce.createElement("path",gA({},v,{className:en("recharts-symbols",f),transform:"translate(".concat(d,", ").concat(p,")"),d:u()})):null};fR.registerSymbol=b0e;function gh(t){"@babel/helpers - typeof";return gh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},gh(t)}function vA(){return vA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},vA.apply(this,arguments)}function LD(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _0e(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LD(Object(n),!0).forEach(function(r){Hg(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LD(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function w0e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function ID(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,Q$(r.key),r)}}function S0e(t,e,n){return e&&ID(t.prototype,e),n&&ID(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function M0e(t,e,n){return e=Q1(e),E0e(t,J$()?Reflect.construct(e,n||[],Q1(t).constructor):e.apply(t,n))}function E0e(t,e){if(e&&(gh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return T0e(t)}function T0e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function J$(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(J$=function(){return!!t})()}function Q1(t){return Q1=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Q1(t)}function A0e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&yA(t,e)}function yA(t,e){return yA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},yA(t,e)}function Hg(t,e,n){return e=Q$(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Q$(t){var e=P0e(t,"string");return gh(e)=="symbol"?e:e+""}function P0e(t,e){if(gh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(gh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ys=32,dR=function(t){function e(){return w0e(this,e),M0e(this,e,arguments)}return A0e(e,t),S0e(e,[{key:"renderIcon",value:function(r){var i=this.props.inactiveColor,s=Ys/2,a=Ys/6,o=Ys/3,l=r.inactive?i:r.color;if(r.type==="plainline")return ce.createElement("line",{strokeWidth:4,fill:"none",stroke:l,strokeDasharray:r.payload.strokeDasharray,x1:0,y1:s,x2:Ys,y2:s,className:"recharts-legend-icon"});if(r.type==="line")return ce.createElement("path",{strokeWidth:4,fill:"none",stroke:l,d:"M0,".concat(s,"h").concat(o,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*o,",").concat(s,`
            H`).concat(Ys,"M").concat(2*o,",").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(o,",").concat(s),className:"recharts-legend-icon"});if(r.type==="rect")return ce.createElement("path",{stroke:"none",fill:l,d:"M0,".concat(Ys/8,"h").concat(Ys,"v").concat(Ys*3/4,"h").concat(-Ys,"z"),className:"recharts-legend-icon"});if(ce.isValidElement(r.legendIcon)){var c=_0e({},r);return delete c.legendIcon,ce.cloneElement(r.legendIcon,c)}return ce.createElement(fR,{fill:l,cx:s,cy:s,size:Ys,sizeType:"diameter",type:r.type})}},{key:"renderItems",value:function(){var r=this,i=this.props,s=i.payload,a=i.iconSize,o=i.layout,l=i.formatter,c=i.inactiveColor,u={x:0,y:0,width:Ys,height:Ys},f={display:o==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return s.map(function(p,v){var b=p.formatter||l,x=en(Hg(Hg({"recharts-legend-item":!0},"legend-item-".concat(v),!0),"inactive",p.inactive));if(p.type==="none")return null;var y=Vt(p.value)?null:p.value;el(!Vt(p.value),`The name property is also required when using a function for the dataKey of a chart's cartesian components. Ex: <Bar name="Name of my Data"/>`);var w=p.inactive?c:p.color;return ce.createElement("li",vA({className:x,style:f,key:"legend-item-".concat(v)},X1(r.props,p,v)),ce.createElement(lA,{width:a,height:a,viewBox:u,style:d},r.renderIcon(p)),ce.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},b?b(y,p,v):y))})}},{key:"render",value:function(){var r=this.props,i=r.payload,s=r.layout,a=r.align;if(!i||!i.length)return null;var o={padding:0,margin:0,textAlign:s==="horizontal"?a:"left"};return ce.createElement("ul",{className:"recharts-default-legend",style:o},this.renderItems())}}])}(F.PureComponent);Hg(dR,"displayName","Legend");Hg(dR,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"middle",inactiveColor:"#ccc"});var C0e=ew;function N0e(){this.__data__=new C0e,this.size=0}var R0e=N0e;function O0e(t){var e=this.__data__,n=e.delete(t);return this.size=e.size,n}var L0e=O0e;function I0e(t){return this.__data__.get(t)}var j0e=I0e;function k0e(t){return this.__data__.has(t)}var D0e=k0e,U0e=ew,F0e=QN,B0e=eR,z0e=200;function V0e(t,e){var n=this.__data__;if(n instanceof U0e){var r=n.__data__;if(!F0e||r.length<z0e-1)return r.push([t,e]),this.size=++n.size,this;n=this.__data__=new B0e(r)}return n.set(t,e),this.size=n.size,this}var H0e=V0e,$0e=ew,W0e=R0e,G0e=L0e,X0e=j0e,q0e=D0e,Y0e=H0e;function ep(t){var e=this.__data__=new $0e(t);this.size=e.size}ep.prototype.clear=W0e;ep.prototype.delete=G0e;ep.prototype.get=X0e;ep.prototype.has=q0e;ep.prototype.set=Y0e;var eW=ep,K0e="__lodash_hash_undefined__";function Z0e(t){return this.__data__.set(t,K0e),this}var J0e=Z0e;function Q0e(t){return this.__data__.has(t)}var eve=Q0e,tve=eR,nve=J0e,rve=eve;function eb(t){var e=-1,n=t==null?0:t.length;for(this.__data__=new tve;++e<n;)this.add(t[e])}eb.prototype.add=eb.prototype.push=nve;eb.prototype.has=rve;var tW=eb;function ive(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(e(t[n],n,t))return!0;return!1}var nW=ive;function sve(t,e){return t.has(e)}var rW=sve,ave=tW,ove=nW,lve=rW,cve=1,uve=2;function fve(t,e,n,r,i,s){var a=n&cve,o=t.length,l=e.length;if(o!=l&&!(a&&l>o))return!1;var c=s.get(t),u=s.get(e);if(c&&u)return c==e&&u==t;var f=-1,d=!0,p=n&uve?new ave:void 0;for(s.set(t,e),s.set(e,t);++f<o;){var v=t[f],b=e[f];if(r)var x=a?r(b,v,f,e,t,s):r(v,b,f,t,e,s);if(x!==void 0){if(x)continue;d=!1;break}if(p){if(!ove(e,function(y,w){if(!lve(p,w)&&(v===y||i(v,y,n,r,s)))return p.push(w)})){d=!1;break}}else if(!(v===b||i(v,b,n,r,s))){d=!1;break}}return s.delete(t),s.delete(e),d}var iW=fve,dve=yo,hve=dve.Uint8Array,pve=hve;function mve(t){var e=-1,n=Array(t.size);return t.forEach(function(r,i){n[++e]=[i,r]}),n}var gve=mve;function vve(t){var e=-1,n=Array(t.size);return t.forEach(function(r){n[++e]=r}),n}var hR=vve,jD=G0,kD=pve,yve=JN,xve=iW,bve=gve,_ve=hR,wve=1,Sve=2,Mve="[object Boolean]",Eve="[object Date]",Tve="[object Error]",Ave="[object Map]",Pve="[object Number]",Cve="[object RegExp]",Nve="[object Set]",Rve="[object String]",Ove="[object Symbol]",Lve="[object ArrayBuffer]",Ive="[object DataView]",DD=jD?jD.prototype:void 0,MM=DD?DD.valueOf:void 0;function jve(t,e,n,r,i,s,a){switch(n){case Ive:if(t.byteLength!=e.byteLength||t.byteOffset!=e.byteOffset)return!1;t=t.buffer,e=e.buffer;case Lve:return!(t.byteLength!=e.byteLength||!s(new kD(t),new kD(e)));case Mve:case Eve:case Pve:return yve(+t,+e);case Tve:return t.name==e.name&&t.message==e.message;case Cve:case Rve:return t==e+"";case Ave:var o=bve;case Nve:var l=r&wve;if(o||(o=_ve),t.size!=e.size&&!l)return!1;var c=a.get(t);if(c)return c==e;r|=Sve,a.set(t,e);var u=xve(o(t),o(e),r,i,s,a);return a.delete(t),u;case Ove:if(MM)return MM.call(t)==MM.call(e)}return!1}var kve=jve;function Dve(t,e){for(var n=-1,r=e.length,i=t.length;++n<r;)t[i+n]=e[n];return t}var sW=Dve,Uve=sW,Fve=ls;function Bve(t,e,n){var r=e(t);return Fve(t)?r:Uve(r,n(t))}var zve=Bve;function Vve(t,e){for(var n=-1,r=t==null?0:t.length,i=0,s=[];++n<r;){var a=t[n];e(a,n,t)&&(s[i++]=a)}return s}var Hve=Vve;function $ve(){return[]}var Wve=$ve,Gve=Hve,Xve=Wve,qve=Object.prototype,Yve=qve.propertyIsEnumerable,UD=Object.getOwnPropertySymbols,Kve=UD?function(t){return t==null?[]:(t=Object(t),Gve(UD(t),function(e){return Yve.call(t,e)}))}:Xve,Zve=Kve;function Jve(t,e){for(var n=-1,r=Array(t);++n<t;)r[n]=e(n);return r}var Qve=Jve,eye=vl,tye=yl,nye="[object Arguments]";function rye(t){return tye(t)&&eye(t)==nye}var iye=rye,FD=iye,sye=yl,aW=Object.prototype,aye=aW.hasOwnProperty,oye=aW.propertyIsEnumerable,lye=FD(function(){return arguments}())?FD:function(t){return sye(t)&&aye.call(t,"callee")&&!oye.call(t,"callee")},pR=lye,tb={exports:{}};function cye(){return!1}var uye=cye;tb.exports;(function(t,e){var n=yo,r=uye,i=e&&!e.nodeType&&e,s=i&&!0&&t&&!t.nodeType&&t,a=s&&s.exports===i,o=a?n.Buffer:void 0,l=o?o.isBuffer:void 0,c=l||r;t.exports=c})(tb,tb.exports);var oW=tb.exports,fye=9007199254740991,dye=/^(?:0|[1-9]\d*)$/;function hye(t,e){var n=typeof t;return e=e??fye,!!e&&(n=="number"||n!="symbol"&&dye.test(t))&&t>-1&&t%1==0&&t<e}var mR=hye,pye=9007199254740991;function mye(t){return typeof t=="number"&&t>-1&&t%1==0&&t<=pye}var gR=mye,gye=vl,vye=gR,yye=yl,xye="[object Arguments]",bye="[object Array]",_ye="[object Boolean]",wye="[object Date]",Sye="[object Error]",Mye="[object Function]",Eye="[object Map]",Tye="[object Number]",Aye="[object Object]",Pye="[object RegExp]",Cye="[object Set]",Nye="[object String]",Rye="[object WeakMap]",Oye="[object ArrayBuffer]",Lye="[object DataView]",Iye="[object Float32Array]",jye="[object Float64Array]",kye="[object Int8Array]",Dye="[object Int16Array]",Uye="[object Int32Array]",Fye="[object Uint8Array]",Bye="[object Uint8ClampedArray]",zye="[object Uint16Array]",Vye="[object Uint32Array]",Pn={};Pn[Iye]=Pn[jye]=Pn[kye]=Pn[Dye]=Pn[Uye]=Pn[Fye]=Pn[Bye]=Pn[zye]=Pn[Vye]=!0;Pn[xye]=Pn[bye]=Pn[Oye]=Pn[_ye]=Pn[Lye]=Pn[wye]=Pn[Sye]=Pn[Mye]=Pn[Eye]=Pn[Tye]=Pn[Aye]=Pn[Pye]=Pn[Cye]=Pn[Nye]=Pn[Rye]=!1;function Hye(t){return yye(t)&&vye(t.length)&&!!Pn[gye(t)]}var $ye=Hye;function Wye(t){return function(e){return t(e)}}var lW=Wye,nb={exports:{}};nb.exports;(function(t,e){var n=g$,r=e&&!e.nodeType&&e,i=r&&!0&&t&&!t.nodeType&&t,s=i&&i.exports===r,a=s&&n.process,o=function(){try{var l=i&&i.require&&i.require("util").types;return l||a&&a.binding&&a.binding("util")}catch{}}();t.exports=o})(nb,nb.exports);var Gye=nb.exports,Xye=$ye,qye=lW,BD=Gye,zD=BD&&BD.isTypedArray,Yye=zD?qye(zD):Xye,cW=Yye,Kye=Qve,Zye=pR,Jye=ls,Qye=oW,exe=mR,txe=cW,nxe=Object.prototype,rxe=nxe.hasOwnProperty;function ixe(t,e){var n=Jye(t),r=!n&&Zye(t),i=!n&&!r&&Qye(t),s=!n&&!r&&!i&&txe(t),a=n||r||i||s,o=a?Kye(t.length,String):[],l=o.length;for(var c in t)(e||rxe.call(t,c))&&!(a&&(c=="length"||i&&(c=="offset"||c=="parent")||s&&(c=="buffer"||c=="byteLength"||c=="byteOffset")||exe(c,l)))&&o.push(c);return o}var sxe=ixe,axe=Object.prototype;function oxe(t){var e=t&&t.constructor,n=typeof e=="function"&&e.prototype||axe;return t===n}var lxe=oxe;function cxe(t,e){return function(n){return t(e(n))}}var uW=cxe,uxe=uW,fxe=uxe(Object.keys,Object),dxe=fxe,hxe=lxe,pxe=dxe,mxe=Object.prototype,gxe=mxe.hasOwnProperty;function vxe(t){if(!hxe(t))return pxe(t);var e=[];for(var n in Object(t))gxe.call(t,n)&&n!="constructor"&&e.push(n);return e}var yxe=vxe,xxe=ZN,bxe=gR;function _xe(t){return t!=null&&bxe(t.length)&&!xxe(t)}var Y0=_xe,wxe=sxe,Sxe=yxe,Mxe=Y0;function Exe(t){return Mxe(t)?wxe(t):Sxe(t)}var vw=Exe,Txe=zve,Axe=Zve,Pxe=vw;function Cxe(t){return Txe(t,Pxe,Axe)}var Nxe=Cxe,VD=Nxe,Rxe=1,Oxe=Object.prototype,Lxe=Oxe.hasOwnProperty;function Ixe(t,e,n,r,i,s){var a=n&Rxe,o=VD(t),l=o.length,c=VD(e),u=c.length;if(l!=u&&!a)return!1;for(var f=l;f--;){var d=o[f];if(!(a?d in e:Lxe.call(e,d)))return!1}var p=s.get(t),v=s.get(e);if(p&&v)return p==e&&v==t;var b=!0;s.set(t,e),s.set(e,t);for(var x=a;++f<l;){d=o[f];var y=t[d],w=e[d];if(r)var _=a?r(w,y,d,e,t,s):r(y,w,d,t,e,s);if(!(_===void 0?y===w||i(y,w,n,r,s):_)){b=!1;break}x||(x=d=="constructor")}if(b&&!x){var S=t.constructor,M=e.constructor;S!=M&&"constructor"in t&&"constructor"in e&&!(typeof S=="function"&&S instanceof S&&typeof M=="function"&&M instanceof M)&&(b=!1)}return s.delete(t),s.delete(e),b}var jxe=Ixe,kxe=gf,Dxe=yo,Uxe=kxe(Dxe,"DataView"),Fxe=Uxe,Bxe=gf,zxe=yo,Vxe=Bxe(zxe,"Promise"),Hxe=Vxe,$xe=gf,Wxe=yo,Gxe=$xe(Wxe,"Set"),fW=Gxe,Xxe=gf,qxe=yo,Yxe=Xxe(qxe,"WeakMap"),Kxe=Yxe,xA=Fxe,bA=QN,_A=Hxe,wA=fW,SA=Kxe,dW=vl,tp=y$,HD="[object Map]",Zxe="[object Object]",$D="[object Promise]",WD="[object Set]",GD="[object WeakMap]",XD="[object DataView]",Jxe=tp(xA),Qxe=tp(bA),e1e=tp(_A),t1e=tp(wA),n1e=tp(SA),mu=dW;(xA&&mu(new xA(new ArrayBuffer(1)))!=XD||bA&&mu(new bA)!=HD||_A&&mu(_A.resolve())!=$D||wA&&mu(new wA)!=WD||SA&&mu(new SA)!=GD)&&(mu=function(t){var e=dW(t),n=e==Zxe?t.constructor:void 0,r=n?tp(n):"";if(r)switch(r){case Jxe:return XD;case Qxe:return HD;case e1e:return $D;case t1e:return WD;case n1e:return GD}return e});var r1e=mu,EM=eW,i1e=iW,s1e=kve,a1e=jxe,qD=r1e,YD=ls,KD=oW,o1e=cW,l1e=1,ZD="[object Arguments]",JD="[object Array]",ux="[object Object]",c1e=Object.prototype,QD=c1e.hasOwnProperty;function u1e(t,e,n,r,i,s){var a=YD(t),o=YD(e),l=a?JD:qD(t),c=o?JD:qD(e);l=l==ZD?ux:l,c=c==ZD?ux:c;var u=l==ux,f=c==ux,d=l==c;if(d&&KD(t)){if(!KD(e))return!1;a=!0,u=!1}if(d&&!u)return s||(s=new EM),a||o1e(t)?i1e(t,e,n,r,i,s):s1e(t,e,l,n,r,i,s);if(!(n&l1e)){var p=u&&QD.call(t,"__wrapped__"),v=f&&QD.call(e,"__wrapped__");if(p||v){var b=p?t.value():t,x=v?e.value():e;return s||(s=new EM),i(b,x,n,r,s)}}return d?(s||(s=new EM),a1e(t,e,n,r,i,s)):!1}var f1e=u1e,d1e=f1e,eU=yl;function hW(t,e,n,r,i){return t===e?!0:t==null||e==null||!eU(t)&&!eU(e)?t!==t&&e!==e:d1e(t,e,n,r,hW,i)}var vR=hW,h1e=eW,p1e=vR,m1e=1,g1e=2;function v1e(t,e,n,r){var i=n.length,s=i,a=!r;if(t==null)return!s;for(t=Object(t);i--;){var o=n[i];if(a&&o[2]?o[1]!==t[o[0]]:!(o[0]in t))return!1}for(;++i<s;){o=n[i];var l=o[0],c=t[l],u=o[1];if(a&&o[2]){if(c===void 0&&!(l in t))return!1}else{var f=new h1e;if(r)var d=r(c,u,l,t,e,f);if(!(d===void 0?p1e(u,c,m1e|g1e,r,f):d))return!1}}return!0}var y1e=v1e,x1e=Cc;function b1e(t){return t===t&&!x1e(t)}var pW=b1e,_1e=pW,w1e=vw;function S1e(t){for(var e=w1e(t),n=e.length;n--;){var r=e[n],i=t[r];e[n]=[r,i,_1e(i)]}return e}var M1e=S1e;function E1e(t,e){return function(n){return n==null?!1:n[t]===e&&(e!==void 0||t in Object(n))}}var mW=E1e,T1e=y1e,A1e=M1e,P1e=mW;function C1e(t){var e=A1e(t);return e.length==1&&e[0][2]?P1e(e[0][0],e[0][1]):function(n){return n===t||T1e(n,t,e)}}var N1e=C1e;function R1e(t,e){return t!=null&&e in Object(t)}var O1e=R1e,L1e=S$,I1e=pR,j1e=ls,k1e=mR,D1e=gR,U1e=nw;function F1e(t,e,n){e=L1e(e,t);for(var r=-1,i=e.length,s=!1;++r<i;){var a=U1e(e[r]);if(!(s=t!=null&&n(t,a)))break;t=t[a]}return s||++r!=i?s:(i=t==null?0:t.length,!!i&&D1e(i)&&k1e(a,i)&&(j1e(t)||I1e(t)))}var B1e=F1e,z1e=O1e,V1e=B1e;function H1e(t,e){return t!=null&&V1e(t,e,z1e)}var $1e=H1e,W1e=vR,G1e=M$,X1e=$1e,q1e=KN,Y1e=pW,K1e=mW,Z1e=nw,J1e=1,Q1e=2;function ebe(t,e){return q1e(t)&&Y1e(e)?K1e(Z1e(t),e):function(n){var r=G1e(n,t);return r===void 0&&r===e?X1e(n,t):W1e(e,r,J1e|Q1e)}}var tbe=ebe;function nbe(t){return t}var np=nbe;function rbe(t){return function(e){return e==null?void 0:e[t]}}var ibe=rbe,sbe=rR;function abe(t){return function(e){return sbe(e,t)}}var obe=abe,lbe=ibe,cbe=obe,ube=KN,fbe=nw;function dbe(t){return ube(t)?lbe(fbe(t)):cbe(t)}var hbe=dbe,pbe=N1e,mbe=tbe,gbe=np,vbe=ls,ybe=hbe;function xbe(t){return typeof t=="function"?t:t==null?gbe:typeof t=="object"?vbe(t)?mbe(t[0],t[1]):pbe(t):ybe(t)}var Nc=xbe;function bbe(t,e,n,r){for(var i=t.length,s=n+(r?1:-1);r?s--:++s<i;)if(e(t[s],s,t))return s;return-1}var gW=bbe;function _be(t){return t!==t}var wbe=_be;function Sbe(t,e,n){for(var r=n-1,i=t.length;++r<i;)if(t[r]===e)return r;return-1}var Mbe=Sbe,Ebe=gW,Tbe=wbe,Abe=Mbe;function Pbe(t,e,n){return e===e?Abe(t,e,n):Ebe(t,Tbe,n)}var Cbe=Pbe,Nbe=Cbe;function Rbe(t,e){var n=t==null?0:t.length;return!!n&&Nbe(t,e,0)>-1}var Obe=Rbe;function Lbe(t,e,n){for(var r=-1,i=t==null?0:t.length;++r<i;)if(n(e,t[r]))return!0;return!1}var Ibe=Lbe;function jbe(){}var kbe=jbe,TM=fW,Dbe=kbe,Ube=hR,Fbe=1/0,Bbe=TM&&1/Ube(new TM([,-0]))[1]==Fbe?function(t){return new TM(t)}:Dbe,zbe=Bbe,Vbe=tW,Hbe=Obe,$be=Ibe,Wbe=rW,Gbe=zbe,Xbe=hR,qbe=200;function Ybe(t,e,n){var r=-1,i=Hbe,s=t.length,a=!0,o=[],l=o;if(n)a=!1,i=$be;else if(s>=qbe){var c=e?null:Gbe(t);if(c)return Xbe(c);a=!1,i=Wbe,l=new Vbe}else l=e?[]:o;e:for(;++r<s;){var u=t[r],f=e?e(u):u;if(u=n||u!==0?u:0,a&&f===f){for(var d=l.length;d--;)if(l[d]===f)continue e;e&&l.push(f),o.push(u)}else i(l,f,n)||(l!==o&&l.push(f),o.push(u))}return o}var Kbe=Ybe,Zbe=Nc,Jbe=Kbe;function Qbe(t,e){return t&&t.length?Jbe(t,Zbe(e)):[]}var e_e=Qbe;const tU=yn(e_e);function vW(t,e,n){return e===!0?tU(t,n):Vt(e)?tU(t,e):t}function vh(t){"@babel/helpers - typeof";return vh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},vh(t)}var t_e=["ref"];function nU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ko(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?nU(Object(n),!0).forEach(function(r){yw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):nU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function n_e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function rU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,xW(r.key),r)}}function r_e(t,e,n){return e&&rU(t.prototype,e),n&&rU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function i_e(t,e,n){return e=rb(e),s_e(t,yW()?Reflect.construct(e,n||[],rb(t).constructor):e.apply(t,n))}function s_e(t,e){if(e&&(vh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return a_e(t)}function a_e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function yW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(yW=function(){return!!t})()}function rb(t){return rb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},rb(t)}function o_e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&MA(t,e)}function MA(t,e){return MA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},MA(t,e)}function yw(t,e,n){return e=xW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xW(t){var e=l_e(t,"string");return vh(e)=="symbol"?e:e+""}function l_e(t,e){if(vh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(vh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function c_e(t,e){if(t==null)return{};var n=u_e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function u_e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function f_e(t){return t.value}function d_e(t,e){if(ce.isValidElement(t))return ce.cloneElement(t,e);if(typeof t=="function")return ce.createElement(t,e);e.ref;var n=c_e(e,t_e);return ce.createElement(dR,n)}var iU=1,Kd=function(t){function e(){var n;n_e(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=i_e(this,e,[].concat(i)),yw(n,"lastBoundingBox",{width:-1,height:-1}),n}return o_e(e,t),r_e(e,[{key:"componentDidMount",value:function(){this.updateBBox()}},{key:"componentDidUpdate",value:function(){this.updateBBox()}},{key:"getBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();return r.height=this.wrapperNode.offsetHeight,r.width=this.wrapperNode.offsetWidth,r}return null}},{key:"updateBBox",value:function(){var r=this.props.onBBoxUpdate,i=this.getBBox();i?(Math.abs(i.width-this.lastBoundingBox.width)>iU||Math.abs(i.height-this.lastBoundingBox.height)>iU)&&(this.lastBoundingBox.width=i.width,this.lastBoundingBox.height=i.height,r&&r(i)):(this.lastBoundingBox.width!==-1||this.lastBoundingBox.height!==-1)&&(this.lastBoundingBox.width=-1,this.lastBoundingBox.height=-1,r&&r(null))}},{key:"getBBoxSnapshot",value:function(){return this.lastBoundingBox.width>=0&&this.lastBoundingBox.height>=0?ko({},this.lastBoundingBox):{width:0,height:0}}},{key:"getDefaultPosition",value:function(r){var i=this.props,s=i.layout,a=i.align,o=i.verticalAlign,l=i.margin,c=i.chartWidth,u=i.chartHeight,f,d;if(!r||(r.left===void 0||r.left===null)&&(r.right===void 0||r.right===null))if(a==="center"&&s==="vertical"){var p=this.getBBoxSnapshot();f={left:((c||0)-p.width)/2}}else f=a==="right"?{right:l&&l.right||0}:{left:l&&l.left||0};if(!r||(r.top===void 0||r.top===null)&&(r.bottom===void 0||r.bottom===null))if(o==="middle"){var v=this.getBBoxSnapshot();d={top:((u||0)-v.height)/2}}else d=o==="bottom"?{bottom:l&&l.bottom||0}:{top:l&&l.top||0};return ko(ko({},f),d)}},{key:"render",value:function(){var r=this,i=this.props,s=i.content,a=i.width,o=i.height,l=i.wrapperStyle,c=i.payloadUniqBy,u=i.payload,f=ko(ko({position:"absolute",width:a||"auto",height:o||"auto"},this.getDefaultPosition(l)),l);return ce.createElement("div",{className:"recharts-legend-wrapper",style:f,ref:function(p){r.wrapperNode=p}},d_e(s,ko(ko({},this.props),{},{payload:vW(u,c,f_e)})))}}],[{key:"getWithHeight",value:function(r,i){var s=ko(ko({},this.defaultProps),r.props),a=s.layout;return a==="vertical"&&Qe(r.props.height)?{height:r.props.height}:a==="horizontal"?{width:r.props.width||i}:null}}])}(F.PureComponent);yw(Kd,"displayName","Legend");yw(Kd,"defaultProps",{iconSize:14,layout:"horizontal",align:"center",verticalAlign:"bottom"});var sU=G0,h_e=pR,p_e=ls,aU=sU?sU.isConcatSpreadable:void 0;function m_e(t){return p_e(t)||h_e(t)||!!(aU&&t&&t[aU])}var g_e=m_e,v_e=sW,y_e=g_e;function bW(t,e,n,r,i){var s=-1,a=t.length;for(n||(n=y_e),i||(i=[]);++s<a;){var o=t[s];e>0&&n(o)?e>1?bW(o,e-1,n,r,i):v_e(i,o):r||(i[i.length]=o)}return i}var _W=bW;function x_e(t){return function(e,n,r){for(var i=-1,s=Object(e),a=r(e),o=a.length;o--;){var l=a[t?o:++i];if(n(s[l],l,s)===!1)break}return e}}var b_e=x_e,__e=b_e,w_e=__e(),S_e=w_e,M_e=S_e,E_e=vw;function T_e(t,e){return t&&M_e(t,e,E_e)}var wW=T_e,A_e=Y0;function P_e(t,e){return function(n,r){if(n==null)return n;if(!A_e(n))return t(n,r);for(var i=n.length,s=e?i:-1,a=Object(n);(e?s--:++s<i)&&r(a[s],s,a)!==!1;);return n}}var C_e=P_e,N_e=wW,R_e=C_e,O_e=R_e(N_e),yR=O_e,L_e=yR,I_e=Y0;function j_e(t,e){var n=-1,r=I_e(t)?Array(t.length):[];return L_e(t,function(i,s,a){r[++n]=e(i,s,a)}),r}var SW=j_e;function k_e(t,e){var n=t.length;for(t.sort(e);n--;)t[n]=t[n].value;return t}var D_e=k_e,oU=Yh;function U_e(t,e){if(t!==e){var n=t!==void 0,r=t===null,i=t===t,s=oU(t),a=e!==void 0,o=e===null,l=e===e,c=oU(e);if(!o&&!c&&!s&&t>e||s&&a&&l&&!o&&!c||r&&a&&l||!n&&l||!i)return 1;if(!r&&!s&&!c&&t<e||c&&n&&i&&!r&&!s||o&&n&&i||!a&&i||!l)return-1}return 0}var F_e=U_e,B_e=F_e;function z_e(t,e,n){for(var r=-1,i=t.criteria,s=e.criteria,a=i.length,o=n.length;++r<a;){var l=B_e(i[r],s[r]);if(l){if(r>=o)return l;var c=n[r];return l*(c=="desc"?-1:1)}}return t.index-e.index}var V_e=z_e,AM=nR,H_e=rR,$_e=Nc,W_e=SW,G_e=D_e,X_e=lW,q_e=V_e,Y_e=np,K_e=ls;function Z_e(t,e,n){e.length?e=AM(e,function(s){return K_e(s)?function(a){return H_e(a,s.length===1?s[0]:s)}:s}):e=[Y_e];var r=-1;e=AM(e,X_e($_e));var i=W_e(t,function(s,a,o){var l=AM(e,function(c){return c(s)});return{criteria:l,index:++r,value:s}});return G_e(i,function(s,a){return q_e(s,a,n)})}var J_e=Z_e;function Q_e(t,e,n){switch(n.length){case 0:return t.call(e);case 1:return t.call(e,n[0]);case 2:return t.call(e,n[0],n[1]);case 3:return t.call(e,n[0],n[1],n[2])}return t.apply(e,n)}var ewe=Q_e,twe=ewe,lU=Math.max;function nwe(t,e,n){return e=lU(e===void 0?t.length-1:e,0),function(){for(var r=arguments,i=-1,s=lU(r.length-e,0),a=Array(s);++i<s;)a[i]=r[e+i];i=-1;for(var o=Array(e+1);++i<e;)o[i]=r[i];return o[e]=n(a),twe(t,this,o)}}var rwe=nwe;function iwe(t){return function(){return t}}var swe=iwe,awe=gf,owe=function(){try{var t=awe(Object,"defineProperty");return t({},"",{}),t}catch{}}(),MW=owe,lwe=swe,cU=MW,cwe=np,uwe=cU?function(t,e){return cU(t,"toString",{configurable:!0,enumerable:!1,value:lwe(e),writable:!0})}:cwe,fwe=uwe,dwe=800,hwe=16,pwe=Date.now;function mwe(t){var e=0,n=0;return function(){var r=pwe(),i=hwe-(r-n);if(n=r,i>0){if(++e>=dwe)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}var gwe=mwe,vwe=fwe,ywe=gwe,xwe=ywe(vwe),bwe=xwe,_we=np,wwe=rwe,Swe=bwe;function Mwe(t,e){return Swe(wwe(t,e,_we),t+"")}var Ewe=Mwe,Twe=JN,Awe=Y0,Pwe=mR,Cwe=Cc;function Nwe(t,e,n){if(!Cwe(n))return!1;var r=typeof e;return(r=="number"?Awe(n)&&Pwe(e,n.length):r=="string"&&e in n)?Twe(n[e],t):!1}var xw=Nwe,Rwe=_W,Owe=J_e,Lwe=Ewe,uU=xw,Iwe=Lwe(function(t,e){if(t==null)return[];var n=e.length;return n>1&&uU(t,e[0],e[1])?e=[]:n>2&&uU(e[0],e[1],e[2])&&(e=[e[0]]),Owe(t,Rwe(e,1),[])}),jwe=Iwe;const xR=yn(jwe);function $g(t){"@babel/helpers - typeof";return $g=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},$g(t)}function EA(){return EA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},EA.apply(this,arguments)}function kwe(t,e){return Bwe(t)||Fwe(t,e)||Uwe(t,e)||Dwe()}function Dwe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function Uwe(t,e){if(t){if(typeof t=="string")return fU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return fU(t,e)}}function fU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Fwe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function Bwe(t){if(Array.isArray(t))return t}function dU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function PM(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?dU(Object(n),!0).forEach(function(r){zwe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):dU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zwe(t,e,n){return e=Vwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Vwe(t){var e=Hwe(t,"string");return $g(e)=="symbol"?e:e+""}function Hwe(t,e){if($g(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if($g(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $we(t){return Array.isArray(t)&&Or(t[0])&&Or(t[1])?t.join(" ~ "):t}var Wwe=function(e){var n=e.separator,r=n===void 0?" : ":n,i=e.contentStyle,s=i===void 0?{}:i,a=e.itemStyle,o=a===void 0?{}:a,l=e.labelStyle,c=l===void 0?{}:l,u=e.payload,f=e.formatter,d=e.itemSorter,p=e.wrapperClassName,v=e.labelClassName,b=e.label,x=e.labelFormatter,y=e.accessibilityLayer,w=y===void 0?!1:y,_=function(){if(u&&u.length){var O={padding:0,margin:0},D=(d?xR(u,d):u).map(function(I,z){if(I.type==="none")return null;var $=PM({display:"block",paddingTop:4,paddingBottom:4,color:I.color||"#000"},o),q=I.formatter||f||$we,V=I.value,U=I.name,W=V,k=U;if(q&&W!=null&&k!=null){var H=q(V,U,I,z,u);if(Array.isArray(H)){var K=kwe(H,2);W=K[0],k=K[1]}else W=H}return ce.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(z),style:$},Or(k)?ce.createElement("span",{className:"recharts-tooltip-item-name"},k):null,Or(k)?ce.createElement("span",{className:"recharts-tooltip-item-separator"},r):null,ce.createElement("span",{className:"recharts-tooltip-item-value"},W),ce.createElement("span",{className:"recharts-tooltip-item-unit"},I.unit||""))});return ce.createElement("ul",{className:"recharts-tooltip-item-list",style:O},D)}return null},S=PM({margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},s),M=PM({margin:0},c),E=!Wt(b),A=E?b:"",C=en("recharts-default-tooltip",p),P=en("recharts-tooltip-label",v);E&&x&&u!==void 0&&u!==null&&(A=x(b,u));var R=w?{role:"status","aria-live":"assertive"}:{};return ce.createElement("div",EA({className:C,style:S},R),ce.createElement("p",{className:P,style:M},ce.isValidElement(A)?A:"".concat(A)),_())};function Wg(t){"@babel/helpers - typeof";return Wg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Wg(t)}function fx(t,e,n){return e=Gwe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function Gwe(t){var e=Xwe(t,"string");return Wg(e)=="symbol"?e:e+""}function Xwe(t,e){if(Wg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Wg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rm="recharts-tooltip-wrapper",qwe={visibility:"hidden"};function Ywe(t){var e=t.coordinate,n=t.translateX,r=t.translateY;return en(rm,fx(fx(fx(fx({},"".concat(rm,"-right"),Qe(n)&&e&&Qe(e.x)&&n>=e.x),"".concat(rm,"-left"),Qe(n)&&e&&Qe(e.x)&&n<e.x),"".concat(rm,"-bottom"),Qe(r)&&e&&Qe(e.y)&&r>=e.y),"".concat(rm,"-top"),Qe(r)&&e&&Qe(e.y)&&r<e.y))}function hU(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.key,i=t.offsetTopLeft,s=t.position,a=t.reverseDirection,o=t.tooltipDimension,l=t.viewBox,c=t.viewBoxDimension;if(s&&Qe(s[r]))return s[r];var u=n[r]-o-i,f=n[r]+i;if(e[r])return a[r]?u:f;if(a[r]){var d=u,p=l[r];return d<p?Math.max(f,l[r]):Math.max(u,l[r])}var v=f+o,b=l[r]+c;return v>b?Math.max(u,l[r]):Math.max(f,l[r])}function Kwe(t){var e=t.translateX,n=t.translateY,r=t.useTranslate3d;return{transform:r?"translate3d(".concat(e,"px, ").concat(n,"px, 0)"):"translate(".concat(e,"px, ").concat(n,"px)")}}function Zwe(t){var e=t.allowEscapeViewBox,n=t.coordinate,r=t.offsetTopLeft,i=t.position,s=t.reverseDirection,a=t.tooltipBox,o=t.useTranslate3d,l=t.viewBox,c,u,f;return a.height>0&&a.width>0&&n?(u=hU({allowEscapeViewBox:e,coordinate:n,key:"x",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.width,viewBox:l,viewBoxDimension:l.width}),f=hU({allowEscapeViewBox:e,coordinate:n,key:"y",offsetTopLeft:r,position:i,reverseDirection:s,tooltipDimension:a.height,viewBox:l,viewBoxDimension:l.height}),c=Kwe({translateX:u,translateY:f,useTranslate3d:o})):c=qwe,{cssProperties:c,cssClasses:Ywe({translateX:u,translateY:f,coordinate:n})}}function yh(t){"@babel/helpers - typeof";return yh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},yh(t)}function pU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pU(Object(n),!0).forEach(function(r){AA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jwe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function gU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,TW(r.key),r)}}function Qwe(t,e,n){return e&&gU(t.prototype,e),n&&gU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eSe(t,e,n){return e=ib(e),tSe(t,EW()?Reflect.construct(e,n||[],ib(t).constructor):e.apply(t,n))}function tSe(t,e){if(e&&(yh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nSe(t)}function nSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function EW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(EW=function(){return!!t})()}function ib(t){return ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},ib(t)}function rSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TA(t,e)}function TA(t,e){return TA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TA(t,e)}function AA(t,e,n){return e=TW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function TW(t){var e=iSe(t,"string");return yh(e)=="symbol"?e:e+""}function iSe(t,e){if(yh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(yh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vU=1,sSe=function(t){function e(){var n;Jwe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=eSe(this,e,[].concat(i)),AA(n,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0},lastBoundingBox:{width:-1,height:-1}}),AA(n,"handleKeyDown",function(a){if(a.key==="Escape"){var o,l,c,u;n.setState({dismissed:!0,dismissedAtCoordinate:{x:(o=(l=n.props.coordinate)===null||l===void 0?void 0:l.x)!==null&&o!==void 0?o:0,y:(c=(u=n.props.coordinate)===null||u===void 0?void 0:u.y)!==null&&c!==void 0?c:0}})}}),n}return rSe(e,t),Qwe(e,[{key:"updateBBox",value:function(){if(this.wrapperNode&&this.wrapperNode.getBoundingClientRect){var r=this.wrapperNode.getBoundingClientRect();(Math.abs(r.width-this.state.lastBoundingBox.width)>vU||Math.abs(r.height-this.state.lastBoundingBox.height)>vU)&&this.setState({lastBoundingBox:{width:r.width,height:r.height}})}else(this.state.lastBoundingBox.width!==-1||this.state.lastBoundingBox.height!==-1)&&this.setState({lastBoundingBox:{width:-1,height:-1}})}},{key:"componentDidMount",value:function(){document.addEventListener("keydown",this.handleKeyDown),this.updateBBox()}},{key:"componentWillUnmount",value:function(){document.removeEventListener("keydown",this.handleKeyDown)}},{key:"componentDidUpdate",value:function(){var r,i;this.props.active&&this.updateBBox(),this.state.dismissed&&(((r=this.props.coordinate)===null||r===void 0?void 0:r.x)!==this.state.dismissedAtCoordinate.x||((i=this.props.coordinate)===null||i===void 0?void 0:i.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}},{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.children,u=i.coordinate,f=i.hasPayload,d=i.isAnimationActive,p=i.offset,v=i.position,b=i.reverseDirection,x=i.useTranslate3d,y=i.viewBox,w=i.wrapperStyle,_=Zwe({allowEscapeViewBox:a,coordinate:u,offsetTopLeft:p,position:v,reverseDirection:b,tooltipBox:this.state.lastBoundingBox,useTranslate3d:x,viewBox:y}),S=_.cssClasses,M=_.cssProperties,E=mU(mU({transition:d&&s?"transform ".concat(o,"ms ").concat(l):void 0},M),{},{pointerEvents:"none",visibility:!this.state.dismissed&&s&&f?"visible":"hidden",position:"absolute",top:0,left:0},w);return ce.createElement("div",{tabIndex:-1,className:S,style:E,ref:function(C){r.wrapperNode=C}},c)}}])}(F.PureComponent),aSe=function(){return!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout)},tl={isSsr:aSe(),get:function(e){return tl[e]},set:function(e,n){if(typeof e=="string")tl[e]=n;else{var r=Object.keys(e);r&&r.length&&r.forEach(function(i){tl[i]=e[i]})}}};function xh(t){"@babel/helpers - typeof";return xh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},xh(t)}function yU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function xU(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?yU(Object(n),!0).forEach(function(r){bR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):yU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function oSe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function bU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,PW(r.key),r)}}function lSe(t,e,n){return e&&bU(t.prototype,e),n&&bU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cSe(t,e,n){return e=sb(e),uSe(t,AW()?Reflect.construct(e,n||[],sb(t).constructor):e.apply(t,n))}function uSe(t,e){if(e&&(xh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fSe(t)}function fSe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function AW(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(AW=function(){return!!t})()}function sb(t){return sb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},sb(t)}function dSe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&PA(t,e)}function PA(t,e){return PA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},PA(t,e)}function bR(t,e,n){return e=PW(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function PW(t){var e=hSe(t,"string");return xh(e)=="symbol"?e:e+""}function hSe(t,e){if(xh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(xh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pSe(t){return t.dataKey}function mSe(t,e){return ce.isValidElement(t)?ce.cloneElement(t,e):typeof t=="function"?ce.createElement(t,e):ce.createElement(Wwe,e)}var Zs=function(t){function e(){return oSe(this,e),cSe(this,e,arguments)}return dSe(e,t),lSe(e,[{key:"render",value:function(){var r=this,i=this.props,s=i.active,a=i.allowEscapeViewBox,o=i.animationDuration,l=i.animationEasing,c=i.content,u=i.coordinate,f=i.filterNull,d=i.isAnimationActive,p=i.offset,v=i.payload,b=i.payloadUniqBy,x=i.position,y=i.reverseDirection,w=i.useTranslate3d,_=i.viewBox,S=i.wrapperStyle,M=v??[];f&&M.length&&(M=vW(v.filter(function(A){return A.value!=null&&(A.hide!==!0||r.props.includeHidden)}),b,pSe));var E=M.length>0;return ce.createElement(sSe,{allowEscapeViewBox:a,animationDuration:o,animationEasing:l,isAnimationActive:d,active:s,coordinate:u,hasPayload:E,offset:p,position:x,reverseDirection:y,useTranslate3d:w,viewBox:_,wrapperStyle:S},mSe(c,xU(xU({},this.props),{},{payload:M})))}}])}(F.PureComponent);bR(Zs,"displayName","Tooltip");bR(Zs,"defaultProps",{accessibilityLayer:!1,allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",contentStyle:{},coordinate:{x:0,y:0},cursor:!0,cursorStyle:{},filterNull:!0,isAnimationActive:!tl.isSsr,itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,viewBox:{x:0,y:0,height:0,width:0},wrapperStyle:{}});var gSe=yo,vSe=function(){return gSe.Date.now()},ySe=vSe,xSe=/\s/;function bSe(t){for(var e=t.length;e--&&xSe.test(t.charAt(e)););return e}var _Se=bSe,wSe=_Se,SSe=/^\s+/;function MSe(t){return t&&t.slice(0,wSe(t)+1).replace(SSe,"")}var ESe=MSe,TSe=ESe,_U=Cc,ASe=Yh,wU=0/0,PSe=/^[-+]0x[0-9a-f]+$/i,CSe=/^0b[01]+$/i,NSe=/^0o[0-7]+$/i,RSe=parseInt;function OSe(t){if(typeof t=="number")return t;if(ASe(t))return wU;if(_U(t)){var e=typeof t.valueOf=="function"?t.valueOf():t;t=_U(e)?e+"":e}if(typeof t!="string")return t===0?t:+t;t=TSe(t);var n=CSe.test(t);return n||NSe.test(t)?RSe(t.slice(2),n?2:8):PSe.test(t)?wU:+t}var CW=OSe,LSe=Cc,CM=ySe,SU=CW,ISe="Expected a function",jSe=Math.max,kSe=Math.min;function DSe(t,e,n){var r,i,s,a,o,l,c=0,u=!1,f=!1,d=!0;if(typeof t!="function")throw new TypeError(ISe);e=SU(e)||0,LSe(n)&&(u=!!n.leading,f="maxWait"in n,s=f?jSe(SU(n.maxWait)||0,e):s,d="trailing"in n?!!n.trailing:d);function p(E){var A=r,C=i;return r=i=void 0,c=E,a=t.apply(C,A),a}function v(E){return c=E,o=setTimeout(y,e),u?p(E):a}function b(E){var A=E-l,C=E-c,P=e-A;return f?kSe(P,s-C):P}function x(E){var A=E-l,C=E-c;return l===void 0||A>=e||A<0||f&&C>=s}function y(){var E=CM();if(x(E))return w(E);o=setTimeout(y,b(E))}function w(E){return o=void 0,d&&r?p(E):(r=i=void 0,a)}function _(){o!==void 0&&clearTimeout(o),c=0,r=l=i=o=void 0}function S(){return o===void 0?a:w(CM())}function M(){var E=CM(),A=x(E);if(r=arguments,i=this,l=E,A){if(o===void 0)return v(l);if(f)return clearTimeout(o),o=setTimeout(y,e),p(l)}return o===void 0&&(o=setTimeout(y,e)),a}return M.cancel=_,M.flush=S,M}var USe=DSe,FSe=USe,BSe=Cc,zSe="Expected a function";function VSe(t,e,n){var r=!0,i=!0;if(typeof t!="function")throw new TypeError(zSe);return BSe(n)&&(r="leading"in n?!!n.leading:r,i="trailing"in n?!!n.trailing:i),FSe(t,e,{leading:r,maxWait:e,trailing:i})}var HSe=VSe;const NW=yn(HSe);function Gg(t){"@babel/helpers - typeof";return Gg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Gg(t)}function MU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function dx(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?MU(Object(n),!0).forEach(function(r){$Se(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):MU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function $Se(t,e,n){return e=WSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function WSe(t){var e=GSe(t,"string");return Gg(e)=="symbol"?e:e+""}function GSe(t,e){if(Gg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Gg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function XSe(t,e){return ZSe(t)||KSe(t,e)||YSe(t,e)||qSe()}function qSe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function YSe(t,e){if(t){if(typeof t=="string")return EU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return EU(t,e)}}function EU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function KSe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function ZSe(t){if(Array.isArray(t))return t}var NM=F.forwardRef(function(t,e){var n=t.aspect,r=t.initialDimension,i=r===void 0?{width:-1,height:-1}:r,s=t.width,a=s===void 0?"100%":s,o=t.height,l=o===void 0?"100%":o,c=t.minWidth,u=c===void 0?0:c,f=t.minHeight,d=t.maxHeight,p=t.children,v=t.debounce,b=v===void 0?0:v,x=t.id,y=t.className,w=t.onResize,_=t.style,S=_===void 0?{}:_,M=F.useRef(null),E=F.useRef();E.current=w,F.useImperativeHandle(e,function(){return Object.defineProperty(M.current,"current",{get:function(){return console.warn("The usage of ref.current.current is deprecated and will no longer be supported."),M.current},configurable:!0})});var A=F.useState({containerWidth:i.width,containerHeight:i.height}),C=XSe(A,2),P=C[0],R=C[1],L=F.useCallback(function(D,I){R(function(z){var $=Math.round(D),q=Math.round(I);return z.containerWidth===$&&z.containerHeight===q?z:{containerWidth:$,containerHeight:q}})},[]);F.useEffect(function(){var D=function(U){var W,k=U[0].contentRect,H=k.width,K=k.height;L(H,K),(W=E.current)===null||W===void 0||W.call(E,H,K)};b>0&&(D=NW(D,b,{trailing:!0,leading:!1}));var I=new ResizeObserver(D),z=M.current.getBoundingClientRect(),$=z.width,q=z.height;return L($,q),I.observe(M.current),function(){I.disconnect()}},[L,b]);var O=F.useMemo(function(){var D=P.containerWidth,I=P.containerHeight;if(D<0||I<0)return null;el(Au(a)||Au(l),`The width(%s) and height(%s) are both fixed numbers,
       maybe you don't need to use a ResponsiveContainer.`,a,l),el(!n||n>0,"The aspect(%s) must be greater than zero.",n);var z=Au(a)?D:a,$=Au(l)?I:l;n&&n>0&&(z?$=z/n:$&&(z=$*n),d&&$>d&&($=d)),el(z>0||$>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,z,$,a,l,u,f,n);var q=!Array.isArray(p)&&Qo(p.type).endsWith("Chart");return ce.Children.map(p,function(V){return ce.isValidElement(V)?F.cloneElement(V,dx({width:z,height:$},q?{style:dx({height:"100%",width:"100%",maxHeight:$,maxWidth:z},V.props.style)}:{})):V})},[n,p,l,d,f,u,P,a]);return ce.createElement("div",{id:x?"".concat(x):void 0,className:en("recharts-responsive-container",y),style:dx(dx({},S),{},{width:a,height:l,minWidth:u,minHeight:f,maxHeight:d}),ref:M},O)}),RW=function(e){return null};RW.displayName="Cell";function Xg(t){"@babel/helpers - typeof";return Xg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Xg(t)}function TU(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function CA(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?TU(Object(n),!0).forEach(function(r){JSe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):TU(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JSe(t,e,n){return e=QSe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function QSe(t){var e=e2e(t,"string");return Xg(e)=="symbol"?e:e+""}function e2e(t,e){if(Xg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Xg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ld={widthCache:{},cacheCount:0},t2e=2e3,n2e={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},AU="recharts_measurement_span";function r2e(t){var e=CA({},t);return Object.keys(e).forEach(function(n){e[n]||delete e[n]}),e}var Hm=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||tl.isSsr)return{width:0,height:0};var r=r2e(n),i=JSON.stringify({text:e,copyStyle:r});if(ld.widthCache[i])return ld.widthCache[i];try{var s=document.getElementById(AU);s||(s=document.createElement("span"),s.setAttribute("id",AU),s.setAttribute("aria-hidden","true"),document.body.appendChild(s));var a=CA(CA({},n2e),r);Object.assign(s.style,a),s.textContent="".concat(e);var o=s.getBoundingClientRect(),l={width:o.width,height:o.height};return ld.widthCache[i]=l,++ld.cacheCount>t2e&&(ld.cacheCount=0,ld.widthCache={}),l}catch{return{width:0,height:0}}},i2e=function(e){return{top:e.top+window.scrollY-document.documentElement.clientTop,left:e.left+window.scrollX-document.documentElement.clientLeft}};function qg(t){"@babel/helpers - typeof";return qg=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},qg(t)}function ab(t,e){return l2e(t)||o2e(t,e)||a2e(t,e)||s2e()}function s2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function a2e(t,e){if(t){if(typeof t=="string")return PU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return PU(t,e)}}function PU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function o2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function l2e(t){if(Array.isArray(t))return t}function c2e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function CU(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,f2e(r.key),r)}}function u2e(t,e,n){return e&&CU(t.prototype,e),n&&CU(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function f2e(t){var e=d2e(t,"string");return qg(e)=="symbol"?e:e+""}function d2e(t,e){if(qg(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(qg(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var NU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,RU=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,h2e=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,p2e=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,OW={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},m2e=Object.keys(OW),Dd="NaN";function g2e(t,e){return t*OW[e]}var hx=function(){function t(e,n){c2e(this,t),this.num=e,this.unit=n,this.num=e,this.unit=n,Number.isNaN(e)&&(this.unit=""),n!==""&&!h2e.test(n)&&(this.num=NaN,this.unit=""),m2e.includes(n)&&(this.num=g2e(e,n),this.unit="px")}return u2e(t,[{key:"add",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num+n.num,this.unit)}},{key:"subtract",value:function(n){return this.unit!==n.unit?new t(NaN,""):new t(this.num-n.num,this.unit)}},{key:"multiply",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num*n.num,this.unit||n.unit)}},{key:"divide",value:function(n){return this.unit!==""&&n.unit!==""&&this.unit!==n.unit?new t(NaN,""):new t(this.num/n.num,this.unit||n.unit)}},{key:"toString",value:function(){return"".concat(this.num).concat(this.unit)}},{key:"isNaN",value:function(){return Number.isNaN(this.num)}}],[{key:"parse",value:function(n){var r,i=(r=p2e.exec(n))!==null&&r!==void 0?r:[],s=ab(i,3),a=s[1],o=s[2];return new t(parseFloat(a),o??"")}}])}();function LW(t){if(t.includes(Dd))return Dd;for(var e=t;e.includes("*")||e.includes("/");){var n,r=(n=NU.exec(e))!==null&&n!==void 0?n:[],i=ab(r,4),s=i[1],a=i[2],o=i[3],l=hx.parse(s??""),c=hx.parse(o??""),u=a==="*"?l.multiply(c):l.divide(c);if(u.isNaN())return Dd;e=e.replace(NU,u.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var f,d=(f=RU.exec(e))!==null&&f!==void 0?f:[],p=ab(d,4),v=p[1],b=p[2],x=p[3],y=hx.parse(v??""),w=hx.parse(x??""),_=b==="+"?y.add(w):y.subtract(w);if(_.isNaN())return Dd;e=e.replace(RU,_.toString())}return e}var OU=/\(([^()]*)\)/;function v2e(t){for(var e=t;e.includes("(");){var n=OU.exec(e),r=ab(n,2),i=r[1];e=e.replace(OU,LW(i))}return e}function y2e(t){var e=t.replace(/\s+/g,"");return e=v2e(e),e=LW(e),e}function x2e(t){try{return y2e(t)}catch{return Dd}}function RM(t){var e=x2e(t.slice(5,-1));return e===Dd?"":e}var b2e=["x","y","lineHeight","capHeight","scaleToFit","textAnchor","verticalAnchor","fill"],_2e=["dx","dy","angle","className","breakAll"];function NA(){return NA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},NA.apply(this,arguments)}function LU(t,e){if(t==null)return{};var n=w2e(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function w2e(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function IU(t,e){return T2e(t)||E2e(t,e)||M2e(t,e)||S2e()}function S2e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function M2e(t,e){if(t){if(typeof t=="string")return jU(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return jU(t,e)}}function jU(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function E2e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function T2e(t){if(Array.isArray(t))return t}var IW=/[ \f\n\r\t\v\u2028\u2029]+/,jW=function(e){var n=e.children,r=e.breakAll,i=e.style;try{var s=[];Wt(n)||(r?s=n.toString().split(""):s=n.toString().split(IW));var a=s.map(function(l){return{word:l,width:Hm(l,i).width}}),o=r?0:Hm(" ",i).width;return{wordsWithComputedWidth:a,spaceWidth:o}}catch{return null}},A2e=function(e,n,r,i,s){var a=e.maxLines,o=e.children,l=e.style,c=e.breakAll,u=Qe(a),f=o,d=function(){var z=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[];return z.reduce(function($,q){var V=q.word,U=q.width,W=$[$.length-1];if(W&&(i==null||s||W.width+U+r<Number(i)))W.words.push(V),W.width+=U+r;else{var k={words:[V],width:U};$.push(k)}return $},[])},p=d(n),v=function(z){return z.reduce(function($,q){return $.width>q.width?$:q})};if(!u)return p;for(var b="…",x=function(z){var $=f.slice(0,z),q=jW({breakAll:c,style:l,children:$+b}).wordsWithComputedWidth,V=d(q),U=V.length>a||v(V).width>Number(i);return[U,V]},y=0,w=f.length-1,_=0,S;y<=w&&_<=f.length-1;){var M=Math.floor((y+w)/2),E=M-1,A=x(E),C=IU(A,2),P=C[0],R=C[1],L=x(M),O=IU(L,1),D=O[0];if(!P&&!D&&(y=M+1),P&&D&&(w=M-1),!P&&D){S=R;break}_++}return S||p},kU=function(e){var n=Wt(e)?[]:e.toString().split(IW);return[{words:n}]},P2e=function(e){var n=e.width,r=e.scaleToFit,i=e.children,s=e.style,a=e.breakAll,o=e.maxLines;if((n||r)&&!tl.isSsr){var l,c,u=jW({breakAll:a,children:i,style:s});if(u){var f=u.wordsWithComputedWidth,d=u.spaceWidth;l=f,c=d}else return kU(i);return A2e({breakAll:a,children:i,maxLines:o,style:s},l,c,n,r)}return kU(i)},DU="#808080",ob=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.lineHeight,o=a===void 0?"1em":a,l=e.capHeight,c=l===void 0?"0.71em":l,u=e.scaleToFit,f=u===void 0?!1:u,d=e.textAnchor,p=d===void 0?"start":d,v=e.verticalAnchor,b=v===void 0?"end":v,x=e.fill,y=x===void 0?DU:x,w=LU(e,b2e),_=F.useMemo(function(){return P2e({breakAll:w.breakAll,children:w.children,maxLines:w.maxLines,scaleToFit:f,style:w.style,width:w.width})},[w.breakAll,w.children,w.maxLines,f,w.style,w.width]),S=w.dx,M=w.dy,E=w.angle,A=w.className,C=w.breakAll,P=LU(w,_2e);if(!Or(r)||!Or(s))return null;var R=r+(Qe(S)?S:0),L=s+(Qe(M)?M:0),O;switch(b){case"start":O=RM("calc(".concat(c,")"));break;case"middle":O=RM("calc(".concat((_.length-1)/2," * -").concat(o," + (").concat(c," / 2))"));break;default:O=RM("calc(".concat(_.length-1," * -").concat(o,")"));break}var D=[];if(f){var I=_[0].width,z=w.width;D.push("scale(".concat((Qe(z)?z/I:1)/I,")"))}return E&&D.push("rotate(".concat(E,", ").concat(R,", ").concat(L,")")),D.length&&(P.transform=D.join(" ")),ce.createElement("text",NA({},Kt(P,!0),{x:R,y:L,className:en("recharts-text",A),textAnchor:p,fill:y.includes("url")?DU:y}),_.map(function($,q){var V=$.words.join(C?"":" ");return ce.createElement("tspan",{x:R,dy:q===0?O:o,key:"".concat(V,"-").concat(q)},V)}))};function uc(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function C2e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function _R(t){let e,n,r;t.length!==2?(e=uc,n=(o,l)=>uc(t(o),l),r=(o,l)=>t(o)-l):(e=t===uc||t===C2e?t:N2e,n=t,r=t);function i(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<0?c=f+1:u=f}while(c<u)}return c}function s(o,l,c=0,u=o.length){if(c<u){if(e(l,l)!==0)return u;do{const f=c+u>>>1;n(o[f],l)<=0?c=f+1:u=f}while(c<u)}return c}function a(o,l,c=0,u=o.length){const f=i(o,l,c,u-1);return f>c&&r(o[f-1],l)>-r(o[f],l)?f-1:f}return{left:i,center:a,right:s}}function N2e(){return 0}function kW(t){return t===null?NaN:+t}function*R2e(t,e){if(e===void 0)for(let n of t)n!=null&&(n=+n)>=n&&(yield n);else{let n=-1;for(let r of t)(r=e(r,++n,t))!=null&&(r=+r)>=r&&(yield r)}}const O2e=_R(uc),L2e=O2e.right;_R(kW).center;const K0=L2e;class UU extends Map{constructor(e,n=k2e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:n}}),e!=null)for(const[r,i]of e)this.set(r,i)}get(e){return super.get(FU(this,e))}has(e){return super.has(FU(this,e))}set(e,n){return super.set(I2e(this,e),n)}delete(e){return super.delete(j2e(this,e))}}function FU({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):n}function I2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)?t.get(r):(t.set(r,n),n)}function j2e({_intern:t,_key:e},n){const r=e(n);return t.has(r)&&(n=t.get(r),t.delete(r)),n}function k2e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function D2e(t=uc){if(t===uc)return DW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,n)=>{const r=t(e,n);return r||r===0?r:(t(n,n)===0)-(t(e,e)===0)}}function DW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const U2e=Math.sqrt(50),F2e=Math.sqrt(10),B2e=Math.sqrt(2);function lb(t,e,n){const r=(e-t)/Math.max(0,n),i=Math.floor(Math.log10(r)),s=r/Math.pow(10,i),a=s>=U2e?10:s>=F2e?5:s>=B2e?2:1;let o,l,c;return i<0?(c=Math.pow(10,-i)/a,o=Math.round(t*c),l=Math.round(e*c),o/c<t&&++o,l/c>e&&--l,c=-c):(c=Math.pow(10,i)*a,o=Math.round(t/c),l=Math.round(e/c),o*c<t&&++o,l*c>e&&--l),l<o&&.5<=n&&n<2?lb(t,e,n*2):[o,l,c]}function RA(t,e,n){if(e=+e,t=+t,n=+n,!(n>0))return[];if(t===e)return[t];const r=e<t,[i,s,a]=r?lb(e,t,n):lb(t,e,n);if(!(s>=i))return[];const o=s-i+1,l=new Array(o);if(r)if(a<0)for(let c=0;c<o;++c)l[c]=(s-c)/-a;else for(let c=0;c<o;++c)l[c]=(s-c)*a;else if(a<0)for(let c=0;c<o;++c)l[c]=(i+c)/-a;else for(let c=0;c<o;++c)l[c]=(i+c)*a;return l}function OA(t,e,n){return e=+e,t=+t,n=+n,lb(t,e,n)[2]}function LA(t,e,n){e=+e,t=+t,n=+n;const r=e<t,i=r?OA(e,t,n):OA(t,e,n);return(r?-1:1)*(i<0?1/-i:i)}function BU(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n<r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n<i||n===void 0&&i>=i)&&(n=i)}return n}function zU(t,e){let n;if(e===void 0)for(const r of t)r!=null&&(n>r||n===void 0&&r>=r)&&(n=r);else{let r=-1;for(let i of t)(i=e(i,++r,t))!=null&&(n>i||n===void 0&&i>=i)&&(n=i)}return n}function UW(t,e,n=0,r=1/0,i){if(e=Math.floor(e),n=Math.floor(Math.max(0,n)),r=Math.floor(Math.min(t.length-1,r)),!(n<=e&&e<=r))return t;for(i=i===void 0?DW:D2e(i);r>n;){if(r-n>600){const l=r-n+1,c=e-n+1,u=Math.log(l),f=.5*Math.exp(2*u/3),d=.5*Math.sqrt(u*f*(l-f)/l)*(c-l/2<0?-1:1),p=Math.max(n,Math.floor(e-c*f/l+d)),v=Math.min(r,Math.floor(e+(l-c)*f/l+d));UW(t,e,p,v,i)}const s=t[e];let a=n,o=r;for(im(t,n,e),i(t[r],s)>0&&im(t,n,r);a<o;){for(im(t,a,o),++a,--o;i(t[a],s)<0;)++a;for(;i(t[o],s)>0;)--o}i(t[n],s)===0?im(t,n,o):(++o,im(t,o,r)),o<=e&&(n=o+1),e<=o&&(r=o-1)}return t}function im(t,e,n){const r=t[e];t[e]=t[n],t[n]=r}function z2e(t,e,n){if(t=Float64Array.from(R2e(t,n)),!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return zU(t);if(e>=1)return BU(t);var r,i=(r-1)*e,s=Math.floor(i),a=BU(UW(t,s).subarray(0,s+1)),o=zU(t.subarray(s+1));return a+(o-a)*(i-s)}}function V2e(t,e,n=kW){if(!(!(r=t.length)||isNaN(e=+e))){if(e<=0||r<2)return+n(t[0],0,t);if(e>=1)return+n(t[r-1],r-1,t);var r,i=(r-1)*e,s=Math.floor(i),a=+n(t[s],s,t),o=+n(t[s+1],s+1,t);return a+(o-a)*(i-s)}}function H2e(t,e,n){t=+t,e=+e,n=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+n;for(var r=-1,i=Math.max(0,Math.ceil((e-t)/n))|0,s=new Array(i);++r<i;)s[r]=t+r*n;return s}function pa(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function xl(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const IA=Symbol("implicit");function wR(){var t=new UU,e=[],n=[],r=IA;function i(s){let a=t.get(s);if(a===void 0){if(r!==IA)return r;t.set(s,a=e.push(s)-1)}return n[a%n.length]}return i.domain=function(s){if(!arguments.length)return e.slice();e=[],t=new UU;for(const a of s)t.has(a)||t.set(a,e.push(a)-1);return i},i.range=function(s){return arguments.length?(n=Array.from(s),i):n.slice()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return wR(e,n).unknown(r)},pa.apply(i,arguments),i}function Yg(){var t=wR().unknown(void 0),e=t.domain,n=t.range,r=0,i=1,s,a,o=!1,l=0,c=0,u=.5;delete t.unknown;function f(){var d=e().length,p=i<r,v=p?i:r,b=p?r:i;s=(b-v)/Math.max(1,d-l+c*2),o&&(s=Math.floor(s)),v+=(b-v-s*(d-l))*u,a=s*(1-l),o&&(v=Math.round(v),a=Math.round(a));var x=H2e(d).map(function(y){return v+s*y});return n(p?x.reverse():x)}return t.domain=function(d){return arguments.length?(e(d),f()):e()},t.range=function(d){return arguments.length?([r,i]=d,r=+r,i=+i,f()):[r,i]},t.rangeRound=function(d){return[r,i]=d,r=+r,i=+i,o=!0,f()},t.bandwidth=function(){return a},t.step=function(){return s},t.round=function(d){return arguments.length?(o=!!d,f()):o},t.padding=function(d){return arguments.length?(l=Math.min(1,c=+d),f()):l},t.paddingInner=function(d){return arguments.length?(l=Math.min(1,d),f()):l},t.paddingOuter=function(d){return arguments.length?(c=+d,f()):c},t.align=function(d){return arguments.length?(u=Math.max(0,Math.min(1,d)),f()):u},t.copy=function(){return Yg(e(),[r,i]).round(o).paddingInner(l).paddingOuter(c).align(u)},pa.apply(f(),arguments)}function FW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return FW(e())},t}function $m(){return FW(Yg.apply(null,arguments).paddingInner(1))}function SR(t,e,n){t.prototype=e.prototype=n,n.constructor=t}function BW(t,e){var n=Object.create(t.prototype);for(var r in e)n[r]=e[r];return n}function Z0(){}var Kg=.7,cb=1/Kg,Zd="\\s*([+-]?\\d+)\\s*",Zg="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",ho="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",$2e=/^#([0-9a-f]{3,8})$/,W2e=new RegExp(`^rgb\\(${Zd},${Zd},${Zd}\\)$`),G2e=new RegExp(`^rgb\\(${ho},${ho},${ho}\\)$`),X2e=new RegExp(`^rgba\\(${Zd},${Zd},${Zd},${Zg}\\)$`),q2e=new RegExp(`^rgba\\(${ho},${ho},${ho},${Zg}\\)$`),Y2e=new RegExp(`^hsl\\(${Zg},${ho},${ho}\\)$`),K2e=new RegExp(`^hsla\\(${Zg},${ho},${ho},${Zg}\\)$`),VU={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};SR(Z0,Jg,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:HU,formatHex:HU,formatHex8:Z2e,formatHsl:J2e,formatRgb:$U,toString:$U});function HU(){return this.rgb().formatHex()}function Z2e(){return this.rgb().formatHex8()}function J2e(){return zW(this).formatHsl()}function $U(){return this.rgb().formatRgb()}function Jg(t){var e,n;return t=(t+"").trim().toLowerCase(),(e=$2e.exec(t))?(n=e[1].length,e=parseInt(e[1],16),n===6?WU(e):n===3?new es(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):n===8?px(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):n===4?px(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=W2e.exec(t))?new es(e[1],e[2],e[3],1):(e=G2e.exec(t))?new es(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=X2e.exec(t))?px(e[1],e[2],e[3],e[4]):(e=q2e.exec(t))?px(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=Y2e.exec(t))?qU(e[1],e[2]/100,e[3]/100,1):(e=K2e.exec(t))?qU(e[1],e[2]/100,e[3]/100,e[4]):VU.hasOwnProperty(t)?WU(VU[t]):t==="transparent"?new es(NaN,NaN,NaN,0):null}function WU(t){return new es(t>>16&255,t>>8&255,t&255,1)}function px(t,e,n,r){return r<=0&&(t=e=n=NaN),new es(t,e,n,r)}function Q2e(t){return t instanceof Z0||(t=Jg(t)),t?(t=t.rgb(),new es(t.r,t.g,t.b,t.opacity)):new es}function jA(t,e,n,r){return arguments.length===1?Q2e(t):new es(t,e,n,r??1)}function es(t,e,n,r){this.r=+t,this.g=+e,this.b=+n,this.opacity=+r}SR(es,jA,BW(Z0,{brighter(t){return t=t==null?cb:Math.pow(cb,t),new es(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Kg:Math.pow(Kg,t),new es(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new es(Fu(this.r),Fu(this.g),Fu(this.b),ub(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:GU,formatHex:GU,formatHex8:eMe,formatRgb:XU,toString:XU}));function GU(){return`#${Pu(this.r)}${Pu(this.g)}${Pu(this.b)}`}function eMe(){return`#${Pu(this.r)}${Pu(this.g)}${Pu(this.b)}${Pu((isNaN(this.opacity)?1:this.opacity)*255)}`}function XU(){const t=ub(this.opacity);return`${t===1?"rgb(":"rgba("}${Fu(this.r)}, ${Fu(this.g)}, ${Fu(this.b)}${t===1?")":`, ${t})`}`}function ub(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function Fu(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function Pu(t){return t=Fu(t),(t<16?"0":"")+t.toString(16)}function qU(t,e,n,r){return r<=0?t=e=n=NaN:n<=0||n>=1?t=e=NaN:e<=0&&(t=NaN),new Na(t,e,n,r)}function zW(t){if(t instanceof Na)return new Na(t.h,t.s,t.l,t.opacity);if(t instanceof Z0||(t=Jg(t)),!t)return new Na;if(t instanceof Na)return t;t=t.rgb();var e=t.r/255,n=t.g/255,r=t.b/255,i=Math.min(e,n,r),s=Math.max(e,n,r),a=NaN,o=s-i,l=(s+i)/2;return o?(e===s?a=(n-r)/o+(n<r)*6:n===s?a=(r-e)/o+2:a=(e-n)/o+4,o/=l<.5?s+i:2-s-i,a*=60):o=l>0&&l<1?0:a,new Na(a,o,l,t.opacity)}function tMe(t,e,n,r){return arguments.length===1?zW(t):new Na(t,e,n,r??1)}function Na(t,e,n,r){this.h=+t,this.s=+e,this.l=+n,this.opacity=+r}SR(Na,tMe,BW(Z0,{brighter(t){return t=t==null?cb:Math.pow(cb,t),new Na(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Kg:Math.pow(Kg,t),new Na(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,n=this.l,r=n+(n<.5?n:1-n)*e,i=2*n-r;return new es(OM(t>=240?t-240:t+120,i,r),OM(t,i,r),OM(t<120?t+240:t-120,i,r),this.opacity)},clamp(){return new Na(YU(this.h),mx(this.s),mx(this.l),ub(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ub(this.opacity);return`${t===1?"hsl(":"hsla("}${YU(this.h)}, ${mx(this.s)*100}%, ${mx(this.l)*100}%${t===1?")":`, ${t})`}`}}));function YU(t){return t=(t||0)%360,t<0?t+360:t}function mx(t){return Math.max(0,Math.min(1,t||0))}function OM(t,e,n){return(t<60?e+(n-e)*t/60:t<180?n:t<240?e+(n-e)*(240-t)/60:e)*255}const MR=t=>()=>t;function nMe(t,e){return function(n){return t+n*e}}function rMe(t,e,n){return t=Math.pow(t,n),e=Math.pow(e,n)-t,n=1/n,function(r){return Math.pow(t+r*e,n)}}function iMe(t){return(t=+t)==1?VW:function(e,n){return n-e?rMe(e,n,t):MR(isNaN(e)?n:e)}}function VW(t,e){var n=e-t;return n?nMe(t,n):MR(isNaN(t)?e:t)}const KU=function t(e){var n=iMe(e);function r(i,s){var a=n((i=jA(i)).r,(s=jA(s)).r),o=n(i.g,s.g),l=n(i.b,s.b),c=VW(i.opacity,s.opacity);return function(u){return i.r=a(u),i.g=o(u),i.b=l(u),i.opacity=c(u),i+""}}return r.gamma=t,r}(1);function sMe(t,e){e||(e=[]);var n=t?Math.min(e.length,t.length):0,r=e.slice(),i;return function(s){for(i=0;i<n;++i)r[i]=t[i]*(1-s)+e[i]*s;return r}}function aMe(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function oMe(t,e){var n=e?e.length:0,r=t?Math.min(n,t.length):0,i=new Array(r),s=new Array(n),a;for(a=0;a<r;++a)i[a]=rp(t[a],e[a]);for(;a<n;++a)s[a]=e[a];return function(o){for(a=0;a<r;++a)s[a]=i[a](o);return s}}function lMe(t,e){var n=new Date;return t=+t,e=+e,function(r){return n.setTime(t*(1-r)+e*r),n}}function fb(t,e){return t=+t,e=+e,function(n){return t*(1-n)+e*n}}function cMe(t,e){var n={},r={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?n[i]=rp(t[i],e[i]):r[i]=e[i];return function(s){for(i in n)r[i]=n[i](s);return r}}var kA=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,LM=new RegExp(kA.source,"g");function uMe(t){return function(){return t}}function fMe(t){return function(e){return t(e)+""}}function dMe(t,e){var n=kA.lastIndex=LM.lastIndex=0,r,i,s,a=-1,o=[],l=[];for(t=t+"",e=e+"";(r=kA.exec(t))&&(i=LM.exec(e));)(s=i.index)>n&&(s=e.slice(n,s),o[a]?o[a]+=s:o[++a]=s),(r=r[0])===(i=i[0])?o[a]?o[a]+=i:o[++a]=i:(o[++a]=null,l.push({i:a,x:fb(r,i)})),n=LM.lastIndex;return n<e.length&&(s=e.slice(n),o[a]?o[a]+=s:o[++a]=s),o.length<2?l[0]?fMe(l[0].x):uMe(e):(e=l.length,function(c){for(var u=0,f;u<e;++u)o[(f=l[u]).i]=f.x(c);return o.join("")})}function rp(t,e){var n=typeof e,r;return e==null||n==="boolean"?MR(e):(n==="number"?fb:n==="string"?(r=Jg(e))?(e=r,KU):dMe:e instanceof Jg?KU:e instanceof Date?lMe:aMe(e)?sMe:Array.isArray(e)?oMe:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?cMe:fb)(t,e)}function ER(t,e){return t=+t,e=+e,function(n){return Math.round(t*(1-n)+e*n)}}function hMe(t,e){e===void 0&&(e=t,t=rp);for(var n=0,r=e.length-1,i=e[0],s=new Array(r<0?0:r);n<r;)s[n]=t(i,i=e[++n]);return function(a){var o=Math.max(0,Math.min(r-1,Math.floor(a*=r)));return s[o](a-o)}}function pMe(t){return function(){return t}}function db(t){return+t}var ZU=[0,1];function Di(t){return t}function DA(t,e){return(e-=t=+t)?function(n){return(n-t)/e}:pMe(isNaN(e)?NaN:.5)}function mMe(t,e){var n;return t>e&&(n=t,t=e,e=n),function(r){return Math.max(t,Math.min(e,r))}}function gMe(t,e,n){var r=t[0],i=t[1],s=e[0],a=e[1];return i<r?(r=DA(i,r),s=n(a,s)):(r=DA(r,i),s=n(s,a)),function(o){return s(r(o))}}function vMe(t,e,n){var r=Math.min(t.length,e.length)-1,i=new Array(r),s=new Array(r),a=-1;for(t[r]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++a<r;)i[a]=DA(t[a],t[a+1]),s[a]=n(e[a],e[a+1]);return function(o){var l=K0(t,o,1,r)-1;return s[l](i[l](o))}}function J0(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function bw(){var t=ZU,e=ZU,n=rp,r,i,s,a=Di,o,l,c;function u(){var d=Math.min(t.length,e.length);return a!==Di&&(a=mMe(t[0],t[d-1])),o=d>2?vMe:gMe,l=c=null,f}function f(d){return d==null||isNaN(d=+d)?s:(l||(l=o(t.map(r),e,n)))(r(a(d)))}return f.invert=function(d){return a(i((c||(c=o(e,t.map(r),fb)))(d)))},f.domain=function(d){return arguments.length?(t=Array.from(d,db),u()):t.slice()},f.range=function(d){return arguments.length?(e=Array.from(d),u()):e.slice()},f.rangeRound=function(d){return e=Array.from(d),n=ER,u()},f.clamp=function(d){return arguments.length?(a=d?!0:Di,u()):a!==Di},f.interpolate=function(d){return arguments.length?(n=d,u()):n},f.unknown=function(d){return arguments.length?(s=d,f):s},function(d,p){return r=d,i=p,u()}}function TR(){return bw()(Di,Di)}function yMe(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function hb(t,e){if((n=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var n,r=t.slice(0,n);return[r.length>1?r[0]+r.slice(2):r,+t.slice(n+1)]}function bh(t){return t=hb(Math.abs(t)),t?t[1]:NaN}function xMe(t,e){return function(n,r){for(var i=n.length,s=[],a=0,o=t[0],l=0;i>0&&o>0&&(l+o+1>r&&(o=Math.max(1,r-l)),s.push(n.substring(i-=o,i+o)),!((l+=o+1)>r));)o=t[a=(a+1)%t.length];return s.reverse().join(e)}}function bMe(t){return function(e){return e.replace(/[0-9]/g,function(n){return t[+n]})}}var _Me=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Qg(t){if(!(e=_Me.exec(t)))throw new Error("invalid format: "+t);var e;return new AR({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Qg.prototype=AR.prototype;function AR(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}AR.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function wMe(t){e:for(var e=t.length,n=1,r=-1,i;n<e;++n)switch(t[n]){case".":r=i=n;break;case"0":r===0&&(r=n),i=n;break;default:if(!+t[n])break e;r>0&&(r=0);break}return r>0?t.slice(0,r)+t.slice(i+1):t}var HW;function SMe(t,e){var n=hb(t,e);if(!n)return t+"";var r=n[0],i=n[1],s=i-(HW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,a=r.length;return s===a?r:s>a?r+new Array(s-a+1).join("0"):s>0?r.slice(0,s)+"."+r.slice(s):"0."+new Array(1-s).join("0")+hb(t,Math.max(0,e+s-1))[0]}function JU(t,e){var n=hb(t,e);if(!n)return t+"";var r=n[0],i=n[1];return i<0?"0."+new Array(-i).join("0")+r:r.length>i+1?r.slice(0,i+1)+"."+r.slice(i+1):r+new Array(i-r.length+2).join("0")}const QU={"%":(t,e)=>(t*100).toFixed(e),b:t=>Math.round(t).toString(2),c:t=>t+"",d:yMe,e:(t,e)=>t.toExponential(e),f:(t,e)=>t.toFixed(e),g:(t,e)=>t.toPrecision(e),o:t=>Math.round(t).toString(8),p:(t,e)=>JU(t*100,e),r:JU,s:SMe,X:t=>Math.round(t).toString(16).toUpperCase(),x:t=>Math.round(t).toString(16)};function e4(t){return t}var t4=Array.prototype.map,n4=["y","z","a","f","p","n","µ","m","","k","M","G","T","P","E","Z","Y"];function MMe(t){var e=t.grouping===void 0||t.thousands===void 0?e4:xMe(t4.call(t.grouping,Number),t.thousands+""),n=t.currency===void 0?"":t.currency[0]+"",r=t.currency===void 0?"":t.currency[1]+"",i=t.decimal===void 0?".":t.decimal+"",s=t.numerals===void 0?e4:bMe(t4.call(t.numerals,String)),a=t.percent===void 0?"%":t.percent+"",o=t.minus===void 0?"−":t.minus+"",l=t.nan===void 0?"NaN":t.nan+"";function c(f){f=Qg(f);var d=f.fill,p=f.align,v=f.sign,b=f.symbol,x=f.zero,y=f.width,w=f.comma,_=f.precision,S=f.trim,M=f.type;M==="n"?(w=!0,M="g"):QU[M]||(_===void 0&&(_=12),S=!0,M="g"),(x||d==="0"&&p==="=")&&(x=!0,d="0",p="=");var E=b==="$"?n:b==="#"&&/[boxX]/.test(M)?"0"+M.toLowerCase():"",A=b==="$"?r:/[%p]/.test(M)?a:"",C=QU[M],P=/[defgprs%]/.test(M);_=_===void 0?6:/[gprs]/.test(M)?Math.max(1,Math.min(21,_)):Math.max(0,Math.min(20,_));function R(L){var O=E,D=A,I,z,$;if(M==="c")D=C(L)+D,L="";else{L=+L;var q=L<0||1/L<0;if(L=isNaN(L)?l:C(Math.abs(L),_),S&&(L=wMe(L)),q&&+L==0&&v!=="+"&&(q=!1),O=(q?v==="("?v:o:v==="-"||v==="("?"":v)+O,D=(M==="s"?n4[8+HW/3]:"")+D+(q&&v==="("?")":""),P){for(I=-1,z=L.length;++I<z;)if($=L.charCodeAt(I),48>$||$>57){D=($===46?i+L.slice(I+1):L.slice(I))+D,L=L.slice(0,I);break}}}w&&!x&&(L=e(L,1/0));var V=O.length+L.length+D.length,U=V<y?new Array(y-V+1).join(d):"";switch(w&&x&&(L=e(U+L,U.length?y-D.length:1/0),U=""),p){case"<":L=O+L+D+U;break;case"=":L=O+U+L+D;break;case"^":L=U.slice(0,V=U.length>>1)+O+L+D+U.slice(V);break;default:L=U+O+L+D;break}return s(L)}return R.toString=function(){return f+""},R}function u(f,d){var p=c((f=Qg(f),f.type="f",f)),v=Math.max(-8,Math.min(8,Math.floor(bh(d)/3)))*3,b=Math.pow(10,-v),x=n4[8+v/3];return function(y){return p(b*y)+x}}return{format:c,formatPrefix:u}}var gx,PR,$W;EMe({thousands:",",grouping:[3],currency:["$",""]});function EMe(t){return gx=MMe(t),PR=gx.format,$W=gx.formatPrefix,gx}function TMe(t){return Math.max(0,-bh(Math.abs(t)))}function AMe(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(bh(e)/3)))*3-bh(Math.abs(t)))}function PMe(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,bh(e)-bh(t))+1}function WW(t,e,n,r){var i=LA(t,e,n),s;switch(r=Qg(r??",f"),r.type){case"s":{var a=Math.max(Math.abs(t),Math.abs(e));return r.precision==null&&!isNaN(s=AMe(i,a))&&(r.precision=s),$W(r,a)}case"":case"e":case"g":case"p":case"r":{r.precision==null&&!isNaN(s=PMe(i,Math.max(Math.abs(t),Math.abs(e))))&&(r.precision=s-(r.type==="e"));break}case"f":case"%":{r.precision==null&&!isNaN(s=TMe(i))&&(r.precision=s-(r.type==="%")*2);break}}return PR(r)}function Rc(t){var e=t.domain;return t.ticks=function(n){var r=e();return RA(r[0],r[r.length-1],n??10)},t.tickFormat=function(n,r){var i=e();return WW(i[0],i[i.length-1],n??10,r)},t.nice=function(n){n==null&&(n=10);var r=e(),i=0,s=r.length-1,a=r[i],o=r[s],l,c,u=10;for(o<a&&(c=a,a=o,o=c,c=i,i=s,s=c);u-- >0;){if(c=OA(a,o,n),c===l)return r[i]=a,r[s]=o,e(r);if(c>0)a=Math.floor(a/c)*c,o=Math.ceil(o/c)*c;else if(c<0)a=Math.ceil(a*c)/c,o=Math.floor(o*c)/c;else break;l=c}return t},t}function pb(){var t=TR();return t.copy=function(){return J0(t,pb())},pa.apply(t,arguments),Rc(t)}function GW(t){var e;function n(r){return r==null||isNaN(r=+r)?e:r}return n.invert=n,n.domain=n.range=function(r){return arguments.length?(t=Array.from(r,db),n):t.slice()},n.unknown=function(r){return arguments.length?(e=r,n):e},n.copy=function(){return GW(t).unknown(e)},t=arguments.length?Array.from(t,db):[0,1],Rc(n)}function XW(t,e){t=t.slice();var n=0,r=t.length-1,i=t[n],s=t[r],a;return s<i&&(a=n,n=r,r=a,a=i,i=s,s=a),t[n]=e.floor(i),t[r]=e.ceil(s),t}function r4(t){return Math.log(t)}function i4(t){return Math.exp(t)}function CMe(t){return-Math.log(-t)}function NMe(t){return-Math.exp(-t)}function RMe(t){return isFinite(t)?+("1e"+t):t<0?0:t}function OMe(t){return t===10?RMe:t===Math.E?Math.exp:e=>Math.pow(t,e)}function LMe(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function s4(t){return(e,n)=>-t(-e,n)}function CR(t){const e=t(r4,i4),n=e.domain;let r=10,i,s;function a(){return i=LMe(r),s=OMe(r),n()[0]<0?(i=s4(i),s=s4(s),t(CMe,NMe)):t(r4,i4),e}return e.base=function(o){return arguments.length?(r=+o,a()):r},e.domain=function(o){return arguments.length?(n(o),a()):n()},e.ticks=o=>{const l=n();let c=l[0],u=l[l.length-1];const f=u<c;f&&([c,u]=[u,c]);let d=i(c),p=i(u),v,b;const x=o==null?10:+o;let y=[];if(!(r%1)&&p-d<x){if(d=Math.floor(d),p=Math.ceil(p),c>0){for(;d<=p;++d)for(v=1;v<r;++v)if(b=d<0?v/s(-d):v*s(d),!(b<c)){if(b>u)break;y.push(b)}}else for(;d<=p;++d)for(v=r-1;v>=1;--v)if(b=d>0?v/s(-d):v*s(d),!(b<c)){if(b>u)break;y.push(b)}y.length*2<x&&(y=RA(c,u,x))}else y=RA(d,p,Math.min(p-d,x)).map(s);return f?y.reverse():y},e.tickFormat=(o,l)=>{if(o==null&&(o=10),l==null&&(l=r===10?"s":","),typeof l!="function"&&(!(r%1)&&(l=Qg(l)).precision==null&&(l.trim=!0),l=PR(l)),o===1/0)return l;const c=Math.max(1,r*o/e.ticks().length);return u=>{let f=u/s(Math.round(i(u)));return f*r<r-.5&&(f*=r),f<=c?l(u):""}},e.nice=()=>n(XW(n(),{floor:o=>s(Math.floor(i(o))),ceil:o=>s(Math.ceil(i(o)))})),e}function qW(){const t=CR(bw()).domain([1,10]);return t.copy=()=>J0(t,qW()).base(t.base()),pa.apply(t,arguments),t}function a4(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function o4(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function NR(t){var e=1,n=t(a4(e),o4(e));return n.constant=function(r){return arguments.length?t(a4(e=+r),o4(e)):e},Rc(n)}function YW(){var t=NR(bw());return t.copy=function(){return J0(t,YW()).constant(t.constant())},pa.apply(t,arguments)}function l4(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function IMe(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function jMe(t){return t<0?-t*t:t*t}function RR(t){var e=t(Di,Di),n=1;function r(){return n===1?t(Di,Di):n===.5?t(IMe,jMe):t(l4(n),l4(1/n))}return e.exponent=function(i){return arguments.length?(n=+i,r()):n},Rc(e)}function OR(){var t=RR(bw());return t.copy=function(){return J0(t,OR()).exponent(t.exponent())},pa.apply(t,arguments),t}function kMe(){return OR.apply(null,arguments).exponent(.5)}function c4(t){return Math.sign(t)*t*t}function DMe(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function KW(){var t=TR(),e=[0,1],n=!1,r;function i(s){var a=DMe(t(s));return isNaN(a)?r:n?Math.round(a):a}return i.invert=function(s){return t.invert(c4(s))},i.domain=function(s){return arguments.length?(t.domain(s),i):t.domain()},i.range=function(s){return arguments.length?(t.range((e=Array.from(s,db)).map(c4)),i):e.slice()},i.rangeRound=function(s){return i.range(s).round(!0)},i.round=function(s){return arguments.length?(n=!!s,i):n},i.clamp=function(s){return arguments.length?(t.clamp(s),i):t.clamp()},i.unknown=function(s){return arguments.length?(r=s,i):r},i.copy=function(){return KW(t.domain(),e).round(n).clamp(t.clamp()).unknown(r)},pa.apply(i,arguments),Rc(i)}function ZW(){var t=[],e=[],n=[],r;function i(){var a=0,o=Math.max(1,e.length);for(n=new Array(o-1);++a<o;)n[a-1]=V2e(t,a/o);return s}function s(a){return a==null||isNaN(a=+a)?r:e[K0(n,a)]}return s.invertExtent=function(a){var o=e.indexOf(a);return o<0?[NaN,NaN]:[o>0?n[o-1]:t[0],o<n.length?n[o]:t[t.length-1]]},s.domain=function(a){if(!arguments.length)return t.slice();t=[];for(let o of a)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(uc),i()},s.range=function(a){return arguments.length?(e=Array.from(a),i()):e.slice()},s.unknown=function(a){return arguments.length?(r=a,s):r},s.quantiles=function(){return n.slice()},s.copy=function(){return ZW().domain(t).range(e).unknown(r)},pa.apply(s,arguments)}function JW(){var t=0,e=1,n=1,r=[.5],i=[0,1],s;function a(l){return l!=null&&l<=l?i[K0(r,l,0,n)]:s}function o(){var l=-1;for(r=new Array(n);++l<n;)r[l]=((l+1)*e-(l-n)*t)/(n+1);return a}return a.domain=function(l){return arguments.length?([t,e]=l,t=+t,e=+e,o()):[t,e]},a.range=function(l){return arguments.length?(n=(i=Array.from(l)).length-1,o()):i.slice()},a.invertExtent=function(l){var c=i.indexOf(l);return c<0?[NaN,NaN]:c<1?[t,r[0]]:c>=n?[r[n-1],e]:[r[c-1],r[c]]},a.unknown=function(l){return arguments.length&&(s=l),a},a.thresholds=function(){return r.slice()},a.copy=function(){return JW().domain([t,e]).range(i).unknown(s)},pa.apply(Rc(a),arguments)}function QW(){var t=[.5],e=[0,1],n,r=1;function i(s){return s!=null&&s<=s?e[K0(t,s,0,r)]:n}return i.domain=function(s){return arguments.length?(t=Array.from(s),r=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(s){return arguments.length?(e=Array.from(s),r=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(s){var a=e.indexOf(s);return[t[a-1],t[a]]},i.unknown=function(s){return arguments.length?(n=s,i):n},i.copy=function(){return QW().domain(t).range(e).unknown(n)},pa.apply(i,arguments)}const IM=new Date,jM=new Date;function jr(t,e,n,r){function i(s){return t(s=arguments.length===0?new Date:new Date(+s)),s}return i.floor=s=>(t(s=new Date(+s)),s),i.ceil=s=>(t(s=new Date(s-1)),e(s,1),t(s),s),i.round=s=>{const a=i(s),o=i.ceil(s);return s-a<o-s?a:o},i.offset=(s,a)=>(e(s=new Date(+s),a==null?1:Math.floor(a)),s),i.range=(s,a,o)=>{const l=[];if(s=i.ceil(s),o=o==null?1:Math.floor(o),!(s<a)||!(o>0))return l;let c;do l.push(c=new Date(+s)),e(s,o),t(s);while(c<s&&s<a);return l},i.filter=s=>jr(a=>{if(a>=a)for(;t(a),!s(a);)a.setTime(a-1)},(a,o)=>{if(a>=a)if(o<0)for(;++o<=0;)for(;e(a,-1),!s(a););else for(;--o>=0;)for(;e(a,1),!s(a););}),n&&(i.count=(s,a)=>(IM.setTime(+s),jM.setTime(+a),t(IM),t(jM),Math.floor(n(IM,jM))),i.every=s=>(s=Math.floor(s),!isFinite(s)||!(s>0)?null:s>1?i.filter(r?a=>r(a)%s===0:a=>i.count(0,a)%s===0):i)),i}const mb=jr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);mb.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?jr(e=>{e.setTime(Math.floor(e/t)*t)},(e,n)=>{e.setTime(+e+n*t)},(e,n)=>(n-e)/t):mb);mb.range;const Go=1e3,na=Go*60,Xo=na*60,fl=Xo*24,LR=fl*7,u4=fl*30,kM=fl*365,Cu=jr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Go)},(t,e)=>(e-t)/Go,t=>t.getUTCSeconds());Cu.range;const IR=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Go)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getMinutes());IR.range;const jR=jr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*na)},(t,e)=>(e-t)/na,t=>t.getUTCMinutes());jR.range;const kR=jr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Go-t.getMinutes()*na)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getHours());kR.range;const DR=jr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*Xo)},(t,e)=>(e-t)/Xo,t=>t.getUTCHours());DR.range;const Q0=jr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*na)/fl,t=>t.getDate()-1);Q0.range;const _w=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fl,t=>t.getUTCDate()-1);_w.range;const eG=jr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/fl,t=>Math.floor(t/fl));eG.range;function vf(t){return jr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,n)=>{e.setDate(e.getDate()+n*7)},(e,n)=>(n-e-(n.getTimezoneOffset()-e.getTimezoneOffset())*na)/LR)}const ww=vf(0),gb=vf(1),UMe=vf(2),FMe=vf(3),_h=vf(4),BMe=vf(5),zMe=vf(6);ww.range;gb.range;UMe.range;FMe.range;_h.range;BMe.range;zMe.range;function yf(t){return jr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCDate(e.getUTCDate()+n*7)},(e,n)=>(n-e)/LR)}const Sw=yf(0),vb=yf(1),VMe=yf(2),HMe=yf(3),wh=yf(4),$Me=yf(5),WMe=yf(6);Sw.range;vb.range;VMe.range;HMe.range;wh.range;$Me.range;WMe.range;const UR=jr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());UR.range;const FR=jr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());FR.range;const dl=jr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());dl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,n)=>{e.setFullYear(e.getFullYear()+n*t)});dl.range;const hl=jr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());hl.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:jr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,n)=>{e.setUTCFullYear(e.getUTCFullYear()+n*t)});hl.range;function tG(t,e,n,r,i,s){const a=[[Cu,1,Go],[Cu,5,5*Go],[Cu,15,15*Go],[Cu,30,30*Go],[s,1,na],[s,5,5*na],[s,15,15*na],[s,30,30*na],[i,1,Xo],[i,3,3*Xo],[i,6,6*Xo],[i,12,12*Xo],[r,1,fl],[r,2,2*fl],[n,1,LR],[e,1,u4],[e,3,3*u4],[t,1,kM]];function o(c,u,f){const d=u<c;d&&([c,u]=[u,c]);const p=f&&typeof f.range=="function"?f:l(c,u,f),v=p?p.range(c,+u+1):[];return d?v.reverse():v}function l(c,u,f){const d=Math.abs(u-c)/f,p=_R(([,,x])=>x).right(a,d);if(p===a.length)return t.every(LA(c/kM,u/kM,f));if(p===0)return mb.every(Math.max(LA(c,u,f),1));const[v,b]=a[d/a[p-1][2]<a[p][2]/d?p-1:p];return v.every(b)}return[o,l]}const[GMe,XMe]=tG(hl,FR,Sw,eG,DR,jR),[qMe,YMe]=tG(dl,UR,ww,Q0,kR,IR);function DM(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function UM(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function sm(t,e,n){return{y:t,m:e,d:n,H:0,M:0,S:0,L:0}}function KMe(t){var e=t.dateTime,n=t.date,r=t.time,i=t.periods,s=t.days,a=t.shortDays,o=t.months,l=t.shortMonths,c=am(i),u=om(i),f=am(s),d=om(s),p=am(a),v=om(a),b=am(o),x=om(o),y=am(l),w=om(l),_={a:q,A:V,b:U,B:W,c:null,d:g4,e:g4,f:xEe,g:CEe,G:REe,H:gEe,I:vEe,j:yEe,L:nG,m:bEe,M:_Ee,p:k,q:H,Q:x4,s:b4,S:wEe,u:SEe,U:MEe,V:EEe,w:TEe,W:AEe,x:null,X:null,y:PEe,Y:NEe,Z:OEe,"%":y4},S={a:K,A:ne,b:te,B:ae,c:null,d:v4,e:v4,f:kEe,g:GEe,G:qEe,H:LEe,I:IEe,j:jEe,L:iG,m:DEe,M:UEe,p:oe,q:he,Q:x4,s:b4,S:FEe,u:BEe,U:zEe,V:VEe,w:HEe,W:$Ee,x:null,X:null,y:WEe,Y:XEe,Z:YEe,"%":y4},M={a:R,A:L,b:O,B:D,c:I,d:p4,e:p4,f:dEe,g:h4,G:d4,H:m4,I:m4,j:lEe,L:fEe,m:oEe,M:cEe,p:P,q:aEe,Q:pEe,s:mEe,S:uEe,u:tEe,U:nEe,V:rEe,w:eEe,W:iEe,x:z,X:$,y:h4,Y:d4,Z:sEe,"%":hEe};_.x=E(n,_),_.X=E(r,_),_.c=E(e,_),S.x=E(n,S),S.X=E(r,S),S.c=E(e,S);function E(fe,Ce){return function(le){var G=[],me=-1,se=0,xe=fe.length,pe,ze,ve;for(le instanceof Date||(le=new Date(+le));++me<xe;)fe.charCodeAt(me)===37&&(G.push(fe.slice(se,me)),(ze=f4[pe=fe.charAt(++me)])!=null?pe=fe.charAt(++me):ze=pe==="e"?" ":"0",(ve=Ce[pe])&&(pe=ve(le,ze)),G.push(pe),se=me+1);return G.push(fe.slice(se,me)),G.join("")}}function A(fe,Ce){return function(le){var G=sm(1900,void 0,1),me=C(G,fe,le+="",0),se,xe;if(me!=le.length)return null;if("Q"in G)return new Date(G.Q);if("s"in G)return new Date(G.s*1e3+("L"in G?G.L:0));if(Ce&&!("Z"in G)&&(G.Z=0),"p"in G&&(G.H=G.H%12+G.p*12),G.m===void 0&&(G.m="q"in G?G.q:0),"V"in G){if(G.V<1||G.V>53)return null;"w"in G||(G.w=1),"Z"in G?(se=UM(sm(G.y,0,1)),xe=se.getUTCDay(),se=xe>4||xe===0?vb.ceil(se):vb(se),se=_w.offset(se,(G.V-1)*7),G.y=se.getUTCFullYear(),G.m=se.getUTCMonth(),G.d=se.getUTCDate()+(G.w+6)%7):(se=DM(sm(G.y,0,1)),xe=se.getDay(),se=xe>4||xe===0?gb.ceil(se):gb(se),se=Q0.offset(se,(G.V-1)*7),G.y=se.getFullYear(),G.m=se.getMonth(),G.d=se.getDate()+(G.w+6)%7)}else("W"in G||"U"in G)&&("w"in G||(G.w="u"in G?G.u%7:"W"in G?1:0),xe="Z"in G?UM(sm(G.y,0,1)).getUTCDay():DM(sm(G.y,0,1)).getDay(),G.m=0,G.d="W"in G?(G.w+6)%7+G.W*7-(xe+5)%7:G.w+G.U*7-(xe+6)%7);return"Z"in G?(G.H+=G.Z/100|0,G.M+=G.Z%100,UM(G)):DM(G)}}function C(fe,Ce,le,G){for(var me=0,se=Ce.length,xe=le.length,pe,ze;me<se;){if(G>=xe)return-1;if(pe=Ce.charCodeAt(me++),pe===37){if(pe=Ce.charAt(me++),ze=M[pe in f4?Ce.charAt(me++):pe],!ze||(G=ze(fe,le,G))<0)return-1}else if(pe!=le.charCodeAt(G++))return-1}return G}function P(fe,Ce,le){var G=c.exec(Ce.slice(le));return G?(fe.p=u.get(G[0].toLowerCase()),le+G[0].length):-1}function R(fe,Ce,le){var G=p.exec(Ce.slice(le));return G?(fe.w=v.get(G[0].toLowerCase()),le+G[0].length):-1}function L(fe,Ce,le){var G=f.exec(Ce.slice(le));return G?(fe.w=d.get(G[0].toLowerCase()),le+G[0].length):-1}function O(fe,Ce,le){var G=y.exec(Ce.slice(le));return G?(fe.m=w.get(G[0].toLowerCase()),le+G[0].length):-1}function D(fe,Ce,le){var G=b.exec(Ce.slice(le));return G?(fe.m=x.get(G[0].toLowerCase()),le+G[0].length):-1}function I(fe,Ce,le){return C(fe,e,Ce,le)}function z(fe,Ce,le){return C(fe,n,Ce,le)}function $(fe,Ce,le){return C(fe,r,Ce,le)}function q(fe){return a[fe.getDay()]}function V(fe){return s[fe.getDay()]}function U(fe){return l[fe.getMonth()]}function W(fe){return o[fe.getMonth()]}function k(fe){return i[+(fe.getHours()>=12)]}function H(fe){return 1+~~(fe.getMonth()/3)}function K(fe){return a[fe.getUTCDay()]}function ne(fe){return s[fe.getUTCDay()]}function te(fe){return l[fe.getUTCMonth()]}function ae(fe){return o[fe.getUTCMonth()]}function oe(fe){return i[+(fe.getUTCHours()>=12)]}function he(fe){return 1+~~(fe.getUTCMonth()/3)}return{format:function(fe){var Ce=E(fe+="",_);return Ce.toString=function(){return fe},Ce},parse:function(fe){var Ce=A(fe+="",!1);return Ce.toString=function(){return fe},Ce},utcFormat:function(fe){var Ce=E(fe+="",S);return Ce.toString=function(){return fe},Ce},utcParse:function(fe){var Ce=A(fe+="",!0);return Ce.toString=function(){return fe},Ce}}}var f4={"-":"",_:" ",0:"0"},Xr=/^\s*\d+/,ZMe=/^%/,JMe=/[\\^$*+?|[\]().{}]/g;function on(t,e,n){var r=t<0?"-":"",i=(r?-t:t)+"",s=i.length;return r+(s<n?new Array(n-s+1).join(e)+i:i)}function QMe(t){return t.replace(JMe,"\\$&")}function am(t){return new RegExp("^(?:"+t.map(QMe).join("|")+")","i")}function om(t){return new Map(t.map((e,n)=>[e.toLowerCase(),n]))}function eEe(t,e,n){var r=Xr.exec(e.slice(n,n+1));return r?(t.w=+r[0],n+r[0].length):-1}function tEe(t,e,n){var r=Xr.exec(e.slice(n,n+1));return r?(t.u=+r[0],n+r[0].length):-1}function nEe(t,e,n){var r=Xr.exec(e.slice(n,n+2));return r?(t.U=+r[0],n+r[0].length):-1}function rEe(t,e,n){var r=Xr.exec(e.slice(n,n+2));return r?(t.V=+r[0],n+r[0].length):-1}function iEe(t,e,n){var r=Xr.exec(e.slice(n,n+2));return r?(t.W=+r[0],n+r[0].length):-1}function d4(t,e,n){var r=Xr.exec(e.slice(n,n+4));return r?(t.y=+r[0],n+r[0].length):-1}function h4(t,e,n){var r=Xr.exec(e.slice(n,n+2));return r?(t.y=+r[0]+(+r[0]>68?1900:2e3),n+r[0].length):-1}function sEe(t,e,n){var r=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(n,n+6));return r?(t.Z=r[1]?0:-(r[2]+(r[3]||"00")),n+r[0].length):-1}function aEe(t,e,n){var r=Xr.exec(e.slice(n,n+1));return r?(t.q=r[0]*3-3,n+r[0].length):-1}function oEe(t,e,n){var r=Xr.exec(e.slice(n,n+2));return r?(t.m=r[0]-1,n+r[0].length):-1}function p4(t,e,n){var r=Xr.exec(e.slice(n,n+2));return r?(t.d=+r[0],n+r[0].length):-1}function lEe(t,e,n){var r=Xr.exec(e.slice(n,n+3));return r?(t.m=0,t.d=+r[0],n+r[0].length):-1}function m4(t,e,n){var r=Xr.exec(e.slice(n,n+2));return r?(t.H=+r[0],n+r[0].length):-1}function cEe(t,e,n){var r=Xr.exec(e.slice(n,n+2));return r?(t.M=+r[0],n+r[0].length):-1}function uEe(t,e,n){var r=Xr.exec(e.slice(n,n+2));return r?(t.S=+r[0],n+r[0].length):-1}function fEe(t,e,n){var r=Xr.exec(e.slice(n,n+3));return r?(t.L=+r[0],n+r[0].length):-1}function dEe(t,e,n){var r=Xr.exec(e.slice(n,n+6));return r?(t.L=Math.floor(r[0]/1e3),n+r[0].length):-1}function hEe(t,e,n){var r=ZMe.exec(e.slice(n,n+1));return r?n+r[0].length:-1}function pEe(t,e,n){var r=Xr.exec(e.slice(n));return r?(t.Q=+r[0],n+r[0].length):-1}function mEe(t,e,n){var r=Xr.exec(e.slice(n));return r?(t.s=+r[0],n+r[0].length):-1}function g4(t,e){return on(t.getDate(),e,2)}function gEe(t,e){return on(t.getHours(),e,2)}function vEe(t,e){return on(t.getHours()%12||12,e,2)}function yEe(t,e){return on(1+Q0.count(dl(t),t),e,3)}function nG(t,e){return on(t.getMilliseconds(),e,3)}function xEe(t,e){return nG(t,e)+"000"}function bEe(t,e){return on(t.getMonth()+1,e,2)}function _Ee(t,e){return on(t.getMinutes(),e,2)}function wEe(t,e){return on(t.getSeconds(),e,2)}function SEe(t){var e=t.getDay();return e===0?7:e}function MEe(t,e){return on(ww.count(dl(t)-1,t),e,2)}function rG(t){var e=t.getDay();return e>=4||e===0?_h(t):_h.ceil(t)}function EEe(t,e){return t=rG(t),on(_h.count(dl(t),t)+(dl(t).getDay()===4),e,2)}function TEe(t){return t.getDay()}function AEe(t,e){return on(gb.count(dl(t)-1,t),e,2)}function PEe(t,e){return on(t.getFullYear()%100,e,2)}function CEe(t,e){return t=rG(t),on(t.getFullYear()%100,e,2)}function NEe(t,e){return on(t.getFullYear()%1e4,e,4)}function REe(t,e){var n=t.getDay();return t=n>=4||n===0?_h(t):_h.ceil(t),on(t.getFullYear()%1e4,e,4)}function OEe(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+on(e/60|0,"0",2)+on(e%60,"0",2)}function v4(t,e){return on(t.getUTCDate(),e,2)}function LEe(t,e){return on(t.getUTCHours(),e,2)}function IEe(t,e){return on(t.getUTCHours()%12||12,e,2)}function jEe(t,e){return on(1+_w.count(hl(t),t),e,3)}function iG(t,e){return on(t.getUTCMilliseconds(),e,3)}function kEe(t,e){return iG(t,e)+"000"}function DEe(t,e){return on(t.getUTCMonth()+1,e,2)}function UEe(t,e){return on(t.getUTCMinutes(),e,2)}function FEe(t,e){return on(t.getUTCSeconds(),e,2)}function BEe(t){var e=t.getUTCDay();return e===0?7:e}function zEe(t,e){return on(Sw.count(hl(t)-1,t),e,2)}function sG(t){var e=t.getUTCDay();return e>=4||e===0?wh(t):wh.ceil(t)}function VEe(t,e){return t=sG(t),on(wh.count(hl(t),t)+(hl(t).getUTCDay()===4),e,2)}function HEe(t){return t.getUTCDay()}function $Ee(t,e){return on(vb.count(hl(t)-1,t),e,2)}function WEe(t,e){return on(t.getUTCFullYear()%100,e,2)}function GEe(t,e){return t=sG(t),on(t.getUTCFullYear()%100,e,2)}function XEe(t,e){return on(t.getUTCFullYear()%1e4,e,4)}function qEe(t,e){var n=t.getUTCDay();return t=n>=4||n===0?wh(t):wh.ceil(t),on(t.getUTCFullYear()%1e4,e,4)}function YEe(){return"+0000"}function y4(){return"%"}function x4(t){return+t}function b4(t){return Math.floor(+t/1e3)}var cd,aG,oG;KEe({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function KEe(t){return cd=KMe(t),aG=cd.format,cd.parse,oG=cd.utcFormat,cd.utcParse,cd}function ZEe(t){return new Date(t)}function JEe(t){return t instanceof Date?+t:+new Date(+t)}function BR(t,e,n,r,i,s,a,o,l,c){var u=TR(),f=u.invert,d=u.domain,p=c(".%L"),v=c(":%S"),b=c("%I:%M"),x=c("%I %p"),y=c("%a %d"),w=c("%b %d"),_=c("%B"),S=c("%Y");function M(E){return(l(E)<E?p:o(E)<E?v:a(E)<E?b:s(E)<E?x:r(E)<E?i(E)<E?y:w:n(E)<E?_:S)(E)}return u.invert=function(E){return new Date(f(E))},u.domain=function(E){return arguments.length?d(Array.from(E,JEe)):d().map(ZEe)},u.ticks=function(E){var A=d();return t(A[0],A[A.length-1],E??10)},u.tickFormat=function(E,A){return A==null?M:c(A)},u.nice=function(E){var A=d();return(!E||typeof E.range!="function")&&(E=e(A[0],A[A.length-1],E??10)),E?d(XW(A,E)):u},u.copy=function(){return J0(u,BR(t,e,n,r,i,s,a,o,l,c))},u}function QEe(){return pa.apply(BR(qMe,YMe,dl,UR,ww,Q0,kR,IR,Cu,aG).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function eTe(){return pa.apply(BR(GMe,XMe,hl,FR,Sw,_w,DR,jR,Cu,oG).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mw(){var t=0,e=1,n,r,i,s,a=Di,o=!1,l;function c(f){return f==null||isNaN(f=+f)?l:a(i===0?.5:(f=(s(f)-n)*i,o?Math.max(0,Math.min(1,f)):f))}c.domain=function(f){return arguments.length?([t,e]=f,n=s(t=+t),r=s(e=+e),i=n===r?0:1/(r-n),c):[t,e]},c.clamp=function(f){return arguments.length?(o=!!f,c):o},c.interpolator=function(f){return arguments.length?(a=f,c):a};function u(f){return function(d){var p,v;return arguments.length?([p,v]=d,a=f(p,v),c):[a(0),a(1)]}}return c.range=u(rp),c.rangeRound=u(ER),c.unknown=function(f){return arguments.length?(l=f,c):l},function(f){return s=f,n=f(t),r=f(e),i=n===r?0:1/(r-n),c}}function Oc(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function lG(){var t=Rc(Mw()(Di));return t.copy=function(){return Oc(t,lG())},xl.apply(t,arguments)}function cG(){var t=CR(Mw()).domain([1,10]);return t.copy=function(){return Oc(t,cG()).base(t.base())},xl.apply(t,arguments)}function uG(){var t=NR(Mw());return t.copy=function(){return Oc(t,uG()).constant(t.constant())},xl.apply(t,arguments)}function zR(){var t=RR(Mw());return t.copy=function(){return Oc(t,zR()).exponent(t.exponent())},xl.apply(t,arguments)}function tTe(){return zR.apply(null,arguments).exponent(.5)}function fG(){var t=[],e=Di;function n(r){if(r!=null&&!isNaN(r=+r))return e((K0(t,r,1)-1)/(t.length-1))}return n.domain=function(r){if(!arguments.length)return t.slice();t=[];for(let i of r)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(uc),n},n.interpolator=function(r){return arguments.length?(e=r,n):e},n.range=function(){return t.map((r,i)=>e(i/(t.length-1)))},n.quantiles=function(r){return Array.from({length:r+1},(i,s)=>z2e(t,s/r))},n.copy=function(){return fG(e).domain(t)},xl.apply(n,arguments)}function Ew(){var t=0,e=.5,n=1,r=1,i,s,a,o,l,c=Di,u,f=!1,d;function p(b){return isNaN(b=+b)?d:(b=.5+((b=+u(b))-s)*(r*b<r*s?o:l),c(f?Math.max(0,Math.min(1,b)):b))}p.domain=function(b){return arguments.length?([t,e,n]=b,i=u(t=+t),s=u(e=+e),a=u(n=+n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p):[t,e,n]},p.clamp=function(b){return arguments.length?(f=!!b,p):f},p.interpolator=function(b){return arguments.length?(c=b,p):c};function v(b){return function(x){var y,w,_;return arguments.length?([y,w,_]=x,c=hMe(b,[y,w,_]),p):[c(0),c(.5),c(1)]}}return p.range=v(rp),p.rangeRound=v(ER),p.unknown=function(b){return arguments.length?(d=b,p):d},function(b){return u=b,i=b(t),s=b(e),a=b(n),o=i===s?0:.5/(s-i),l=s===a?0:.5/(a-s),r=s<i?-1:1,p}}function dG(){var t=Rc(Ew()(Di));return t.copy=function(){return Oc(t,dG())},xl.apply(t,arguments)}function hG(){var t=CR(Ew()).domain([.1,1,10]);return t.copy=function(){return Oc(t,hG()).base(t.base())},xl.apply(t,arguments)}function pG(){var t=NR(Ew());return t.copy=function(){return Oc(t,pG()).constant(t.constant())},xl.apply(t,arguments)}function VR(){var t=RR(Ew());return t.copy=function(){return Oc(t,VR()).exponent(t.exponent())},xl.apply(t,arguments)}function nTe(){return VR.apply(null,arguments).exponent(.5)}const _4=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:Yg,scaleDiverging:dG,scaleDivergingLog:hG,scaleDivergingPow:VR,scaleDivergingSqrt:nTe,scaleDivergingSymlog:pG,scaleIdentity:GW,scaleImplicit:IA,scaleLinear:pb,scaleLog:qW,scaleOrdinal:wR,scalePoint:$m,scalePow:OR,scaleQuantile:ZW,scaleQuantize:JW,scaleRadial:KW,scaleSequential:lG,scaleSequentialLog:cG,scaleSequentialPow:zR,scaleSequentialQuantile:fG,scaleSequentialSqrt:tTe,scaleSequentialSymlog:uG,scaleSqrt:kMe,scaleSymlog:YW,scaleThreshold:QW,scaleTime:QEe,scaleUtc:eTe,tickFormat:WW},Symbol.toStringTag,{value:"Module"}));var rTe=Yh;function iTe(t,e,n){for(var r=-1,i=t.length;++r<i;){var s=t[r],a=e(s);if(a!=null&&(o===void 0?a===a&&!rTe(a):n(a,o)))var o=a,l=s}return l}var mG=iTe;function sTe(t,e){return t>e}var aTe=sTe,oTe=mG,lTe=aTe,cTe=np;function uTe(t){return t&&t.length?oTe(t,cTe,lTe):void 0}var fTe=uTe;const Tw=yn(fTe);function dTe(t,e){return t<e}var hTe=dTe,pTe=mG,mTe=hTe,gTe=np;function vTe(t){return t&&t.length?pTe(t,gTe,mTe):void 0}var yTe=vTe;const Aw=yn(yTe);var xTe=nR,bTe=Nc,_Te=SW,wTe=ls;function STe(t,e){var n=wTe(t)?xTe:_Te;return n(t,bTe(e))}var MTe=STe,ETe=_W,TTe=MTe;function ATe(t,e){return ETe(TTe(t,e),1)}var PTe=ATe;const CTe=yn(PTe);var NTe=vR;function RTe(t,e){return NTe(t,e)}var OTe=RTe;const Pw=yn(OTe);var ip=1e9,LTe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},$R,Dn=!0,ua="[DecimalError] ",Bu=ua+"Invalid argument: ",HR=ua+"Exponent out of range: ",sp=Math.floor,gu=Math.pow,ITe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,As,$r=1e7,Nn=7,gG=9007199254740991,yb=sp(gG/Nn),ut={};ut.absoluteValue=ut.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};ut.comparedTo=ut.cmp=function(t){var e,n,r,i,s=this;if(t=new s.constructor(t),s.s!==t.s)return s.s||-t.s;if(s.e!==t.e)return s.e>t.e^s.s<0?1:-1;for(r=s.d.length,i=t.d.length,e=0,n=r<i?r:i;e<n;++e)if(s.d[e]!==t.d[e])return s.d[e]>t.d[e]^s.s<0?1:-1;return r===i?0:r>i^s.s<0?1:-1};ut.decimalPlaces=ut.dp=function(){var t=this,e=t.d.length-1,n=(e-t.e)*Nn;if(e=t.d[e],e)for(;e%10==0;e/=10)n--;return n<0?0:n};ut.dividedBy=ut.div=function(t){return nl(this,new this.constructor(t))};ut.dividedToIntegerBy=ut.idiv=function(t){var e=this,n=e.constructor;return _n(nl(e,new n(t),0,1),n.precision)};ut.equals=ut.eq=function(t){return!this.cmp(t)};ut.exponent=function(){return yr(this)};ut.greaterThan=ut.gt=function(t){return this.cmp(t)>0};ut.greaterThanOrEqualTo=ut.gte=function(t){return this.cmp(t)>=0};ut.isInteger=ut.isint=function(){return this.e>this.d.length-2};ut.isNegative=ut.isneg=function(){return this.s<0};ut.isPositive=ut.ispos=function(){return this.s>0};ut.isZero=function(){return this.s===0};ut.lessThan=ut.lt=function(t){return this.cmp(t)<0};ut.lessThanOrEqualTo=ut.lte=function(t){return this.cmp(t)<1};ut.logarithm=ut.log=function(t){var e,n=this,r=n.constructor,i=r.precision,s=i+5;if(t===void 0)t=new r(10);else if(t=new r(t),t.s<1||t.eq(As))throw Error(ua+"NaN");if(n.s<1)throw Error(ua+(n.s?"NaN":"-Infinity"));return n.eq(As)?new r(0):(Dn=!1,e=nl(e0(n,s),e0(t,s),s),Dn=!0,_n(e,i))};ut.minus=ut.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?xG(e,t):vG(e,(t.s=-t.s,t))};ut.modulo=ut.mod=function(t){var e,n=this,r=n.constructor,i=r.precision;if(t=new r(t),!t.s)throw Error(ua+"NaN");return n.s?(Dn=!1,e=nl(n,t,0,1).times(t),Dn=!0,n.minus(e)):_n(new r(n),i)};ut.naturalExponential=ut.exp=function(){return yG(this)};ut.naturalLogarithm=ut.ln=function(){return e0(this)};ut.negated=ut.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};ut.plus=ut.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?vG(e,t):xG(e,(t.s=-t.s,t))};ut.precision=ut.sd=function(t){var e,n,r,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(Bu+t);if(e=yr(i)+1,r=i.d.length-1,n=r*Nn+1,r=i.d[r],r){for(;r%10==0;r/=10)n--;for(r=i.d[0];r>=10;r/=10)n++}return t&&e>n?e:n};ut.squareRoot=ut.sqrt=function(){var t,e,n,r,i,s,a,o=this,l=o.constructor;if(o.s<1){if(!o.s)return new l(0);throw Error(ua+"NaN")}for(t=yr(o),Dn=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=no(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=sp((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),r=new l(e)):r=new l(i.toString()),n=l.precision,i=a=n+3;;)if(s=r,r=s.plus(nl(o,s,a+2)).times(.5),no(s.d).slice(0,a)===(e=no(r.d)).slice(0,a)){if(e=e.slice(a-3,a+1),i==a&&e=="4999"){if(_n(s,n+1,0),s.times(s).eq(o)){r=s;break}}else if(e!="9999")break;a+=4}return Dn=!0,_n(r,n)};ut.times=ut.mul=function(t){var e,n,r,i,s,a,o,l,c,u=this,f=u.constructor,d=u.d,p=(t=new f(t)).d;if(!u.s||!t.s)return new f(0);for(t.s*=u.s,n=u.e+t.e,l=d.length,c=p.length,l<c&&(s=d,d=p,p=s,a=l,l=c,c=a),s=[],a=l+c,r=a;r--;)s.push(0);for(r=c;--r>=0;){for(e=0,i=l+r;i>r;)o=s[i]+p[r]*d[i-r-1]+e,s[i--]=o%$r|0,e=o/$r|0;s[i]=(s[i]+e)%$r|0}for(;!s[--a];)s.pop();return e?++n:s.shift(),t.d=s,t.e=n,Dn?_n(t,f.precision):t};ut.toDecimalPlaces=ut.todp=function(t,e){var n=this,r=n.constructor;return n=new r(n),t===void 0?n:(go(t,0,ip),e===void 0?e=r.rounding:go(e,0,8),_n(n,t+yr(n)+1,e))};ut.toExponential=function(t,e){var n,r=this,i=r.constructor;return t===void 0?n=tf(r,!0):(go(t,0,ip),e===void 0?e=i.rounding:go(e,0,8),r=_n(new i(r),t+1,e),n=tf(r,!0,t+1)),n};ut.toFixed=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?tf(i):(go(t,0,ip),e===void 0?e=s.rounding:go(e,0,8),r=_n(new s(i),t+yr(i)+1,e),n=tf(r.abs(),!1,t+yr(r)+1),i.isneg()&&!i.isZero()?"-"+n:n)};ut.toInteger=ut.toint=function(){var t=this,e=t.constructor;return _n(new e(t),yr(t)+1,e.rounding)};ut.toNumber=function(){return+this};ut.toPower=ut.pow=function(t){var e,n,r,i,s,a,o=this,l=o.constructor,c=12,u=+(t=new l(t));if(!t.s)return new l(As);if(o=new l(o),!o.s){if(t.s<1)throw Error(ua+"Infinity");return o}if(o.eq(As))return o;if(r=l.precision,t.eq(As))return _n(o,r);if(e=t.e,n=t.d.length-1,a=e>=n,s=o.s,a){if((n=u<0?-u:u)<=gG){for(i=new l(As),e=Math.ceil(r/Nn+4),Dn=!1;n%2&&(i=i.times(o),S4(i.d,e)),n=sp(n/2),n!==0;)o=o.times(o),S4(o.d,e);return Dn=!0,t.s<0?new l(As).div(i):_n(i,r)}}else if(s<0)throw Error(ua+"NaN");return s=s<0&&t.d[Math.max(e,n)]&1?-1:1,o.s=1,Dn=!1,i=t.times(e0(o,r+c)),Dn=!0,i=yG(i),i.s=s,i};ut.toPrecision=function(t,e){var n,r,i=this,s=i.constructor;return t===void 0?(n=yr(i),r=tf(i,n<=s.toExpNeg||n>=s.toExpPos)):(go(t,1,ip),e===void 0?e=s.rounding:go(e,0,8),i=_n(new s(i),t,e),n=yr(i),r=tf(i,t<=n||n<=s.toExpNeg,t)),r};ut.toSignificantDigits=ut.tosd=function(t,e){var n=this,r=n.constructor;return t===void 0?(t=r.precision,e=r.rounding):(go(t,1,ip),e===void 0?e=r.rounding:go(e,0,8)),_n(new r(n),t,e)};ut.toString=ut.valueOf=ut.val=ut.toJSON=ut[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=yr(t),n=t.constructor;return tf(t,e<=n.toExpNeg||e>=n.toExpPos)};function vG(t,e){var n,r,i,s,a,o,l,c,u=t.constructor,f=u.precision;if(!t.s||!e.s)return e.s||(e=new u(t)),Dn?_n(e,f):e;if(l=t.d,c=e.d,a=t.e,i=e.e,l=l.slice(),s=a-i,s){for(s<0?(r=l,s=-s,o=c.length):(r=c,i=a,o=l.length),a=Math.ceil(f/Nn),o=a>o?a+1:o+1,s>o&&(s=o,r.length=1),r.reverse();s--;)r.push(0);r.reverse()}for(o=l.length,s=c.length,o-s<0&&(s=o,r=c,c=l,l=r),n=0;s;)n=(l[--s]=l[s]+c[s]+n)/$r|0,l[s]%=$r;for(n&&(l.unshift(n),++i),o=l.length;l[--o]==0;)l.pop();return e.d=l,e.e=i,Dn?_n(e,f):e}function go(t,e,n){if(t!==~~t||t<e||t>n)throw Error(Bu+t)}function no(t){var e,n,r,i=t.length-1,s="",a=t[0];if(i>0){for(s+=a,e=1;e<i;e++)r=t[e]+"",n=Nn-r.length,n&&(s+=zl(n)),s+=r;a=t[e],r=a+"",n=Nn-r.length,n&&(s+=zl(n))}else if(a===0)return"0";for(;a%10===0;)a/=10;return s+a}var nl=function(){function t(r,i){var s,a=0,o=r.length;for(r=r.slice();o--;)s=r[o]*i+a,r[o]=s%$r|0,a=s/$r|0;return a&&r.unshift(a),r}function e(r,i,s,a){var o,l;if(s!=a)l=s>a?1:-1;else for(o=l=0;o<s;o++)if(r[o]!=i[o]){l=r[o]>i[o]?1:-1;break}return l}function n(r,i,s){for(var a=0;s--;)r[s]-=a,a=r[s]<i[s]?1:0,r[s]=a*$r+r[s]-i[s];for(;!r[0]&&r.length>1;)r.shift()}return function(r,i,s,a){var o,l,c,u,f,d,p,v,b,x,y,w,_,S,M,E,A,C,P=r.constructor,R=r.s==i.s?1:-1,L=r.d,O=i.d;if(!r.s)return new P(r);if(!i.s)throw Error(ua+"Division by zero");for(l=r.e-i.e,A=O.length,M=L.length,p=new P(R),v=p.d=[],c=0;O[c]==(L[c]||0);)++c;if(O[c]>(L[c]||0)&&--l,s==null?w=s=P.precision:a?w=s+(yr(r)-yr(i))+1:w=s,w<0)return new P(0);if(w=w/Nn+2|0,c=0,A==1)for(u=0,O=O[0],w++;(c<M||u)&&w--;c++)_=u*$r+(L[c]||0),v[c]=_/O|0,u=_%O|0;else{for(u=$r/(O[0]+1)|0,u>1&&(O=t(O,u),L=t(L,u),A=O.length,M=L.length),S=A,b=L.slice(0,A),x=b.length;x<A;)b[x++]=0;C=O.slice(),C.unshift(0),E=O[0],O[1]>=$r/2&&++E;do u=0,o=e(O,b,A,x),o<0?(y=b[0],A!=x&&(y=y*$r+(b[1]||0)),u=y/E|0,u>1?(u>=$r&&(u=$r-1),f=t(O,u),d=f.length,x=b.length,o=e(f,b,d,x),o==1&&(u--,n(f,A<d?C:O,d))):(u==0&&(o=u=1),f=O.slice()),d=f.length,d<x&&f.unshift(0),n(b,f,x),o==-1&&(x=b.length,o=e(O,b,A,x),o<1&&(u++,n(b,A<x?C:O,x))),x=b.length):o===0&&(u++,b=[0]),v[c++]=u,o&&b[0]?b[x++]=L[S]||0:(b=[L[S]],x=1);while((S++<M||b[0]!==void 0)&&w--)}return v[0]||v.shift(),p.e=l,_n(p,a?s+yr(p)+1:s)}}();function yG(t,e){var n,r,i,s,a,o,l=0,c=0,u=t.constructor,f=u.precision;if(yr(t)>16)throw Error(HR+yr(t));if(!t.s)return new u(As);for(e==null?(Dn=!1,o=f):o=e,a=new u(.03125);t.abs().gte(.1);)t=t.times(a),c+=5;for(r=Math.log(gu(2,c))/Math.LN10*2+5|0,o+=r,n=i=s=new u(As),u.precision=o;;){if(i=_n(i.times(t),o),n=n.times(++l),a=s.plus(nl(i,n,o)),no(a.d).slice(0,o)===no(s.d).slice(0,o)){for(;c--;)s=_n(s.times(s),o);return u.precision=f,e==null?(Dn=!0,_n(s,f)):s}s=a}}function yr(t){for(var e=t.e*Nn,n=t.d[0];n>=10;n/=10)e++;return e}function FM(t,e,n){if(e>t.LN10.sd())throw Dn=!0,n&&(t.precision=n),Error(ua+"LN10 precision limit exceeded");return _n(new t(t.LN10),e)}function zl(t){for(var e="";t--;)e+="0";return e}function e0(t,e){var n,r,i,s,a,o,l,c,u,f=1,d=10,p=t,v=p.d,b=p.constructor,x=b.precision;if(p.s<1)throw Error(ua+(p.s?"NaN":"-Infinity"));if(p.eq(As))return new b(0);if(e==null?(Dn=!1,c=x):c=e,p.eq(10))return e==null&&(Dn=!0),FM(b,c);if(c+=d,b.precision=c,n=no(v),r=n.charAt(0),s=yr(p),Math.abs(s)<15e14){for(;r<7&&r!=1||r==1&&n.charAt(1)>3;)p=p.times(t),n=no(p.d),r=n.charAt(0),f++;s=yr(p),r>1?(p=new b("0."+n),s++):p=new b(r+"."+n.slice(1))}else return l=FM(b,c+2,x).times(s+""),p=e0(new b(r+"."+n.slice(1)),c-d).plus(l),b.precision=x,e==null?(Dn=!0,_n(p,x)):p;for(o=a=p=nl(p.minus(As),p.plus(As),c),u=_n(p.times(p),c),i=3;;){if(a=_n(a.times(u),c),l=o.plus(nl(a,new b(i),c)),no(l.d).slice(0,c)===no(o.d).slice(0,c))return o=o.times(2),s!==0&&(o=o.plus(FM(b,c+2,x).times(s+""))),o=nl(o,new b(f),c),b.precision=x,e==null?(Dn=!0,_n(o,x)):o;o=l,i+=2}}function w4(t,e){var n,r,i;for((n=e.indexOf("."))>-1&&(e=e.replace(".","")),(r=e.search(/e/i))>0?(n<0&&(n=r),n+=+e.slice(r+1),e=e.substring(0,r)):n<0&&(n=e.length),r=0;e.charCodeAt(r)===48;)++r;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(r,i),e){if(i-=r,n=n-r-1,t.e=sp(n/Nn),t.d=[],r=(n+1)%Nn,n<0&&(r+=Nn),r<i){for(r&&t.d.push(+e.slice(0,r)),i-=Nn;r<i;)t.d.push(+e.slice(r,r+=Nn));e=e.slice(r),r=Nn-e.length}else r-=i;for(;r--;)e+="0";if(t.d.push(+e),Dn&&(t.e>yb||t.e<-yb))throw Error(HR+n)}else t.s=0,t.e=0,t.d=[0];return t}function _n(t,e,n){var r,i,s,a,o,l,c,u,f=t.d;for(a=1,s=f[0];s>=10;s/=10)a++;if(r=e-a,r<0)r+=Nn,i=e,c=f[u=0];else{if(u=Math.ceil((r+1)/Nn),s=f.length,u>=s)return t;for(c=s=f[u],a=1;s>=10;s/=10)a++;r%=Nn,i=r-Nn+a}if(n!==void 0&&(s=gu(10,a-i-1),o=c/s%10|0,l=e<0||f[u+1]!==void 0||c%s,l=n<4?(o||l)&&(n==0||n==(t.s<0?3:2)):o>5||o==5&&(n==4||l||n==6&&(r>0?i>0?c/gu(10,a-i):0:f[u-1])%10&1||n==(t.s<0?8:7))),e<1||!f[0])return l?(s=yr(t),f.length=1,e=e-s-1,f[0]=gu(10,(Nn-e%Nn)%Nn),t.e=sp(-e/Nn)||0):(f.length=1,f[0]=t.e=t.s=0),t;if(r==0?(f.length=u,s=1,u--):(f.length=u+1,s=gu(10,Nn-r),f[u]=i>0?(c/gu(10,a-i)%gu(10,i)|0)*s:0),l)for(;;)if(u==0){(f[0]+=s)==$r&&(f[0]=1,++t.e);break}else{if(f[u]+=s,f[u]!=$r)break;f[u--]=0,s=1}for(r=f.length;f[--r]===0;)f.pop();if(Dn&&(t.e>yb||t.e<-yb))throw Error(HR+yr(t));return t}function xG(t,e){var n,r,i,s,a,o,l,c,u,f,d=t.constructor,p=d.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new d(t),Dn?_n(e,p):e;if(l=t.d,f=e.d,r=e.e,c=t.e,l=l.slice(),a=c-r,a){for(u=a<0,u?(n=l,a=-a,o=f.length):(n=f,r=c,o=l.length),i=Math.max(Math.ceil(p/Nn),o)+2,a>i&&(a=i,n.length=1),n.reverse(),i=a;i--;)n.push(0);n.reverse()}else{for(i=l.length,o=f.length,u=i<o,u&&(o=i),i=0;i<o;i++)if(l[i]!=f[i]){u=l[i]<f[i];break}a=0}for(u&&(n=l,l=f,f=n,e.s=-e.s),o=l.length,i=f.length-o;i>0;--i)l[o++]=0;for(i=f.length;i>a;){if(l[--i]<f[i]){for(s=i;s&&l[--s]===0;)l[s]=$r-1;--l[s],l[i]+=$r}l[i]-=f[i]}for(;l[--o]===0;)l.pop();for(;l[0]===0;l.shift())--r;return l[0]?(e.d=l,e.e=r,Dn?_n(e,p):e):new d(0)}function tf(t,e,n){var r,i=yr(t),s=no(t.d),a=s.length;return e?(n&&(r=n-a)>0?s=s.charAt(0)+"."+s.slice(1)+zl(r):a>1&&(s=s.charAt(0)+"."+s.slice(1)),s=s+(i<0?"e":"e+")+i):i<0?(s="0."+zl(-i-1)+s,n&&(r=n-a)>0&&(s+=zl(r))):i>=a?(s+=zl(i+1-a),n&&(r=n-i-1)>0&&(s=s+"."+zl(r))):((r=i+1)<a&&(s=s.slice(0,r)+"."+s.slice(r)),n&&(r=n-a)>0&&(i+1===a&&(s+="."),s+=zl(r))),t.s<0?"-"+s:s}function S4(t,e){if(t.length>e)return t.length=e,!0}function bG(t){var e,n,r;function i(s){var a=this;if(!(a instanceof i))return new i(s);if(a.constructor=i,s instanceof i){a.s=s.s,a.e=s.e,a.d=(s=s.d)?s.slice():s;return}if(typeof s=="number"){if(s*0!==0)throw Error(Bu+s);if(s>0)a.s=1;else if(s<0)s=-s,a.s=-1;else{a.s=0,a.e=0,a.d=[0];return}if(s===~~s&&s<1e7){a.e=0,a.d=[s];return}return w4(a,s.toString())}else if(typeof s!="string")throw Error(Bu+s);if(s.charCodeAt(0)===45?(s=s.slice(1),a.s=-1):a.s=1,ITe.test(s))w4(a,s);else throw Error(Bu+s)}if(i.prototype=ut,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=bG,i.config=i.set=jTe,t===void 0&&(t={}),t)for(r=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<r.length;)t.hasOwnProperty(n=r[e++])||(t[n]=this[n]);return i.config(t),i}function jTe(t){if(!t||typeof t!="object")throw Error(ua+"Object expected");var e,n,r,i=["precision",1,ip,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((r=t[n=i[e]])!==void 0)if(sp(r)===r&&r>=i[e+1]&&r<=i[e+2])this[n]=r;else throw Error(Bu+n+": "+r);if((r=t[n="LN10"])!==void 0)if(r==Math.LN10)this[n]=new this(r);else throw Error(Bu+n+": "+r);return this}var $R=bG(LTe);As=new $R(1);const vn=$R;function kTe(t){return BTe(t)||FTe(t)||UTe(t)||DTe()}function DTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function UTe(t,e){if(t){if(typeof t=="string")return UA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return UA(t,e)}}function FTe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function BTe(t){if(Array.isArray(t))return UA(t)}function UA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var zTe=function(e){return e},_G={"@@functional/placeholder":!0},wG=function(e){return e===_G},M4=function(e){return function n(){return arguments.length===0||arguments.length===1&&wG(arguments.length<=0?void 0:arguments[0])?n:e.apply(void 0,arguments)}},VTe=function t(e,n){return e===1?n:M4(function(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];var a=i.filter(function(o){return o!==_G}).length;return a>=e?n.apply(void 0,i):t(e-a,M4(function(){for(var o=arguments.length,l=new Array(o),c=0;c<o;c++)l[c]=arguments[c];var u=i.map(function(f){return wG(f)?l.shift():f});return n.apply(void 0,kTe(u).concat(l))}))})},Cw=function(e){return VTe(e.length,e)},FA=function(e,n){for(var r=[],i=e;i<n;++i)r[i-e]=i;return r},HTe=Cw(function(t,e){return Array.isArray(e)?e.map(t):Object.keys(e).map(function(n){return e[n]}).map(t)}),$Te=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];if(!n.length)return zTe;var i=n.reverse(),s=i[0],a=i.slice(1);return function(){return a.reduce(function(o,l){return l(o)},s.apply(void 0,arguments))}},BA=function(e){return Array.isArray(e)?e.reverse():e.split("").reverse.join("")},SG=function(e){var n=null,r=null;return function(){for(var i=arguments.length,s=new Array(i),a=0;a<i;a++)s[a]=arguments[a];return n&&s.every(function(o,l){return o===n[l]})||(n=s,r=e.apply(void 0,s)),r}};function WTe(t){var e;return t===0?e=1:e=Math.floor(new vn(t).abs().log(10).toNumber())+1,e}function GTe(t,e,n){for(var r=new vn(t),i=0,s=[];r.lt(e)&&i<1e5;)s.push(r.toNumber()),r=r.add(n),i++;return s}var XTe=Cw(function(t,e,n){var r=+t,i=+e;return r+n*(i-r)}),qTe=Cw(function(t,e,n){var r=e-+t;return r=r||1/0,(n-t)/r}),YTe=Cw(function(t,e,n){var r=e-+t;return r=r||1/0,Math.max(0,Math.min(1,(n-t)/r))});const Nw={rangeStep:GTe,getDigitCount:WTe,interpolateNumber:XTe,uninterpolateNumber:qTe,uninterpolateTruncation:YTe};function zA(t){return JTe(t)||ZTe(t)||MG(t)||KTe()}function KTe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZTe(t){if(typeof Symbol<"u"&&Symbol.iterator in Object(t))return Array.from(t)}function JTe(t){if(Array.isArray(t))return VA(t)}function t0(t,e){return tAe(t)||eAe(t,e)||MG(t,e)||QTe()}function QTe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MG(t,e){if(t){if(typeof t=="string")return VA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return VA(t,e)}}function VA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eAe(t,e){if(!(typeof Symbol>"u"||!(Symbol.iterator in Object(t)))){var n=[],r=!0,i=!1,s=void 0;try{for(var a=t[Symbol.iterator](),o;!(r=(o=a.next()).done)&&(n.push(o.value),!(e&&n.length===e));r=!0);}catch(l){i=!0,s=l}finally{try{!r&&a.return!=null&&a.return()}finally{if(i)throw s}}return n}}function tAe(t){if(Array.isArray(t))return t}function EG(t){var e=t0(t,2),n=e[0],r=e[1],i=n,s=r;return n>r&&(i=r,s=n),[i,s]}function TG(t,e,n){if(t.lte(0))return new vn(0);var r=Nw.getDigitCount(t.toNumber()),i=new vn(10).pow(r),s=t.div(i),a=r!==1?.05:.1,o=new vn(Math.ceil(s.div(a).toNumber())).add(n).mul(a),l=o.mul(i);return e?l:new vn(Math.ceil(l))}function nAe(t,e,n){var r=1,i=new vn(t);if(!i.isint()&&n){var s=Math.abs(t);s<1?(r=new vn(10).pow(Nw.getDigitCount(t)-1),i=new vn(Math.floor(i.div(r).toNumber())).mul(r)):s>1&&(i=new vn(Math.floor(t)))}else t===0?i=new vn(Math.floor((e-1)/2)):n||(i=new vn(Math.floor(t)));var a=Math.floor((e-1)/2),o=$Te(HTe(function(l){return i.add(new vn(l-a).mul(r)).toNumber()}),FA);return o(0,e)}function AG(t,e,n,r){var i=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((e-t)/(n-1)))return{step:new vn(0),tickMin:new vn(0),tickMax:new vn(0)};var s=TG(new vn(e).sub(t).div(n-1),r,i),a;t<=0&&e>=0?a=new vn(0):(a=new vn(t).add(e).div(2),a=a.sub(new vn(a).mod(s)));var o=Math.ceil(a.sub(t).div(s).toNumber()),l=Math.ceil(new vn(e).sub(a).div(s).toNumber()),c=o+l+1;return c>n?AG(t,e,n,r,i+1):(c<n&&(l=e>0?l+(n-c):l,o=e>0?o:o+(n-c)),{step:s,tickMin:a.sub(new vn(o).mul(s)),tickMax:a.add(new vn(l).mul(s))})}function rAe(t){var e=t0(t,2),n=e[0],r=e[1],i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=Math.max(i,2),o=EG([n,r]),l=t0(o,2),c=l[0],u=l[1];if(c===-1/0||u===1/0){var f=u===1/0?[c].concat(zA(FA(0,i-1).map(function(){return 1/0}))):[].concat(zA(FA(0,i-1).map(function(){return-1/0})),[u]);return n>r?BA(f):f}if(c===u)return nAe(c,i,s);var d=AG(c,u,a,s),p=d.step,v=d.tickMin,b=d.tickMax,x=Nw.rangeStep(v,b.add(new vn(.1).mul(p)),p);return n>r?BA(x):x}function iAe(t,e){var n=t0(t,2),r=n[0],i=n[1],s=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,a=EG([r,i]),o=t0(a,2),l=o[0],c=o[1];if(l===-1/0||c===1/0)return[r,i];if(l===c)return[l];var u=Math.max(e,2),f=TG(new vn(c).sub(l).div(u-1),s,0),d=[].concat(zA(Nw.rangeStep(new vn(l),new vn(c).sub(new vn(.99).mul(f)),f)),[c]);return r>i?BA(d):d}var sAe=SG(rAe),aAe=SG(iAe),oAe=!0,BM="Invariant failed";function nf(t,e){if(!t){if(oAe)throw new Error(BM);var n=typeof e=="function"?e():e,r=n?"".concat(BM,": ").concat(n):BM;throw new Error(r)}}var lAe=["offset","layout","width","dataKey","data","dataPointFormatter","xAxis","yAxis"];function Sh(t){"@babel/helpers - typeof";return Sh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Sh(t)}function xb(){return xb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},xb.apply(this,arguments)}function cAe(t,e){return hAe(t)||dAe(t,e)||fAe(t,e)||uAe()}function uAe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function fAe(t,e){if(t){if(typeof t=="string")return E4(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return E4(t,e)}}function E4(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function dAe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function hAe(t){if(Array.isArray(t))return t}function pAe(t,e){if(t==null)return{};var n=mAe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mAe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function gAe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function T4(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,NG(r.key),r)}}function vAe(t,e,n){return e&&T4(t.prototype,e),n&&T4(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function yAe(t,e,n){return e=bb(e),xAe(t,PG()?Reflect.construct(e,n||[],bb(t).constructor):e.apply(t,n))}function xAe(t,e){if(e&&(Sh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return bAe(t)}function bAe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function PG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(PG=function(){return!!t})()}function bb(t){return bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},bb(t)}function _Ae(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&HA(t,e)}function HA(t,e){return HA=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},HA(t,e)}function CG(t,e,n){return e=NG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NG(t){var e=wAe(t,"string");return Sh(e)=="symbol"?e:e+""}function wAe(t,e){if(Sh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Sh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ev=function(t){function e(){return gAe(this,e),yAe(this,e,arguments)}return _Ae(e,t),vAe(e,[{key:"render",value:function(){var r=this.props,i=r.offset,s=r.layout,a=r.width,o=r.dataKey,l=r.data,c=r.dataPointFormatter,u=r.xAxis,f=r.yAxis,d=pAe(r,lAe),p=Kt(d,!1);this.props.direction==="x"&&u.type!=="number"&&nf(!1);var v=l.map(function(b){var x=c(b,o),y=x.x,w=x.y,_=x.value,S=x.errorVal;if(!S)return null;var M=[],E,A;if(Array.isArray(S)){var C=cAe(S,2);E=C[0],A=C[1]}else E=A=S;if(s==="vertical"){var P=u.scale,R=w+i,L=R+a,O=R-a,D=P(_-E),I=P(_+A);M.push({x1:I,y1:L,x2:I,y2:O}),M.push({x1:D,y1:R,x2:I,y2:R}),M.push({x1:D,y1:L,x2:D,y2:O})}else if(s==="horizontal"){var z=f.scale,$=y+i,q=$-a,V=$+a,U=z(_-E),W=z(_+A);M.push({x1:q,y1:W,x2:V,y2:W}),M.push({x1:$,y1:U,x2:$,y2:W}),M.push({x1:q,y1:U,x2:V,y2:U})}return ce.createElement(lr,xb({className:"recharts-errorBar",key:"bar-".concat(M.map(function(k){return"".concat(k.x1,"-").concat(k.x2,"-").concat(k.y1,"-").concat(k.y2)}))},p),M.map(function(k){return ce.createElement("line",xb({},k,{key:"line-".concat(k.x1,"-").concat(k.x2,"-").concat(k.y1,"-").concat(k.y2)}))}))});return ce.createElement(lr,{className:"recharts-errorBars"},v)}}])}(ce.Component);CG(ev,"defaultProps",{stroke:"black",strokeWidth:1.5,width:5,offset:0,layout:"horizontal"});CG(ev,"displayName","ErrorBar");function n0(t){"@babel/helpers - typeof";return n0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},n0(t)}function A4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ou(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?A4(Object(n),!0).forEach(function(r){SAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):A4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function SAe(t,e,n){return e=MAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function MAe(t){var e=EAe(t,"string");return n0(e)=="symbol"?e:e+""}function EAe(t,e){if(n0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(n0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var RG=function(e){var n=e.children,r=e.formattedGraphicalItems,i=e.legendWidth,s=e.legendContent,a=Es(n,Kd);if(!a)return null;var o=Kd.defaultProps,l=o!==void 0?ou(ou({},o),a.props):{},c;return a.props&&a.props.payload?c=a.props&&a.props.payload:s==="children"?c=(r||[]).reduce(function(u,f){var d=f.item,p=f.props,v=p.sectors||p.data||[];return u.concat(v.map(function(b){return{type:a.props.iconType||d.props.legendType,value:b.name,color:b.fill,payload:b}}))},[]):c=(r||[]).map(function(u){var f=u.item,d=f.type.defaultProps,p=d!==void 0?ou(ou({},d),f.props):{},v=p.dataKey,b=p.name,x=p.legendType,y=p.hide;return{inactive:y,dataKey:v,type:l.iconType||x||"square",color:WR(f),value:b||v,payload:p}}),ou(ou(ou({},l),Kd.getWithHeight(a,i)),{},{payload:c,item:a})};function r0(t){"@babel/helpers - typeof";return r0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},r0(t)}function P4(t){return CAe(t)||PAe(t)||AAe(t)||TAe()}function TAe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function AAe(t,e){if(t){if(typeof t=="string")return $A(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return $A(t,e)}}function PAe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function CAe(t){if(Array.isArray(t))return $A(t)}function $A(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function C4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Kn(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?C4(Object(n),!0).forEach(function(r){Jd(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):C4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Jd(t,e,n){return e=NAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function NAe(t){var e=RAe(t,"string");return r0(e)=="symbol"?e:e+""}function RAe(t,e){if(r0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(r0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ls(t,e,n){return Wt(t)||Wt(e)?n:Or(e)?ia(t,e,n):Vt(e)?e(t):n}function Wm(t,e,n,r){var i=CTe(t,function(o){return Ls(o,e)});if(n==="number"){var s=i.filter(function(o){return Qe(o)||parseFloat(o)});return s.length?[Aw(s),Tw(s)]:[1/0,-1/0]}var a=r?i.filter(function(o){return!Wt(o)}):i;return a.map(function(o){return Or(o)||o instanceof Date?o:""})}var OAe=function(e){var n,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],i=arguments.length>2?arguments[2]:void 0,s=arguments.length>3?arguments[3]:void 0,a=-1,o=(n=r==null?void 0:r.length)!==null&&n!==void 0?n:0;if(o<=1)return 0;if(s&&s.axisType==="angleAxis"&&Math.abs(Math.abs(s.range[1]-s.range[0])-360)<=1e-6)for(var l=s.range,c=0;c<o;c++){var u=c>0?i[c-1].coordinate:i[o-1].coordinate,f=i[c].coordinate,d=c>=o-1?i[0].coordinate:i[c+1].coordinate,p=void 0;if(Oa(f-u)!==Oa(d-f)){var v=[];if(Oa(d-f)===Oa(l[1]-l[0])){p=d;var b=f+l[1]-l[0];v[0]=Math.min(b,(b+u)/2),v[1]=Math.max(b,(b+u)/2)}else{p=u;var x=d+l[1]-l[0];v[0]=Math.min(f,(x+f)/2),v[1]=Math.max(f,(x+f)/2)}var y=[Math.min(f,(p+f)/2),Math.max(f,(p+f)/2)];if(e>y[0]&&e<=y[1]||e>=v[0]&&e<=v[1]){a=i[c].index;break}}else{var w=Math.min(u,d),_=Math.max(u,d);if(e>(w+f)/2&&e<=(_+f)/2){a=i[c].index;break}}}else for(var S=0;S<o;S++)if(S===0&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S>0&&S<o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2&&e<=(r[S].coordinate+r[S+1].coordinate)/2||S===o-1&&e>(r[S].coordinate+r[S-1].coordinate)/2){a=r[S].index;break}return a},WR=function(e){var n,r=e,i=r.type.displayName,s=(n=e.type)!==null&&n!==void 0&&n.defaultProps?Kn(Kn({},e.type.defaultProps),e.props):e.props,a=s.stroke,o=s.fill,l;switch(i){case"Line":l=a;break;case"Area":case"Radar":l=a&&a!=="none"?a:o;break;default:l=o;break}return l},LAe=function(e){var n=e.barSize,r=e.totalSize,i=e.stackGroups,s=i===void 0?{}:i;if(!s)return{};for(var a={},o=Object.keys(s),l=0,c=o.length;l<c;l++)for(var u=s[o[l]].stackGroups,f=Object.keys(u),d=0,p=f.length;d<p;d++){var v=u[f[d]],b=v.items,x=v.cateAxisId,y=b.filter(function(A){return Qo(A.type).indexOf("Bar")>=0});if(y&&y.length){var w=y[0].type.defaultProps,_=w!==void 0?Kn(Kn({},w),y[0].props):y[0].props,S=_.barSize,M=_[x];a[M]||(a[M]=[]);var E=Wt(S)?n:S;a[M].push({item:y[0],stackList:y.slice(1),barSize:Wt(E)?void 0:ef(E,r,0)})}}return a},IAe=function(e){var n=e.barGap,r=e.barCategoryGap,i=e.bandSize,s=e.sizeList,a=s===void 0?[]:s,o=e.maxBarSize,l=a.length;if(l<1)return null;var c=ef(n,i,0,!0),u,f=[];if(a[0].barSize===+a[0].barSize){var d=!1,p=i/l,v=a.reduce(function(S,M){return S+M.barSize||0},0);v+=(l-1)*c,v>=i&&(v-=(l-1)*c,c=0),v>=i&&p>0&&(d=!0,p*=.9,v=l*p);var b=(i-v)/2>>0,x={offset:b-c,size:0};u=a.reduce(function(S,M){var E={item:M.item,position:{offset:x.offset+x.size+c,size:d?p:M.barSize}},A=[].concat(P4(S),[E]);return x=A[A.length-1].position,M.stackList&&M.stackList.length&&M.stackList.forEach(function(C){A.push({item:C,position:x})}),A},f)}else{var y=ef(r,i,0,!0);i-2*y-(l-1)*c<=0&&(c=0);var w=(i-2*y-(l-1)*c)/l;w>1&&(w>>=0);var _=o===+o?Math.min(w,o):w;u=a.reduce(function(S,M,E){var A=[].concat(P4(S),[{item:M.item,position:{offset:y+(w+c)*E+(w-_)/2,size:_}}]);return M.stackList&&M.stackList.length&&M.stackList.forEach(function(C){A.push({item:C,position:A[A.length-1].position})}),A},f)}return u},jAe=function(e,n,r,i){var s=r.children,a=r.width,o=r.margin,l=a-(o.left||0)-(o.right||0),c=RG({children:s,legendWidth:l});if(c){var u=i||{},f=u.width,d=u.height,p=c.align,v=c.verticalAlign,b=c.layout;if((b==="vertical"||b==="horizontal"&&v==="middle")&&p!=="center"&&Qe(e[p]))return Kn(Kn({},e),{},Jd({},p,e[p]+(f||0)));if((b==="horizontal"||b==="vertical"&&p==="center")&&v!=="middle"&&Qe(e[v]))return Kn(Kn({},e),{},Jd({},v,e[v]+(d||0)))}return e},kAe=function(e,n,r){return Wt(n)?!0:e==="horizontal"?n==="yAxis":e==="vertical"||r==="x"?n==="xAxis":r==="y"?n==="yAxis":!0},OG=function(e,n,r,i,s){var a=n.props.children,o=sa(a,ev).filter(function(c){return kAe(i,s,c.props.direction)});if(o&&o.length){var l=o.map(function(c){return c.props.dataKey});return e.reduce(function(c,u){var f=Ls(u,r);if(Wt(f))return c;var d=Array.isArray(f)?[Aw(f),Tw(f)]:[f,f],p=l.reduce(function(v,b){var x=Ls(u,b,0),y=d[0]-Math.abs(Array.isArray(x)?x[0]:x),w=d[1]+Math.abs(Array.isArray(x)?x[1]:x);return[Math.min(y,v[0]),Math.max(w,v[1])]},[1/0,-1/0]);return[Math.min(p[0],c[0]),Math.max(p[1],c[1])]},[1/0,-1/0])}return null},DAe=function(e,n,r,i,s){var a=n.map(function(o){return OG(e,o,r,s,i)}).filter(function(o){return!Wt(o)});return a&&a.length?a.reduce(function(o,l){return[Math.min(o[0],l[0]),Math.max(o[1],l[1])]},[1/0,-1/0]):null},LG=function(e,n,r,i,s){var a=n.map(function(l){var c=l.props.dataKey;return r==="number"&&c&&OG(e,l,c,i)||Wm(e,c,r,s)});if(r==="number")return a.reduce(function(l,c){return[Math.min(l[0],c[0]),Math.max(l[1],c[1])]},[1/0,-1/0]);var o={};return a.reduce(function(l,c){for(var u=0,f=c.length;u<f;u++)o[c[u]]||(o[c[u]]=!0,l.push(c[u]));return l},[])},IG=function(e,n){return e==="horizontal"&&n==="xAxis"||e==="vertical"&&n==="yAxis"||e==="centric"&&n==="angleAxis"||e==="radial"&&n==="radiusAxis"},jG=function(e,n,r,i){if(i)return e.map(function(l){return l.coordinate});var s,a,o=e.map(function(l){return l.coordinate===n&&(s=!0),l.coordinate===r&&(a=!0),l.coordinate});return s||o.push(n),a||o.push(r),o},qo=function(e,n,r){if(!e)return null;var i=e.scale,s=e.duplicateDomain,a=e.type,o=e.range,l=e.realScaleType==="scaleBand"?i.bandwidth()/2:2,c=(n||r)&&a==="category"&&i.bandwidth?i.bandwidth()/l:0;if(c=e.axisType==="angleAxis"&&(o==null?void 0:o.length)>=2?Oa(o[0]-o[1])*2*c:c,n&&(e.ticks||e.niceTicks)){var u=(e.ticks||e.niceTicks).map(function(f){var d=s?s.indexOf(f):f;return{coordinate:i(d)+c,value:f,offset:c}});return u.filter(function(f){return!X0(f.coordinate)})}return e.isCategorical&&e.categoricalDomain?e.categoricalDomain.map(function(f,d){return{coordinate:i(f)+c,value:f,index:d,offset:c}}):i.ticks&&!r?i.ticks(e.tickCount).map(function(f){return{coordinate:i(f)+c,value:f,offset:c}}):i.domain().map(function(f,d){return{coordinate:i(f)+c,value:s?s[f]:f,index:d,offset:c}})},zM=new WeakMap,vx=function(e,n){if(typeof n!="function")return e;zM.has(e)||zM.set(e,new WeakMap);var r=zM.get(e);if(r.has(n))return r.get(n);var i=function(){e.apply(void 0,arguments),n.apply(void 0,arguments)};return r.set(n,i),i},UAe=function(e,n,r){var i=e.scale,s=e.type,a=e.layout,o=e.axisType;if(i==="auto")return a==="radial"&&o==="radiusAxis"?{scale:Yg(),realScaleType:"band"}:a==="radial"&&o==="angleAxis"?{scale:pb(),realScaleType:"linear"}:s==="category"&&n&&(n.indexOf("LineChart")>=0||n.indexOf("AreaChart")>=0||n.indexOf("ComposedChart")>=0&&!r)?{scale:$m(),realScaleType:"point"}:s==="category"?{scale:Yg(),realScaleType:"band"}:{scale:pb(),realScaleType:"linear"};if(Qu(i)){var l="scale".concat(hw(i));return{scale:(_4[l]||$m)(),realScaleType:_4[l]?l:"point"}}return Vt(i)?{scale:i}:{scale:$m(),realScaleType:"point"}},N4=1e-4,FAe=function(e){var n=e.domain();if(!(!n||n.length<=2)){var r=n.length,i=e.range(),s=Math.min(i[0],i[1])-N4,a=Math.max(i[0],i[1])+N4,o=e(n[0]),l=e(n[r-1]);(o<s||o>a||l<s||l>a)&&e.domain([n[0],n[r-1]])}},BAe=function(e,n){if(!e)return null;for(var r=0,i=e.length;r<i;r++)if(e[r].item===n)return e[r].position;return null},zAe=function(e,n){if(!n||n.length!==2||!Qe(n[0])||!Qe(n[1]))return e;var r=Math.min(n[0],n[1]),i=Math.max(n[0],n[1]),s=[e[0],e[1]];return(!Qe(e[0])||e[0]<r)&&(s[0]=r),(!Qe(e[1])||e[1]>i)&&(s[1]=i),s[0]>i&&(s[0]=i),s[1]<r&&(s[1]=r),s},VAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0,o=0;o<n;++o){var l=X0(e[o][r][1])?e[o][r][0]:e[o][r][1];l>=0?(e[o][r][0]=s,e[o][r][1]=s+l,s=e[o][r][1]):(e[o][r][0]=a,e[o][r][1]=a+l,a=e[o][r][1])}},HAe=function(e){var n=e.length;if(!(n<=0))for(var r=0,i=e[0].length;r<i;++r)for(var s=0,a=0;a<n;++a){var o=X0(e[a][r][1])?e[a][r][0]:e[a][r][1];o>=0?(e[a][r][0]=s,e[a][r][1]=s+o,s=e[a][r][1]):(e[a][r][0]=0,e[a][r][1]=0)}},$Ae={sign:VAe,expand:l0e,none:mh,silhouette:c0e,wiggle:u0e,positive:HAe},WAe=function(e,n,r){var i=n.map(function(o){return o.props.dataKey}),s=$Ae[r],a=o0e().keys(i).value(function(o,l){return+Ls(o,l,0)}).order(mA).offset(s);return a(e)},GAe=function(e,n,r,i,s,a){if(!e)return null;var o=a?n.reverse():n,l={},c=o.reduce(function(f,d){var p,v=(p=d.type)!==null&&p!==void 0&&p.defaultProps?Kn(Kn({},d.type.defaultProps),d.props):d.props,b=v.stackId,x=v.hide;if(x)return f;var y=v[r],w=f[y]||{hasStack:!1,stackGroups:{}};if(Or(b)){var _=w.stackGroups[b]||{numericAxisId:r,cateAxisId:i,items:[]};_.items.push(d),w.hasStack=!0,w.stackGroups[b]=_}else w.stackGroups[q0("_stackId_")]={numericAxisId:r,cateAxisId:i,items:[d]};return Kn(Kn({},f),{},Jd({},y,w))},l),u={};return Object.keys(c).reduce(function(f,d){var p=c[d];if(p.hasStack){var v={};p.stackGroups=Object.keys(p.stackGroups).reduce(function(b,x){var y=p.stackGroups[x];return Kn(Kn({},b),{},Jd({},x,{numericAxisId:r,cateAxisId:i,items:y.items,stackedData:WAe(e,y.items,s)}))},v)}return Kn(Kn({},f),{},Jd({},d,p))},u)},XAe=function(e,n){var r=n.realScaleType,i=n.type,s=n.tickCount,a=n.originalDomain,o=n.allowDecimals,l=r||n.scale;if(l!=="auto"&&l!=="linear")return null;if(s&&i==="number"&&a&&(a[0]==="auto"||a[1]==="auto")){var c=e.domain();if(!c.length)return null;var u=sAe(c,s,o);return e.domain([Aw(u),Tw(u)]),{niceTicks:u}}if(s&&i==="number"){var f=e.domain(),d=aAe(f,s,o);return{niceTicks:d}}return null};function R4(t){var e=t.axis,n=t.ticks,r=t.bandSize,i=t.entry,s=t.index,a=t.dataKey;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!Wt(i[e.dataKey])){var o=W1(n,"value",i[e.dataKey]);if(o)return o.coordinate+r/2}return n[s]?n[s].coordinate+r/2:null}var l=Ls(i,Wt(a)?e.dataKey:a);return Wt(l)?null:e.scale(l)}var O4=function(e){var n=e.axis,r=e.ticks,i=e.offset,s=e.bandSize,a=e.entry,o=e.index;if(n.type==="category")return r[o]?r[o].coordinate+i:null;var l=Ls(a,n.dataKey,n.domain[o]);return Wt(l)?null:n.scale(l)-s/2+i},qAe=function(e){var n=e.numericAxis,r=n.scale.domain();if(n.type==="number"){var i=Math.min(r[0],r[1]),s=Math.max(r[0],r[1]);return i<=0&&s>=0?0:s<0?s:i}return r[0]},YAe=function(e,n){var r,i=(r=e.type)!==null&&r!==void 0&&r.defaultProps?Kn(Kn({},e.type.defaultProps),e.props):e.props,s=i.stackId;if(Or(s)){var a=n[s];if(a){var o=a.items.indexOf(e);return o>=0?a.stackedData[o]:null}}return null},KAe=function(e){return e.reduce(function(n,r){return[Aw(r.concat([n[0]]).filter(Qe)),Tw(r.concat([n[1]]).filter(Qe))]},[1/0,-1/0])},kG=function(e,n,r){return Object.keys(e).reduce(function(i,s){var a=e[s],o=a.stackedData,l=o.reduce(function(c,u){var f=KAe(u.slice(n,r+1));return[Math.min(c[0],f[0]),Math.max(c[1],f[1])]},[1/0,-1/0]);return[Math.min(l[0],i[0]),Math.max(l[1],i[1])]},[1/0,-1/0]).map(function(i){return i===1/0||i===-1/0?0:i})},L4=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,I4=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,WA=function(e,n,r){if(Vt(e))return e(n,r);if(!Array.isArray(e))return n;var i=[];if(Qe(e[0]))i[0]=r?e[0]:Math.min(e[0],n[0]);else if(L4.test(e[0])){var s=+L4.exec(e[0])[1];i[0]=n[0]-s}else Vt(e[0])?i[0]=e[0](n[0]):i[0]=n[0];if(Qe(e[1]))i[1]=r?e[1]:Math.max(e[1],n[1]);else if(I4.test(e[1])){var a=+I4.exec(e[1])[1];i[1]=n[1]+a}else Vt(e[1])?i[1]=e[1](n[1]):i[1]=n[1];return i},_b=function(e,n,r){if(e&&e.scale&&e.scale.bandwidth){var i=e.scale.bandwidth();if(!r||i>0)return i}if(e&&n&&n.length>=2){for(var s=xR(n,function(f){return f.coordinate}),a=1/0,o=1,l=s.length;o<l;o++){var c=s[o],u=s[o-1];a=Math.min((c.coordinate||0)-(u.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0},j4=function(e,n,r){return!e||!e.length||Pw(e,ia(r,"type.defaultProps.domain"))?n:e},DG=function(e,n){var r=e.type.defaultProps?Kn(Kn({},e.type.defaultProps),e.props):e.props,i=r.dataKey,s=r.name,a=r.unit,o=r.formatter,l=r.tooltipType,c=r.chartType,u=r.hide;return Kn(Kn({},Kt(e,!1)),{},{dataKey:i,unit:a,formatter:o,name:s||i,color:WR(e),value:Ls(n,i),type:l,payload:n,chartType:c,hide:u})};function i0(t){"@babel/helpers - typeof";return i0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},i0(t)}function k4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function D4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?k4(Object(n),!0).forEach(function(r){ZAe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):k4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function ZAe(t,e,n){return e=JAe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JAe(t){var e=QAe(t,"string");return i0(e)=="symbol"?e:e+""}function QAe(t,e){if(i0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(i0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wb=Math.PI/180,ePe=function(e){return e*180/Math.PI},Qr=function(e,n,r,i){return{x:e+Math.cos(-wb*i)*r,y:n+Math.sin(-wb*i)*r}},tPe=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return Math.sqrt(Math.pow(r-s,2)+Math.pow(i-a,2))},nPe=function(e,n){var r=e.x,i=e.y,s=n.cx,a=n.cy,o=tPe({x:r,y:i},{x:s,y:a});if(o<=0)return{radius:o};var l=(r-s)/o,c=Math.acos(l);return i>a&&(c=2*Math.PI-c),{radius:o,angle:ePe(c),angleInRadian:c}},rPe=function(e){var n=e.startAngle,r=e.endAngle,i=Math.floor(n/360),s=Math.floor(r/360),a=Math.min(i,s);return{startAngle:n-a*360,endAngle:r-a*360}},iPe=function(e,n){var r=n.startAngle,i=n.endAngle,s=Math.floor(r/360),a=Math.floor(i/360),o=Math.min(s,a);return e+o*360},U4=function(e,n){var r=e.x,i=e.y,s=nPe({x:r,y:i},n),a=s.radius,o=s.angle,l=n.innerRadius,c=n.outerRadius;if(a<l||a>c)return!1;if(a===0)return!0;var u=rPe(n),f=u.startAngle,d=u.endAngle,p=o,v;if(f<=d){for(;p>d;)p-=360;for(;p<f;)p+=360;v=p>=f&&p<=d}else{for(;p>f;)p-=360;for(;p<d;)p+=360;v=p>=d&&p<=f}return v?D4(D4({},n),{},{radius:a,angle:iPe(p,n)}):null};function s0(t){"@babel/helpers - typeof";return s0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},s0(t)}var sPe=["offset"];function aPe(t){return uPe(t)||cPe(t)||lPe(t)||oPe()}function oPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function lPe(t,e){if(t){if(typeof t=="string")return GA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return GA(t,e)}}function cPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function uPe(t){if(Array.isArray(t))return GA(t)}function GA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fPe(t,e){if(t==null)return{};var n=dPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function dPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function F4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?F4(Object(n),!0).forEach(function(r){hPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):F4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function hPe(t,e,n){return e=pPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function pPe(t){var e=mPe(t,"string");return s0(e)=="symbol"?e:e+""}function mPe(t,e){if(s0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(s0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function a0(){return a0=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},a0.apply(this,arguments)}var gPe=function(e){var n=e.value,r=e.formatter,i=Wt(e.children)?n:e.children;return Vt(r)?r(i):i},vPe=function(e,n){var r=Oa(n-e),i=Math.min(Math.abs(n-e),360);return r*i},yPe=function(e,n,r){var i=e.position,s=e.viewBox,a=e.offset,o=e.className,l=s,c=l.cx,u=l.cy,f=l.innerRadius,d=l.outerRadius,p=l.startAngle,v=l.endAngle,b=l.clockWise,x=(f+d)/2,y=vPe(p,v),w=y>=0?1:-1,_,S;i==="insideStart"?(_=p+w*a,S=b):i==="insideEnd"?(_=v-w*a,S=!b):i==="end"&&(_=v+w*a,S=b),S=y<=0?S:!S;var M=Qr(c,u,x,_),E=Qr(c,u,x,_+(S?1:-1)*359),A="M".concat(M.x,",").concat(M.y,`
    A`).concat(x,",").concat(x,",0,1,").concat(S?0:1,`,
    `).concat(E.x,",").concat(E.y),C=Wt(e.id)?q0("recharts-radial-line-"):e.id;return ce.createElement("text",a0({},r,{dominantBaseline:"central",className:en("recharts-radial-bar-label",o)}),ce.createElement("defs",null,ce.createElement("path",{id:C,d:A})),ce.createElement("textPath",{xlinkHref:"#".concat(C)},n))},xPe=function(e){var n=e.viewBox,r=e.offset,i=e.position,s=n,a=s.cx,o=s.cy,l=s.innerRadius,c=s.outerRadius,u=s.startAngle,f=s.endAngle,d=(u+f)/2;if(i==="outside"){var p=Qr(a,o,c+r,d),v=p.x,b=p.y;return{x:v,y:b,textAnchor:v>=a?"start":"end",verticalAnchor:"middle"}}if(i==="center")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"middle"};if(i==="centerTop")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"start"};if(i==="centerBottom")return{x:a,y:o,textAnchor:"middle",verticalAnchor:"end"};var x=(l+c)/2,y=Qr(a,o,x,d),w=y.x,_=y.y;return{x:w,y:_,textAnchor:"middle",verticalAnchor:"middle"}},bPe=function(e){var n=e.viewBox,r=e.parentViewBox,i=e.offset,s=e.position,a=n,o=a.x,l=a.y,c=a.width,u=a.height,f=u>=0?1:-1,d=f*i,p=f>0?"end":"start",v=f>0?"start":"end",b=c>=0?1:-1,x=b*i,y=b>0?"end":"start",w=b>0?"start":"end";if(s==="top"){var _={x:o+c/2,y:l-f*i,textAnchor:"middle",verticalAnchor:p};return Mr(Mr({},_),r?{height:Math.max(l-r.y,0),width:c}:{})}if(s==="bottom"){var S={x:o+c/2,y:l+u+d,textAnchor:"middle",verticalAnchor:v};return Mr(Mr({},S),r?{height:Math.max(r.y+r.height-(l+u),0),width:c}:{})}if(s==="left"){var M={x:o-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"};return Mr(Mr({},M),r?{width:Math.max(M.x-r.x,0),height:u}:{})}if(s==="right"){var E={x:o+c+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"};return Mr(Mr({},E),r?{width:Math.max(r.x+r.width-E.x,0),height:u}:{})}var A=r?{width:c,height:u}:{};return s==="insideLeft"?Mr({x:o+x,y:l+u/2,textAnchor:w,verticalAnchor:"middle"},A):s==="insideRight"?Mr({x:o+c-x,y:l+u/2,textAnchor:y,verticalAnchor:"middle"},A):s==="insideTop"?Mr({x:o+c/2,y:l+d,textAnchor:"middle",verticalAnchor:v},A):s==="insideBottom"?Mr({x:o+c/2,y:l+u-d,textAnchor:"middle",verticalAnchor:p},A):s==="insideTopLeft"?Mr({x:o+x,y:l+d,textAnchor:w,verticalAnchor:v},A):s==="insideTopRight"?Mr({x:o+c-x,y:l+d,textAnchor:y,verticalAnchor:v},A):s==="insideBottomLeft"?Mr({x:o+x,y:l+u-d,textAnchor:w,verticalAnchor:p},A):s==="insideBottomRight"?Mr({x:o+c-x,y:l+u-d,textAnchor:y,verticalAnchor:p},A):Kh(s)&&(Qe(s.x)||Au(s.x))&&(Qe(s.y)||Au(s.y))?Mr({x:o+ef(s.x,c),y:l+ef(s.y,u),textAnchor:"end",verticalAnchor:"end"},A):Mr({x:o+c/2,y:l+u/2,textAnchor:"middle",verticalAnchor:"middle"},A)},_Pe=function(e){return"cx"in e&&Qe(e.cx)};function gi(t){var e=t.offset,n=e===void 0?5:e,r=fPe(t,sPe),i=Mr({offset:n},r),s=i.viewBox,a=i.position,o=i.value,l=i.children,c=i.content,u=i.className,f=u===void 0?"":u,d=i.textBreakAll;if(!s||Wt(o)&&Wt(l)&&!F.isValidElement(c)&&!Vt(c))return null;if(F.isValidElement(c))return F.cloneElement(c,i);var p;if(Vt(c)){if(p=F.createElement(c,i),F.isValidElement(p))return p}else p=gPe(i);var v=_Pe(s),b=Kt(i,!0);if(v&&(a==="insideStart"||a==="insideEnd"||a==="end"))return yPe(i,p,b);var x=v?xPe(i):bPe(i);return ce.createElement(ob,a0({className:en("recharts-label",f)},b,x,{breakAll:d}),p)}gi.displayName="Label";var UG=function(e){var n=e.cx,r=e.cy,i=e.angle,s=e.startAngle,a=e.endAngle,o=e.r,l=e.radius,c=e.innerRadius,u=e.outerRadius,f=e.x,d=e.y,p=e.top,v=e.left,b=e.width,x=e.height,y=e.clockWise,w=e.labelViewBox;if(w)return w;if(Qe(b)&&Qe(x)){if(Qe(f)&&Qe(d))return{x:f,y:d,width:b,height:x};if(Qe(p)&&Qe(v))return{x:p,y:v,width:b,height:x}}return Qe(f)&&Qe(d)?{x:f,y:d,width:0,height:0}:Qe(n)&&Qe(r)?{cx:n,cy:r,startAngle:s||i||0,endAngle:a||i||0,innerRadius:c||0,outerRadius:u||l||o||0,clockWise:y}:e.viewBox?e.viewBox:{}},wPe=function(e,n){return e?e===!0?ce.createElement(gi,{key:"label-implicit",viewBox:n}):Or(e)?ce.createElement(gi,{key:"label-implicit",viewBox:n,value:e}):F.isValidElement(e)?e.type===gi?F.cloneElement(e,{key:"label-implicit",viewBox:n}):ce.createElement(gi,{key:"label-implicit",content:e,viewBox:n}):Vt(e)?ce.createElement(gi,{key:"label-implicit",content:e,viewBox:n}):Kh(e)?ce.createElement(gi,a0({viewBox:n},e,{key:"label-implicit"})):null:null},SPe=function(e,n){var r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!e||!e.children&&r&&!e.label)return null;var i=e.children,s=UG(e),a=sa(i,gi).map(function(l,c){return F.cloneElement(l,{viewBox:n||s,key:"label-".concat(c)})});if(!r)return a;var o=wPe(e.label,n||s);return[o].concat(aPe(a))};gi.parseViewBox=UG;gi.renderCallByParent=SPe;function MPe(t){var e=t==null?0:t.length;return e?t[e-1]:void 0}var EPe=MPe;const TPe=yn(EPe);function o0(t){"@babel/helpers - typeof";return o0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},o0(t)}var APe=["valueAccessor"],PPe=["data","dataKey","clockWise","id","textBreakAll"];function CPe(t){return LPe(t)||OPe(t)||RPe(t)||NPe()}function NPe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function RPe(t,e){if(t){if(typeof t=="string")return XA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return XA(t,e)}}function OPe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function LPe(t){if(Array.isArray(t))return XA(t)}function XA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function Sb(){return Sb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Sb.apply(this,arguments)}function B4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function z4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?B4(Object(n),!0).forEach(function(r){IPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):B4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function IPe(t,e,n){return e=jPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jPe(t){var e=kPe(t,"string");return o0(e)=="symbol"?e:e+""}function kPe(t,e){if(o0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(o0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function V4(t,e){if(t==null)return{};var n=DPe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function DPe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var UPe=function(e){return Array.isArray(e.value)?TPe(e.value):e.value};function fc(t){var e=t.valueAccessor,n=e===void 0?UPe:e,r=V4(t,APe),i=r.data,s=r.dataKey,a=r.clockWise,o=r.id,l=r.textBreakAll,c=V4(r,PPe);return!i||!i.length?null:ce.createElement(lr,{className:"recharts-label-list"},i.map(function(u,f){var d=Wt(s)?n(u,f):Ls(u&&u.payload,s),p=Wt(o)?{}:{id:"".concat(o,"-").concat(f)};return ce.createElement(gi,Sb({},Kt(u,!0),c,p,{parentViewBox:u.parentViewBox,value:d,textBreakAll:l,viewBox:gi.parseViewBox(Wt(a)?u:z4(z4({},u),{},{clockWise:a})),key:"label-".concat(f),index:f}))}))}fc.displayName="LabelList";function FPe(t,e){return t?t===!0?ce.createElement(fc,{key:"labelList-implicit",data:e}):ce.isValidElement(t)||Vt(t)?ce.createElement(fc,{key:"labelList-implicit",data:e,content:t}):Kh(t)?ce.createElement(fc,Sb({data:e},t,{key:"labelList-implicit"})):null:null}function BPe(t,e){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(!t||!t.children&&n&&!t.label)return null;var r=t.children,i=sa(r,fc).map(function(a,o){return F.cloneElement(a,{data:e,key:"labelList-".concat(o)})});if(!n)return i;var s=FPe(t.label,e);return[s].concat(CPe(i))}fc.renderCallByParent=BPe;function l0(t){"@babel/helpers - typeof";return l0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},l0(t)}function qA(){return qA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},qA.apply(this,arguments)}function H4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?H4(Object(n),!0).forEach(function(r){zPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):H4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function zPe(t,e,n){return e=VPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function VPe(t){var e=HPe(t,"string");return l0(e)=="symbol"?e:e+""}function HPe(t,e){if(l0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(l0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Pe=function(e,n){var r=Oa(n-e),i=Math.min(Math.abs(n-e),359.999);return r*i},yx=function(e){var n=e.cx,r=e.cy,i=e.radius,s=e.angle,a=e.sign,o=e.isExternal,l=e.cornerRadius,c=e.cornerIsExternal,u=l*(o?1:-1)+i,f=Math.asin(l/u)/wb,d=c?s:s+a*f,p=Qr(n,r,u,d),v=Qr(n,r,i,d),b=c?s-a*f:s,x=Qr(n,r,u*Math.cos(f*wb),b);return{center:p,circleTangency:v,lineTangency:x,theta:f}},FG=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.startAngle,o=e.endAngle,l=$Pe(a,o),c=a+l,u=Qr(n,r,s,a),f=Qr(n,r,s,c),d="M ".concat(u.x,",").concat(u.y,`
    A `).concat(s,",").concat(s,`,0,
    `).concat(+(Math.abs(l)>180),",").concat(+(a>c),`,
    `).concat(f.x,",").concat(f.y,`
  `);if(i>0){var p=Qr(n,r,i,a),v=Qr(n,r,i,c);d+="L ".concat(v.x,",").concat(v.y,`
            A `).concat(i,",").concat(i,`,0,
            `).concat(+(Math.abs(l)>180),",").concat(+(a<=c),`,
            `).concat(p.x,",").concat(p.y," Z")}else d+="L ".concat(n,",").concat(r," Z");return d},WPe=function(e){var n=e.cx,r=e.cy,i=e.innerRadius,s=e.outerRadius,a=e.cornerRadius,o=e.forceCornerRadius,l=e.cornerIsExternal,c=e.startAngle,u=e.endAngle,f=Oa(u-c),d=yx({cx:n,cy:r,radius:s,angle:c,sign:f,cornerRadius:a,cornerIsExternal:l}),p=d.circleTangency,v=d.lineTangency,b=d.theta,x=yx({cx:n,cy:r,radius:s,angle:u,sign:-f,cornerRadius:a,cornerIsExternal:l}),y=x.circleTangency,w=x.lineTangency,_=x.theta,S=l?Math.abs(c-u):Math.abs(c-u)-b-_;if(S<0)return o?"M ".concat(v.x,",").concat(v.y,`
        a`).concat(a,",").concat(a,",0,0,1,").concat(a*2,`,0
        a`).concat(a,",").concat(a,",0,0,1,").concat(-a*2,`,0
      `):FG({cx:n,cy:r,innerRadius:i,outerRadius:s,startAngle:c,endAngle:u});var M="M ".concat(v.x,",").concat(v.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(p.x,",").concat(p.y,`
    A`).concat(s,",").concat(s,",0,").concat(+(S>180),",").concat(+(f<0),",").concat(y.x,",").concat(y.y,`
    A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(w.x,",").concat(w.y,`
  `);if(i>0){var E=yx({cx:n,cy:r,radius:i,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),A=E.circleTangency,C=E.lineTangency,P=E.theta,R=yx({cx:n,cy:r,radius:i,angle:u,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:l}),L=R.circleTangency,O=R.lineTangency,D=R.theta,I=l?Math.abs(c-u):Math.abs(c-u)-P-D;if(I<0&&a===0)return"".concat(M,"L").concat(n,",").concat(r,"Z");M+="L".concat(O.x,",").concat(O.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(L.x,",").concat(L.y,`
      A`).concat(i,",").concat(i,",0,").concat(+(I>180),",").concat(+(f>0),",").concat(A.x,",").concat(A.y,`
      A`).concat(a,",").concat(a,",0,0,").concat(+(f<0),",").concat(C.x,",").concat(C.y,"Z")}else M+="L".concat(n,",").concat(r,"Z");return M},GPe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},BG=function(e){var n=$4($4({},GPe),e),r=n.cx,i=n.cy,s=n.innerRadius,a=n.outerRadius,o=n.cornerRadius,l=n.forceCornerRadius,c=n.cornerIsExternal,u=n.startAngle,f=n.endAngle,d=n.className;if(a<s||u===f)return null;var p=en("recharts-sector",d),v=a-s,b=ef(o,v,0,!0),x;return b>0&&Math.abs(u-f)<360?x=WPe({cx:r,cy:i,innerRadius:s,outerRadius:a,cornerRadius:Math.min(b,v/2),forceCornerRadius:l,cornerIsExternal:c,startAngle:u,endAngle:f}):x=FG({cx:r,cy:i,innerRadius:s,outerRadius:a,startAngle:u,endAngle:f}),ce.createElement("path",qA({},Kt(n,!0),{className:p,d:x,role:"img"}))};function c0(t){"@babel/helpers - typeof";return c0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c0(t)}function YA(){return YA=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},YA.apply(this,arguments)}function W4(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function G4(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?W4(Object(n),!0).forEach(function(r){XPe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):W4(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function XPe(t,e,n){return e=qPe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function qPe(t){var e=YPe(t,"string");return c0(e)=="symbol"?e:e+""}function YPe(t,e){if(c0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(c0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var X4={curveBasisClosed:Kge,curveBasisOpen:Zge,curveBasis:Yge,curveBumpX:jge,curveBumpY:kge,curveLinearClosed:Jge,curveLinear:mw,curveMonotoneX:Qge,curveMonotoneY:e0e,curveNatural:t0e,curveStep:n0e,curveStepAfter:i0e,curveStepBefore:r0e},xx=function(e){return e.x===+e.x&&e.y===+e.y},lm=function(e){return e.x},cm=function(e){return e.y},KPe=function(e,n){if(Vt(e))return e;var r="curve".concat(hw(e));return(r==="curveMonotone"||r==="curveBump")&&n?X4["".concat(r).concat(n==="vertical"?"Y":"X")]:X4[r]||mw},ZPe=function(e){var n=e.type,r=n===void 0?"linear":n,i=e.points,s=i===void 0?[]:i,a=e.baseLine,o=e.layout,l=e.connectNulls,c=l===void 0?!1:l,u=KPe(r,o),f=c?s.filter(function(b){return xx(b)}):s,d;if(Array.isArray(a)){var p=c?a.filter(function(b){return xx(b)}):a,v=f.map(function(b,x){return G4(G4({},b),{},{base:p[x]})});return o==="vertical"?d=cx().y(cm).x1(lm).x0(function(b){return b.base.x}):d=cx().x(lm).y1(cm).y0(function(b){return b.base.y}),d.defined(xx).curve(u),d(v)}return o==="vertical"&&Qe(a)?d=cx().y(cm).x1(lm).x0(a):Qe(a)?d=cx().x(lm).y1(cm).y0(a):d=B$().x(lm).y(cm),d.defined(xx).curve(u),d(f)},KA=function(e){var n=e.className,r=e.points,i=e.path,s=e.pathRef;if((!r||!r.length)&&!i)return null;var a=r&&r.length?ZPe(e):i;return F.createElement("path",YA({},Kt(e,!1),G1(e),{className:en("recharts-curve",n),d:a,ref:s}))},JPe=Object.getOwnPropertyNames,QPe=Object.getOwnPropertySymbols,eCe=Object.prototype.hasOwnProperty;function q4(t,e){return function(r,i,s){return t(r,i,s)&&e(r,i,s)}}function bx(t){return function(n,r,i){if(!n||!r||typeof n!="object"||typeof r!="object")return t(n,r,i);var s=i.cache,a=s.get(n),o=s.get(r);if(a&&o)return a===r&&o===n;s.set(n,r),s.set(r,n);var l=t(n,r,i);return s.delete(n),s.delete(r),l}}function Y4(t){return JPe(t).concat(QPe(t))}var tCe=Object.hasOwn||function(t,e){return eCe.call(t,e)};function xf(t,e){return t===e||!t&&!e&&t!==t&&e!==e}var nCe="__v",rCe="__o",iCe="_owner",K4=Object.getOwnPropertyDescriptor,Z4=Object.keys;function sCe(t,e,n){var r=t.length;if(e.length!==r)return!1;for(;r-- >0;)if(!n.equals(t[r],e[r],r,r,t,e,n))return!1;return!0}function aCe(t,e){return xf(t.getTime(),e.getTime())}function oCe(t,e){return t.name===e.name&&t.message===e.message&&t.cause===e.cause&&t.stack===e.stack}function lCe(t,e){return t===e}function J4(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.entries(),a,o,l=0;(a=s.next())&&!a.done;){for(var c=e.entries(),u=!1,f=0;(o=c.next())&&!o.done;){if(i[f]){f++;continue}var d=a.value,p=o.value;if(n.equals(d[0],p[0],l,f,t,e,n)&&n.equals(d[1],p[1],d[0],p[0],t,e,n)){u=i[f]=!0;break}f++}if(!u)return!1;l++}return!0}var cCe=xf;function uCe(t,e,n){var r=Z4(t),i=r.length;if(Z4(e).length!==i)return!1;for(;i-- >0;)if(!zG(t,e,n,r[i]))return!1;return!0}function um(t,e,n){var r=Y4(t),i=r.length;if(Y4(e).length!==i)return!1;for(var s,a,o;i-- >0;)if(s=r[i],!zG(t,e,n,s)||(a=K4(t,s),o=K4(e,s),(a||o)&&(!a||!o||a.configurable!==o.configurable||a.enumerable!==o.enumerable||a.writable!==o.writable)))return!1;return!0}function fCe(t,e){return xf(t.valueOf(),e.valueOf())}function dCe(t,e){return t.source===e.source&&t.flags===e.flags}function Q4(t,e,n){var r=t.size;if(r!==e.size)return!1;if(!r)return!0;for(var i=new Array(r),s=t.values(),a,o;(a=s.next())&&!a.done;){for(var l=e.values(),c=!1,u=0;(o=l.next())&&!o.done;){if(!i[u]&&n.equals(a.value,o.value,a.value,o.value,t,e,n)){c=i[u]=!0;break}u++}if(!c)return!1}return!0}function hCe(t,e){var n=t.length;if(e.length!==n)return!1;for(;n-- >0;)if(t[n]!==e[n])return!1;return!0}function pCe(t,e){return t.hostname===e.hostname&&t.pathname===e.pathname&&t.protocol===e.protocol&&t.port===e.port&&t.hash===e.hash&&t.username===e.username&&t.password===e.password}function zG(t,e,n,r){return(r===iCe||r===rCe||r===nCe)&&(t.$$typeof||e.$$typeof)?!0:tCe(e,r)&&n.equals(t[r],e[r],r,r,t,e,n)}var mCe="[object Arguments]",gCe="[object Boolean]",vCe="[object Date]",yCe="[object Error]",xCe="[object Map]",bCe="[object Number]",_Ce="[object Object]",wCe="[object RegExp]",SCe="[object Set]",MCe="[object String]",ECe="[object URL]",TCe=Array.isArray,eF=typeof ArrayBuffer=="function"&&ArrayBuffer.isView?ArrayBuffer.isView:null,tF=Object.assign,ACe=Object.prototype.toString.call.bind(Object.prototype.toString);function PCe(t){var e=t.areArraysEqual,n=t.areDatesEqual,r=t.areErrorsEqual,i=t.areFunctionsEqual,s=t.areMapsEqual,a=t.areNumbersEqual,o=t.areObjectsEqual,l=t.arePrimitiveWrappersEqual,c=t.areRegExpsEqual,u=t.areSetsEqual,f=t.areTypedArraysEqual,d=t.areUrlsEqual;return function(v,b,x){if(v===b)return!0;if(v==null||b==null)return!1;var y=typeof v;if(y!==typeof b)return!1;if(y!=="object")return y==="number"?a(v,b,x):y==="function"?i(v,b,x):!1;var w=v.constructor;if(w!==b.constructor)return!1;if(w===Object)return o(v,b,x);if(TCe(v))return e(v,b,x);if(eF!=null&&eF(v))return f(v,b,x);if(w===Date)return n(v,b,x);if(w===RegExp)return c(v,b,x);if(w===Map)return s(v,b,x);if(w===Set)return u(v,b,x);var _=ACe(v);return _===vCe?n(v,b,x):_===wCe?c(v,b,x):_===xCe?s(v,b,x):_===SCe?u(v,b,x):_===_Ce?typeof v.then!="function"&&typeof b.then!="function"&&o(v,b,x):_===ECe?d(v,b,x):_===yCe?r(v,b,x):_===mCe?o(v,b,x):_===gCe||_===bCe||_===MCe?l(v,b,x):!1}}function CCe(t){var e=t.circular,n=t.createCustomConfig,r=t.strict,i={areArraysEqual:r?um:sCe,areDatesEqual:aCe,areErrorsEqual:oCe,areFunctionsEqual:lCe,areMapsEqual:r?q4(J4,um):J4,areNumbersEqual:cCe,areObjectsEqual:r?um:uCe,arePrimitiveWrappersEqual:fCe,areRegExpsEqual:dCe,areSetsEqual:r?q4(Q4,um):Q4,areTypedArraysEqual:r?um:hCe,areUrlsEqual:pCe};if(n&&(i=tF({},i,n(i))),e){var s=bx(i.areArraysEqual),a=bx(i.areMapsEqual),o=bx(i.areObjectsEqual),l=bx(i.areSetsEqual);i=tF({},i,{areArraysEqual:s,areMapsEqual:a,areObjectsEqual:o,areSetsEqual:l})}return i}function NCe(t){return function(e,n,r,i,s,a,o){return t(e,n,o)}}function RCe(t){var e=t.circular,n=t.comparator,r=t.createState,i=t.equals,s=t.strict;if(r)return function(l,c){var u=r(),f=u.cache,d=f===void 0?e?new WeakMap:void 0:f,p=u.meta;return n(l,c,{cache:d,equals:i,meta:p,strict:s})};if(e)return function(l,c){return n(l,c,{cache:new WeakMap,equals:i,meta:void 0,strict:s})};var a={cache:void 0,equals:i,meta:void 0,strict:s};return function(l,c){return n(l,c,a)}}var OCe=Lc();Lc({strict:!0});Lc({circular:!0});Lc({circular:!0,strict:!0});Lc({createInternalComparator:function(){return xf}});Lc({strict:!0,createInternalComparator:function(){return xf}});Lc({circular:!0,createInternalComparator:function(){return xf}});Lc({circular:!0,createInternalComparator:function(){return xf},strict:!0});function Lc(t){t===void 0&&(t={});var e=t.circular,n=e===void 0?!1:e,r=t.createInternalComparator,i=t.createState,s=t.strict,a=s===void 0?!1:s,o=CCe(t),l=PCe(o),c=r?r(l):NCe(l);return RCe({circular:n,comparator:l,createState:i,equals:c,strict:a})}function LCe(t){typeof requestAnimationFrame<"u"&&requestAnimationFrame(t)}function nF(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=-1,r=function i(s){n<0&&(n=s),s-n>e?(t(s),n=-1):LCe(i)};requestAnimationFrame(r)}function ZA(t){"@babel/helpers - typeof";return ZA=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},ZA(t)}function ICe(t){return UCe(t)||DCe(t)||kCe(t)||jCe()}function jCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function kCe(t,e){if(t){if(typeof t=="string")return rF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return rF(t,e)}}function rF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function DCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function UCe(t){if(Array.isArray(t))return t}function FCe(){var t={},e=function(){return null},n=!1,r=function i(s){if(!n){if(Array.isArray(s)){if(!s.length)return;var a=s,o=ICe(a),l=o[0],c=o.slice(1);if(typeof l=="number"){nF(i.bind(null,c),l);return}i(l),nF(i.bind(null,c));return}ZA(s)==="object"&&(t=s,e(t)),typeof s=="function"&&s()}};return{stop:function(){n=!0},start:function(s){n=!1,r(s)},subscribe:function(s){return e=s,function(){e=function(){return null}}}}}function u0(t){"@babel/helpers - typeof";return u0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},u0(t)}function iF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function sF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(n),!0).forEach(function(r){VG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):iF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VG(t,e,n){return e=BCe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function BCe(t){var e=zCe(t,"string");return u0(e)==="symbol"?e:String(e)}function zCe(t,e){if(u0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(u0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var VCe=function(e,n){return[Object.keys(e),Object.keys(n)].reduce(function(r,i){return r.filter(function(s){return i.includes(s)})})},HCe=function(e){return e},$Ce=function(e){return e.replace(/([A-Z])/g,function(n){return"-".concat(n.toLowerCase())})},Gm=function(e,n){return Object.keys(n).reduce(function(r,i){return sF(sF({},r),{},VG({},i,e(i,n[i])))},{})},aF=function(e,n,r){return e.map(function(i){return"".concat($Ce(i)," ").concat(n,"ms ").concat(r)}).join(",")};function WCe(t,e){return qCe(t)||XCe(t,e)||HG(t,e)||GCe()}function GCe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function XCe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function qCe(t){if(Array.isArray(t))return t}function YCe(t){return JCe(t)||ZCe(t)||HG(t)||KCe()}function KCe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HG(t,e){if(t){if(typeof t=="string")return JA(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return JA(t,e)}}function ZCe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function JCe(t){if(Array.isArray(t))return JA(t)}function JA(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var Mb=1e-4,$G=function(e,n){return[0,3*e,3*n-6*e,3*e-3*n+1]},WG=function(e,n){return e.map(function(r,i){return r*Math.pow(n,i)}).reduce(function(r,i){return r+i})},oF=function(e,n){return function(r){var i=$G(e,n);return WG(i,r)}},QCe=function(e,n){return function(r){var i=$G(e,n),s=[].concat(YCe(i.map(function(a,o){return a*o}).slice(1)),[0]);return WG(s,r)}},lF=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0],s=n[1],a=n[2],o=n[3];if(n.length===1)switch(n[0]){case"linear":i=0,s=0,a=1,o=1;break;case"ease":i=.25,s=.1,a=.25,o=1;break;case"ease-in":i=.42,s=0,a=1,o=1;break;case"ease-out":i=.42,s=0,a=.58,o=1;break;case"ease-in-out":i=0,s=0,a=.58,o=1;break;default:{var l=n[0].split("(");if(l[0]==="cubic-bezier"&&l[1].split(")")[0].split(",").length===4){var c=l[1].split(")")[0].split(",").map(function(x){return parseFloat(x)}),u=WCe(c,4);i=u[0],s=u[1],a=u[2],o=u[3]}}}var f=oF(i,a),d=oF(s,o),p=QCe(i,a),v=function(y){return y>1?1:y<0?0:y},b=function(y){for(var w=y>1?1:y,_=w,S=0;S<8;++S){var M=f(_)-w,E=p(_);if(Math.abs(M-w)<Mb||E<Mb)return d(_);_=v(_-M/E)}return d(_)};return b.isStepper=!1,b},eNe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},n=e.stiff,r=n===void 0?100:n,i=e.damping,s=i===void 0?8:i,a=e.dt,o=a===void 0?17:a,l=function(u,f,d){var p=-(u-f)*r,v=d*s,b=d+(p-v)*o/1e3,x=d*o/1e3+u;return Math.abs(x-f)<Mb&&Math.abs(b)<Mb?[f,0]:[x,b]};return l.isStepper=!0,l.dt=o,l},tNe=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];var i=n[0];if(typeof i=="string")switch(i){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return lF(i);case"spring":return eNe();default:if(i.split("(")[0]==="cubic-bezier")return lF(i)}return typeof i=="function"?i:null};function f0(t){"@babel/helpers - typeof";return f0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},f0(t)}function cF(t){return iNe(t)||rNe(t)||GG(t)||nNe()}function nNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function rNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function iNe(t){if(Array.isArray(t))return eP(t)}function uF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Zr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?uF(Object(n),!0).forEach(function(r){QA(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):uF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QA(t,e,n){return e=sNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function sNe(t){var e=aNe(t,"string");return f0(e)==="symbol"?e:String(e)}function aNe(t,e){if(f0(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(f0(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oNe(t,e){return uNe(t)||cNe(t,e)||GG(t,e)||lNe()}function lNe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function GG(t,e){if(t){if(typeof t=="string")return eP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return eP(t,e)}}function eP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function cNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function uNe(t){if(Array.isArray(t))return t}var Eb=function(e,n,r){return e+(n-e)*r},tP=function(e){var n=e.from,r=e.to;return n!==r},fNe=function t(e,n,r){var i=Gm(function(s,a){if(tP(a)){var o=e(a.from,a.to,a.velocity),l=oNe(o,2),c=l[0],u=l[1];return Zr(Zr({},a),{},{from:c,velocity:u})}return a},n);return r<1?Gm(function(s,a){return tP(a)?Zr(Zr({},a),{},{velocity:Eb(a.velocity,i[s].velocity,r),from:Eb(a.from,i[s].from,r)}):a},n):t(e,i,r-1)};const dNe=function(t,e,n,r,i){var s=VCe(t,e),a=s.reduce(function(x,y){return Zr(Zr({},x),{},QA({},y,[t[y],e[y]]))},{}),o=s.reduce(function(x,y){return Zr(Zr({},x),{},QA({},y,{from:t[y],velocity:0,to:e[y]}))},{}),l=-1,c,u,f=function(){return null},d=function(){return Gm(function(y,w){return w.from},o)},p=function(){return!Object.values(o).filter(tP).length},v=function(y){c||(c=y);var w=y-c,_=w/n.dt;o=fNe(n,o,_),i(Zr(Zr(Zr({},t),e),d())),c=y,p()||(l=requestAnimationFrame(f))},b=function(y){u||(u=y);var w=(y-u)/r,_=Gm(function(M,E){return Eb.apply(void 0,cF(E).concat([n(w)]))},a);if(i(Zr(Zr(Zr({},t),e),_)),w<1)l=requestAnimationFrame(f);else{var S=Gm(function(M,E){return Eb.apply(void 0,cF(E).concat([n(1)]))},a);i(Zr(Zr(Zr({},t),e),S))}};return f=n.isStepper?v:b,function(){return requestAnimationFrame(f),function(){cancelAnimationFrame(l)}}};function Mh(t){"@babel/helpers - typeof";return Mh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Mh(t)}var hNe=["children","begin","duration","attributeName","easing","isActive","steps","from","to","canBegin","onAnimationEnd","shouldReAnimate","onAnimationReStart"];function pNe(t,e){if(t==null)return{};var n=mNe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function mNe(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,s;for(s=0;s<r.length;s++)i=r[s],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function VM(t){return xNe(t)||yNe(t)||vNe(t)||gNe()}function gNe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function vNe(t,e){if(t){if(typeof t=="string")return nP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return nP(t,e)}}function yNe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function xNe(t){if(Array.isArray(t))return nP(t)}function nP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function fF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _a(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?fF(Object(n),!0).forEach(function(r){bm(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):fF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function bm(t,e,n){return e=XG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function bNe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function dF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,XG(r.key),r)}}function _Ne(t,e,n){return e&&dF(t.prototype,e),n&&dF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function XG(t){var e=wNe(t,"string");return Mh(e)==="symbol"?e:String(e)}function wNe(t,e){if(Mh(t)!=="object"||t===null)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Mh(r)!=="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SNe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&rP(t,e)}function rP(t,e){return rP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},rP(t,e)}function MNe(t){var e=ENe();return function(){var r=Tb(t),i;if(e){var s=Tb(this).constructor;i=Reflect.construct(r,arguments,s)}else i=r.apply(this,arguments);return iP(this,i)}}function iP(t,e){if(e&&(Mh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return sP(t)}function sP(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ENe(){if(typeof Reflect>"u"||!Reflect.construct||Reflect.construct.sham)return!1;if(typeof Proxy=="function")return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){})),!0}catch{return!1}}function Tb(t){return Tb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Tb(t)}var Rw=function(t){SNe(n,t);var e=MNe(n);function n(r,i){var s;bNe(this,n),s=e.call(this,r,i);var a=s.props,o=a.isActive,l=a.attributeName,c=a.from,u=a.to,f=a.steps,d=a.children,p=a.duration;if(s.handleStyleChange=s.handleStyleChange.bind(sP(s)),s.changeStyle=s.changeStyle.bind(sP(s)),!o||p<=0)return s.state={style:{}},typeof d=="function"&&(s.state={style:u}),iP(s);if(f&&f.length)s.state={style:f[0].style};else if(c){if(typeof d=="function")return s.state={style:c},iP(s);s.state={style:l?bm({},l,c):c}}else s.state={style:{}};return s}return _Ne(n,[{key:"componentDidMount",value:function(){var i=this.props,s=i.isActive,a=i.canBegin;this.mounted=!0,!(!s||!a)&&this.runAnimation(this.props)}},{key:"componentDidUpdate",value:function(i){var s=this.props,a=s.isActive,o=s.canBegin,l=s.attributeName,c=s.shouldReAnimate,u=s.to,f=s.from,d=this.state.style;if(o){if(!a){var p={style:l?bm({},l,u):u};this.state&&d&&(l&&d[l]!==u||!l&&d!==u)&&this.setState(p);return}if(!(OCe(i.to,u)&&i.canBegin&&i.isActive)){var v=!i.canBegin||!i.isActive;this.manager&&this.manager.stop(),this.stopJSAnimation&&this.stopJSAnimation();var b=v||c?f:i.to;if(this.state&&d){var x={style:l?bm({},l,b):b};(l&&d[l]!==b||!l&&d!==b)&&this.setState(x)}this.runAnimation(_a(_a({},this.props),{},{from:b,begin:0}))}}}},{key:"componentWillUnmount",value:function(){this.mounted=!1;var i=this.props.onAnimationEnd;this.unSubscribe&&this.unSubscribe(),this.manager&&(this.manager.stop(),this.manager=null),this.stopJSAnimation&&this.stopJSAnimation(),i&&i()}},{key:"handleStyleChange",value:function(i){this.changeStyle(i)}},{key:"changeStyle",value:function(i){this.mounted&&this.setState({style:i})}},{key:"runJSAnimation",value:function(i){var s=this,a=i.from,o=i.to,l=i.duration,c=i.easing,u=i.begin,f=i.onAnimationEnd,d=i.onAnimationStart,p=dNe(a,o,tNe(c),l,this.changeStyle),v=function(){s.stopJSAnimation=p()};this.manager.start([d,u,v,l,f])}},{key:"runStepAnimation",value:function(i){var s=this,a=i.steps,o=i.begin,l=i.onAnimationStart,c=a[0],u=c.style,f=c.duration,d=f===void 0?0:f,p=function(b,x,y){if(y===0)return b;var w=x.duration,_=x.easing,S=_===void 0?"ease":_,M=x.style,E=x.properties,A=x.onAnimationEnd,C=y>0?a[y-1]:x,P=E||Object.keys(M);if(typeof S=="function"||S==="spring")return[].concat(VM(b),[s.runJSAnimation.bind(s,{from:C.style,to:M,duration:w,easing:S}),w]);var R=aF(P,w,S),L=_a(_a(_a({},C.style),M),{},{transition:R});return[].concat(VM(b),[L,w,A]).filter(HCe)};return this.manager.start([l].concat(VM(a.reduce(p,[u,Math.max(d,o)])),[i.onAnimationEnd]))}},{key:"runAnimation",value:function(i){this.manager||(this.manager=FCe());var s=i.begin,a=i.duration,o=i.attributeName,l=i.to,c=i.easing,u=i.onAnimationStart,f=i.onAnimationEnd,d=i.steps,p=i.children,v=this.manager;if(this.unSubscribe=v.subscribe(this.handleStyleChange),typeof c=="function"||typeof p=="function"||c==="spring"){this.runJSAnimation(i);return}if(d.length>1){this.runStepAnimation(i);return}var b=o?bm({},o,l):l,x=aF(Object.keys(b),a,c);v.start([u,s,_a(_a({},b),{},{transition:x}),a,f])}},{key:"render",value:function(){var i=this.props,s=i.children;i.begin;var a=i.duration;i.attributeName,i.easing;var o=i.isActive;i.steps,i.from,i.to,i.canBegin,i.onAnimationEnd,i.shouldReAnimate,i.onAnimationReStart;var l=pNe(i,hNe),c=F.Children.count(s),u=this.state.style;if(typeof s=="function")return s(u);if(!o||c===0||a<=0)return s;var f=function(p){var v=p.props,b=v.style,x=b===void 0?{}:b,y=v.className,w=F.cloneElement(p,_a(_a({},l),{},{style:_a(_a({},x),u),className:y}));return w};return c===1?f(F.Children.only(s)):ce.createElement("div",null,F.Children.map(s,function(d){return f(d)}))}}]),n}(F.PureComponent);Rw.displayName="Animate";Rw.defaultProps={begin:0,duration:1e3,from:"",to:"",attributeName:"",easing:"ease",isActive:!0,canBegin:!0,steps:[],onAnimationEnd:function(){},onAnimationStart:function(){}};Rw.propTypes={from:un.oneOfType([un.object,un.string]),to:un.oneOfType([un.object,un.string]),attributeName:un.string,duration:un.number,begin:un.number,easing:un.oneOfType([un.string,un.func]),steps:un.arrayOf(un.shape({duration:un.number.isRequired,style:un.object.isRequired,easing:un.oneOfType([un.oneOf(["ease","ease-in","ease-out","ease-in-out","linear"]),un.func]),properties:un.arrayOf("string"),onAnimationEnd:un.func})),children:un.oneOfType([un.node,un.func]),isActive:un.bool,canBegin:un.bool,onAnimationEnd:un.func,shouldReAnimate:un.bool,onAnimationStart:un.func,onAnimationReStart:un.func};const Eh=Rw;function d0(t){"@babel/helpers - typeof";return d0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},d0(t)}function Ab(){return Ab=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ab.apply(this,arguments)}function TNe(t,e){return NNe(t)||CNe(t,e)||PNe(t,e)||ANe()}function ANe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function PNe(t,e){if(t){if(typeof t=="string")return hF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return hF(t,e)}}function hF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function CNe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function NNe(t){if(Array.isArray(t))return t}function pF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(n),!0).forEach(function(r){RNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):pF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function RNe(t,e,n){return e=ONe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ONe(t){var e=LNe(t,"string");return d0(e)=="symbol"?e:e+""}function LNe(t,e){if(d0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(d0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var gF=function(e,n,r,i,s){var a=Math.min(Math.abs(r)/2,Math.abs(i)/2),o=i>=0?1:-1,l=r>=0?1:-1,c=i>=0&&r>=0||i<0&&r<0?1:0,u;if(a>0&&s instanceof Array){for(var f=[0,0,0,0],d=0,p=4;d<p;d++)f[d]=s[d]>a?a:s[d];u="M".concat(e,",").concat(n+o*f[0]),f[0]>0&&(u+="A ".concat(f[0],",").concat(f[0],",0,0,").concat(c,",").concat(e+l*f[0],",").concat(n)),u+="L ".concat(e+r-l*f[1],",").concat(n),f[1]>0&&(u+="A ".concat(f[1],",").concat(f[1],",0,0,").concat(c,`,
        `).concat(e+r,",").concat(n+o*f[1])),u+="L ".concat(e+r,",").concat(n+i-o*f[2]),f[2]>0&&(u+="A ".concat(f[2],",").concat(f[2],",0,0,").concat(c,`,
        `).concat(e+r-l*f[2],",").concat(n+i)),u+="L ".concat(e+l*f[3],",").concat(n+i),f[3]>0&&(u+="A ".concat(f[3],",").concat(f[3],",0,0,").concat(c,`,
        `).concat(e,",").concat(n+i-o*f[3])),u+="Z"}else if(a>0&&s===+s&&s>0){var v=Math.min(a,s);u="M ".concat(e,",").concat(n+o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+l*v,",").concat(n,`
            L `).concat(e+r-l*v,",").concat(n,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r,",").concat(n+o*v,`
            L `).concat(e+r,",").concat(n+i-o*v,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e+r-l*v,",").concat(n+i,`
            L `).concat(e+l*v,",").concat(n+i,`
            A `).concat(v,",").concat(v,",0,0,").concat(c,",").concat(e,",").concat(n+i-o*v," Z")}else u="M ".concat(e,",").concat(n," h ").concat(r," v ").concat(i," h ").concat(-r," Z");return u},INe=function(e,n){if(!e||!n)return!1;var r=e.x,i=e.y,s=n.x,a=n.y,o=n.width,l=n.height;if(Math.abs(o)>0&&Math.abs(l)>0){var c=Math.min(s,s+o),u=Math.max(s,s+o),f=Math.min(a,a+l),d=Math.max(a,a+l);return r>=c&&r<=u&&i>=f&&i<=d}return!1},jNe={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},GR=function(e){var n=mF(mF({},jNe),e),r=F.useRef(),i=F.useState(-1),s=TNe(i,2),a=s[0],o=s[1];F.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var S=r.current.getTotalLength();S&&o(S)}catch{}},[]);var l=n.x,c=n.y,u=n.width,f=n.height,d=n.radius,p=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,y=n.isAnimationActive,w=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||u===0||f===0)return null;var _=en("recharts-rectangle",p);return w?ce.createElement(Eh,{canBegin:a>0,from:{width:u,height:f,x:l,y:c},to:{width:u,height:f,x:l,y:c},duration:b,animationEasing:v,isActive:w},function(S){var M=S.width,E=S.height,A=S.x,C=S.y;return ce.createElement(Eh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,isActive:y,easing:v},ce.createElement("path",Ab({},Kt(n,!0),{className:_,d:gF(A,C,M,E,d),ref:r})))}):ce.createElement("path",Ab({},Kt(n,!0),{className:_,d:gF(l,c,u,f,d)}))};function aP(){return aP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},aP.apply(this,arguments)}var XR=function(e){var n=e.cx,r=e.cy,i=e.r,s=e.className,a=en("recharts-dot",s);return n===+n&&r===+r&&i===+i?F.createElement("circle",aP({},Kt(e,!1),G1(e),{className:a,cx:n,cy:r,r:i})):null};function h0(t){"@babel/helpers - typeof";return h0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},h0(t)}var kNe=["x","y","top","left","width","height","className"];function oP(){return oP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},oP.apply(this,arguments)}function vF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function DNe(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?vF(Object(n),!0).forEach(function(r){UNe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):vF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function UNe(t,e,n){return e=FNe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function FNe(t){var e=BNe(t,"string");return h0(e)=="symbol"?e:e+""}function BNe(t,e){if(h0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(h0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zNe(t,e){if(t==null)return{};var n=VNe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function VNe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var HNe=function(e,n,r,i,s,a){return"M".concat(e,",").concat(s,"v").concat(i,"M").concat(a,",").concat(n,"h").concat(r)},$Ne=function(e){var n=e.x,r=n===void 0?0:n,i=e.y,s=i===void 0?0:i,a=e.top,o=a===void 0?0:a,l=e.left,c=l===void 0?0:l,u=e.width,f=u===void 0?0:u,d=e.height,p=d===void 0?0:d,v=e.className,b=zNe(e,kNe),x=DNe({x:r,y:s,top:o,left:c,width:f,height:p},b);return!Qe(r)||!Qe(s)||!Qe(f)||!Qe(p)||!Qe(o)||!Qe(c)?null:ce.createElement("path",oP({},Kt(x,!0),{className:en("recharts-cross",v),d:HNe(r,s,f,p,o,c)}))},WNe=uW,GNe=WNe(Object.getPrototypeOf,Object),XNe=GNe,qNe=vl,YNe=XNe,KNe=yl,ZNe="[object Object]",JNe=Function.prototype,QNe=Object.prototype,qG=JNe.toString,eRe=QNe.hasOwnProperty,tRe=qG.call(Object);function nRe(t){if(!KNe(t)||qNe(t)!=ZNe)return!1;var e=YNe(t);if(e===null)return!0;var n=eRe.call(e,"constructor")&&e.constructor;return typeof n=="function"&&n instanceof n&&qG.call(n)==tRe}var rRe=nRe;const iRe=yn(rRe);var sRe=vl,aRe=yl,oRe="[object Boolean]";function lRe(t){return t===!0||t===!1||aRe(t)&&sRe(t)==oRe}var cRe=lRe;const uRe=yn(cRe);function p0(t){"@babel/helpers - typeof";return p0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},p0(t)}function Pb(){return Pb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Pb.apply(this,arguments)}function fRe(t,e){return mRe(t)||pRe(t,e)||hRe(t,e)||dRe()}function dRe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function hRe(t,e){if(t){if(typeof t=="string")return yF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yF(t,e)}}function yF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function pRe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function mRe(t){if(Array.isArray(t))return t}function xF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function bF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?xF(Object(n),!0).forEach(function(r){gRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):xF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function gRe(t,e,n){return e=vRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function vRe(t){var e=yRe(t,"string");return p0(e)=="symbol"?e:e+""}function yRe(t,e){if(p0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(p0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _F=function(e,n,r,i,s){var a=r-i,o;return o="M ".concat(e,",").concat(n),o+="L ".concat(e+r,",").concat(n),o+="L ".concat(e+r-a/2,",").concat(n+s),o+="L ".concat(e+r-a/2-i,",").concat(n+s),o+="L ".concat(e,",").concat(n," Z"),o},xRe={x:0,y:0,upperWidth:0,lowerWidth:0,height:0,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},bRe=function(e){var n=bF(bF({},xRe),e),r=F.useRef(),i=F.useState(-1),s=fRe(i,2),a=s[0],o=s[1];F.useEffect(function(){if(r.current&&r.current.getTotalLength)try{var _=r.current.getTotalLength();_&&o(_)}catch{}},[]);var l=n.x,c=n.y,u=n.upperWidth,f=n.lowerWidth,d=n.height,p=n.className,v=n.animationEasing,b=n.animationDuration,x=n.animationBegin,y=n.isUpdateAnimationActive;if(l!==+l||c!==+c||u!==+u||f!==+f||d!==+d||u===0&&f===0||d===0)return null;var w=en("recharts-trapezoid",p);return y?ce.createElement(Eh,{canBegin:a>0,from:{upperWidth:0,lowerWidth:0,height:d,x:l,y:c},to:{upperWidth:u,lowerWidth:f,height:d,x:l,y:c},duration:b,animationEasing:v,isActive:y},function(_){var S=_.upperWidth,M=_.lowerWidth,E=_.height,A=_.x,C=_.y;return ce.createElement(Eh,{canBegin:a>0,from:"0px ".concat(a===-1?1:a,"px"),to:"".concat(a,"px 0px"),attributeName:"strokeDasharray",begin:x,duration:b,easing:v},ce.createElement("path",Pb({},Kt(n,!0),{className:w,d:_F(A,C,S,M,E),ref:r})))}):ce.createElement("g",null,ce.createElement("path",Pb({},Kt(n,!0),{className:w,d:_F(l,c,u,f,d)})))},_Re=["option","shapeType","propTransformer","activeClassName","isActive"];function m0(t){"@babel/helpers - typeof";return m0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},m0(t)}function wRe(t,e){if(t==null)return{};var n=SRe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function SRe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function wF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Cb(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?wF(Object(n),!0).forEach(function(r){MRe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):wF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function MRe(t,e,n){return e=ERe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function ERe(t){var e=TRe(t,"string");return m0(e)=="symbol"?e:e+""}function TRe(t,e){if(m0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(m0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ARe(t,e){return Cb(Cb({},e),t)}function PRe(t,e){return t==="symbols"}function SF(t){var e=t.shapeType,n=t.elementProps;switch(e){case"rectangle":return ce.createElement(GR,n);case"trapezoid":return ce.createElement(bRe,n);case"sector":return ce.createElement(BG,n);case"symbols":if(PRe(e))return ce.createElement(fR,n);break;default:return null}}function CRe(t){return F.isValidElement(t)?t.props:t}function NRe(t){var e=t.option,n=t.shapeType,r=t.propTransformer,i=r===void 0?ARe:r,s=t.activeClassName,a=s===void 0?"recharts-active-shape":s,o=t.isActive,l=wRe(t,_Re),c;if(F.isValidElement(e))c=F.cloneElement(e,Cb(Cb({},l),CRe(e)));else if(Vt(e))c=e(l);else if(iRe(e)&&!uRe(e)){var u=i(e,l);c=ce.createElement(SF,{shapeType:n,elementProps:u})}else{var f=l;c=ce.createElement(SF,{shapeType:n,elementProps:f})}return o?ce.createElement(lr,{className:a},c):c}function Ow(t,e){return e!=null&&"trapezoids"in t.props}function Lw(t,e){return e!=null&&"sectors"in t.props}function g0(t,e){return e!=null&&"points"in t.props}function RRe(t,e){var n,r,i=t.x===(e==null||(n=e.labelViewBox)===null||n===void 0?void 0:n.x)||t.x===e.x,s=t.y===(e==null||(r=e.labelViewBox)===null||r===void 0?void 0:r.y)||t.y===e.y;return i&&s}function ORe(t,e){var n=t.endAngle===e.endAngle,r=t.startAngle===e.startAngle;return n&&r}function LRe(t,e){var n=t.x===e.x,r=t.y===e.y,i=t.z===e.z;return n&&r&&i}function IRe(t,e){var n;return Ow(t,e)?n=RRe:Lw(t,e)?n=ORe:g0(t,e)&&(n=LRe),n}function jRe(t,e){var n;return Ow(t,e)?n="trapezoids":Lw(t,e)?n="sectors":g0(t,e)&&(n="points"),n}function kRe(t,e){if(Ow(t,e)){var n;return(n=e.tooltipPayload)===null||n===void 0||(n=n[0])===null||n===void 0||(n=n.payload)===null||n===void 0?void 0:n.payload}if(Lw(t,e)){var r;return(r=e.tooltipPayload)===null||r===void 0||(r=r[0])===null||r===void 0||(r=r.payload)===null||r===void 0?void 0:r.payload}return g0(t,e)?e.payload:{}}function DRe(t){var e=t.activeTooltipItem,n=t.graphicalItem,r=t.itemData,i=jRe(n,e),s=kRe(n,e),a=r.filter(function(l,c){var u=Pw(s,l),f=n.props[i].filter(function(v){var b=IRe(n,e);return b(v,e)}),d=n.props[i].indexOf(f[f.length-1]),p=c===d;return u&&p}),o=r.indexOf(a[a.length-1]);return o}var URe=Math.ceil,FRe=Math.max;function BRe(t,e,n,r){for(var i=-1,s=FRe(URe((e-t)/(n||1)),0),a=Array(s);s--;)a[r?s:++i]=t,t+=n;return a}var zRe=BRe,VRe=CW,MF=1/0,HRe=17976931348623157e292;function $Re(t){if(!t)return t===0?t:0;if(t=VRe(t),t===MF||t===-MF){var e=t<0?-1:1;return e*HRe}return t===t?t:0}var YG=$Re,WRe=zRe,GRe=xw,HM=YG;function XRe(t){return function(e,n,r){return r&&typeof r!="number"&&GRe(e,n,r)&&(n=r=void 0),e=HM(e),n===void 0?(n=e,e=0):n=HM(n),r=r===void 0?e<n?1:-1:HM(r),WRe(e,n,r,t)}}var qRe=XRe,YRe=qRe,KRe=YRe(),ZRe=KRe;const Nb=yn(ZRe);function v0(t){"@babel/helpers - typeof";return v0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},v0(t)}function EF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function TF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?EF(Object(n),!0).forEach(function(r){KG(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):EF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function KG(t,e,n){return e=JRe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JRe(t){var e=QRe(t,"string");return v0(e)=="symbol"?e:e+""}function QRe(t,e){if(v0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(v0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var eOe=["Webkit","Moz","O","ms"],tOe=function(e,n){if(!e)return null;var r=e.replace(/(\w)/,function(s){return s.toUpperCase()}),i=eOe.reduce(function(s,a){return TF(TF({},s),{},KG({},a+r,n))},{});return i[e]=n,i};function Th(t){"@babel/helpers - typeof";return Th=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Th(t)}function Rb(){return Rb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Rb.apply(this,arguments)}function AF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function $M(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?AF(Object(n),!0).forEach(function(r){Ss(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):AF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function nOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function PF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,JG(r.key),r)}}function rOe(t,e,n){return e&&PF(t.prototype,e),n&&PF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function iOe(t,e,n){return e=Ob(e),sOe(t,ZG()?Reflect.construct(e,n||[],Ob(t).constructor):e.apply(t,n))}function sOe(t,e){if(e&&(Th(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return aOe(t)}function aOe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function ZG(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(ZG=function(){return!!t})()}function Ob(t){return Ob=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ob(t)}function oOe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&lP(t,e)}function lP(t,e){return lP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},lP(t,e)}function Ss(t,e,n){return e=JG(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function JG(t){var e=lOe(t,"string");return Th(e)=="symbol"?e:e+""}function lOe(t,e){if(Th(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Th(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var cOe=function(e){var n=e.data,r=e.startIndex,i=e.endIndex,s=e.x,a=e.width,o=e.travellerWidth;if(!n||!n.length)return{};var l=n.length,c=$m().domain(Nb(0,l)).range([s,s+a-o]),u=c.domain().map(function(f){return c(f)});return{isTextActive:!1,isSlideMoving:!1,isTravellerMoving:!1,isTravellerFocused:!1,startX:c(r),endX:c(i),scale:c,scaleValues:u}},CF=function(e){return e.changedTouches&&!!e.changedTouches.length},Ah=function(t){function e(n){var r;return nOe(this,e),r=iOe(this,e,[n]),Ss(r,"handleDrag",function(i){r.leaveTimer&&(clearTimeout(r.leaveTimer),r.leaveTimer=null),r.state.isTravellerMoving?r.handleTravellerMove(i):r.state.isSlideMoving&&r.handleSlideDrag(i)}),Ss(r,"handleTouchMove",function(i){i.changedTouches!=null&&i.changedTouches.length>0&&r.handleDrag(i.changedTouches[0])}),Ss(r,"handleDragEnd",function(){r.setState({isTravellerMoving:!1,isSlideMoving:!1},function(){var i=r.props,s=i.endIndex,a=i.onDragEnd,o=i.startIndex;a==null||a({endIndex:s,startIndex:o})}),r.detachDragEndListener()}),Ss(r,"handleLeaveWrapper",function(){(r.state.isTravellerMoving||r.state.isSlideMoving)&&(r.leaveTimer=window.setTimeout(r.handleDragEnd,r.props.leaveTimeOut))}),Ss(r,"handleEnterSlideOrTraveller",function(){r.setState({isTextActive:!0})}),Ss(r,"handleLeaveSlideOrTraveller",function(){r.setState({isTextActive:!1})}),Ss(r,"handleSlideDragStart",function(i){var s=CF(i)?i.changedTouches[0]:i;r.setState({isTravellerMoving:!1,isSlideMoving:!0,slideMoveStartX:s.pageX}),r.attachDragEndListener()}),r.travellerDragStartHandlers={startX:r.handleTravellerDragStart.bind(r,"startX"),endX:r.handleTravellerDragStart.bind(r,"endX")},r.state={},r}return oOe(e,t),rOe(e,[{key:"componentWillUnmount",value:function(){this.leaveTimer&&(clearTimeout(this.leaveTimer),this.leaveTimer=null),this.detachDragEndListener()}},{key:"getIndex",value:function(r){var i=r.startX,s=r.endX,a=this.state.scaleValues,o=this.props,l=o.gap,c=o.data,u=c.length-1,f=Math.min(i,s),d=Math.max(i,s),p=e.getIndexInRange(a,f),v=e.getIndexInRange(a,d);return{startIndex:p-p%l,endIndex:v===u?u:v-v%l}}},{key:"getTextOfTick",value:function(r){var i=this.props,s=i.data,a=i.tickFormatter,o=i.dataKey,l=Ls(s[r],o,r);return Vt(a)?a(l,r):l}},{key:"attachDragEndListener",value:function(){window.addEventListener("mouseup",this.handleDragEnd,!0),window.addEventListener("touchend",this.handleDragEnd,!0),window.addEventListener("mousemove",this.handleDrag,!0)}},{key:"detachDragEndListener",value:function(){window.removeEventListener("mouseup",this.handleDragEnd,!0),window.removeEventListener("touchend",this.handleDragEnd,!0),window.removeEventListener("mousemove",this.handleDrag,!0)}},{key:"handleSlideDrag",value:function(r){var i=this.state,s=i.slideMoveStartX,a=i.startX,o=i.endX,l=this.props,c=l.x,u=l.width,f=l.travellerWidth,d=l.startIndex,p=l.endIndex,v=l.onChange,b=r.pageX-s;b>0?b=Math.min(b,c+u-f-o,c+u-f-a):b<0&&(b=Math.max(b,c-a,c-o));var x=this.getIndex({startX:a+b,endX:o+b});(x.startIndex!==d||x.endIndex!==p)&&v&&v(x),this.setState({startX:a+b,endX:o+b,slideMoveStartX:r.pageX})}},{key:"handleTravellerDragStart",value:function(r,i){var s=CF(i)?i.changedTouches[0]:i;this.setState({isSlideMoving:!1,isTravellerMoving:!0,movingTravellerId:r,brushMoveStartX:s.pageX}),this.attachDragEndListener()}},{key:"handleTravellerMove",value:function(r){var i=this.state,s=i.brushMoveStartX,a=i.movingTravellerId,o=i.endX,l=i.startX,c=this.state[a],u=this.props,f=u.x,d=u.width,p=u.travellerWidth,v=u.onChange,b=u.gap,x=u.data,y={startX:this.state.startX,endX:this.state.endX},w=r.pageX-s;w>0?w=Math.min(w,f+d-p-c):w<0&&(w=Math.max(w,f-c)),y[a]=c+w;var _=this.getIndex(y),S=_.startIndex,M=_.endIndex,E=function(){var C=x.length-1;return a==="startX"&&(o>l?S%b===0:M%b===0)||o<l&&M===C||a==="endX"&&(o>l?M%b===0:S%b===0)||o>l&&M===C};this.setState(Ss(Ss({},a,c+w),"brushMoveStartX",r.pageX),function(){v&&E()&&v(_)})}},{key:"handleTravellerMoveKeyboard",value:function(r,i){var s=this,a=this.state,o=a.scaleValues,l=a.startX,c=a.endX,u=this.state[i],f=o.indexOf(u);if(f!==-1){var d=f+r;if(!(d===-1||d>=o.length)){var p=o[d];i==="startX"&&p>=c||i==="endX"&&p<=l||this.setState(Ss({},i,p),function(){s.props.onChange(s.getIndex({startX:s.state.startX,endX:s.state.endX}))})}}}},{key:"renderBackground",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.fill,c=r.stroke;return ce.createElement("rect",{stroke:c,fill:l,x:i,y:s,width:a,height:o})}},{key:"renderPanorama",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.data,c=r.children,u=r.padding,f=F.Children.only(c);return f?ce.cloneElement(f,{x:i,y:s,width:a,height:o,margin:u,compact:!0,data:l}):null}},{key:"renderTravellerLayer",value:function(r,i){var s,a,o=this,l=this.props,c=l.y,u=l.travellerWidth,f=l.height,d=l.traveller,p=l.ariaLabel,v=l.data,b=l.startIndex,x=l.endIndex,y=Math.max(r,this.props.x),w=$M($M({},Kt(this.props,!1)),{},{x:y,y:c,width:u,height:f}),_=p||"Min value: ".concat((s=v[b])===null||s===void 0?void 0:s.name,", Max value: ").concat((a=v[x])===null||a===void 0?void 0:a.name);return ce.createElement(lr,{tabIndex:0,role:"slider","aria-label":_,"aria-valuenow":r,className:"recharts-brush-traveller",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.travellerDragStartHandlers[i],onTouchStart:this.travellerDragStartHandlers[i],onKeyDown:function(M){["ArrowLeft","ArrowRight"].includes(M.key)&&(M.preventDefault(),M.stopPropagation(),o.handleTravellerMoveKeyboard(M.key==="ArrowRight"?1:-1,i))},onFocus:function(){o.setState({isTravellerFocused:!0})},onBlur:function(){o.setState({isTravellerFocused:!1})},style:{cursor:"col-resize"}},e.renderTraveller(d,w))}},{key:"renderSlide",value:function(r,i){var s=this.props,a=s.y,o=s.height,l=s.stroke,c=s.travellerWidth,u=Math.min(r,i)+c,f=Math.max(Math.abs(i-r)-c,0);return ce.createElement("rect",{className:"recharts-brush-slide",onMouseEnter:this.handleEnterSlideOrTraveller,onMouseLeave:this.handleLeaveSlideOrTraveller,onMouseDown:this.handleSlideDragStart,onTouchStart:this.handleSlideDragStart,style:{cursor:"move"},stroke:"none",fill:l,fillOpacity:.2,x:u,y:a,width:f,height:o})}},{key:"renderText",value:function(){var r=this.props,i=r.startIndex,s=r.endIndex,a=r.y,o=r.height,l=r.travellerWidth,c=r.stroke,u=this.state,f=u.startX,d=u.endX,p=5,v={pointerEvents:"none",fill:c};return ce.createElement(lr,{className:"recharts-brush-texts"},ce.createElement(ob,Rb({textAnchor:"end",verticalAnchor:"middle",x:Math.min(f,d)-p,y:a+o/2},v),this.getTextOfTick(i)),ce.createElement(ob,Rb({textAnchor:"start",verticalAnchor:"middle",x:Math.max(f,d)+l+p,y:a+o/2},v),this.getTextOfTick(s)))}},{key:"render",value:function(){var r=this.props,i=r.data,s=r.className,a=r.children,o=r.x,l=r.y,c=r.width,u=r.height,f=r.alwaysShowText,d=this.state,p=d.startX,v=d.endX,b=d.isTextActive,x=d.isSlideMoving,y=d.isTravellerMoving,w=d.isTravellerFocused;if(!i||!i.length||!Qe(o)||!Qe(l)||!Qe(c)||!Qe(u)||c<=0||u<=0)return null;var _=en("recharts-brush",s),S=ce.Children.count(a)===1,M=tOe("userSelect","none");return ce.createElement(lr,{className:_,onMouseLeave:this.handleLeaveWrapper,onTouchMove:this.handleTouchMove,style:M},this.renderBackground(),S&&this.renderPanorama(),this.renderSlide(p,v),this.renderTravellerLayer(p,"startX"),this.renderTravellerLayer(v,"endX"),(b||x||y||w||f)&&this.renderText())}}],[{key:"renderDefaultTraveller",value:function(r){var i=r.x,s=r.y,a=r.width,o=r.height,l=r.stroke,c=Math.floor(s+o/2)-1;return ce.createElement(ce.Fragment,null,ce.createElement("rect",{x:i,y:s,width:a,height:o,fill:l,stroke:"none"}),ce.createElement("line",{x1:i+1,y1:c,x2:i+a-1,y2:c,fill:"none",stroke:"#fff"}),ce.createElement("line",{x1:i+1,y1:c+2,x2:i+a-1,y2:c+2,fill:"none",stroke:"#fff"}))}},{key:"renderTraveller",value:function(r,i){var s;return ce.isValidElement(r)?s=ce.cloneElement(r,i):Vt(r)?s=r(i):s=e.renderDefaultTraveller(i),s}},{key:"getDerivedStateFromProps",value:function(r,i){var s=r.data,a=r.width,o=r.x,l=r.travellerWidth,c=r.updateId,u=r.startIndex,f=r.endIndex;if(s!==i.prevData||c!==i.prevUpdateId)return $M({prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a},s&&s.length?cOe({data:s,width:a,x:o,travellerWidth:l,startIndex:u,endIndex:f}):{scale:null,scaleValues:null});if(i.scale&&(a!==i.prevWidth||o!==i.prevX||l!==i.prevTravellerWidth)){i.scale.range([o,o+a-l]);var d=i.scale.domain().map(function(p){return i.scale(p)});return{prevData:s,prevTravellerWidth:l,prevUpdateId:c,prevX:o,prevWidth:a,startX:i.scale(r.startIndex),endX:i.scale(r.endIndex),scaleValues:d}}return null}},{key:"getIndexInRange",value:function(r,i){for(var s=r.length,a=0,o=s-1;o-a>1;){var l=Math.floor((a+o)/2);r[l]>i?o=l:a=l}return i>=r[o]?o:a}}])}(F.PureComponent);Ss(Ah,"displayName","Brush");Ss(Ah,"defaultProps",{height:40,travellerWidth:5,gap:1,fill:"#fff",stroke:"#666",padding:{top:1,right:1,bottom:1,left:1},leaveTimeOut:1e3,alwaysShowText:!1});var uOe=yR;function fOe(t,e){var n;return uOe(t,function(r,i,s){return n=e(r,i,s),!n}),!!n}var dOe=fOe,hOe=nW,pOe=Nc,mOe=dOe,gOe=ls,vOe=xw;function yOe(t,e,n){var r=gOe(t)?hOe:mOe;return n&&vOe(t,e,n)&&(e=void 0),r(t,pOe(e))}var xOe=yOe;const bOe=yn(xOe);var po=function(e,n){var r=e.alwaysShow,i=e.ifOverflow;return r&&(i="extendDomain"),i===n},NF=MW;function _Oe(t,e,n){e=="__proto__"&&NF?NF(t,e,{configurable:!0,enumerable:!0,value:n,writable:!0}):t[e]=n}var wOe=_Oe,SOe=wOe,MOe=wW,EOe=Nc;function TOe(t,e){var n={};return e=EOe(e),MOe(t,function(r,i,s){SOe(n,i,e(r,i,s))}),n}var AOe=TOe;const POe=yn(AOe);function COe(t,e){for(var n=-1,r=t==null?0:t.length;++n<r;)if(!e(t[n],n,t))return!1;return!0}var NOe=COe,ROe=yR;function OOe(t,e){var n=!0;return ROe(t,function(r,i,s){return n=!!e(r,i,s),n}),n}var LOe=OOe,IOe=NOe,jOe=LOe,kOe=Nc,DOe=ls,UOe=xw;function FOe(t,e,n){var r=DOe(t)?IOe:jOe;return n&&UOe(t,e,n)&&(e=void 0),r(t,kOe(e))}var BOe=FOe;const QG=yn(BOe);var zOe=["x","y"];function y0(t){"@babel/helpers - typeof";return y0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},y0(t)}function cP(){return cP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},cP.apply(this,arguments)}function RF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function fm(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?RF(Object(n),!0).forEach(function(r){VOe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):RF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function VOe(t,e,n){return e=HOe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function HOe(t){var e=$Oe(t,"string");return y0(e)=="symbol"?e:e+""}function $Oe(t,e){if(y0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(y0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function WOe(t,e){if(t==null)return{};var n=GOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function GOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function XOe(t,e){var n=t.x,r=t.y,i=WOe(t,zOe),s="".concat(n),a=parseInt(s,10),o="".concat(r),l=parseInt(o,10),c="".concat(e.height||i.height),u=parseInt(c,10),f="".concat(e.width||i.width),d=parseInt(f,10);return fm(fm(fm(fm(fm({},e),i),a?{x:a}:{}),l?{y:l}:{}),{},{height:u,width:d,name:e.name,radius:e.radius})}function OF(t){return ce.createElement(NRe,cP({shapeType:"rectangle",propTransformer:XOe,activeClassName:"recharts-active-bar"},t))}var qOe=function(e){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0;return function(r,i){if(typeof e=="number")return e;var s=Qe(r)||bme(r);return s?e(r,i):(s||nf(!1),n)}},YOe=["value","background"],e9;function Ph(t){"@babel/helpers - typeof";return Ph=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ph(t)}function KOe(t,e){if(t==null)return{};var n=ZOe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function ZOe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Lb(){return Lb=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lb.apply(this,arguments)}function LF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function mr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(n),!0).forEach(function(r){ql(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):LF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function JOe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function IF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,n9(r.key),r)}}function QOe(t,e,n){return e&&IF(t.prototype,e),n&&IF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function e3e(t,e,n){return e=Ib(e),t3e(t,t9()?Reflect.construct(e,n||[],Ib(t).constructor):e.apply(t,n))}function t3e(t,e){if(e&&(Ph(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return n3e(t)}function n3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function t9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(t9=function(){return!!t})()}function Ib(t){return Ib=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Ib(t)}function r3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&uP(t,e)}function uP(t,e){return uP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},uP(t,e)}function ql(t,e,n){return e=n9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function n9(t){var e=i3e(t,"string");return Ph(e)=="symbol"?e:e+""}function i3e(t,e){if(Ph(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ph(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var tv=function(t){function e(){var n;JOe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=e3e(this,e,[].concat(i)),ql(n,"state",{isAnimationFinished:!1}),ql(n,"id",q0("recharts-bar-")),ql(n,"handleAnimationEnd",function(){var a=n.props.onAnimationEnd;n.setState({isAnimationFinished:!0}),a&&a()}),ql(n,"handleAnimationStart",function(){var a=n.props.onAnimationStart;n.setState({isAnimationFinished:!1}),a&&a()}),n}return r3e(e,t),QOe(e,[{key:"renderRectanglesStatically",value:function(r){var i=this,s=this.props,a=s.shape,o=s.dataKey,l=s.activeIndex,c=s.activeBar,u=Kt(this.props,!1);return r&&r.map(function(f,d){var p=d===l,v=p?c:a,b=mr(mr(mr({},u),f),{},{isActive:p,option:v,index:d,dataKey:o,onAnimationStart:i.handleAnimationStart,onAnimationEnd:i.handleAnimationEnd});return ce.createElement(lr,Lb({className:"recharts-bar-rectangle"},X1(i.props,f,d),{key:"rectangle-".concat(f==null?void 0:f.x,"-").concat(f==null?void 0:f.y,"-").concat(f==null?void 0:f.value,"-").concat(d)}),ce.createElement(OF,b))})}},{key:"renderRectanglesWithAnimation",value:function(){var r=this,i=this.props,s=i.data,a=i.layout,o=i.isAnimationActive,l=i.animationBegin,c=i.animationDuration,u=i.animationEasing,f=i.animationId,d=this.state.prevData;return ce.createElement(Eh,{begin:l,duration:c,isActive:o,easing:u,from:{t:0},to:{t:1},key:"bar-".concat(f),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(p){var v=p.t,b=s.map(function(x,y){var w=d&&d[y];if(w){var _=Ca(w.x,x.x),S=Ca(w.y,x.y),M=Ca(w.width,x.width),E=Ca(w.height,x.height);return mr(mr({},x),{},{x:_(v),y:S(v),width:M(v),height:E(v)})}if(a==="horizontal"){var A=Ca(0,x.height),C=A(v);return mr(mr({},x),{},{y:x.y+x.height-C,height:C})}var P=Ca(0,x.width),R=P(v);return mr(mr({},x),{},{width:R})});return ce.createElement(lr,null,r.renderRectanglesStatically(b))})}},{key:"renderRectangles",value:function(){var r=this.props,i=r.data,s=r.isAnimationActive,a=this.state.prevData;return s&&i&&i.length&&(!a||!Pw(a,i))?this.renderRectanglesWithAnimation():this.renderRectanglesStatically(i)}},{key:"renderBackground",value:function(){var r=this,i=this.props,s=i.data,a=i.dataKey,o=i.activeIndex,l=Kt(this.props.background,!1);return s.map(function(c,u){c.value;var f=c.background,d=KOe(c,YOe);if(!f)return null;var p=mr(mr(mr(mr(mr({},d),{},{fill:"#eee"},f),l),X1(r.props,c,u)),{},{onAnimationStart:r.handleAnimationStart,onAnimationEnd:r.handleAnimationEnd,dataKey:a,index:u,className:"recharts-bar-background-rectangle"});return ce.createElement(OF,Lb({key:"background-bar-".concat(u),option:r.props.background,isActive:u===o},p))})}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.data,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,f=sa(u,ev);if(!f)return null;var d=c==="vertical"?a[0].height/2:a[0].width/2,p=function(x,y){var w=Array.isArray(x.value)?x.value[1]:x.value;return{x:x.x,y:x.y,value:w,errorVal:Ls(x,y)}},v={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ce.createElement(lr,v,f.map(function(b){return ce.cloneElement(b,{key:"error-bar-".concat(i,"-").concat(b.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,offset:d,dataPointFormatter:p})}))}},{key:"render",value:function(){var r=this.props,i=r.hide,s=r.data,a=r.className,o=r.xAxis,l=r.yAxis,c=r.left,u=r.top,f=r.width,d=r.height,p=r.isAnimationActive,v=r.background,b=r.id;if(i||!s||!s.length)return null;var x=this.state.isAnimationFinished,y=en("recharts-bar",a),w=o&&o.allowDataOverflow,_=l&&l.allowDataOverflow,S=w||_,M=Wt(b)?this.id:b;return ce.createElement(lr,{className:y},w||_?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(M)},ce.createElement("rect",{x:w?c:c-f/2,y:_?u:u-d/2,width:w?f:f*2,height:_?d:d*2}))):null,ce.createElement(lr,{className:"recharts-bar-rectangles",clipPath:S?"url(#clipPath-".concat(M,")"):null},v?this.renderBackground():null,this.renderRectangles()),this.renderErrorBar(S,M),(!p||x)&&fc.renderCallByParent(this.props,s))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curData:r.data,prevData:i.curData}:r.data!==i.curData?{curData:r.data}:null}}])}(F.PureComponent);e9=tv;ql(tv,"displayName","Bar");ql(tv,"defaultProps",{xAxisId:0,yAxisId:0,legendType:"rect",minPointSize:0,hide:!1,data:[],layout:"vertical",activeBar:!1,isAnimationActive:!tl.isSsr,animationBegin:0,animationDuration:400,animationEasing:"ease"});ql(tv,"getComposedData",function(t){var e=t.props,n=t.item,r=t.barPosition,i=t.bandSize,s=t.xAxis,a=t.yAxis,o=t.xAxisTicks,l=t.yAxisTicks,c=t.stackedData,u=t.dataStartIndex,f=t.displayedData,d=t.offset,p=BAe(r,n);if(!p)return null;var v=e.layout,b=n.type.defaultProps,x=b!==void 0?mr(mr({},b),n.props):n.props,y=x.dataKey,w=x.children,_=x.minPointSize,S=v==="horizontal"?a:s,M=c?S.scale.domain():null,E=qAe({numericAxis:S}),A=sa(w,RW),C=f.map(function(P,R){var L,O,D,I,z,$;c?L=zAe(c[u+R],M):(L=Ls(P,y),Array.isArray(L)||(L=[E,L]));var q=qOe(_,e9.defaultProps.minPointSize)(L[1],R);if(v==="horizontal"){var V,U=[a.scale(L[0]),a.scale(L[1])],W=U[0],k=U[1];O=O4({axis:s,ticks:o,bandSize:i,offset:p.offset,entry:P,index:R}),D=(V=k??W)!==null&&V!==void 0?V:void 0,I=p.size;var H=W-k;if(z=Number.isNaN(H)?0:H,$={x:O,y:a.y,width:I,height:a.height},Math.abs(q)>0&&Math.abs(z)<Math.abs(q)){var K=Oa(z||q)*(Math.abs(q)-Math.abs(z));D-=K,z+=K}}else{var ne=[s.scale(L[0]),s.scale(L[1])],te=ne[0],ae=ne[1];if(O=te,D=O4({axis:a,ticks:l,bandSize:i,offset:p.offset,entry:P,index:R}),I=ae-te,z=p.size,$={x:s.x,y:D,width:s.width,height:z},Math.abs(q)>0&&Math.abs(I)<Math.abs(q)){var oe=Oa(I||q)*(Math.abs(q)-Math.abs(I));I+=oe}}return mr(mr(mr({},P),{},{x:O,y:D,width:I,height:z,value:c?L:L[1],payload:P,background:$},A&&A[R]&&A[R].props),{},{tooltipPayload:[DG(n,P)],tooltipPosition:{x:O+I/2,y:D+z/2}})});return mr({data:C,layout:v},d)});function x0(t){"@babel/helpers - typeof";return x0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},x0(t)}function s3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function jF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,r9(r.key),r)}}function a3e(t,e,n){return e&&jF(t.prototype,e),n&&jF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function kF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Ea(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(n),!0).forEach(function(r){Iw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):kF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Iw(t,e,n){return e=r9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function r9(t){var e=o3e(t,"string");return x0(e)=="symbol"?e:e+""}function o3e(t,e){if(x0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(x0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var l3e=function(e,n,r,i,s){var a=e.width,o=e.height,l=e.layout,c=e.children,u=Object.keys(n),f={left:r.left,leftMirror:r.left,right:a-r.right,rightMirror:a-r.right,top:r.top,topMirror:r.top,bottom:o-r.bottom,bottomMirror:o-r.bottom},d=!!Es(c,tv);return u.reduce(function(p,v){var b=n[v],x=b.orientation,y=b.domain,w=b.padding,_=w===void 0?{}:w,S=b.mirror,M=b.reversed,E="".concat(x).concat(S?"Mirror":""),A,C,P,R,L;if(b.type==="number"&&(b.padding==="gap"||b.padding==="no-gap")){var O=y[1]-y[0],D=1/0,I=b.categoricalDomain.sort(Sme);if(I.forEach(function(ne,te){te>0&&(D=Math.min((ne||0)-(I[te-1]||0),D))}),Number.isFinite(D)){var z=D/O,$=b.layout==="vertical"?r.height:r.width;if(b.padding==="gap"&&(A=z*$/2),b.padding==="no-gap"){var q=ef(e.barCategoryGap,z*$),V=z*$/2;A=V-q-(V-q)/$*q}}}i==="xAxis"?C=[r.left+(_.left||0)+(A||0),r.left+r.width-(_.right||0)-(A||0)]:i==="yAxis"?C=l==="horizontal"?[r.top+r.height-(_.bottom||0),r.top+(_.top||0)]:[r.top+(_.top||0)+(A||0),r.top+r.height-(_.bottom||0)-(A||0)]:C=b.range,M&&(C=[C[1],C[0]]);var U=UAe(b,s,d),W=U.scale,k=U.realScaleType;W.domain(y).range(C),FAe(W);var H=XAe(W,Ea(Ea({},b),{},{realScaleType:k}));i==="xAxis"?(L=x==="top"&&!S||x==="bottom"&&S,P=r.left,R=f[E]-L*b.height):i==="yAxis"&&(L=x==="left"&&!S||x==="right"&&S,P=f[E]-L*b.width,R=r.top);var K=Ea(Ea(Ea({},b),H),{},{realScaleType:k,x:P,y:R,scale:W,width:i==="xAxis"?r.width:b.width,height:i==="yAxis"?r.height:b.height});return K.bandSize=_b(K,H),!b.hide&&i==="xAxis"?f[E]+=(L?-1:1)*K.height:b.hide||(f[E]+=(L?-1:1)*K.width),Ea(Ea({},p),{},Iw({},v,K))},{})},i9=function(e,n){var r=e.x,i=e.y,s=n.x,a=n.y;return{x:Math.min(r,s),y:Math.min(i,a),width:Math.abs(s-r),height:Math.abs(a-i)}},c3e=function(e){var n=e.x1,r=e.y1,i=e.x2,s=e.y2;return i9({x:n,y:r},{x:i,y:s})},s9=function(){function t(e){s3e(this,t),this.scale=e}return a3e(t,[{key:"domain",get:function(){return this.scale.domain}},{key:"range",get:function(){return this.scale.range}},{key:"rangeMin",get:function(){return this.range()[0]}},{key:"rangeMax",get:function(){return this.range()[1]}},{key:"bandwidth",get:function(){return this.scale.bandwidth}},{key:"apply",value:function(n){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},i=r.bandAware,s=r.position;if(n!==void 0){if(s)switch(s){case"start":return this.scale(n);case"middle":{var a=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+a}case"end":{var o=this.bandwidth?this.bandwidth():0;return this.scale(n)+o}default:return this.scale(n)}if(i){var l=this.bandwidth?this.bandwidth()/2:0;return this.scale(n)+l}return this.scale(n)}}},{key:"isInRange",value:function(n){var r=this.range(),i=r[0],s=r[r.length-1];return i<=s?n>=i&&n<=s:n>=s&&n<=i}}],[{key:"create",value:function(n){return new t(n)}}])}();Iw(s9,"EPS",1e-4);var qR=function(e){var n=Object.keys(e).reduce(function(r,i){return Ea(Ea({},r),{},Iw({},i,s9.create(e[i])))},{});return Ea(Ea({},n),{},{apply:function(i){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},a=s.bandAware,o=s.position;return POe(i,function(l,c){return n[c].apply(l,{bandAware:a,position:o})})},isInRange:function(i){return QG(i,function(s,a){return n[a].isInRange(s)})}})};function u3e(t){return(t%180+180)%180}var f3e=function(e){var n=e.width,r=e.height,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,s=u3e(i),a=s*Math.PI/180,o=Math.atan(r/n),l=a>o&&a<Math.PI-o?r/Math.sin(a):n/Math.cos(a);return Math.abs(l)},d3e=Nc,h3e=Y0,p3e=vw;function m3e(t){return function(e,n,r){var i=Object(e);if(!h3e(e)){var s=d3e(n);e=p3e(e),n=function(o){return s(i[o],o,i)}}var a=t(e,n,r);return a>-1?i[s?e[a]:a]:void 0}}var g3e=m3e,v3e=YG;function y3e(t){var e=v3e(t),n=e%1;return e===e?n?e-n:e:0}var x3e=y3e,b3e=gW,_3e=Nc,w3e=x3e,S3e=Math.max;function M3e(t,e,n){var r=t==null?0:t.length;if(!r)return-1;var i=n==null?0:w3e(n);return i<0&&(i=S3e(r+i,0)),b3e(t,_3e(e),i)}var E3e=M3e,T3e=g3e,A3e=E3e,P3e=T3e(A3e),C3e=P3e;const N3e=yn(C3e);var R3e=Mpe(function(t){return{x:t.left,y:t.top,width:t.width,height:t.height}},function(t){return["l",t.left,"t",t.top,"w",t.width,"h",t.height].join("")}),YR=F.createContext(void 0),KR=F.createContext(void 0),a9=F.createContext(void 0),o9=F.createContext({}),l9=F.createContext(void 0),c9=F.createContext(0),u9=F.createContext(0),DF=function(e){var n=e.state,r=n.xAxisMap,i=n.yAxisMap,s=n.offset,a=e.clipPathId,o=e.children,l=e.width,c=e.height,u=R3e(s);return ce.createElement(YR.Provider,{value:r},ce.createElement(KR.Provider,{value:i},ce.createElement(o9.Provider,{value:s},ce.createElement(a9.Provider,{value:u},ce.createElement(l9.Provider,{value:a},ce.createElement(c9.Provider,{value:c},ce.createElement(u9.Provider,{value:l},o)))))))},O3e=function(){return F.useContext(l9)},f9=function(e){var n=F.useContext(YR);n==null&&nf(!1);var r=n[e];return r==null&&nf(!1),r},L3e=function(){var e=F.useContext(YR);return $l(e)},I3e=function(){var e=F.useContext(KR),n=N3e(e,function(r){return QG(r.domain,Number.isFinite)});return n||$l(e)},d9=function(e){var n=F.useContext(KR);n==null&&nf(!1);var r=n[e];return r==null&&nf(!1),r},j3e=function(){var e=F.useContext(a9);return e},k3e=function(){return F.useContext(o9)},ZR=function(){return F.useContext(u9)},JR=function(){return F.useContext(c9)};function Ch(t){"@babel/helpers - typeof";return Ch=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ch(t)}function D3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function UF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,p9(r.key),r)}}function U3e(t,e,n){return e&&UF(t.prototype,e),n&&UF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function F3e(t,e,n){return e=jb(e),B3e(t,h9()?Reflect.construct(e,n||[],jb(t).constructor):e.apply(t,n))}function B3e(t,e){if(e&&(Ch(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return z3e(t)}function z3e(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function h9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(h9=function(){return!!t})()}function jb(t){return jb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},jb(t)}function V3e(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&fP(t,e)}function fP(t,e){return fP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},fP(t,e)}function FF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function BF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(n),!0).forEach(function(r){QR(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):FF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function QR(t,e,n){return e=p9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function p9(t){var e=H3e(t,"string");return Ch(e)=="symbol"?e:e+""}function H3e(t,e){if(Ch(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ch(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function $3e(t,e){return q3e(t)||X3e(t,e)||G3e(t,e)||W3e()}function W3e(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function G3e(t,e){if(t){if(typeof t=="string")return zF(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return zF(t,e)}}function zF(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function X3e(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function q3e(t){if(Array.isArray(t))return t}function dP(){return dP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},dP.apply(this,arguments)}var Y3e=function(e,n){var r;return ce.isValidElement(e)?r=ce.cloneElement(e,n):Vt(e)?r=e(n):r=ce.createElement("line",dP({},n,{className:"recharts-reference-line-line"})),r},K3e=function(e,n,r,i,s,a,o,l,c){var u=s.x,f=s.y,d=s.width,p=s.height;if(r){var v=c.y,b=e.y.apply(v,{position:a});if(po(c,"discard")&&!e.y.isInRange(b))return null;var x=[{x:u+d,y:b},{x:u,y:b}];return l==="left"?x.reverse():x}if(n){var y=c.x,w=e.x.apply(y,{position:a});if(po(c,"discard")&&!e.x.isInRange(w))return null;var _=[{x:w,y:f+p},{x:w,y:f}];return o==="top"?_.reverse():_}if(i){var S=c.segment,M=S.map(function(E){return e.apply(E,{position:a})});return po(c,"discard")&&bOe(M,function(E){return!e.isInRange(E)})?null:M}return null};function Z3e(t){var e=t.x,n=t.y,r=t.segment,i=t.xAxisId,s=t.yAxisId,a=t.shape,o=t.className,l=t.alwaysShow,c=O3e(),u=f9(i),f=d9(s),d=j3e();if(!c||!d)return null;el(l===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var p=qR({x:u.scale,y:f.scale}),v=Or(e),b=Or(n),x=r&&r.length===2,y=K3e(p,v,b,x,d,t.position,u.orientation,f.orientation,t);if(!y)return null;var w=$3e(y,2),_=w[0],S=_.x,M=_.y,E=w[1],A=E.x,C=E.y,P=po(t,"hidden")?"url(#".concat(c,")"):void 0,R=BF(BF({clipPath:P},Kt(t,!0)),{},{x1:S,y1:M,x2:A,y2:C});return ce.createElement(lr,{className:en("recharts-reference-line",o)},Y3e(a,R),gi.renderCallByParent(t,c3e({x1:S,y1:M,x2:A,y2:C})))}var eO=function(t){function e(){return D3e(this,e),F3e(this,e,arguments)}return V3e(e,t),U3e(e,[{key:"render",value:function(){return ce.createElement(Z3e,this.props)}}])}(ce.Component);QR(eO,"displayName","ReferenceLine");QR(eO,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,fill:"none",stroke:"#ccc",fillOpacity:1,strokeWidth:1,position:"middle"});function hP(){return hP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},hP.apply(this,arguments)}function Nh(t){"@babel/helpers - typeof";return Nh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Nh(t)}function VF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function HF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(n),!0).forEach(function(r){jw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):VF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function J3e(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function $F(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,g9(r.key),r)}}function Q3e(t,e,n){return e&&$F(t.prototype,e),n&&$F(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function eLe(t,e,n){return e=kb(e),tLe(t,m9()?Reflect.construct(e,n||[],kb(t).constructor):e.apply(t,n))}function tLe(t,e){if(e&&(Nh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return nLe(t)}function nLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function m9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(m9=function(){return!!t})()}function kb(t){return kb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},kb(t)}function rLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&pP(t,e)}function pP(t,e){return pP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},pP(t,e)}function jw(t,e,n){return e=g9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function g9(t){var e=iLe(t,"string");return Nh(e)=="symbol"?e:e+""}function iLe(t,e){if(Nh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Nh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sLe=function(e){var n=e.x,r=e.y,i=e.xAxis,s=e.yAxis,a=qR({x:i.scale,y:s.scale}),o=a.apply({x:n,y:r},{bandAware:!0});return po(e,"discard")&&!a.isInRange(o)?null:o},kw=function(t){function e(){return J3e(this,e),eLe(this,e,arguments)}return rLe(e,t),Q3e(e,[{key:"render",value:function(){var r=this.props,i=r.x,s=r.y,a=r.r,o=r.alwaysShow,l=r.clipPathId,c=Or(i),u=Or(s);if(el(o===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.'),!c||!u)return null;var f=sLe(this.props);if(!f)return null;var d=f.x,p=f.y,v=this.props,b=v.shape,x=v.className,y=po(this.props,"hidden")?"url(#".concat(l,")"):void 0,w=HF(HF({clipPath:y},Kt(this.props,!0)),{},{cx:d,cy:p});return ce.createElement(lr,{className:en("recharts-reference-dot",x)},e.renderDot(b,w),gi.renderCallByParent(this.props,{x:d-a,y:p-a,width:2*a,height:2*a}))}}])}(ce.Component);jw(kw,"displayName","ReferenceDot");jw(kw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#fff",stroke:"#ccc",fillOpacity:1,strokeWidth:1});jw(kw,"renderDot",function(t,e){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,e):Vt(t)?n=t(e):n=ce.createElement(XR,hP({},e,{cx:e.cx,cy:e.cy,className:"recharts-reference-dot-dot"})),n});function mP(){return mP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mP.apply(this,arguments)}function Rh(t){"@babel/helpers - typeof";return Rh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Rh(t)}function WF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function GF(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(n),!0).forEach(function(r){Dw(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):WF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function aLe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function XF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,y9(r.key),r)}}function oLe(t,e,n){return e&&XF(t.prototype,e),n&&XF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function lLe(t,e,n){return e=Db(e),cLe(t,v9()?Reflect.construct(e,n||[],Db(t).constructor):e.apply(t,n))}function cLe(t,e){if(e&&(Rh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return uLe(t)}function uLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function v9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(v9=function(){return!!t})()}function Db(t){return Db=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Db(t)}function fLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&gP(t,e)}function gP(t,e){return gP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},gP(t,e)}function Dw(t,e,n){return e=y9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function y9(t){var e=dLe(t,"string");return Rh(e)=="symbol"?e:e+""}function dLe(t,e){if(Rh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Rh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var hLe=function(e,n,r,i,s){var a=s.x1,o=s.x2,l=s.y1,c=s.y2,u=s.xAxis,f=s.yAxis;if(!u||!f)return null;var d=qR({x:u.scale,y:f.scale}),p={x:e?d.x.apply(a,{position:"start"}):d.x.rangeMin,y:r?d.y.apply(l,{position:"start"}):d.y.rangeMin},v={x:n?d.x.apply(o,{position:"end"}):d.x.rangeMax,y:i?d.y.apply(c,{position:"end"}):d.y.rangeMax};return po(s,"discard")&&(!d.isInRange(p)||!d.isInRange(v))?null:i9(p,v)},Uw=function(t){function e(){return aLe(this,e),lLe(this,e,arguments)}return fLe(e,t),oLe(e,[{key:"render",value:function(){var r=this.props,i=r.x1,s=r.x2,a=r.y1,o=r.y2,l=r.className,c=r.alwaysShow,u=r.clipPathId;el(c===void 0,'The alwaysShow prop is deprecated. Please use ifOverflow="extendDomain" instead.');var f=Or(i),d=Or(s),p=Or(a),v=Or(o),b=this.props.shape;if(!f&&!d&&!p&&!v&&!b)return null;var x=hLe(f,d,p,v,this.props);if(!x&&!b)return null;var y=po(this.props,"hidden")?"url(#".concat(u,")"):void 0;return ce.createElement(lr,{className:en("recharts-reference-area",l)},e.renderRect(b,GF(GF({clipPath:y},Kt(this.props,!0)),x)),gi.renderCallByParent(this.props,x))}}])}(ce.Component);Dw(Uw,"displayName","ReferenceArea");Dw(Uw,"defaultProps",{isFront:!1,ifOverflow:"discard",xAxisId:0,yAxisId:0,r:10,fill:"#ccc",fillOpacity:.5,stroke:"none",strokeWidth:1});Dw(Uw,"renderRect",function(t,e){var n;return ce.isValidElement(t)?n=ce.cloneElement(t,e):Vt(t)?n=t(e):n=ce.createElement(GR,mP({},e,{className:"recharts-reference-area-rect"})),n});function x9(t,e,n){if(e<1)return[];if(e===1&&n===void 0)return t;for(var r=[],i=0;i<t.length;i+=e)if(n===void 0||n(t[i])===!0)r.push(t[i]);else return;return r}function pLe(t,e,n){var r={width:t.width+e.width,height:t.height+e.height};return f3e(r,n)}function mLe(t,e,n){var r=n==="width",i=t.x,s=t.y,a=t.width,o=t.height;return e===1?{start:r?i:s,end:r?i+a:s+o}:{start:r?i+a:s+o,end:r?i:s}}function Ub(t,e,n,r,i){if(t*e<t*r||t*e>t*i)return!1;var s=n();return t*(e-t*s/2-r)>=0&&t*(e+t*s/2-i)<=0}function gLe(t,e){return x9(t,e+1)}function vLe(t,e,n,r,i){for(var s=(r||[]).slice(),a=e.start,o=e.end,l=0,c=1,u=a,f=function(){var v=r==null?void 0:r[l];if(v===void 0)return{v:x9(r,c)};var b=l,x,y=function(){return x===void 0&&(x=n(v,b)),x},w=v.coordinate,_=l===0||Ub(t,w,y,u,o);_||(l=0,u=a,c+=1),_&&(u=w+t*(y()/2+i),l+=c)},d;c<=s.length;)if(d=f(),d)return d.v;return[]}function b0(t){"@babel/helpers - typeof";return b0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},b0(t)}function qF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function pi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?qF(Object(n),!0).forEach(function(r){yLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function yLe(t,e,n){return e=xLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function xLe(t){var e=bLe(t,"string");return b0(e)=="symbol"?e:e+""}function bLe(t,e){if(b0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(b0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _Le(t,e,n,r,i){for(var s=(r||[]).slice(),a=s.length,o=e.start,l=e.end,c=function(d){var p=s[d],v,b=function(){return v===void 0&&(v=n(p,d)),v};if(d===a-1){var x=t*(p.coordinate+t*b()/2-l);s[d]=p=pi(pi({},p),{},{tickCoord:x>0?p.coordinate-x*t:p.coordinate})}else s[d]=p=pi(pi({},p),{},{tickCoord:p.coordinate});var y=Ub(t,p.tickCoord,b,o,l);y&&(l=p.tickCoord-t*(b()/2+i),s[d]=pi(pi({},p),{},{isShow:!0}))},u=a-1;u>=0;u--)c(u);return s}function wLe(t,e,n,r,i,s){var a=(r||[]).slice(),o=a.length,l=e.start,c=e.end;if(s){var u=r[o-1],f=n(u,o-1),d=t*(u.coordinate+t*f/2-c);a[o-1]=u=pi(pi({},u),{},{tickCoord:d>0?u.coordinate-d*t:u.coordinate});var p=Ub(t,u.tickCoord,function(){return f},l,c);p&&(c=u.tickCoord-t*(f/2+i),a[o-1]=pi(pi({},u),{},{isShow:!0}))}for(var v=s?o-1:o,b=function(w){var _=a[w],S,M=function(){return S===void 0&&(S=n(_,w)),S};if(w===0){var E=t*(_.coordinate-t*M()/2-l);a[w]=_=pi(pi({},_),{},{tickCoord:E<0?_.coordinate-E*t:_.coordinate})}else a[w]=_=pi(pi({},_),{},{tickCoord:_.coordinate});var A=Ub(t,_.tickCoord,M,l,c);A&&(l=_.tickCoord+t*(M()/2+i),a[w]=pi(pi({},_),{},{isShow:!0}))},x=0;x<v;x++)b(x);return a}function tO(t,e,n){var r=t.tick,i=t.ticks,s=t.viewBox,a=t.minTickGap,o=t.orientation,l=t.interval,c=t.tickFormatter,u=t.unit,f=t.angle;if(!i||!i.length||!r)return[];if(Qe(l)||tl.isSsr)return gLe(i,typeof l=="number"&&Qe(l)?l:0);var d=[],p=o==="top"||o==="bottom"?"width":"height",v=u&&p==="width"?Hm(u,{fontSize:e,letterSpacing:n}):{width:0,height:0},b=function(_,S){var M=Vt(c)?c(_.value,S):_.value;return p==="width"?pLe(Hm(M,{fontSize:e,letterSpacing:n}),v,f):Hm(M,{fontSize:e,letterSpacing:n})[p]},x=i.length>=2?Oa(i[1].coordinate-i[0].coordinate):1,y=mLe(s,x,p);return l==="equidistantPreserveStart"?vLe(x,y,b,i,a):(l==="preserveStart"||l==="preserveStartEnd"?d=wLe(x,y,b,i,a,l==="preserveStartEnd"):d=_Le(x,y,b,i,a),d.filter(function(w){return w.isShow}))}var SLe=["viewBox"],MLe=["viewBox"],ELe=["ticks"];function Oh(t){"@babel/helpers - typeof";return Oh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Oh(t)}function Ud(){return Ud=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Ud.apply(this,arguments)}function YF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function Sr(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?YF(Object(n),!0).forEach(function(r){nO(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):YF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function WM(t,e){if(t==null)return{};var n=TLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function TLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function ALe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function KF(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,_9(r.key),r)}}function PLe(t,e,n){return e&&KF(t.prototype,e),n&&KF(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function CLe(t,e,n){return e=Fb(e),NLe(t,b9()?Reflect.construct(e,n||[],Fb(t).constructor):e.apply(t,n))}function NLe(t,e){if(e&&(Oh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return RLe(t)}function RLe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function b9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(b9=function(){return!!t})()}function Fb(t){return Fb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Fb(t)}function OLe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&vP(t,e)}function vP(t,e){return vP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},vP(t,e)}function nO(t,e,n){return e=_9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function _9(t){var e=LLe(t,"string");return Oh(e)=="symbol"?e:e+""}function LLe(t,e){if(Oh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Oh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ap=function(t){function e(n){var r;return ALe(this,e),r=CLe(this,e,[n]),r.state={fontSize:"",letterSpacing:""},r}return OLe(e,t),PLe(e,[{key:"shouldComponentUpdate",value:function(r,i){var s=r.viewBox,a=WM(r,SLe),o=this.props,l=o.viewBox,c=WM(o,MLe);return!Yd(s,l)||!Yd(a,c)||!Yd(i,this.state)}},{key:"componentDidMount",value:function(){var r=this.layerReference;if(r){var i=r.getElementsByClassName("recharts-cartesian-axis-tick-value")[0];i&&this.setState({fontSize:window.getComputedStyle(i).fontSize,letterSpacing:window.getComputedStyle(i).letterSpacing})}}},{key:"getTickLineCoord",value:function(r){var i=this.props,s=i.x,a=i.y,o=i.width,l=i.height,c=i.orientation,u=i.tickSize,f=i.mirror,d=i.tickMargin,p,v,b,x,y,w,_=f?-1:1,S=r.tickSize||u,M=Qe(r.tickCoord)?r.tickCoord:r.coordinate;switch(c){case"top":p=v=r.coordinate,x=a+ +!f*l,b=x-_*S,w=b-_*d,y=M;break;case"left":b=x=r.coordinate,v=s+ +!f*o,p=v-_*S,y=p-_*d,w=M;break;case"right":b=x=r.coordinate,v=s+ +f*o,p=v+_*S,y=p+_*d,w=M;break;default:p=v=r.coordinate,x=a+ +f*l,b=x+_*S,w=b+_*d,y=M;break}return{line:{x1:p,y1:b,x2:v,y2:x},tick:{x:y,y:w}}}},{key:"getTickTextAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a;switch(i){case"left":a=s?"start":"end";break;case"right":a=s?"end":"start";break;default:a="middle";break}return a}},{key:"getTickVerticalAnchor",value:function(){var r=this.props,i=r.orientation,s=r.mirror,a="end";switch(i){case"left":case"right":a="middle";break;case"top":a=s?"start":"end";break;default:a=s?"end":"start";break}return a}},{key:"renderAxisLine",value:function(){var r=this.props,i=r.x,s=r.y,a=r.width,o=r.height,l=r.orientation,c=r.mirror,u=r.axisLine,f=Sr(Sr(Sr({},Kt(this.props,!1)),Kt(u,!1)),{},{fill:"none"});if(l==="top"||l==="bottom"){var d=+(l==="top"&&!c||l==="bottom"&&c);f=Sr(Sr({},f),{},{x1:i,y1:s+d*o,x2:i+a,y2:s+d*o})}else{var p=+(l==="left"&&!c||l==="right"&&c);f=Sr(Sr({},f),{},{x1:i+p*a,y1:s,x2:i+p*a,y2:s+o})}return ce.createElement("line",Ud({},f,{className:en("recharts-cartesian-axis-line",ia(u,"className"))}))}},{key:"renderTicks",value:function(r,i,s){var a=this,o=this.props,l=o.tickLine,c=o.stroke,u=o.tick,f=o.tickFormatter,d=o.unit,p=tO(Sr(Sr({},this.props),{},{ticks:r}),i,s),v=this.getTickTextAnchor(),b=this.getTickVerticalAnchor(),x=Kt(this.props,!1),y=Kt(u,!1),w=Sr(Sr({},x),{},{fill:"none"},Kt(l,!1)),_=p.map(function(S,M){var E=a.getTickLineCoord(S),A=E.line,C=E.tick,P=Sr(Sr(Sr(Sr({textAnchor:v,verticalAnchor:b},x),{},{stroke:"none",fill:c},y),C),{},{index:M,payload:S,visibleTicksCount:p.length,tickFormatter:f});return ce.createElement(lr,Ud({className:"recharts-cartesian-axis-tick",key:"tick-".concat(S.value,"-").concat(S.coordinate,"-").concat(S.tickCoord)},X1(a.props,S,M)),l&&ce.createElement("line",Ud({},w,A,{className:en("recharts-cartesian-axis-tick-line",ia(l,"className"))})),u&&e.renderTickItem(u,P,"".concat(Vt(f)?f(S.value,M):S.value).concat(d||"")))});return ce.createElement("g",{className:"recharts-cartesian-axis-ticks"},_)}},{key:"render",value:function(){var r=this,i=this.props,s=i.axisLine,a=i.width,o=i.height,l=i.ticksGenerator,c=i.className,u=i.hide;if(u)return null;var f=this.props,d=f.ticks,p=WM(f,ELe),v=d;return Vt(l)&&(v=d&&d.length>0?l(this.props):l(p)),a<=0||o<=0||!v||!v.length?null:ce.createElement(lr,{className:en("recharts-cartesian-axis",c),ref:function(x){r.layerReference=x}},s&&this.renderAxisLine(),this.renderTicks(v,this.state.fontSize,this.state.letterSpacing),gi.renderCallByParent(this.props))}}],[{key:"renderTickItem",value:function(r,i,s){var a,o=en(i.className,"recharts-cartesian-axis-tick-value");return ce.isValidElement(r)?a=ce.cloneElement(r,Sr(Sr({},i),{},{className:o})):Vt(r)?a=r(Sr(Sr({},i),{},{className:o})):a=ce.createElement(ob,Ud({},i,{className:"recharts-cartesian-axis-tick-value"}),s),a}}])}(F.Component);nO(ap,"displayName","CartesianAxis");nO(ap,"defaultProps",{x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd"});var ILe=["x1","y1","x2","y2","key"],jLe=["offset"];function rf(t){"@babel/helpers - typeof";return rf=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},rf(t)}function ZF(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function vi(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?ZF(Object(n),!0).forEach(function(r){kLe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):ZF(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kLe(t,e,n){return e=DLe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DLe(t){var e=ULe(t,"string");return rf(e)=="symbol"?e:e+""}function ULe(t,e){if(rf(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(rf(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nu(){return Nu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Nu.apply(this,arguments)}function JF(t,e){if(t==null)return{};var n=FLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function FLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}var BLe=function(e){var n=e.fill;if(!n||n==="none")return null;var r=e.fillOpacity,i=e.x,s=e.y,a=e.width,o=e.height,l=e.ry;return ce.createElement("rect",{x:i,y:s,ry:l,width:a,height:o,stroke:"none",fill:n,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function w9(t,e){var n;if(ce.isValidElement(t))n=ce.cloneElement(t,e);else if(Vt(t))n=t(e);else{var r=e.x1,i=e.y1,s=e.x2,a=e.y2,o=e.key,l=JF(e,ILe),c=Kt(l,!1);c.offset;var u=JF(c,jLe);n=ce.createElement("line",Nu({},u,{x1:r,y1:i,x2:s,y2:a,fill:"none",key:o}))}return n}function zLe(t){var e=t.x,n=t.width,r=t.horizontal,i=r===void 0?!0:r,s=t.horizontalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=vi(vi({},t),{},{x1:e,y1:o,x2:e+n,y2:o,key:"line-".concat(l),index:l});return w9(i,c)});return ce.createElement("g",{className:"recharts-cartesian-grid-horizontal"},a)}function VLe(t){var e=t.y,n=t.height,r=t.vertical,i=r===void 0?!0:r,s=t.verticalPoints;if(!i||!s||!s.length)return null;var a=s.map(function(o,l){var c=vi(vi({},t),{},{x1:o,y1:e,x2:o,y2:e+n,key:"line-".concat(l),index:l});return w9(i,c)});return ce.createElement("g",{className:"recharts-cartesian-grid-vertical"},a)}function HLe(t){var e=t.horizontalFill,n=t.fillOpacity,r=t.x,i=t.y,s=t.width,a=t.height,o=t.horizontalPoints,l=t.horizontal,c=l===void 0?!0:l;if(!c||!e||!e.length)return null;var u=o.map(function(d){return Math.round(d+i-i)}).sort(function(d,p){return d-p});i!==u[0]&&u.unshift(0);var f=u.map(function(d,p){var v=!u[p+1],b=v?i+a-d:u[p+1]-d;if(b<=0)return null;var x=p%e.length;return ce.createElement("rect",{key:"react-".concat(p),y:d,x:r,height:b,width:s,stroke:"none",fill:e[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function $Le(t){var e=t.vertical,n=e===void 0?!0:e,r=t.verticalFill,i=t.fillOpacity,s=t.x,a=t.y,o=t.width,l=t.height,c=t.verticalPoints;if(!n||!r||!r.length)return null;var u=c.map(function(d){return Math.round(d+s-s)}).sort(function(d,p){return d-p});s!==u[0]&&u.unshift(0);var f=u.map(function(d,p){var v=!u[p+1],b=v?s+o-d:u[p+1]-d;if(b<=0)return null;var x=p%r.length;return ce.createElement("rect",{key:"react-".concat(p),x:d,y:a,width:b,height:l,stroke:"none",fill:r[x],fillOpacity:i,className:"recharts-cartesian-grid-bg"})});return ce.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var WLe=function(e,n){var r=e.xAxis,i=e.width,s=e.height,a=e.offset;return jG(tO(vi(vi(vi({},ap.defaultProps),r),{},{ticks:qo(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.left,a.left+a.width,n)},GLe=function(e,n){var r=e.yAxis,i=e.width,s=e.height,a=e.offset;return jG(tO(vi(vi(vi({},ap.defaultProps),r),{},{ticks:qo(r,!0),viewBox:{x:0,y:0,width:i,height:s}})),a.top,a.top+a.height,n)},ud={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[]};function Zx(t){var e,n,r,i,s,a,o=ZR(),l=JR(),c=k3e(),u=vi(vi({},t),{},{stroke:(e=t.stroke)!==null&&e!==void 0?e:ud.stroke,fill:(n=t.fill)!==null&&n!==void 0?n:ud.fill,horizontal:(r=t.horizontal)!==null&&r!==void 0?r:ud.horizontal,horizontalFill:(i=t.horizontalFill)!==null&&i!==void 0?i:ud.horizontalFill,vertical:(s=t.vertical)!==null&&s!==void 0?s:ud.vertical,verticalFill:(a=t.verticalFill)!==null&&a!==void 0?a:ud.verticalFill,x:Qe(t.x)?t.x:c.left,y:Qe(t.y)?t.y:c.top,width:Qe(t.width)?t.width:c.width,height:Qe(t.height)?t.height:c.height}),f=u.x,d=u.y,p=u.width,v=u.height,b=u.syncWithTicks,x=u.horizontalValues,y=u.verticalValues,w=L3e(),_=I3e();if(!Qe(p)||p<=0||!Qe(v)||v<=0||!Qe(f)||f!==+f||!Qe(d)||d!==+d)return null;var S=u.verticalCoordinatesGenerator||WLe,M=u.horizontalCoordinatesGenerator||GLe,E=u.horizontalPoints,A=u.verticalPoints;if((!E||!E.length)&&Vt(M)){var C=x&&x.length,P=M({yAxis:_?vi(vi({},_),{},{ticks:C?x:_.ticks}):void 0,width:o,height:l,offset:c},C?!0:b);el(Array.isArray(P),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(rf(P),"]")),Array.isArray(P)&&(E=P)}if((!A||!A.length)&&Vt(S)){var R=y&&y.length,L=S({xAxis:w?vi(vi({},w),{},{ticks:R?y:w.ticks}):void 0,width:o,height:l,offset:c},R?!0:b);el(Array.isArray(L),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(rf(L),"]")),Array.isArray(L)&&(A=L)}return ce.createElement("g",{className:"recharts-cartesian-grid"},ce.createElement(BLe,{fill:u.fill,fillOpacity:u.fillOpacity,x:u.x,y:u.y,width:u.width,height:u.height,ry:u.ry}),ce.createElement(zLe,Nu({},u,{offset:c,horizontalPoints:E,xAxis:w,yAxis:_})),ce.createElement(VLe,Nu({},u,{offset:c,verticalPoints:A,xAxis:w,yAxis:_})),ce.createElement(HLe,Nu({},u,{horizontalPoints:E})),ce.createElement($Le,Nu({},u,{verticalPoints:A})))}Zx.displayName="CartesianGrid";var XLe=["type","layout","connectNulls","ref"],qLe=["key"];function Lh(t){"@babel/helpers - typeof";return Lh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Lh(t)}function QF(t,e){if(t==null)return{};var n=YLe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function YLe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function Xm(){return Xm=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Xm.apply(this,arguments)}function e5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function ws(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?e5(Object(n),!0).forEach(function(r){Ta(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):e5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function fd(t){return QLe(t)||JLe(t)||ZLe(t)||KLe()}function KLe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function ZLe(t,e){if(t){if(typeof t=="string")return yP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return yP(t,e)}}function JLe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function QLe(t){if(Array.isArray(t))return yP(t)}function yP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function eIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function t5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,M9(r.key),r)}}function tIe(t,e,n){return e&&t5(t.prototype,e),n&&t5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function nIe(t,e,n){return e=Bb(e),rIe(t,S9()?Reflect.construct(e,n||[],Bb(t).constructor):e.apply(t,n))}function rIe(t,e){if(e&&(Lh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return iIe(t)}function iIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function S9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(S9=function(){return!!t})()}function Bb(t){return Bb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Bb(t)}function sIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&xP(t,e)}function xP(t,e){return xP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},xP(t,e)}function Ta(t,e,n){return e=M9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function M9(t){var e=aIe(t,"string");return Lh(e)=="symbol"?e:e+""}function aIe(t,e){if(Lh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Lh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zu=function(t){function e(){var n;eIe(this,e);for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];return n=nIe(this,e,[].concat(i)),Ta(n,"state",{isAnimationFinished:!0,totalLength:0}),Ta(n,"generateSimpleStrokeDasharray",function(a,o){return"".concat(o,"px ").concat(a-o,"px")}),Ta(n,"getStrokeDasharray",function(a,o,l){var c=l.reduce(function(y,w){return y+w});if(!c)return n.generateSimpleStrokeDasharray(o,a);for(var u=Math.floor(a/c),f=a%c,d=o-a,p=[],v=0,b=0;v<l.length;b+=l[v],++v)if(b+l[v]>f){p=[].concat(fd(l.slice(0,v)),[f-b]);break}var x=p.length%2===0?[0,d]:[d];return[].concat(fd(e.repeat(l,u)),fd(p),x).map(function(y){return"".concat(y,"px")}).join(", ")}),Ta(n,"id",q0("recharts-line-")),Ta(n,"pathRef",function(a){n.mainCurve=a}),Ta(n,"handleAnimationEnd",function(){n.setState({isAnimationFinished:!0}),n.props.onAnimationEnd&&n.props.onAnimationEnd()}),Ta(n,"handleAnimationStart",function(){n.setState({isAnimationFinished:!1}),n.props.onAnimationStart&&n.props.onAnimationStart()}),n}return sIe(e,t),tIe(e,[{key:"componentDidMount",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();this.setState({totalLength:r})}}},{key:"componentDidUpdate",value:function(){if(this.props.isAnimationActive){var r=this.getTotalLength();r!==this.state.totalLength&&this.setState({totalLength:r})}}},{key:"getTotalLength",value:function(){var r=this.mainCurve;try{return r&&r.getTotalLength&&r.getTotalLength()||0}catch{return 0}}},{key:"renderErrorBar",value:function(r,i){if(this.props.isAnimationActive&&!this.state.isAnimationFinished)return null;var s=this.props,a=s.points,o=s.xAxis,l=s.yAxis,c=s.layout,u=s.children,f=sa(u,ev);if(!f)return null;var d=function(b,x){return{x:b.x,y:b.y,value:b.value,errorVal:Ls(b.payload,x)}},p={clipPath:r?"url(#clipPath-".concat(i,")"):null};return ce.createElement(lr,p,f.map(function(v){return ce.cloneElement(v,{key:"bar-".concat(v.props.dataKey),data:a,xAxis:o,yAxis:l,layout:c,dataPointFormatter:d})}))}},{key:"renderDots",value:function(r,i,s){var a=this.props.isAnimationActive;if(a&&!this.state.isAnimationFinished)return null;var o=this.props,l=o.dot,c=o.points,u=o.dataKey,f=Kt(this.props,!1),d=Kt(l,!0),p=c.map(function(b,x){var y=ws(ws(ws({key:"dot-".concat(x),r:3},f),d),{},{index:x,cx:b.x,cy:b.y,value:b.value,dataKey:u,payload:b.payload,points:c});return e.renderDotItem(l,y)}),v={clipPath:r?"url(#clipPath-".concat(i?"":"dots-").concat(s,")"):null};return ce.createElement(lr,Xm({className:"recharts-line-dots",key:"dots"},v),p)}},{key:"renderCurveStatically",value:function(r,i,s,a){var o=this.props,l=o.type,c=o.layout,u=o.connectNulls;o.ref;var f=QF(o,XLe),d=ws(ws(ws({},Kt(f,!0)),{},{fill:"none",className:"recharts-line-curve",clipPath:i?"url(#clipPath-".concat(s,")"):null,points:r},a),{},{type:l,layout:c,connectNulls:u});return ce.createElement(KA,Xm({},d,{pathRef:this.pathRef}))}},{key:"renderCurveWithAnimation",value:function(r,i){var s=this,a=this.props,o=a.points,l=a.strokeDasharray,c=a.isAnimationActive,u=a.animationBegin,f=a.animationDuration,d=a.animationEasing,p=a.animationId,v=a.animateNewValues,b=a.width,x=a.height,y=this.state,w=y.prevPoints,_=y.totalLength;return ce.createElement(Eh,{begin:u,duration:f,isActive:c,easing:d,from:{t:0},to:{t:1},key:"line-".concat(p),onAnimationEnd:this.handleAnimationEnd,onAnimationStart:this.handleAnimationStart},function(S){var M=S.t;if(w){var E=w.length/o.length,A=o.map(function(O,D){var I=Math.floor(D*E);if(w[I]){var z=w[I],$=Ca(z.x,O.x),q=Ca(z.y,O.y);return ws(ws({},O),{},{x:$(M),y:q(M)})}if(v){var V=Ca(b*2,O.x),U=Ca(x/2,O.y);return ws(ws({},O),{},{x:V(M),y:U(M)})}return ws(ws({},O),{},{x:O.x,y:O.y})});return s.renderCurveStatically(A,r,i)}var C=Ca(0,_),P=C(M),R;if(l){var L="".concat(l).split(/[,\s]+/gim).map(function(O){return parseFloat(O)});R=s.getStrokeDasharray(P,_,L)}else R=s.generateSimpleStrokeDasharray(_,P);return s.renderCurveStatically(o,r,i,{strokeDasharray:R})})}},{key:"renderCurve",value:function(r,i){var s=this.props,a=s.points,o=s.isAnimationActive,l=this.state,c=l.prevPoints,u=l.totalLength;return o&&a&&a.length&&(!c&&u>0||!Pw(c,a))?this.renderCurveWithAnimation(r,i):this.renderCurveStatically(a,r,i)}},{key:"render",value:function(){var r,i=this.props,s=i.hide,a=i.dot,o=i.points,l=i.className,c=i.xAxis,u=i.yAxis,f=i.top,d=i.left,p=i.width,v=i.height,b=i.isAnimationActive,x=i.id;if(s||!o||!o.length)return null;var y=this.state.isAnimationFinished,w=o.length===1,_=en("recharts-line",l),S=c&&c.allowDataOverflow,M=u&&u.allowDataOverflow,E=S||M,A=Wt(x)?this.id:x,C=(r=Kt(a,!1))!==null&&r!==void 0?r:{r:3,strokeWidth:2},P=C.r,R=P===void 0?3:P,L=C.strokeWidth,O=L===void 0?2:L,D=Ome(a)?a:{},I=D.clipDot,z=I===void 0?!0:I,$=R*2+O;return ce.createElement(lr,{className:_},S||M?ce.createElement("defs",null,ce.createElement("clipPath",{id:"clipPath-".concat(A)},ce.createElement("rect",{x:S?d:d-p/2,y:M?f:f-v/2,width:S?p:p*2,height:M?v:v*2})),!z&&ce.createElement("clipPath",{id:"clipPath-dots-".concat(A)},ce.createElement("rect",{x:d-$/2,y:f-$/2,width:p+$,height:v+$}))):null,!w&&this.renderCurve(E,A),this.renderErrorBar(E,A),(w||a)&&this.renderDots(E,z,A),(!b||y)&&fc.renderCallByParent(this.props,o))}}],[{key:"getDerivedStateFromProps",value:function(r,i){return r.animationId!==i.prevAnimationId?{prevAnimationId:r.animationId,curPoints:r.points,prevPoints:i.curPoints}:r.points!==i.curPoints?{curPoints:r.points}:null}},{key:"repeat",value:function(r,i){for(var s=r.length%2!==0?[].concat(fd(r),[0]):r,a=[],o=0;o<i;++o)a=[].concat(fd(a),fd(s));return a}},{key:"renderDotItem",value:function(r,i){var s;if(ce.isValidElement(r))s=ce.cloneElement(r,i);else if(Vt(r))s=r(i);else{var a=i.key,o=QF(i,qLe),l=en("recharts-line-dot",typeof r!="boolean"?r.className:"");s=ce.createElement(XR,Xm({key:a},o,{className:l}))}return s}}])}(F.PureComponent);Ta(zu,"displayName","Line");Ta(zu,"defaultProps",{xAxisId:0,yAxisId:0,connectNulls:!1,activeDot:!0,dot:!0,legendType:"line",stroke:"#3182bd",strokeWidth:1,fill:"#fff",points:[],isAnimationActive:!tl.isSsr,animateNewValues:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",hide:!1,label:!1});Ta(zu,"getComposedData",function(t){var e=t.props,n=t.xAxis,r=t.yAxis,i=t.xAxisTicks,s=t.yAxisTicks,a=t.dataKey,o=t.bandSize,l=t.displayedData,c=t.offset,u=e.layout,f=l.map(function(d,p){var v=Ls(d,a);return u==="horizontal"?{x:R4({axis:n,ticks:i,bandSize:o,entry:d,index:p}),y:Wt(v)?null:r.scale(v),value:v,payload:d}:{x:Wt(v)?null:n.scale(v),y:R4({axis:r,ticks:s,bandSize:o,entry:d,index:p}),value:v,payload:d}});return ws({points:f,layout:u},c)});function Ih(t){"@babel/helpers - typeof";return Ih=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},Ih(t)}function oIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function n5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,A9(r.key),r)}}function lIe(t,e,n){return e&&n5(t.prototype,e),n&&n5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function cIe(t,e,n){return e=zb(e),uIe(t,E9()?Reflect.construct(e,n||[],zb(t).constructor):e.apply(t,n))}function uIe(t,e){if(e&&(Ih(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return fIe(t)}function fIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function E9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(E9=function(){return!!t})()}function zb(t){return zb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},zb(t)}function dIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&bP(t,e)}function bP(t,e){return bP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},bP(t,e)}function T9(t,e,n){return e=A9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function A9(t){var e=hIe(t,"string");return Ih(e)=="symbol"?e:e+""}function hIe(t,e){if(Ih(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(Ih(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function _P(){return _P=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},_P.apply(this,arguments)}function pIe(t){var e=t.xAxisId,n=ZR(),r=JR(),i=f9(e);return i==null?null:F.createElement(ap,_P({},i,{className:en("recharts-".concat(i.axisType," ").concat(i.axisType),i.className),viewBox:{x:0,y:0,width:n,height:r},ticksGenerator:function(a){return qo(a,!0)}}))}var Qd=function(t){function e(){return oIe(this,e),cIe(this,e,arguments)}return dIe(e,t),lIe(e,[{key:"render",value:function(){return F.createElement(pIe,this.props)}}])}(F.Component);T9(Qd,"displayName","XAxis");T9(Qd,"defaultProps",{allowDecimals:!0,hide:!1,orientation:"bottom",width:0,height:30,mirror:!1,xAxisId:0,tickCount:5,type:"category",padding:{left:0,right:0},allowDataOverflow:!1,scale:"auto",reversed:!1,allowDuplicatedCategory:!0});function jh(t){"@babel/helpers - typeof";return jh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},jh(t)}function mIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function r5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,N9(r.key),r)}}function gIe(t,e,n){return e&&r5(t.prototype,e),n&&r5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function vIe(t,e,n){return e=Vb(e),yIe(t,P9()?Reflect.construct(e,n||[],Vb(t).constructor):e.apply(t,n))}function yIe(t,e){if(e&&(jh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return xIe(t)}function xIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function P9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(P9=function(){return!!t})()}function Vb(t){return Vb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Vb(t)}function bIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&wP(t,e)}function wP(t,e){return wP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},wP(t,e)}function C9(t,e,n){return e=N9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function N9(t){var e=_Ie(t,"string");return jh(e)=="symbol"?e:e+""}function _Ie(t,e){if(jh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(jh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function SP(){return SP=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},SP.apply(this,arguments)}var wIe=function(e){var n=e.yAxisId,r=ZR(),i=JR(),s=d9(n);return s==null?null:F.createElement(ap,SP({},s,{className:en("recharts-".concat(s.axisType," ").concat(s.axisType),s.className),viewBox:{x:0,y:0,width:r,height:i},ticksGenerator:function(o){return qo(o,!0)}}))},eh=function(t){function e(){return mIe(this,e),vIe(this,e,arguments)}return bIe(e,t),gIe(e,[{key:"render",value:function(){return F.createElement(wIe,this.props)}}])}(F.Component);C9(eh,"displayName","YAxis");C9(eh,"defaultProps",{allowDuplicatedCategory:!0,allowDecimals:!0,hide:!1,orientation:"left",width:60,height:0,mirror:!1,yAxisId:0,tickCount:5,type:"number",padding:{top:0,bottom:0},allowDataOverflow:!1,scale:"auto",reversed:!1});function i5(t){return TIe(t)||EIe(t)||MIe(t)||SIe()}function SIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function MIe(t,e){if(t){if(typeof t=="string")return MP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return MP(t,e)}}function EIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function TIe(t){if(Array.isArray(t))return MP(t)}function MP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}var EP=function(e,n,r,i,s){var a=sa(e,eO),o=sa(e,kw),l=[].concat(i5(a),i5(o)),c=sa(e,Uw),u="".concat(i,"Id"),f=i[0],d=n;if(l.length&&(d=l.reduce(function(b,x){if(x.props[u]===r&&po(x.props,"extendDomain")&&Qe(x.props[f])){var y=x.props[f];return[Math.min(b[0],y),Math.max(b[1],y)]}return b},d)),c.length){var p="".concat(f,"1"),v="".concat(f,"2");d=c.reduce(function(b,x){if(x.props[u]===r&&po(x.props,"extendDomain")&&Qe(x.props[p])&&Qe(x.props[v])){var y=x.props[p],w=x.props[v];return[Math.min(b[0],y,w),Math.max(b[1],y,w)]}return b},d)}return s&&s.length&&(d=s.reduce(function(b,x){return Qe(x)?[Math.min(b[0],x),Math.max(b[1],x)]:b},d)),d},R9={exports:{}};(function(t){var e=Object.prototype.hasOwnProperty,n="~";function r(){}Object.create&&(r.prototype=Object.create(null),new r().__proto__||(n=!1));function i(l,c,u){this.fn=l,this.context=c,this.once=u||!1}function s(l,c,u,f,d){if(typeof u!="function")throw new TypeError("The listener must be a function");var p=new i(u,f||l,d),v=n?n+c:c;return l._events[v]?l._events[v].fn?l._events[v]=[l._events[v],p]:l._events[v].push(p):(l._events[v]=p,l._eventsCount++),l}function a(l,c){--l._eventsCount===0?l._events=new r:delete l._events[c]}function o(){this._events=new r,this._eventsCount=0}o.prototype.eventNames=function(){var c=[],u,f;if(this._eventsCount===0)return c;for(f in u=this._events)e.call(u,f)&&c.push(n?f.slice(1):f);return Object.getOwnPropertySymbols?c.concat(Object.getOwnPropertySymbols(u)):c},o.prototype.listeners=function(c){var u=n?n+c:c,f=this._events[u];if(!f)return[];if(f.fn)return[f.fn];for(var d=0,p=f.length,v=new Array(p);d<p;d++)v[d]=f[d].fn;return v},o.prototype.listenerCount=function(c){var u=n?n+c:c,f=this._events[u];return f?f.fn?1:f.length:0},o.prototype.emit=function(c,u,f,d,p,v){var b=n?n+c:c;if(!this._events[b])return!1;var x=this._events[b],y=arguments.length,w,_;if(x.fn){switch(x.once&&this.removeListener(c,x.fn,void 0,!0),y){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,u),!0;case 3:return x.fn.call(x.context,u,f),!0;case 4:return x.fn.call(x.context,u,f,d),!0;case 5:return x.fn.call(x.context,u,f,d,p),!0;case 6:return x.fn.call(x.context,u,f,d,p,v),!0}for(_=1,w=new Array(y-1);_<y;_++)w[_-1]=arguments[_];x.fn.apply(x.context,w)}else{var S=x.length,M;for(_=0;_<S;_++)switch(x[_].once&&this.removeListener(c,x[_].fn,void 0,!0),y){case 1:x[_].fn.call(x[_].context);break;case 2:x[_].fn.call(x[_].context,u);break;case 3:x[_].fn.call(x[_].context,u,f);break;case 4:x[_].fn.call(x[_].context,u,f,d);break;default:if(!w)for(M=1,w=new Array(y-1);M<y;M++)w[M-1]=arguments[M];x[_].fn.apply(x[_].context,w)}}return!0},o.prototype.on=function(c,u,f){return s(this,c,u,f,!1)},o.prototype.once=function(c,u,f){return s(this,c,u,f,!0)},o.prototype.removeListener=function(c,u,f,d){var p=n?n+c:c;if(!this._events[p])return this;if(!u)return a(this,p),this;var v=this._events[p];if(v.fn)v.fn===u&&(!d||v.once)&&(!f||v.context===f)&&a(this,p);else{for(var b=0,x=[],y=v.length;b<y;b++)(v[b].fn!==u||d&&!v[b].once||f&&v[b].context!==f)&&x.push(v[b]);x.length?this._events[p]=x.length===1?x[0]:x:a(this,p)}return this},o.prototype.removeAllListeners=function(c){var u;return c?(u=n?n+c:c,this._events[u]&&a(this,u)):(this._events=new r,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=n,o.EventEmitter=o,t.exports=o})(R9);var AIe=R9.exports;const PIe=yn(AIe);var GM=new PIe,XM="recharts.syncMouseEvents";function _0(t){"@babel/helpers - typeof";return _0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},_0(t)}function CIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function s5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,O9(r.key),r)}}function NIe(t,e,n){return e&&s5(t.prototype,e),n&&s5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qM(t,e,n){return e=O9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function O9(t){var e=RIe(t,"string");return _0(e)=="symbol"?e:e+""}function RIe(t,e){if(_0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(_0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var OIe=function(){function t(){CIe(this,t),qM(this,"activeIndex",0),qM(this,"coordinateList",[]),qM(this,"layout","horizontal")}return NIe(t,[{key:"setDetails",value:function(n){var r,i=n.coordinateList,s=i===void 0?null:i,a=n.container,o=a===void 0?null:a,l=n.layout,c=l===void 0?null:l,u=n.offset,f=u===void 0?null:u,d=n.mouseHandlerCallback,p=d===void 0?null:d;this.coordinateList=(r=s??this.coordinateList)!==null&&r!==void 0?r:[],this.container=o??this.container,this.layout=c??this.layout,this.offset=f??this.offset,this.mouseHandlerCallback=p??this.mouseHandlerCallback,this.activeIndex=Math.min(Math.max(this.activeIndex,0),this.coordinateList.length-1)}},{key:"focus",value:function(){this.spoofMouse()}},{key:"keyboardEvent",value:function(n){if(this.coordinateList.length!==0)switch(n.key){case"ArrowRight":{if(this.layout!=="horizontal")return;this.activeIndex=Math.min(this.activeIndex+1,this.coordinateList.length-1),this.spoofMouse();break}case"ArrowLeft":{if(this.layout!=="horizontal")return;this.activeIndex=Math.max(this.activeIndex-1,0),this.spoofMouse();break}}}},{key:"setIndex",value:function(n){this.activeIndex=n}},{key:"spoofMouse",value:function(){var n,r;if(this.layout==="horizontal"&&this.coordinateList.length!==0){var i=this.container.getBoundingClientRect(),s=i.x,a=i.y,o=i.height,l=this.coordinateList[this.activeIndex].coordinate,c=((n=window)===null||n===void 0?void 0:n.scrollX)||0,u=((r=window)===null||r===void 0?void 0:r.scrollY)||0,f=s+l+c,d=a+this.offset.top+o/2+u;this.mouseHandlerCallback({pageX:f,pageY:d})}}}])}();function LIe(t,e,n){if(n==="number"&&e===!0&&Array.isArray(t)){var r=t==null?void 0:t[0],i=t==null?void 0:t[1];if(r&&i&&Qe(r)&&Qe(i))return!0}return!1}function IIe(t,e,n,r){var i=r/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:n.left+.5,y:t==="horizontal"?n.top+.5:e.y-i,width:t==="horizontal"?r:n.width-1,height:t==="horizontal"?n.height-1:r}}function L9(t){var e=t.cx,n=t.cy,r=t.radius,i=t.startAngle,s=t.endAngle,a=Qr(e,n,r,i),o=Qr(e,n,r,s);return{points:[a,o],cx:e,cy:n,radius:r,startAngle:i,endAngle:s}}function jIe(t,e,n){var r,i,s,a;if(t==="horizontal")r=e.x,s=r,i=n.top,a=n.top+n.height;else if(t==="vertical")i=e.y,a=i,r=n.left,s=n.left+n.width;else if(e.cx!=null&&e.cy!=null)if(t==="centric"){var o=e.cx,l=e.cy,c=e.innerRadius,u=e.outerRadius,f=e.angle,d=Qr(o,l,c,f),p=Qr(o,l,u,f);r=d.x,i=d.y,s=p.x,a=p.y}else return L9(e);return[{x:r,y:i},{x:s,y:a}]}function w0(t){"@babel/helpers - typeof";return w0=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},w0(t)}function a5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function _x(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?a5(Object(n),!0).forEach(function(r){kIe(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):a5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function kIe(t,e,n){return e=DIe(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function DIe(t){var e=UIe(t,"string");return w0(e)=="symbol"?e:e+""}function UIe(t,e){if(w0(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(w0(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function FIe(t){var e,n,r=t.element,i=t.tooltipEventType,s=t.isActive,a=t.activeCoordinate,o=t.activePayload,l=t.offset,c=t.activeTooltipIndex,u=t.tooltipAxisBandSize,f=t.layout,d=t.chartName,p=(e=r.props.cursor)!==null&&e!==void 0?e:(n=r.type.defaultProps)===null||n===void 0?void 0:n.cursor;if(!r||!p||!s||!a||d!=="ScatterChart"&&i!=="axis")return null;var v,b=KA;if(d==="ScatterChart")v=a,b=$Ne;else if(d==="BarChart")v=IIe(f,a,l,u),b=GR;else if(f==="radial"){var x=L9(a),y=x.cx,w=x.cy,_=x.radius,S=x.startAngle,M=x.endAngle;v={cx:y,cy:w,startAngle:S,endAngle:M,innerRadius:_,outerRadius:_},b=BG}else v={points:jIe(f,a,l)},b=KA;var E=_x(_x(_x(_x({stroke:"#ccc",pointerEvents:"none"},l),v),Kt(p,!1)),{},{payload:o,payloadIndex:c,className:en("recharts-tooltip-cursor",p.className)});return F.isValidElement(p)?F.cloneElement(p,E):F.createElement(b,E)}var BIe=["item"],zIe=["children","className","width","height","style","compact","title","desc"];function kh(t){"@babel/helpers - typeof";return kh=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},kh(t)}function Fd(){return Fd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Fd.apply(this,arguments)}function o5(t,e){return $Ie(t)||HIe(t,e)||j9(t,e)||VIe()}function VIe(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function HIe(t,e){var n=t==null?null:typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(n!=null){var r,i,s,a,o=[],l=!0,c=!1;try{if(s=(n=n.call(t)).next,e===0){if(Object(n)!==n)return;l=!1}else for(;!(l=(r=s.call(n)).done)&&(o.push(r.value),o.length!==e);l=!0);}catch(u){c=!0,i=u}finally{try{if(!l&&n.return!=null&&(a=n.return(),Object(a)!==a))return}finally{if(c)throw i}}return o}}function $Ie(t){if(Array.isArray(t))return t}function l5(t,e){if(t==null)return{};var n=WIe(t,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(t,r)&&(n[r]=t[r])}return n}function WIe(t,e){if(t==null)return{};var n={};for(var r in t)if(Object.prototype.hasOwnProperty.call(t,r)){if(e.indexOf(r)>=0)continue;n[r]=t[r]}return n}function GIe(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function c5(t,e){for(var n=0;n<e.length;n++){var r=e[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(t,k9(r.key),r)}}function XIe(t,e,n){return e&&c5(t.prototype,e),n&&c5(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function qIe(t,e,n){return e=Hb(e),YIe(t,I9()?Reflect.construct(e,n||[],Hb(t).constructor):e.apply(t,n))}function YIe(t,e){if(e&&(kh(e)==="object"||typeof e=="function"))return e;if(e!==void 0)throw new TypeError("Derived constructors may only return object or undefined");return KIe(t)}function KIe(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}function I9(){try{var t=!Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],function(){}))}catch{}return(I9=function(){return!!t})()}function Hb(t){return Hb=Object.setPrototypeOf?Object.getPrototypeOf.bind():function(n){return n.__proto__||Object.getPrototypeOf(n)},Hb(t)}function ZIe(t,e){if(typeof e!="function"&&e!==null)throw new TypeError("Super expression must either be null or a function");t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,writable:!0,configurable:!0}}),Object.defineProperty(t,"prototype",{writable:!1}),e&&TP(t,e)}function TP(t,e){return TP=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(r,i){return r.__proto__=i,r},TP(t,e)}function Dh(t){return eje(t)||QIe(t)||j9(t)||JIe()}function JIe(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}function j9(t,e){if(t){if(typeof t=="string")return AP(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return AP(t,e)}}function QIe(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function eje(t){if(Array.isArray(t))return AP(t)}function AP(t,e){(e==null||e>t.length)&&(e=t.length);for(var n=0,r=new Array(e);n<e;n++)r[n]=t[n];return r}function u5(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(t);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),n.push.apply(n,r)}return n}function je(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?u5(Object(n),!0).forEach(function(r){Et(t,r,n[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):u5(Object(n)).forEach(function(r){Object.defineProperty(t,r,Object.getOwnPropertyDescriptor(n,r))})}return t}function Et(t,e,n){return e=k9(e),e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function k9(t){var e=tje(t,"string");return kh(e)=="symbol"?e:e+""}function tje(t,e){if(kh(t)!="object"||!t)return t;var n=t[Symbol.toPrimitive];if(n!==void 0){var r=n.call(t,e||"default");if(kh(r)!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var nje={xAxis:["bottom","top"],yAxis:["left","right"]},rje={width:"100%",height:"100%"},D9={x:0,y:0};function wx(t){return t}var ije=function(e,n){return n==="horizontal"?e.x:n==="vertical"?e.y:n==="centric"?e.angle:e.radius},sje=function(e,n,r,i){var s=n.find(function(u){return u&&u.index===r});if(s){if(e==="horizontal")return{x:s.coordinate,y:i.y};if(e==="vertical")return{x:i.x,y:s.coordinate};if(e==="centric"){var a=s.coordinate,o=i.radius;return je(je(je({},i),Qr(i.cx,i.cy,o,a)),{},{angle:a,radius:o})}var l=s.coordinate,c=i.angle;return je(je(je({},i),Qr(i.cx,i.cy,l,c)),{},{angle:c,radius:l})}return D9},Fw=function(e,n){var r=n.graphicalItems,i=n.dataStartIndex,s=n.dataEndIndex,a=(r??[]).reduce(function(o,l){var c=l.props.data;return c&&c.length?[].concat(Dh(o),Dh(c)):o},[]);return a.length>0?a:e&&e.length&&Qe(i)&&Qe(s)?e.slice(i,s+1):[]};function U9(t){return t==="number"?[0,"auto"]:void 0}var PP=function(e,n,r,i){var s=e.graphicalItems,a=e.tooltipAxis,o=Fw(n,e);return r<0||!s||!s.length||r>=o.length?null:s.reduce(function(l,c){var u,f=(u=c.props.data)!==null&&u!==void 0?u:n;f&&e.dataStartIndex+e.dataEndIndex!==0&&e.dataEndIndex-e.dataStartIndex>=r&&(f=f.slice(e.dataStartIndex,e.dataEndIndex+1));var d;if(a.dataKey&&!a.allowDuplicatedCategory){var p=f===void 0?o:f;d=W1(p,a.dataKey,i)}else d=f&&f[r]||o[r];return d?[].concat(Dh(l),[DG(c,d)]):l},[])},f5=function(e,n,r,i){var s=i||{x:e.chartX,y:e.chartY},a=ije(s,r),o=e.orderedTooltipTicks,l=e.tooltipAxis,c=e.tooltipTicks,u=OAe(a,o,c,l);if(u>=0&&c){var f=c[u]&&c[u].value,d=PP(e,n,u,f),p=sje(r,o,u,s);return{activeTooltipIndex:u,activeLabel:f,activePayload:d,activeCoordinate:p}}return null},aje=function(e,n){var r=n.axes,i=n.graphicalItems,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=e.stackOffset,p=IG(u,s);return r.reduce(function(v,b){var x,y=b.type.defaultProps!==void 0?je(je({},b.type.defaultProps),b.props):b.props,w=y.type,_=y.dataKey,S=y.allowDataOverflow,M=y.allowDuplicatedCategory,E=y.scale,A=y.ticks,C=y.includeHidden,P=y[a];if(v[P])return v;var R=Fw(e.data,{graphicalItems:i.filter(function(H){var K,ne=a in H.props?H.props[a]:(K=H.type.defaultProps)===null||K===void 0?void 0:K[a];return ne===P}),dataStartIndex:l,dataEndIndex:c}),L=R.length,O,D,I;LIe(y.domain,S,w)&&(O=WA(y.domain,null,S),p&&(w==="number"||E!=="auto")&&(I=Wm(R,_,"category")));var z=U9(w);if(!O||O.length===0){var $,q=($=y.domain)!==null&&$!==void 0?$:z;if(_){if(O=Wm(R,_,w),w==="category"&&p){var V=wme(O);M&&V?(D=O,O=Nb(0,L)):M||(O=j4(q,O,b).reduce(function(H,K){return H.indexOf(K)>=0?H:[].concat(Dh(H),[K])},[]))}else if(w==="category")M?O=O.filter(function(H){return H!==""&&!Wt(H)}):O=j4(q,O,b).reduce(function(H,K){return H.indexOf(K)>=0||K===""||Wt(K)?H:[].concat(Dh(H),[K])},[]);else if(w==="number"){var U=DAe(R,i.filter(function(H){var K,ne,te=a in H.props?H.props[a]:(K=H.type.defaultProps)===null||K===void 0?void 0:K[a],ae="hide"in H.props?H.props.hide:(ne=H.type.defaultProps)===null||ne===void 0?void 0:ne.hide;return te===P&&(C||!ae)}),_,s,u);U&&(O=U)}p&&(w==="number"||E!=="auto")&&(I=Wm(R,_,"category"))}else p?O=Nb(0,L):o&&o[P]&&o[P].hasStack&&w==="number"?O=d==="expand"?[0,1]:kG(o[P].stackGroups,l,c):O=LG(R,i.filter(function(H){var K=a in H.props?H.props[a]:H.type.defaultProps[a],ne="hide"in H.props?H.props.hide:H.type.defaultProps.hide;return K===P&&(C||!ne)}),w,u,!0);if(w==="number")O=EP(f,O,P,s,A),q&&(O=WA(q,O,S));else if(w==="category"&&q){var W=q,k=O.every(function(H){return W.indexOf(H)>=0});k&&(O=W)}}return je(je({},v),{},Et({},P,je(je({},y),{},{axisType:s,domain:O,categoricalDomain:I,duplicateDomain:D,originalDomain:(x=y.domain)!==null&&x!==void 0?x:z,isCategorical:p,layout:u})))},{})},oje=function(e,n){var r=n.graphicalItems,i=n.Axis,s=n.axisType,a=n.axisIdKey,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.layout,f=e.children,d=Fw(e.data,{graphicalItems:r,dataStartIndex:l,dataEndIndex:c}),p=d.length,v=IG(u,s),b=-1;return r.reduce(function(x,y){var w=y.type.defaultProps!==void 0?je(je({},y.type.defaultProps),y.props):y.props,_=w[a],S=U9("number");if(!x[_]){b++;var M;return v?M=Nb(0,p):o&&o[_]&&o[_].hasStack?(M=kG(o[_].stackGroups,l,c),M=EP(f,M,_,s)):(M=WA(S,LG(d,r.filter(function(E){var A,C,P=a in E.props?E.props[a]:(A=E.type.defaultProps)===null||A===void 0?void 0:A[a],R="hide"in E.props?E.props.hide:(C=E.type.defaultProps)===null||C===void 0?void 0:C.hide;return P===_&&!R}),"number",u),i.defaultProps.allowDataOverflow),M=EP(f,M,_,s)),je(je({},x),{},Et({},_,je(je({axisType:s},i.defaultProps),{},{hide:!0,orientation:ia(nje,"".concat(s,".").concat(b%2),null),domain:M,originalDomain:S,isCategorical:v,layout:u})))}return x},{})},lje=function(e,n){var r=n.axisType,i=r===void 0?"xAxis":r,s=n.AxisComp,a=n.graphicalItems,o=n.stackGroups,l=n.dataStartIndex,c=n.dataEndIndex,u=e.children,f="".concat(i,"Id"),d=sa(u,s),p={};return d&&d.length?p=aje(e,{axes:d,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c}):a&&a.length&&(p=oje(e,{Axis:s,graphicalItems:a,axisType:i,axisIdKey:f,stackGroups:o,dataStartIndex:l,dataEndIndex:c})),p},cje=function(e){var n=$l(e),r=qo(n,!1,!0);return{tooltipTicks:r,orderedTooltipTicks:xR(r,function(i){return i.coordinate}),tooltipAxis:n,tooltipAxisBandSize:_b(n,r)}},d5=function(e){var n=e.children,r=e.defaultShowTooltip,i=Es(n,Ah),s=0,a=0;return e.data&&e.data.length!==0&&(a=e.data.length-1),i&&i.props&&(i.props.startIndex>=0&&(s=i.props.startIndex),i.props.endIndex>=0&&(a=i.props.endIndex)),{chartX:0,chartY:0,dataStartIndex:s,dataEndIndex:a,activeTooltipIndex:-1,isTooltipActive:!!r}},uje=function(e){return!e||!e.length?!1:e.some(function(n){var r=Qo(n&&n.type);return r&&r.indexOf("Bar")>=0})},h5=function(e){return e==="horizontal"?{numericAxisName:"yAxis",cateAxisName:"xAxis"}:e==="vertical"?{numericAxisName:"xAxis",cateAxisName:"yAxis"}:e==="centric"?{numericAxisName:"radiusAxis",cateAxisName:"angleAxis"}:{numericAxisName:"angleAxis",cateAxisName:"radiusAxis"}},fje=function(e,n){var r=e.props,i=e.graphicalItems,s=e.xAxisMap,a=s===void 0?{}:s,o=e.yAxisMap,l=o===void 0?{}:o,c=r.width,u=r.height,f=r.children,d=r.margin||{},p=Es(f,Ah),v=Es(f,Kd),b=Object.keys(l).reduce(function(M,E){var A=l[E],C=A.orientation;return!A.mirror&&!A.hide?je(je({},M),{},Et({},C,M[C]+A.width)):M},{left:d.left||0,right:d.right||0}),x=Object.keys(a).reduce(function(M,E){var A=a[E],C=A.orientation;return!A.mirror&&!A.hide?je(je({},M),{},Et({},C,ia(M,"".concat(C))+A.height)):M},{top:d.top||0,bottom:d.bottom||0}),y=je(je({},x),b),w=y.bottom;p&&(y.bottom+=p.props.height||Ah.defaultProps.height),v&&n&&(y=jAe(y,i,r,n));var _=c-y.left-y.right,S=u-y.top-y.bottom;return je(je({brushBottom:w},y),{},{width:Math.max(_,0),height:Math.max(S,0)})},dje=function(e,n){if(n==="xAxis")return e[n].width;if(n==="yAxis")return e[n].height},hje=function(e){var n=e.chartName,r=e.GraphicalChild,i=e.defaultTooltipEventType,s=i===void 0?"axis":i,a=e.validateTooltipEventTypes,o=a===void 0?["axis"]:a,l=e.axisComponents,c=e.legendContent,u=e.formatAxisMap,f=e.defaultProps,d=function(y,w){var _=w.graphicalItems,S=w.stackGroups,M=w.offset,E=w.updateId,A=w.dataStartIndex,C=w.dataEndIndex,P=y.barSize,R=y.layout,L=y.barGap,O=y.barCategoryGap,D=y.maxBarSize,I=h5(R),z=I.numericAxisName,$=I.cateAxisName,q=uje(_),V=[];return _.forEach(function(U,W){var k=Fw(y.data,{graphicalItems:[U],dataStartIndex:A,dataEndIndex:C}),H=U.type.defaultProps!==void 0?je(je({},U.type.defaultProps),U.props):U.props,K=H.dataKey,ne=H.maxBarSize,te=H["".concat(z,"Id")],ae=H["".concat($,"Id")],oe={},he=l.reduce(function(ge,Ye){var Y=w["".concat(Ye.axisType,"Map")],X=H["".concat(Ye.axisType,"Id")];Y&&Y[X]||Ye.axisType==="zAxis"||nf(!1);var ie=Y[X];return je(je({},ge),{},Et(Et({},Ye.axisType,ie),"".concat(Ye.axisType,"Ticks"),qo(ie)))},oe),fe=he[$],Ce=he["".concat($,"Ticks")],le=S&&S[te]&&S[te].hasStack&&YAe(U,S[te].stackGroups),G=Qo(U.type).indexOf("Bar")>=0,me=_b(fe,Ce),se=[],xe=q&&LAe({barSize:P,stackGroups:S,totalSize:dje(he,$)});if(G){var pe,ze,ve=Wt(ne)?D:ne,Re=(pe=(ze=_b(fe,Ce,!0))!==null&&ze!==void 0?ze:ve)!==null&&pe!==void 0?pe:0;se=IAe({barGap:L,barCategoryGap:O,bandSize:Re!==me?Re:me,sizeList:xe[ae],maxBarSize:ve}),Re!==me&&(se=se.map(function(ge){return je(je({},ge),{},{position:je(je({},ge.position),{},{offset:ge.position.offset-Re/2})})}))}var Be=U&&U.type&&U.type.getComposedData;Be&&V.push({props:je(je({},Be(je(je({},he),{},{displayedData:k,props:y,dataKey:K,item:U,bandSize:me,barPosition:se,offset:M,stackedData:le,layout:R,dataStartIndex:A,dataEndIndex:C}))),{},Et(Et(Et({key:U.key||"item-".concat(W)},z,he[z]),$,he[$]),"animationId",E)),childIndex:jme(U,y.children),item:U})}),V},p=function(y,w){var _=y.props,S=y.dataStartIndex,M=y.dataEndIndex,E=y.updateId;if(!MD({props:_}))return null;var A=_.children,C=_.layout,P=_.stackOffset,R=_.data,L=_.reverseStackOrder,O=h5(C),D=O.numericAxisName,I=O.cateAxisName,z=sa(A,r),$=GAe(R,z,"".concat(D,"Id"),"".concat(I,"Id"),P,L),q=l.reduce(function(H,K){var ne="".concat(K.axisType,"Map");return je(je({},H),{},Et({},ne,lje(_,je(je({},K),{},{graphicalItems:z,stackGroups:K.axisType===D&&$,dataStartIndex:S,dataEndIndex:M}))))},{}),V=fje(je(je({},q),{},{props:_,graphicalItems:z}),w==null?void 0:w.legendBBox);Object.keys(q).forEach(function(H){q[H]=u(_,q[H],V,H.replace("Map",""),n)});var U=q["".concat(I,"Map")],W=cje(U),k=d(_,je(je({},q),{},{dataStartIndex:S,dataEndIndex:M,updateId:E,graphicalItems:z,stackGroups:$,offset:V}));return je(je({formattedGraphicalItems:k,graphicalItems:z,offset:V,stackGroups:$},W),q)},v=function(x){function y(w){var _,S,M;return GIe(this,y),M=qIe(this,y,[w]),Et(M,"eventEmitterSymbol",Symbol("rechartsEventEmitter")),Et(M,"accessibilityManager",new OIe),Et(M,"handleLegendBBoxUpdate",function(E){if(E){var A=M.state,C=A.dataStartIndex,P=A.dataEndIndex,R=A.updateId;M.setState(je({legendBBox:E},p({props:M.props,dataStartIndex:C,dataEndIndex:P,updateId:R},je(je({},M.state),{},{legendBBox:E}))))}}),Et(M,"handleReceiveSyncEvent",function(E,A,C){if(M.props.syncId===E){if(C===M.eventEmitterSymbol&&typeof M.props.syncMethod!="function")return;M.applySyncEvent(A)}}),Et(M,"handleBrushChange",function(E){var A=E.startIndex,C=E.endIndex;if(A!==M.state.dataStartIndex||C!==M.state.dataEndIndex){var P=M.state.updateId;M.setState(function(){return je({dataStartIndex:A,dataEndIndex:C},p({props:M.props,dataStartIndex:A,dataEndIndex:C,updateId:P},M.state))}),M.triggerSyncEvent({dataStartIndex:A,dataEndIndex:C})}}),Et(M,"handleMouseEnter",function(E){var A=M.getMouseInfo(E);if(A){var C=je(je({},A),{},{isTooltipActive:!0});M.setState(C),M.triggerSyncEvent(C);var P=M.props.onMouseEnter;Vt(P)&&P(C,E)}}),Et(M,"triggeredAfterMouseMove",function(E){var A=M.getMouseInfo(E),C=A?je(je({},A),{},{isTooltipActive:!0}):{isTooltipActive:!1};M.setState(C),M.triggerSyncEvent(C);var P=M.props.onMouseMove;Vt(P)&&P(C,E)}),Et(M,"handleItemMouseEnter",function(E){M.setState(function(){return{isTooltipActive:!0,activeItem:E,activePayload:E.tooltipPayload,activeCoordinate:E.tooltipPosition||{x:E.cx,y:E.cy}}})}),Et(M,"handleItemMouseLeave",function(){M.setState(function(){return{isTooltipActive:!1}})}),Et(M,"handleMouseMove",function(E){E.persist(),M.throttleTriggeredAfterMouseMove(E)}),Et(M,"handleMouseLeave",function(E){M.throttleTriggeredAfterMouseMove.cancel();var A={isTooltipActive:!1};M.setState(A),M.triggerSyncEvent(A);var C=M.props.onMouseLeave;Vt(C)&&C(A,E)}),Et(M,"handleOuterEvent",function(E){var A=Ime(E),C=ia(M.props,"".concat(A));if(A&&Vt(C)){var P,R;/.*touch.*/i.test(A)?R=M.getMouseInfo(E.changedTouches[0]):R=M.getMouseInfo(E),C((P=R)!==null&&P!==void 0?P:{},E)}}),Et(M,"handleClick",function(E){var A=M.getMouseInfo(E);if(A){var C=je(je({},A),{},{isTooltipActive:!0});M.setState(C),M.triggerSyncEvent(C);var P=M.props.onClick;Vt(P)&&P(C,E)}}),Et(M,"handleMouseDown",function(E){var A=M.props.onMouseDown;if(Vt(A)){var C=M.getMouseInfo(E);A(C,E)}}),Et(M,"handleMouseUp",function(E){var A=M.props.onMouseUp;if(Vt(A)){var C=M.getMouseInfo(E);A(C,E)}}),Et(M,"handleTouchMove",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&M.throttleTriggeredAfterMouseMove(E.changedTouches[0])}),Et(M,"handleTouchStart",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&M.handleMouseDown(E.changedTouches[0])}),Et(M,"handleTouchEnd",function(E){E.changedTouches!=null&&E.changedTouches.length>0&&M.handleMouseUp(E.changedTouches[0])}),Et(M,"handleDoubleClick",function(E){var A=M.props.onDoubleClick;if(Vt(A)){var C=M.getMouseInfo(E);A(C,E)}}),Et(M,"handleContextMenu",function(E){var A=M.props.onContextMenu;if(Vt(A)){var C=M.getMouseInfo(E);A(C,E)}}),Et(M,"triggerSyncEvent",function(E){M.props.syncId!==void 0&&GM.emit(XM,M.props.syncId,E,M.eventEmitterSymbol)}),Et(M,"applySyncEvent",function(E){var A=M.props,C=A.layout,P=A.syncMethod,R=M.state.updateId,L=E.dataStartIndex,O=E.dataEndIndex;if(E.dataStartIndex!==void 0||E.dataEndIndex!==void 0)M.setState(je({dataStartIndex:L,dataEndIndex:O},p({props:M.props,dataStartIndex:L,dataEndIndex:O,updateId:R},M.state)));else if(E.activeTooltipIndex!==void 0){var D=E.chartX,I=E.chartY,z=E.activeTooltipIndex,$=M.state,q=$.offset,V=$.tooltipTicks;if(!q)return;if(typeof P=="function")z=P(V,E);else if(P==="value"){z=-1;for(var U=0;U<V.length;U++)if(V[U].value===E.activeLabel){z=U;break}}var W=je(je({},q),{},{x:q.left,y:q.top}),k=Math.min(D,W.x+W.width),H=Math.min(I,W.y+W.height),K=V[z]&&V[z].value,ne=PP(M.state,M.props.data,z),te=V[z]?{x:C==="horizontal"?V[z].coordinate:k,y:C==="horizontal"?H:V[z].coordinate}:D9;M.setState(je(je({},E),{},{activeLabel:K,activeCoordinate:te,activePayload:ne,activeTooltipIndex:z}))}else M.setState(E)}),Et(M,"renderCursor",function(E){var A,C=M.state,P=C.isTooltipActive,R=C.activeCoordinate,L=C.activePayload,O=C.offset,D=C.activeTooltipIndex,I=C.tooltipAxisBandSize,z=M.getTooltipEventType(),$=(A=E.props.active)!==null&&A!==void 0?A:P,q=M.props.layout,V=E.key||"_recharts-cursor";return ce.createElement(FIe,{key:V,activeCoordinate:R,activePayload:L,activeTooltipIndex:D,chartName:n,element:E,isActive:$,layout:q,offset:O,tooltipAxisBandSize:I,tooltipEventType:z})}),Et(M,"renderPolarAxis",function(E,A,C){var P=ia(E,"type.axisType"),R=ia(M.state,"".concat(P,"Map")),L=E.type.defaultProps,O=L!==void 0?je(je({},L),E.props):E.props,D=R&&R[O["".concat(P,"Id")]];return F.cloneElement(E,je(je({},D),{},{className:en(P,D.className),key:E.key||"".concat(A,"-").concat(C),ticks:qo(D,!0)}))}),Et(M,"renderPolarGrid",function(E){var A=E.props,C=A.radialLines,P=A.polarAngles,R=A.polarRadius,L=M.state,O=L.radiusAxisMap,D=L.angleAxisMap,I=$l(O),z=$l(D),$=z.cx,q=z.cy,V=z.innerRadius,U=z.outerRadius;return F.cloneElement(E,{polarAngles:Array.isArray(P)?P:qo(z,!0).map(function(W){return W.coordinate}),polarRadius:Array.isArray(R)?R:qo(I,!0).map(function(W){return W.coordinate}),cx:$,cy:q,innerRadius:V,outerRadius:U,key:E.key||"polar-grid",radialLines:C})}),Et(M,"renderLegend",function(){var E=M.state.formattedGraphicalItems,A=M.props,C=A.children,P=A.width,R=A.height,L=M.props.margin||{},O=P-(L.left||0)-(L.right||0),D=RG({children:C,formattedGraphicalItems:E,legendWidth:O,legendContent:c});if(!D)return null;var I=D.item,z=l5(D,BIe);return F.cloneElement(I,je(je({},z),{},{chartWidth:P,chartHeight:R,margin:L,onBBoxUpdate:M.handleLegendBBoxUpdate}))}),Et(M,"renderTooltip",function(){var E,A=M.props,C=A.children,P=A.accessibilityLayer,R=Es(C,Zs);if(!R)return null;var L=M.state,O=L.isTooltipActive,D=L.activeCoordinate,I=L.activePayload,z=L.activeLabel,$=L.offset,q=(E=R.props.active)!==null&&E!==void 0?E:O;return F.cloneElement(R,{viewBox:je(je({},$),{},{x:$.left,y:$.top}),active:q,label:z,payload:q?I:[],coordinate:D,accessibilityLayer:P})}),Et(M,"renderBrush",function(E){var A=M.props,C=A.margin,P=A.data,R=M.state,L=R.offset,O=R.dataStartIndex,D=R.dataEndIndex,I=R.updateId;return F.cloneElement(E,{key:E.key||"_recharts-brush",onChange:vx(M.handleBrushChange,E.props.onChange),data:P,x:Qe(E.props.x)?E.props.x:L.left,y:Qe(E.props.y)?E.props.y:L.top+L.height+L.brushBottom-(C.bottom||0),width:Qe(E.props.width)?E.props.width:L.width,startIndex:O,endIndex:D,updateId:"brush-".concat(I)})}),Et(M,"renderReferenceElement",function(E,A,C){if(!E)return null;var P=M,R=P.clipPathId,L=M.state,O=L.xAxisMap,D=L.yAxisMap,I=L.offset,z=E.type.defaultProps||{},$=E.props,q=$.xAxisId,V=q===void 0?z.xAxisId:q,U=$.yAxisId,W=U===void 0?z.yAxisId:U;return F.cloneElement(E,{key:E.key||"".concat(A,"-").concat(C),xAxis:O[V],yAxis:D[W],viewBox:{x:I.left,y:I.top,width:I.width,height:I.height},clipPathId:R})}),Et(M,"renderActivePoints",function(E){var A=E.item,C=E.activePoint,P=E.basePoint,R=E.childIndex,L=E.isRange,O=[],D=A.props.key,I=A.item.type.defaultProps!==void 0?je(je({},A.item.type.defaultProps),A.item.props):A.item.props,z=I.activeDot,$=I.dataKey,q=je(je({index:R,dataKey:$,cx:C.x,cy:C.y,r:4,fill:WR(A.item),strokeWidth:2,stroke:"#fff",payload:C.payload,value:C.value},Kt(z,!1)),G1(z));return O.push(y.renderActiveDot(z,q,"".concat(D,"-activePoint-").concat(R))),P?O.push(y.renderActiveDot(z,je(je({},q),{},{cx:P.x,cy:P.y}),"".concat(D,"-basePoint-").concat(R))):L&&O.push(null),O}),Et(M,"renderGraphicChild",function(E,A,C){var P=M.filterFormatItem(E,A,C);if(!P)return null;var R=M.getTooltipEventType(),L=M.state,O=L.isTooltipActive,D=L.tooltipAxis,I=L.activeTooltipIndex,z=L.activeLabel,$=M.props.children,q=Es($,Zs),V=P.props,U=V.points,W=V.isRange,k=V.baseLine,H=P.item.type.defaultProps!==void 0?je(je({},P.item.type.defaultProps),P.item.props):P.item.props,K=H.activeDot,ne=H.hide,te=H.activeBar,ae=H.activeShape,oe=!!(!ne&&O&&q&&(K||te||ae)),he={};R!=="axis"&&q&&q.props.trigger==="click"?he={onClick:vx(M.handleItemMouseEnter,E.props.onClick)}:R!=="axis"&&(he={onMouseLeave:vx(M.handleItemMouseLeave,E.props.onMouseLeave),onMouseEnter:vx(M.handleItemMouseEnter,E.props.onMouseEnter)});var fe=F.cloneElement(E,je(je({},P.props),he));function Ce(Ye){return typeof D.dataKey=="function"?D.dataKey(Ye.payload):null}if(oe)if(I>=0){var le,G;if(D.dataKey&&!D.allowDuplicatedCategory){var me=typeof D.dataKey=="function"?Ce:"payload.".concat(D.dataKey.toString());le=W1(U,me,z),G=W&&k&&W1(k,me,z)}else le=U==null?void 0:U[I],G=W&&k&&k[I];if(ae||te){var se=E.props.activeIndex!==void 0?E.props.activeIndex:I;return[F.cloneElement(E,je(je(je({},P.props),he),{},{activeIndex:se})),null,null]}if(!Wt(le))return[fe].concat(Dh(M.renderActivePoints({item:P,activePoint:le,basePoint:G,childIndex:I,isRange:W})))}else{var xe,pe=(xe=M.getItemByXY(M.state.activeCoordinate))!==null&&xe!==void 0?xe:{graphicalItem:fe},ze=pe.graphicalItem,ve=ze.item,Re=ve===void 0?E:ve,Be=ze.childIndex,ge=je(je(je({},P.props),he),{},{activeIndex:Be});return[F.cloneElement(Re,ge),null,null]}return W?[fe,null,null]:[fe,null]}),Et(M,"renderCustomized",function(E,A,C){return F.cloneElement(E,je(je({key:"recharts-customized-".concat(C)},M.props),M.state))}),Et(M,"renderMap",{CartesianGrid:{handler:wx,once:!0},ReferenceArea:{handler:M.renderReferenceElement},ReferenceLine:{handler:wx},ReferenceDot:{handler:M.renderReferenceElement},XAxis:{handler:wx},YAxis:{handler:wx},Brush:{handler:M.renderBrush,once:!0},Bar:{handler:M.renderGraphicChild},Line:{handler:M.renderGraphicChild},Area:{handler:M.renderGraphicChild},Radar:{handler:M.renderGraphicChild},RadialBar:{handler:M.renderGraphicChild},Scatter:{handler:M.renderGraphicChild},Pie:{handler:M.renderGraphicChild},Funnel:{handler:M.renderGraphicChild},Tooltip:{handler:M.renderCursor,once:!0},PolarGrid:{handler:M.renderPolarGrid,once:!0},PolarAngleAxis:{handler:M.renderPolarAxis},PolarRadiusAxis:{handler:M.renderPolarAxis},Customized:{handler:M.renderCustomized}}),M.clipPathId="".concat((_=w.id)!==null&&_!==void 0?_:q0("recharts"),"-clip"),M.throttleTriggeredAfterMouseMove=NW(M.triggeredAfterMouseMove,(S=w.throttleDelay)!==null&&S!==void 0?S:1e3/60),M.state={},M}return ZIe(y,x),XIe(y,[{key:"componentDidMount",value:function(){var _,S;this.addListener(),this.accessibilityManager.setDetails({container:this.container,offset:{left:(_=this.props.margin.left)!==null&&_!==void 0?_:0,top:(S=this.props.margin.top)!==null&&S!==void 0?S:0},coordinateList:this.state.tooltipTicks,mouseHandlerCallback:this.triggeredAfterMouseMove,layout:this.props.layout}),this.displayDefaultTooltip()}},{key:"displayDefaultTooltip",value:function(){var _=this.props,S=_.children,M=_.data,E=_.height,A=_.layout,C=Es(S,Zs);if(C){var P=C.props.defaultIndex;if(!(typeof P!="number"||P<0||P>this.state.tooltipTicks.length-1)){var R=this.state.tooltipTicks[P]&&this.state.tooltipTicks[P].value,L=PP(this.state,M,P,R),O=this.state.tooltipTicks[P].coordinate,D=(this.state.offset.top+E)/2,I=A==="horizontal",z=I?{x:O,y:D}:{y:O,x:D},$=this.state.formattedGraphicalItems.find(function(V){var U=V.item;return U.type.name==="Scatter"});$&&(z=je(je({},z),$.props.points[P].tooltipPosition),L=$.props.points[P].tooltipPayload);var q={activeTooltipIndex:P,isTooltipActive:!0,activeLabel:R,activePayload:L,activeCoordinate:z};this.setState(q),this.renderCursor(C),this.accessibilityManager.setIndex(P)}}}},{key:"getSnapshotBeforeUpdate",value:function(_,S){if(!this.props.accessibilityLayer)return null;if(this.state.tooltipTicks!==S.tooltipTicks&&this.accessibilityManager.setDetails({coordinateList:this.state.tooltipTicks}),this.props.layout!==_.layout&&this.accessibilityManager.setDetails({layout:this.props.layout}),this.props.margin!==_.margin){var M,E;this.accessibilityManager.setDetails({offset:{left:(M=this.props.margin.left)!==null&&M!==void 0?M:0,top:(E=this.props.margin.top)!==null&&E!==void 0?E:0}})}return null}},{key:"componentDidUpdate",value:function(_){aA([Es(_.children,Zs)],[Es(this.props.children,Zs)])||this.displayDefaultTooltip()}},{key:"componentWillUnmount",value:function(){this.removeListener(),this.throttleTriggeredAfterMouseMove.cancel()}},{key:"getTooltipEventType",value:function(){var _=Es(this.props.children,Zs);if(_&&typeof _.props.shared=="boolean"){var S=_.props.shared?"axis":"item";return o.indexOf(S)>=0?S:s}return s}},{key:"getMouseInfo",value:function(_){if(!this.container)return null;var S=this.container,M=S.getBoundingClientRect(),E=i2e(M),A={chartX:Math.round(_.pageX-E.left),chartY:Math.round(_.pageY-E.top)},C=M.width/S.offsetWidth||1,P=this.inRange(A.chartX,A.chartY,C);if(!P)return null;var R=this.state,L=R.xAxisMap,O=R.yAxisMap,D=this.getTooltipEventType(),I=f5(this.state,this.props.data,this.props.layout,P);if(D!=="axis"&&L&&O){var z=$l(L).scale,$=$l(O).scale,q=z&&z.invert?z.invert(A.chartX):null,V=$&&$.invert?$.invert(A.chartY):null;return je(je({},A),{},{xValue:q,yValue:V},I)}return I?je(je({},A),I):null}},{key:"inRange",value:function(_,S){var M=arguments.length>2&&arguments[2]!==void 0?arguments[2]:1,E=this.props.layout,A=_/M,C=S/M;if(E==="horizontal"||E==="vertical"){var P=this.state.offset,R=A>=P.left&&A<=P.left+P.width&&C>=P.top&&C<=P.top+P.height;return R?{x:A,y:C}:null}var L=this.state,O=L.angleAxisMap,D=L.radiusAxisMap;if(O&&D){var I=$l(O);return U4({x:A,y:C},I)}return null}},{key:"parseEventsOfWrapper",value:function(){var _=this.props.children,S=this.getTooltipEventType(),M=Es(_,Zs),E={};M&&S==="axis"&&(M.props.trigger==="click"?E={onClick:this.handleClick}:E={onMouseEnter:this.handleMouseEnter,onDoubleClick:this.handleDoubleClick,onMouseMove:this.handleMouseMove,onMouseLeave:this.handleMouseLeave,onTouchMove:this.handleTouchMove,onTouchStart:this.handleTouchStart,onTouchEnd:this.handleTouchEnd,onContextMenu:this.handleContextMenu});var A=G1(this.props,this.handleOuterEvent);return je(je({},A),E)}},{key:"addListener",value:function(){GM.on(XM,this.handleReceiveSyncEvent)}},{key:"removeListener",value:function(){GM.removeListener(XM,this.handleReceiveSyncEvent)}},{key:"filterFormatItem",value:function(_,S,M){for(var E=this.state.formattedGraphicalItems,A=0,C=E.length;A<C;A++){var P=E[A];if(P.item===_||P.props.key===_.key||S===Qo(P.item.type)&&M===P.childIndex)return P}return null}},{key:"renderClipPath",value:function(){var _=this.clipPathId,S=this.state.offset,M=S.left,E=S.top,A=S.height,C=S.width;return ce.createElement("defs",null,ce.createElement("clipPath",{id:_},ce.createElement("rect",{x:M,y:E,height:A,width:C})))}},{key:"getXScales",value:function(){var _=this.state.xAxisMap;return _?Object.entries(_).reduce(function(S,M){var E=o5(M,2),A=E[0],C=E[1];return je(je({},S),{},Et({},A,C.scale))},{}):null}},{key:"getYScales",value:function(){var _=this.state.yAxisMap;return _?Object.entries(_).reduce(function(S,M){var E=o5(M,2),A=E[0],C=E[1];return je(je({},S),{},Et({},A,C.scale))},{}):null}},{key:"getXScaleByAxisId",value:function(_){var S;return(S=this.state.xAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getYScaleByAxisId",value:function(_){var S;return(S=this.state.yAxisMap)===null||S===void 0||(S=S[_])===null||S===void 0?void 0:S.scale}},{key:"getItemByXY",value:function(_){var S=this.state,M=S.formattedGraphicalItems,E=S.activeItem;if(M&&M.length)for(var A=0,C=M.length;A<C;A++){var P=M[A],R=P.props,L=P.item,O=L.type.defaultProps!==void 0?je(je({},L.type.defaultProps),L.props):L.props,D=Qo(L.type);if(D==="Bar"){var I=(R.data||[]).find(function(V){return INe(_,V)});if(I)return{graphicalItem:P,payload:I}}else if(D==="RadialBar"){var z=(R.data||[]).find(function(V){return U4(_,V)});if(z)return{graphicalItem:P,payload:z}}else if(Ow(P,E)||Lw(P,E)||g0(P,E)){var $=DRe({graphicalItem:P,activeTooltipItem:E,itemData:O.data}),q=O.activeIndex===void 0?$:O.activeIndex;return{graphicalItem:je(je({},P),{},{childIndex:q}),payload:g0(P,E)?O.data[$]:P.props.data[$]}}}return null}},{key:"render",value:function(){var _=this;if(!MD(this))return null;var S=this.props,M=S.children,E=S.className,A=S.width,C=S.height,P=S.style,R=S.compact,L=S.title,O=S.desc,D=l5(S,zIe),I=Kt(D,!1);if(R)return ce.createElement(DF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement(lA,Fd({},I,{width:A,height:C,title:L,desc:O}),this.renderClipPath(),TD(M,this.renderMap)));if(this.props.accessibilityLayer){var z,$;I.tabIndex=(z=this.props.tabIndex)!==null&&z!==void 0?z:0,I.role=($=this.props.role)!==null&&$!==void 0?$:"application",I.onKeyDown=function(V){_.accessibilityManager.keyboardEvent(V)},I.onFocus=function(){_.accessibilityManager.focus()}}var q=this.parseEventsOfWrapper();return ce.createElement(DF,{state:this.state,width:this.props.width,height:this.props.height,clipPathId:this.clipPathId},ce.createElement("div",Fd({className:en("recharts-wrapper",E),style:je({position:"relative",cursor:"default",width:A,height:C},P)},q,{ref:function(U){_.container=U}}),ce.createElement(lA,Fd({},I,{width:A,height:C,title:L,desc:O,style:rje}),this.renderClipPath(),TD(M,this.renderMap)),this.renderLegend(),this.renderTooltip()))}}])}(F.Component);Et(v,"displayName",n),Et(v,"defaultProps",je({layout:"horizontal",stackOffset:"none",barCategoryGap:"10%",barGap:4,margin:{top:5,right:5,bottom:5,left:5},reverseStackOrder:!1,syncMethod:"index"},f)),Et(v,"getDerivedStateFromProps",function(x,y){var w=x.dataKey,_=x.data,S=x.children,M=x.width,E=x.height,A=x.layout,C=x.stackOffset,P=x.margin,R=y.dataStartIndex,L=y.dataEndIndex;if(y.updateId===void 0){var O=d5(x);return je(je(je({},O),{},{updateId:0},p(je(je({props:x},O),{},{updateId:0}),y)),{},{prevDataKey:w,prevData:_,prevWidth:M,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:P,prevChildren:S})}if(w!==y.prevDataKey||_!==y.prevData||M!==y.prevWidth||E!==y.prevHeight||A!==y.prevLayout||C!==y.prevStackOffset||!Yd(P,y.prevMargin)){var D=d5(x),I={chartX:y.chartX,chartY:y.chartY,isTooltipActive:y.isTooltipActive},z=je(je({},f5(y,_,A)),{},{updateId:y.updateId+1}),$=je(je(je({},D),I),z);return je(je(je({},$),p(je({props:x},$),y)),{},{prevDataKey:w,prevData:_,prevWidth:M,prevHeight:E,prevLayout:A,prevStackOffset:C,prevMargin:P,prevChildren:S})}if(!aA(S,y.prevChildren)){var q,V,U,W,k=Es(S,Ah),H=k&&(q=(V=k.props)===null||V===void 0?void 0:V.startIndex)!==null&&q!==void 0?q:R,K=k&&(U=(W=k.props)===null||W===void 0?void 0:W.endIndex)!==null&&U!==void 0?U:L,ne=H!==R||K!==L,te=!Wt(_),ae=te&&!ne?y.updateId:y.updateId+1;return je(je({updateId:ae},p(je(je({props:x},y),{},{updateId:ae,dataStartIndex:H,dataEndIndex:K}),y)),{},{prevChildren:S,dataStartIndex:H,dataEndIndex:K})}return null}),Et(v,"renderActiveDot",function(x,y,w){var _;return F.isValidElement(x)?_=F.cloneElement(x,y):Vt(x)?_=x(y):_=ce.createElement(XR,y),ce.createElement(lr,{className:"recharts-active-dot",key:w},_)});var b=F.forwardRef(function(y,w){return ce.createElement(v,Fd({},y,{ref:w}))});return b.displayName=v.displayName,b},YM=hje({chartName:"LineChart",GraphicalChild:zu,axisComponents:[{axisType:"xAxis",AxisComp:Qd},{axisType:"yAxis",AxisComp:eh}],formatAxisMap:l3e});const pje=()=>{const[t,e]=F.useState(120),[n,r]=F.useState(1),[i,s]=F.useState(1.2),[a,o]=F.useState(!0),[l,c]=F.useState(!1),[u,f]=F.useState(!0),[d,p]=F.useState(!0),[v,b]=F.useState(!1),[x,y]=F.useState(!1),[w,_]=F.useState(0),[S,M]=F.useState({time:0,maxVorticity:0,avgVelocity:0,pressure:0}),[E,A]=F.useState([]),[C,P]=F.useState(!1),[R,L]=F.useState(null),O=F.useRef(0),D=F.useRef(),I=n&&i?.2*i/n:0,z=t>0?1.2-.002*t+5e-6*t*t:0,$=U=>{const W={...U,strouhalNumber:I,dragCoefficient:z,liftCoefficient:Math.sin(U.time*2*Math.PI*I)*.5};M(W),x&&A(k=>[...k,W])},q=()=>{x?(y(!1),D.current&&clearInterval(D.current),V()):(y(!0),A([]),_(0),O.current=Date.now(),D.current=setInterval(()=>{_(U=>U+.1)},100))},V=()=>{if(E.length===0)return;const U={avgStrouhalNumber:E.reduce((k,H)=>k+(H.strouhalNumber||0),0)/E.length,maxVorticity:Math.max(...E.map(k=>k.maxVorticity)),avgDragCoefficient:E.reduce((k,H)=>k+(H.dragCoefficient||0),0)/E.length,rmsLiftCoefficient:Math.sqrt(E.reduce((k,H)=>k+Math.pow(H.liftCoefficient||0,2),0)/E.length)},W={experimentType:"karman-vortex-street",timestamp:new Date().toISOString(),parameters:{reynoldsNumber:t,obstacleSize:n,flowSpeed:i,duration:w},results:{timeHistory:E,statistics:U},metadata:{samplingRate:E.length/w,totalSamples:E.length,experimentDuration:w}};L(W)};return F.useEffect(()=>()=>{D.current&&clearInterval(D.current)},[]),h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-dark via-blue-900 to-dark",children:h.jsxs("div",{className:"container mx-auto px-4 py-8",children:[h.jsxs(gt.div,{initial:{opacity:0,y:-30},animate:{opacity:1,y:0},transition:{duration:.8},className:"text-center mb-8",children:[h.jsxs("h1",{className:"text-4xl md:text-6xl font-bold text-white mb-4 font-display",children:["卡门涡街",h.jsx("span",{className:"text-blue-400",children:"实验"})]}),h.jsx("p",{className:"text-xl text-blue-100 max-w-3xl mx-auto",children:"观察圆柱绕流中周期性涡旋脱落现象的3D动画演示与数据分析"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-6",children:[h.jsx(gt.div,{initial:{opacity:0,x:-30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.2},className:"lg:col-span-1",children:h.jsxs("div",{className:"glass-panel p-6 space-y-6",children:[h.jsx("h2",{className:"text-xl font-semibold text-white mb-4",children:"实验参数"}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["雷诺数: ",t]}),h.jsx("input",{type:"range",min:"40",max:"300",value:t,onChange:U=>e(Number(U.target.value)),className:"w-full accent-blue-500",disabled:x}),h.jsx("div",{className:"text-xs text-blue-300 mt-1",children:t<150?"层流脱落":t<300?"过渡区":"湍流脱落"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["圆柱直径: ",n.toFixed(1)]}),h.jsx("input",{type:"range",min:"0.5",max:"2.0",step:"0.1",value:n,onChange:U=>r(Number(U.target.value)),className:"w-full accent-blue-500",disabled:x})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["流速: ",i.toFixed(1)," m/s"]}),h.jsx("input",{type:"range",min:"0.5",max:"3.0",step:"0.1",value:i,onChange:U=>s(Number(U.target.value)),className:"w-full accent-blue-500",disabled:x})]}),h.jsxs("div",{className:"space-y-3",children:[h.jsx("h3",{className:"text-lg font-medium text-blue-200",children:"可视化选项"}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:a,onChange:U=>o(U.target.checked),className:"mr-2 accent-blue-500"}),h.jsx("span",{className:"text-blue-100 text-sm",children:"涡量场"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:l,onChange:U=>c(U.target.checked),className:"mr-2 accent-blue-500"}),h.jsx("span",{className:"text-blue-100 text-sm",children:"压力场"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:u,onChange:U=>f(U.target.checked),className:"mr-2 accent-blue-500"}),h.jsx("span",{className:"text-blue-100 text-sm",children:"速度场"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:d,onChange:U=>p(U.target.checked),className:"mr-2 accent-blue-500"}),h.jsx("span",{className:"text-blue-100 text-sm",children:"流线"})]}),h.jsxs("label",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",checked:v,onChange:U=>b(U.target.checked),className:"mr-2 accent-blue-500"}),h.jsx("span",{className:"text-blue-100 text-sm",children:"自动旋转"})]})]}),h.jsxs("div",{className:"pt-4 border-t border-blue-800/30 space-y-3",children:[h.jsx("h3",{className:"text-lg font-medium text-blue-200",children:"数据记录"}),h.jsxs("button",{onClick:q,className:`w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium transition-colors ${x?"bg-red-600 hover:bg-red-700 text-white":"bg-green-600 hover:bg-green-700 text-white"}`,children:[x?h.jsx(qh,{size:16}):h.jsx(mf,{size:16}),x?"停止录制":"开始录制"]}),x&&h.jsxs("div",{className:"text-center text-blue-200",children:[h.jsx("div",{className:"text-sm",children:"录制时间"}),h.jsxs("div",{className:"text-lg font-mono",children:[w.toFixed(1),"s"]})]}),h.jsxs("button",{onClick:()=>P(!C),className:"w-full flex items-center justify-center gap-2 px-4 py-2 rounded-lg font-medium bg-blue-600 hover:bg-blue-700 text-white transition-colors",children:[h.jsx(co,{size:16}),C?"隐藏数据面板":"显示数据面板"]})]}),h.jsxs("div",{className:"pt-4 border-t border-blue-800/30",children:[h.jsx("h3",{className:"text-sm font-medium text-blue-200 mb-3",children:"实时数据"}),h.jsxs("div",{className:"space-y-2 text-xs",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"时间:"}),h.jsxs("span",{className:"text-white font-mono",children:[S.time.toFixed(2),"s"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"最大涡量:"}),h.jsx("span",{className:"text-white font-mono",children:S.maxVorticity.toFixed(3)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"平均速度:"}),h.jsx("span",{className:"text-white font-mono",children:S.avgVelocity.toFixed(3)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"斯特劳哈尔数:"}),h.jsx("span",{className:"text-white font-mono",children:I.toFixed(3)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"阻力系数:"}),h.jsx("span",{className:"text-white font-mono",children:z.toFixed(3)})]})]})]})]})}),h.jsx(gt.div,{initial:{opacity:0,x:30},animate:{opacity:1,x:0},transition:{duration:.8,delay:.4},className:"lg:col-span-3",children:h.jsx("div",{className:"glass-panel h-[700px] overflow-hidden",children:h.jsx(Bfe,{className:"w-full h-full",reynoldsNumber:t,obstacleSize:n,flowSpeed:i,showVorticity:a,showPressure:l,showVelocity:u,showStreamlines:d,autoRotate:v,onSimulationData:$})})})]}),C&&h.jsx(gt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.5},className:"mt-6",children:h.jsxs("div",{className:"glass-panel p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"text-2xl font-semibold text-cyan-300",children:"数据分析与导出"}),R&&h.jsx(p$,{data:{experimentType:R.experimentType,timestamp:R.timestamp,parameters:R.parameters,results:{velocity:R.results.timeHistory.map(U=>[U.avgVelocity]),pressure:R.results.timeHistory.map(U=>[U.pressure]),vorticity:R.results.timeHistory.map(U=>[U.maxVorticity])},metadata:{reynoldsNumber:R.parameters.reynoldsNumber,meshResolution:[100,50],timeStep:.1,simulationTime:R.parameters.duration}},onExport:(U,W)=>{console.log(`Exported ${U}:`,W)}})]}),E.length>0&&h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[h.jsx("h4",{className:"text-lg font-medium text-blue-200 mb-3",children:"涡量变化"}),h.jsx(NM,{width:"100%",height:200,children:h.jsxs(YM,{data:E.slice(-100),children:[h.jsx(Zx,{strokeDasharray:"3 3",stroke:"#374151"}),h.jsx(Qd,{dataKey:"time",stroke:"#9CA3AF",fontSize:12,tickFormatter:U=>U.toFixed(1)}),h.jsx(eh,{stroke:"#9CA3AF",fontSize:12}),h.jsx(Zs,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),h.jsx(zu,{type:"monotone",dataKey:"maxVorticity",stroke:"#3B82F6",strokeWidth:2,dot:!1})]})})]}),h.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[h.jsx("h4",{className:"text-lg font-medium text-blue-200 mb-3",children:"升力系数"}),h.jsx(NM,{width:"100%",height:200,children:h.jsxs(YM,{data:E.slice(-100),children:[h.jsx(Zx,{strokeDasharray:"3 3",stroke:"#374151"}),h.jsx(Qd,{dataKey:"time",stroke:"#9CA3AF",fontSize:12,tickFormatter:U=>U.toFixed(1)}),h.jsx(eh,{stroke:"#9CA3AF",fontSize:12}),h.jsx(Zs,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),h.jsx(zu,{type:"monotone",dataKey:"liftCoefficient",stroke:"#10B981",strokeWidth:2,dot:!1})]})})]}),h.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[h.jsx("h4",{className:"text-lg font-medium text-blue-200 mb-3",children:"平均速度"}),h.jsx(NM,{width:"100%",height:200,children:h.jsxs(YM,{data:E.slice(-100),children:[h.jsx(Zx,{strokeDasharray:"3 3",stroke:"#374151"}),h.jsx(Qd,{dataKey:"time",stroke:"#9CA3AF",fontSize:12,tickFormatter:U=>U.toFixed(1)}),h.jsx(eh,{stroke:"#9CA3AF",fontSize:12}),h.jsx(Zs,{contentStyle:{backgroundColor:"#1F2937",border:"1px solid #374151",borderRadius:"8px"}}),h.jsx(zu,{type:"monotone",dataKey:"avgVelocity",stroke:"#F59E0B",strokeWidth:2,dot:!1})]})})]}),h.jsxs("div",{className:"bg-black/30 rounded-lg p-4",children:[h.jsx("h4",{className:"text-lg font-medium text-blue-200 mb-3",children:"统计信息"}),R&&h.jsxs("div",{className:"space-y-3 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"平均斯特劳哈尔数:"}),h.jsx("span",{className:"text-white font-mono",children:R.results.statistics.avgStrouhalNumber.toFixed(4)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"最大涡量:"}),h.jsx("span",{className:"text-white font-mono",children:R.results.statistics.maxVorticity.toFixed(4)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"平均阻力系数:"}),h.jsx("span",{className:"text-white font-mono",children:R.results.statistics.avgDragCoefficient.toFixed(4)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"升力系数RMS:"}),h.jsx("span",{className:"text-white font-mono",children:R.results.statistics.rmsLiftCoefficient.toFixed(4)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"采样点数:"}),h.jsx("span",{className:"text-white font-mono",children:R.metadata.totalSamples})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-300",children:"实验时长:"}),h.jsxs("span",{className:"text-white font-mono",children:[R.metadata.experimentDuration.toFixed(1),"s"]})]})]})]})]}),E.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx(H1,{className:"mx-auto mb-4 text-blue-400",size:48}),h.jsx("p",{className:"text-blue-200 mb-2",children:"暂无数据"}),h.jsx("p",{className:"text-blue-400 text-sm",children:'点击"开始录制"按钮开始收集实验数据'})]})]})}),h.jsx(gt.div,{initial:{opacity:0,y:30},animate:{opacity:1,y:0},transition:{duration:.8,delay:.6},className:"mt-8",children:h.jsxs("div",{className:"glass-panel p-8",children:[h.jsx("h3",{className:"text-2xl font-semibold text-cyan-300 mb-6",children:"理论背景"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-medium text-blue-200 mb-3",children:"形成机制"}),h.jsx("p",{className:"text-blue-100 text-sm leading-relaxed",children:"当流体绕过圆柱体时，由于边界层分离，在圆柱后方形成尾流区。 在特定雷诺数范围内，尾流会失稳并周期性地脱落涡旋，形成卡门涡街。"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-medium text-blue-200 mb-3",children:"频率特性"}),h.jsx("p",{className:"text-blue-100 text-sm leading-relaxed",children:"涡街的脱落频率由斯特劳哈尔数St = fD/U确定，其中f是脱落频率， D是圆柱直径，U是来流速度。对于圆柱，St ≈ 0.2。"})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"text-lg font-medium text-blue-200 mb-3",children:"工程意义"}),h.jsx("p",{className:"text-blue-100 text-sm leading-relaxed",children:"卡门涡街会产生周期性的横向力，可能引起结构振动。 在工程设计中需要考虑涡激振动对建筑物、桥梁等结构的影响。"})]})]})]})})]})})};function F9(t,e){return function(){return t.apply(e,arguments)}}const{toString:mje}=Object.prototype,{getPrototypeOf:rO}=Object,{iterator:Bw,toStringTag:B9}=Symbol,zw=(t=>e=>{const n=mje.call(e);return t[n]||(t[n]=n.slice(8,-1).toLowerCase())})(Object.create(null)),Ba=t=>(t=t.toLowerCase(),e=>zw(e)===t),Vw=t=>e=>typeof e===t,{isArray:op}=Array,S0=Vw("undefined");function gje(t){return t!==null&&!S0(t)&&t.constructor!==null&&!S0(t.constructor)&&ss(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const z9=Ba("ArrayBuffer");function vje(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&z9(t.buffer),e}const yje=Vw("string"),ss=Vw("function"),V9=Vw("number"),Hw=t=>t!==null&&typeof t=="object",xje=t=>t===!0||t===!1,Jx=t=>{if(zw(t)!=="object")return!1;const e=rO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(B9 in t)&&!(Bw in t)},bje=Ba("Date"),_je=Ba("File"),wje=Ba("Blob"),Sje=Ba("FileList"),Mje=t=>Hw(t)&&ss(t.pipe),Eje=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||ss(t.append)&&((e=zw(t))==="formdata"||e==="object"&&ss(t.toString)&&t.toString()==="[object FormData]"))},Tje=Ba("URLSearchParams"),[Aje,Pje,Cje,Nje]=["ReadableStream","Request","Response","Headers"].map(Ba),Rje=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function nv(t,e,{allOwnKeys:n=!1}={}){if(t===null||typeof t>"u")return;let r,i;if(typeof t!="object"&&(t=[t]),op(t))for(r=0,i=t.length;r<i;r++)e.call(null,t[r],r,t);else{const s=n?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(r=0;r<a;r++)o=s[r],e.call(null,t[o],o,t)}}function H9(t,e){e=e.toLowerCase();const n=Object.keys(t);let r=n.length,i;for(;r-- >0;)if(i=n[r],e===i.toLowerCase())return i;return null}const Ru=(()=>typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global)(),$9=t=>!S0(t)&&t!==Ru;function CP(){const{caseless:t}=$9(this)&&this||{},e={},n=(r,i)=>{const s=t&&H9(e,i)||i;Jx(e[s])&&Jx(r)?e[s]=CP(e[s],r):Jx(r)?e[s]=CP({},r):op(r)?e[s]=r.slice():e[s]=r};for(let r=0,i=arguments.length;r<i;r++)arguments[r]&&nv(arguments[r],n);return e}const Oje=(t,e,n,{allOwnKeys:r}={})=>(nv(e,(i,s)=>{n&&ss(i)?t[s]=F9(i,n):t[s]=i},{allOwnKeys:r}),t),Lje=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Ije=(t,e,n,r)=>{t.prototype=Object.create(e.prototype,r),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),n&&Object.assign(t.prototype,n)},jje=(t,e,n,r)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!r||r(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=n!==!1&&rO(t)}while(t&&(!n||n(t,e))&&t!==Object.prototype);return e},kje=(t,e,n)=>{t=String(t),(n===void 0||n>t.length)&&(n=t.length),n-=e.length;const r=t.indexOf(e,n);return r!==-1&&r===n},Dje=t=>{if(!t)return null;if(op(t))return t;let e=t.length;if(!V9(e))return null;const n=new Array(e);for(;e-- >0;)n[e]=t[e];return n},Uje=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&rO(Uint8Array)),Fje=(t,e)=>{const r=(t&&t[Bw]).call(t);let i;for(;(i=r.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Bje=(t,e)=>{let n;const r=[];for(;(n=t.exec(e))!==null;)r.push(n);return r},zje=Ba("HTMLFormElement"),Vje=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(n,r,i){return r.toUpperCase()+i}),p5=(({hasOwnProperty:t})=>(e,n)=>t.call(e,n))(Object.prototype),Hje=Ba("RegExp"),W9=(t,e)=>{const n=Object.getOwnPropertyDescriptors(t),r={};nv(n,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(r[s]=a||i)}),Object.defineProperties(t,r)},$je=t=>{W9(t,(e,n)=>{if(ss(t)&&["arguments","caller","callee"].indexOf(n)!==-1)return!1;const r=t[n];if(ss(r)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+n+"'")})}})},Wje=(t,e)=>{const n={},r=i=>{i.forEach(s=>{n[s]=!0})};return op(t)?r(t):r(String(t).split(e)),n},Gje=()=>{},Xje=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qje(t){return!!(t&&ss(t.append)&&t[B9]==="FormData"&&t[Bw])}const Yje=t=>{const e=new Array(10),n=(r,i)=>{if(Hw(r)){if(e.indexOf(r)>=0)return;if(!("toJSON"in r)){e[i]=r;const s=op(r)?[]:{};return nv(r,(a,o)=>{const l=n(a,i+1);!S0(l)&&(s[o]=l)}),e[i]=void 0,s}}return r};return n(t,0)},Kje=Ba("AsyncFunction"),Zje=t=>t&&(Hw(t)||ss(t))&&ss(t.then)&&ss(t.catch),G9=((t,e)=>t?setImmediate:e?((n,r)=>(Ru.addEventListener("message",({source:i,data:s})=>{i===Ru&&s===n&&r.length&&r.shift()()},!1),i=>{r.push(i),Ru.postMessage(n,"*")}))(`axios@${Math.random()}`,[]):n=>setTimeout(n))(typeof setImmediate=="function",ss(Ru.postMessage)),Jje=typeof queueMicrotask<"u"?queueMicrotask.bind(Ru):typeof process<"u"&&process.nextTick||G9,Qje=t=>t!=null&&ss(t[Bw]),Pe={isArray:op,isArrayBuffer:z9,isBuffer:gje,isFormData:Eje,isArrayBufferView:vje,isString:yje,isNumber:V9,isBoolean:xje,isObject:Hw,isPlainObject:Jx,isReadableStream:Aje,isRequest:Pje,isResponse:Cje,isHeaders:Nje,isUndefined:S0,isDate:bje,isFile:_je,isBlob:wje,isRegExp:Hje,isFunction:ss,isStream:Mje,isURLSearchParams:Tje,isTypedArray:Uje,isFileList:Sje,forEach:nv,merge:CP,extend:Oje,trim:Rje,stripBOM:Lje,inherits:Ije,toFlatObject:jje,kindOf:zw,kindOfTest:Ba,endsWith:kje,toArray:Dje,forEachEntry:Fje,matchAll:Bje,isHTMLForm:zje,hasOwnProperty:p5,hasOwnProp:p5,reduceDescriptors:W9,freezeMethods:$je,toObjectSet:Wje,toCamelCase:Vje,noop:Gje,toFiniteNumber:Xje,findKey:H9,global:Ru,isContextDefined:$9,isSpecCompliantForm:qje,toJSONObject:Yje,isAsyncFn:Kje,isThenable:Zje,setImmediate:G9,asap:Jje,isIterable:Qje};function jt(t,e,n,r,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),n&&(this.config=n),r&&(this.request=r),i&&(this.response=i,this.status=i.status?i.status:null)}Pe.inherits(jt,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:Pe.toJSONObject(this.config),code:this.code,status:this.status}}});const X9=jt.prototype,q9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{q9[t]={value:t}});Object.defineProperties(jt,q9);Object.defineProperty(X9,"isAxiosError",{value:!0});jt.from=(t,e,n,r,i,s)=>{const a=Object.create(X9);return Pe.toFlatObject(t,a,function(l){return l!==Error.prototype},o=>o!=="isAxiosError"),jt.call(a,t.message,e,n,r,i),a.cause=t,a.name=t.name,s&&Object.assign(a,s),a};const eke=null;function NP(t){return Pe.isPlainObject(t)||Pe.isArray(t)}function Y9(t){return Pe.endsWith(t,"[]")?t.slice(0,-2):t}function m5(t,e,n){return t?t.concat(e).map(function(i,s){return i=Y9(i),!n&&s?"["+i+"]":i}).join(n?".":""):e}function tke(t){return Pe.isArray(t)&&!t.some(NP)}const nke=Pe.toFlatObject(Pe,{},null,function(e){return/^is[A-Z]/.test(e)});function $w(t,e,n){if(!Pe.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,n=Pe.toFlatObject(n,{metaTokens:!0,dots:!1,indexes:!1},!1,function(b,x){return!Pe.isUndefined(x[b])});const r=n.metaTokens,i=n.visitor||u,s=n.dots,a=n.indexes,l=(n.Blob||typeof Blob<"u"&&Blob)&&Pe.isSpecCompliantForm(e);if(!Pe.isFunction(i))throw new TypeError("visitor must be a function");function c(v){if(v===null)return"";if(Pe.isDate(v))return v.toISOString();if(!l&&Pe.isBlob(v))throw new jt("Blob is not supported. Use a Buffer instead.");return Pe.isArrayBuffer(v)||Pe.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function u(v,b,x){let y=v;if(v&&!x&&typeof v=="object"){if(Pe.endsWith(b,"{}"))b=r?b:b.slice(0,-2),v=JSON.stringify(v);else if(Pe.isArray(v)&&tke(v)||(Pe.isFileList(v)||Pe.endsWith(b,"[]"))&&(y=Pe.toArray(v)))return b=Y9(b),y.forEach(function(_,S){!(Pe.isUndefined(_)||_===null)&&e.append(a===!0?m5([b],S,s):a===null?b:b+"[]",c(_))}),!1}return NP(v)?!0:(e.append(m5(x,b,s),c(v)),!1)}const f=[],d=Object.assign(nke,{defaultVisitor:u,convertValue:c,isVisitable:NP});function p(v,b){if(!Pe.isUndefined(v)){if(f.indexOf(v)!==-1)throw Error("Circular reference detected in "+b.join("."));f.push(v),Pe.forEach(v,function(y,w){(!(Pe.isUndefined(y)||y===null)&&i.call(e,y,Pe.isString(w)?w.trim():w,b,d))===!0&&p(y,b?b.concat(w):[w])}),f.pop()}}if(!Pe.isObject(t))throw new TypeError("data must be an object");return p(t),e}function g5(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(r){return e[r]})}function iO(t,e){this._pairs=[],t&&$w(t,this,e)}const K9=iO.prototype;K9.append=function(e,n){this._pairs.push([e,n])};K9.toString=function(e){const n=e?function(r){return e.call(this,r,g5)}:g5;return this._pairs.map(function(i){return n(i[0])+"="+n(i[1])},"").join("&")};function rke(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}function Z9(t,e,n){if(!e)return t;const r=n&&n.encode||rke;Pe.isFunction(n)&&(n={serialize:n});const i=n&&n.serialize;let s;if(i?s=i(e,n):s=Pe.isURLSearchParams(e)?e.toString():new iO(e,n).toString(r),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class ike{constructor(){this.handlers=[]}use(e,n,r){return this.handlers.push({fulfilled:e,rejected:n,synchronous:r?r.synchronous:!1,runWhen:r?r.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){Pe.forEach(this.handlers,function(r){r!==null&&e(r)})}}const v5=ike,J9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},ske=typeof URLSearchParams<"u"?URLSearchParams:iO,ake=typeof FormData<"u"?FormData:null,oke=typeof Blob<"u"?Blob:null,lke={isBrowser:!0,classes:{URLSearchParams:ske,FormData:ake,Blob:oke},protocols:["http","https","file","blob","url","data"]},sO=typeof window<"u"&&typeof document<"u",RP=typeof navigator=="object"&&navigator||void 0,cke=sO&&(!RP||["ReactNative","NativeScript","NS"].indexOf(RP.product)<0),uke=(()=>typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function")(),fke=sO&&window.location.href||"http://localhost",dke=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:sO,hasStandardBrowserEnv:cke,hasStandardBrowserWebWorkerEnv:uke,navigator:RP,origin:fke},Symbol.toStringTag,{value:"Module"})),xi={...dke,...lke};function hke(t,e){return $w(t,new xi.classes.URLSearchParams,Object.assign({visitor:function(n,r,i,s){return xi.isNode&&Pe.isBuffer(n)?(this.append(r,n.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)}},e))}function pke(t){return Pe.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mke(t){const e={},n=Object.keys(t);let r;const i=n.length;let s;for(r=0;r<i;r++)s=n[r],e[s]=t[s];return e}function Q9(t){function e(n,r,i,s){let a=n[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=n.length;return a=!a&&Pe.isArray(i)?i.length:a,l?(Pe.hasOwnProp(i,a)?i[a]=[i[a],r]:i[a]=r,!o):((!i[a]||!Pe.isObject(i[a]))&&(i[a]=[]),e(n,r,i[a],s)&&Pe.isArray(i[a])&&(i[a]=mke(i[a])),!o)}if(Pe.isFormData(t)&&Pe.isFunction(t.entries)){const n={};return Pe.forEachEntry(t,(r,i)=>{e(pke(r),i,n,0)}),n}return null}function gke(t,e,n){if(Pe.isString(t))try{return(e||JSON.parse)(t),Pe.trim(t)}catch(r){if(r.name!=="SyntaxError")throw r}return(n||JSON.stringify)(t)}const aO={transitional:J9,adapter:["xhr","http","fetch"],transformRequest:[function(e,n){const r=n.getContentType()||"",i=r.indexOf("application/json")>-1,s=Pe.isObject(e);if(s&&Pe.isHTMLForm(e)&&(e=new FormData(e)),Pe.isFormData(e))return i?JSON.stringify(Q9(e)):e;if(Pe.isArrayBuffer(e)||Pe.isBuffer(e)||Pe.isStream(e)||Pe.isFile(e)||Pe.isBlob(e)||Pe.isReadableStream(e))return e;if(Pe.isArrayBufferView(e))return e.buffer;if(Pe.isURLSearchParams(e))return n.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(r.indexOf("application/x-www-form-urlencoded")>-1)return hke(e,this.formSerializer).toString();if((o=Pe.isFileList(e))||r.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return $w(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(n.setContentType("application/json",!1),gke(e)):e}],transformResponse:[function(e){const n=this.transitional||aO.transitional,r=n&&n.forcedJSONParsing,i=this.responseType==="json";if(Pe.isResponse(e)||Pe.isReadableStream(e))return e;if(e&&Pe.isString(e)&&(r&&!this.responseType||i)){const a=!(n&&n.silentJSONParsing)&&i;try{return JSON.parse(e)}catch(o){if(a)throw o.name==="SyntaxError"?jt.from(o,jt.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xi.classes.FormData,Blob:xi.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};Pe.forEach(["delete","get","head","post","put","patch"],t=>{aO.headers[t]={}});const oO=aO,vke=Pe.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),yke=t=>{const e={};let n,r,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),n=a.substring(0,i).trim().toLowerCase(),r=a.substring(i+1).trim(),!(!n||e[n]&&vke[n])&&(n==="set-cookie"?e[n]?e[n].push(r):e[n]=[r]:e[n]=e[n]?e[n]+", "+r:r)}),e},y5=Symbol("internals");function dm(t){return t&&String(t).trim().toLowerCase()}function Qx(t){return t===!1||t==null?t:Pe.isArray(t)?t.map(Qx):String(t)}function xke(t){const e=Object.create(null),n=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let r;for(;r=n.exec(t);)e[r[1]]=r[2];return e}const bke=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function KM(t,e,n,r,i){if(Pe.isFunction(r))return r.call(this,e,n);if(i&&(e=n),!!Pe.isString(e)){if(Pe.isString(r))return e.indexOf(r)!==-1;if(Pe.isRegExp(r))return r.test(e)}}function _ke(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,n,r)=>n.toUpperCase()+r)}function wke(t,e){const n=Pe.toCamelCase(" "+e);["get","set","has"].forEach(r=>{Object.defineProperty(t,r+n,{value:function(i,s,a){return this[r].call(this,e,i,s,a)},configurable:!0})})}class Ww{constructor(e){e&&this.set(e)}set(e,n,r){const i=this;function s(o,l,c){const u=dm(l);if(!u)throw new Error("header name must be a non-empty string");const f=Pe.findKey(i,u);(!f||i[f]===void 0||c===!0||c===void 0&&i[f]!==!1)&&(i[f||l]=Qx(o))}const a=(o,l)=>Pe.forEach(o,(c,u)=>s(c,u,l));if(Pe.isPlainObject(e)||e instanceof this.constructor)a(e,n);else if(Pe.isString(e)&&(e=e.trim())&&!bke(e))a(yke(e),n);else if(Pe.isObject(e)&&Pe.isIterable(e)){let o={},l,c;for(const u of e){if(!Pe.isArray(u))throw TypeError("Object iterator must return a key-value pair");o[c=u[0]]=(l=o[c])?Pe.isArray(l)?[...l,u[1]]:[l,u[1]]:u[1]}a(o,n)}else e!=null&&s(n,e,r);return this}get(e,n){if(e=dm(e),e){const r=Pe.findKey(this,e);if(r){const i=this[r];if(!n)return i;if(n===!0)return xke(i);if(Pe.isFunction(n))return n.call(this,i,r);if(Pe.isRegExp(n))return n.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,n){if(e=dm(e),e){const r=Pe.findKey(this,e);return!!(r&&this[r]!==void 0&&(!n||KM(this,this[r],r,n)))}return!1}delete(e,n){const r=this;let i=!1;function s(a){if(a=dm(a),a){const o=Pe.findKey(r,a);o&&(!n||KM(r,r[o],o,n))&&(delete r[o],i=!0)}}return Pe.isArray(e)?e.forEach(s):s(e),i}clear(e){const n=Object.keys(this);let r=n.length,i=!1;for(;r--;){const s=n[r];(!e||KM(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const n=this,r={};return Pe.forEach(this,(i,s)=>{const a=Pe.findKey(r,s);if(a){n[a]=Qx(i),delete n[s];return}const o=e?_ke(s):String(s).trim();o!==s&&delete n[s],n[o]=Qx(i),r[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const n=Object.create(null);return Pe.forEach(this,(r,i)=>{r!=null&&r!==!1&&(n[i]=e&&Pe.isArray(r)?r.join(", "):r)}),n}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,n])=>e+": "+n).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...n){const r=new this(e);return n.forEach(i=>r.set(i)),r}static accessor(e){const r=(this[y5]=this[y5]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=dm(a);r[o]||(wke(i,a),r[o]=!0)}return Pe.isArray(e)?e.forEach(s):s(e),this}}Ww.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);Pe.reduceDescriptors(Ww.prototype,({value:t},e)=>{let n=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(r){this[n]=r}}});Pe.freezeMethods(Ww);const ja=Ww;function ZM(t,e){const n=this||oO,r=e||n,i=ja.from(r.headers);let s=r.data;return Pe.forEach(t,function(o){s=o.call(n,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function e7(t){return!!(t&&t.__CANCEL__)}function lp(t,e,n){jt.call(this,t??"canceled",jt.ERR_CANCELED,e,n),this.name="CanceledError"}Pe.inherits(lp,jt,{__CANCEL__:!0});function t7(t,e,n){const r=n.config.validateStatus;!n.status||!r||r(n.status)?t(n):e(new jt("Request failed with status code "+n.status,[jt.ERR_BAD_REQUEST,jt.ERR_BAD_RESPONSE][Math.floor(n.status/100)-4],n.config,n.request,n))}function Ske(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Mke(t,e){t=t||10;const n=new Array(t),r=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),u=r[s];a||(a=c),n[i]=l,r[i]=c;let f=s,d=0;for(;f!==i;)d+=n[f++],f=f%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=u&&c-u;return p?Math.round(d*1e3/p):void 0}}function Eke(t,e){let n=0,r=1e3/e,i,s;const a=(c,u=Date.now())=>{n=u,i=null,s&&(clearTimeout(s),s=null),t.apply(null,c)};return[(...c)=>{const u=Date.now(),f=u-n;f>=r?a(c,u):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},r-f)))},()=>i&&a(i)]}const $b=(t,e,n=3)=>{let r=0;const i=Mke(50,250);return Eke(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-r,c=i(l),u=a<=o;r=a;const f={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&u?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(f)},n)},x5=(t,e)=>{const n=t!=null;return[r=>e[0]({lengthComputable:n,total:t,loaded:r}),e[1]]},b5=t=>(...e)=>Pe.asap(()=>t(...e)),Tke=xi.hasStandardBrowserEnv?((t,e)=>n=>(n=new URL(n,xi.origin),t.protocol===n.protocol&&t.host===n.host&&(e||t.port===n.port)))(new URL(xi.origin),xi.navigator&&/(msie|trident)/i.test(xi.navigator.userAgent)):()=>!0,Ake=xi.hasStandardBrowserEnv?{write(t,e,n,r,i,s){const a=[t+"="+encodeURIComponent(e)];Pe.isNumber(n)&&a.push("expires="+new Date(n).toGMTString()),Pe.isString(r)&&a.push("path="+r),Pe.isString(i)&&a.push("domain="+i),s===!0&&a.push("secure"),document.cookie=a.join("; ")},read(t){const e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove(t){this.write(t,"",Date.now()-864e5)}}:{write(){},read(){return null},remove(){}};function Pke(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Cke(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function n7(t,e,n){let r=!Pke(e);return t&&(r||n==!1)?Cke(t,e):e}const _5=t=>t instanceof ja?{...t}:t;function sf(t,e){e=e||{};const n={};function r(c,u,f,d){return Pe.isPlainObject(c)&&Pe.isPlainObject(u)?Pe.merge.call({caseless:d},c,u):Pe.isPlainObject(u)?Pe.merge({},u):Pe.isArray(u)?u.slice():u}function i(c,u,f,d){if(Pe.isUndefined(u)){if(!Pe.isUndefined(c))return r(void 0,c,f,d)}else return r(c,u,f,d)}function s(c,u){if(!Pe.isUndefined(u))return r(void 0,u)}function a(c,u){if(Pe.isUndefined(u)){if(!Pe.isUndefined(c))return r(void 0,c)}else return r(void 0,u)}function o(c,u,f){if(f in e)return r(c,u);if(f in t)return r(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,u,f)=>i(_5(c),_5(u),f,!0)};return Pe.forEach(Object.keys(Object.assign({},t,e)),function(u){const f=l[u]||i,d=f(t[u],e[u],u);Pe.isUndefined(d)&&f!==o||(n[u]=d)}),n}const r7=t=>{const e=sf({},t);let{data:n,withXSRFToken:r,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;e.headers=a=ja.from(a),e.url=Z9(n7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):"")));let l;if(Pe.isFormData(n)){if(xi.hasStandardBrowserEnv||xi.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if((l=a.getContentType())!==!1){const[c,...u]=l?l.split(";").map(f=>f.trim()).filter(Boolean):[];a.setContentType([c||"multipart/form-data",...u].join("; "))}}if(xi.hasStandardBrowserEnv&&(r&&Pe.isFunction(r)&&(r=r(e)),r||r!==!1&&Tke(e.url))){const c=i&&s&&Ake.read(s);c&&a.set(i,c)}return e},Nke=typeof XMLHttpRequest<"u",Rke=Nke&&function(t){return new Promise(function(n,r){const i=r7(t);let s=i.data;const a=ja.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,u,f,d,p,v;function b(){p&&p(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(u),i.signal&&i.signal.removeEventListener("abort",u)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function y(){if(!x)return;const _=ja.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),M={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:_,config:t,request:x};t7(function(A){n(A),b()},function(A){r(A),b()},M),x=null}"onloadend"in x?x.onloadend=y:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(y)},x.onabort=function(){x&&(r(new jt("Request aborted",jt.ECONNABORTED,t,x)),x=null)},x.onerror=function(){r(new jt("Network Error",jt.ERR_NETWORK,t,x)),x=null},x.ontimeout=function(){let S=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const M=i.transitional||J9;i.timeoutErrorMessage&&(S=i.timeoutErrorMessage),r(new jt(S,M.clarifyTimeoutError?jt.ETIMEDOUT:jt.ECONNABORTED,t,x)),x=null},s===void 0&&a.setContentType(null),"setRequestHeader"in x&&Pe.forEach(a.toJSON(),function(S,M){x.setRequestHeader(M,S)}),Pe.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),o&&o!=="json"&&(x.responseType=i.responseType),c&&([d,v]=$b(c,!0),x.addEventListener("progress",d)),l&&x.upload&&([f,p]=$b(l),x.upload.addEventListener("progress",f),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(u=_=>{x&&(r(!_||_.type?new lp(null,t,x):_),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(u),i.signal&&(i.signal.aborted?u():i.signal.addEventListener("abort",u)));const w=Ske(i.url);if(w&&xi.protocols.indexOf(w)===-1){r(new jt("Unsupported protocol "+w+":",jt.ERR_BAD_REQUEST,t));return}x.send(s||null)})},Oke=(t,e)=>{const{length:n}=t=t?t.filter(Boolean):[];if(e||n){let r=new AbortController,i;const s=function(c){if(!i){i=!0,o();const u=c instanceof Error?c:this.reason;r.abort(u instanceof jt?u:new lp(u instanceof Error?u.message:u))}};let a=e&&setTimeout(()=>{a=null,s(new jt(`timeout ${e} of ms exceeded`,jt.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=r;return l.unsubscribe=()=>Pe.asap(o),l}},Lke=Oke,Ike=function*(t,e){let n=t.byteLength;if(!e||n<e){yield t;return}let r=0,i;for(;r<n;)i=r+e,yield t.slice(r,i),r=i},jke=async function*(t,e){for await(const n of kke(t))yield*Ike(n,e)},kke=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:n,value:r}=await e.read();if(n)break;yield r}}finally{await e.cancel()}},w5=(t,e,n,r)=>{const i=jke(t,e);let s=0,a,o=l=>{a||(a=!0,r&&r(l))};return new ReadableStream({async pull(l){try{const{done:c,value:u}=await i.next();if(c){o(),l.close();return}let f=u.byteLength;if(n){let d=s+=f;n(d)}l.enqueue(new Uint8Array(u))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},Gw=typeof fetch=="function"&&typeof Request=="function"&&typeof Response=="function",i7=Gw&&typeof ReadableStream=="function",Dke=Gw&&(typeof TextEncoder=="function"?(t=>e=>t.encode(e))(new TextEncoder):async t=>new Uint8Array(await new Response(t).arrayBuffer())),s7=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Uke=i7&&s7(()=>{let t=!1;const e=new Request(xi.origin,{body:new ReadableStream,method:"POST",get duplex(){return t=!0,"half"}}).headers.has("Content-Type");return t&&!e}),S5=64*1024,OP=i7&&s7(()=>Pe.isReadableStream(new Response("").body)),Wb={stream:OP&&(t=>t.body)};Gw&&(t=>{["text","arrayBuffer","blob","formData","stream"].forEach(e=>{!Wb[e]&&(Wb[e]=Pe.isFunction(t[e])?n=>n[e]():(n,r)=>{throw new jt(`Response type '${e}' is not supported`,jt.ERR_NOT_SUPPORT,r)})})})(new Response);const Fke=async t=>{if(t==null)return 0;if(Pe.isBlob(t))return t.size;if(Pe.isSpecCompliantForm(t))return(await new Request(xi.origin,{method:"POST",body:t}).arrayBuffer()).byteLength;if(Pe.isArrayBufferView(t)||Pe.isArrayBuffer(t))return t.byteLength;if(Pe.isURLSearchParams(t)&&(t=t+""),Pe.isString(t))return(await Dke(t)).byteLength},Bke=async(t,e)=>{const n=Pe.toFiniteNumber(t.getContentLength());return n??Fke(e)},zke=Gw&&(async t=>{let{url:e,method:n,data:r,signal:i,cancelToken:s,timeout:a,onDownloadProgress:o,onUploadProgress:l,responseType:c,headers:u,withCredentials:f="same-origin",fetchOptions:d}=r7(t);c=c?(c+"").toLowerCase():"text";let p=Lke([i,s&&s.toAbortSignal()],a),v;const b=p&&p.unsubscribe&&(()=>{p.unsubscribe()});let x;try{if(l&&Uke&&n!=="get"&&n!=="head"&&(x=await Bke(u,r))!==0){let M=new Request(e,{method:"POST",body:r,duplex:"half"}),E;if(Pe.isFormData(r)&&(E=M.headers.get("content-type"))&&u.setContentType(E),M.body){const[A,C]=x5(x,$b(b5(l)));r=w5(M.body,S5,A,C)}}Pe.isString(f)||(f=f?"include":"omit");const y="credentials"in Request.prototype;v=new Request(e,{...d,signal:p,method:n.toUpperCase(),headers:u.normalize().toJSON(),body:r,duplex:"half",credentials:y?f:void 0});let w=await fetch(v);const _=OP&&(c==="stream"||c==="response");if(OP&&(o||_&&b)){const M={};["status","statusText","headers"].forEach(P=>{M[P]=w[P]});const E=Pe.toFiniteNumber(w.headers.get("content-length")),[A,C]=o&&x5(E,$b(b5(o),!0))||[];w=new Response(w5(w.body,S5,A,()=>{C&&C(),b&&b()}),M)}c=c||"text";let S=await Wb[Pe.findKey(Wb,c)||"text"](w,t);return!_&&b&&b(),await new Promise((M,E)=>{t7(M,E,{data:S,headers:ja.from(w.headers),status:w.status,statusText:w.statusText,config:t,request:v})})}catch(y){throw b&&b(),y&&y.name==="TypeError"&&/Load failed|fetch/i.test(y.message)?Object.assign(new jt("Network Error",jt.ERR_NETWORK,t,v),{cause:y.cause||y}):jt.from(y,y&&y.code,t,v)}}),LP={http:eke,xhr:Rke,fetch:zke};Pe.forEach(LP,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const M5=t=>`- ${t}`,Vke=t=>Pe.isFunction(t)||t===null||t===!1,a7={getAdapter:t=>{t=Pe.isArray(t)?t:[t];const{length:e}=t;let n,r;const i={};for(let s=0;s<e;s++){n=t[s];let a;if(r=n,!Vke(n)&&(r=LP[(a=String(n)).toLowerCase()],r===void 0))throw new jt(`Unknown adapter '${a}'`);if(r)break;i[a||"#"+s]=r}if(!r){const s=Object.entries(i).map(([o,l])=>`adapter ${o} `+(l===!1?"is not supported by the environment":"is not available in the build"));let a=e?s.length>1?`since :
`+s.map(M5).join(`
`):" "+M5(s[0]):"as no adapter specified";throw new jt("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return r},adapters:LP};function JM(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lp(null,t)}function E5(t){return JM(t),t.headers=ja.from(t.headers),t.data=ZM.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),a7.getAdapter(t.adapter||oO.adapter)(t).then(function(r){return JM(t),r.data=ZM.call(t,t.transformResponse,r),r.headers=ja.from(r.headers),r},function(r){return e7(r)||(JM(t),r&&r.response&&(r.response.data=ZM.call(t,t.transformResponse,r.response),r.response.headers=ja.from(r.response.headers))),Promise.reject(r)})}const o7="1.9.0",Xw={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Xw[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}});const T5={};Xw.transitional=function(e,n,r){function i(s,a){return"[Axios v"+o7+"] Transitional option '"+s+"'"+a+(r?". "+r:"")}return(s,a,o)=>{if(e===!1)throw new jt(i(a," has been removed"+(n?" in "+n:"")),jt.ERR_DEPRECATED);return n&&!T5[a]&&(T5[a]=!0,console.warn(i(a," has been deprecated since v"+n+" and will be removed in the near future"))),e?e(s,a,o):!0}};Xw.spelling=function(e){return(n,r)=>(console.warn(`${r} is likely a misspelling of ${e}`),!0)};function Hke(t,e,n){if(typeof t!="object")throw new jt("options must be an object",jt.ERR_BAD_OPTION_VALUE);const r=Object.keys(t);let i=r.length;for(;i-- >0;){const s=r[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new jt("option "+s+" must be "+l,jt.ERR_BAD_OPTION_VALUE);continue}if(n!==!0)throw new jt("Unknown option "+s,jt.ERR_BAD_OPTION)}}const e1={assertOptions:Hke,validators:Xw},Ka=e1.validators;class Gb{constructor(e){this.defaults=e||{},this.interceptors={request:new v5,response:new v5}}async request(e,n){try{return await this._request(e,n)}catch(r){if(r instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{r.stack?s&&!String(r.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(r.stack+=`
`+s):r.stack=s}catch{}}throw r}}_request(e,n){typeof e=="string"?(n=n||{},n.url=e):n=e||{},n=sf(this.defaults,n);const{transitional:r,paramsSerializer:i,headers:s}=n;r!==void 0&&e1.assertOptions(r,{silentJSONParsing:Ka.transitional(Ka.boolean),forcedJSONParsing:Ka.transitional(Ka.boolean),clarifyTimeoutError:Ka.transitional(Ka.boolean)},!1),i!=null&&(Pe.isFunction(i)?n.paramsSerializer={serialize:i}:e1.assertOptions(i,{encode:Ka.function,serialize:Ka.function},!0)),n.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?n.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:n.allowAbsoluteUrls=!0),e1.assertOptions(n,{baseUrl:Ka.spelling("baseURL"),withXsrfToken:Ka.spelling("withXSRFToken")},!0),n.method=(n.method||this.defaults.method||"get").toLowerCase();let a=s&&Pe.merge(s.common,s[n.method]);s&&Pe.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),n.headers=ja.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(b){typeof b.runWhen=="function"&&b.runWhen(n)===!1||(l=l&&b.synchronous,o.unshift(b.fulfilled,b.rejected))});const c=[];this.interceptors.response.forEach(function(b){c.push(b.fulfilled,b.rejected)});let u,f=0,d;if(!l){const v=[E5.bind(this),void 0];for(v.unshift.apply(v,o),v.push.apply(v,c),d=v.length,u=Promise.resolve(n);f<d;)u=u.then(v[f++],v[f++]);return u}d=o.length;let p=n;for(f=0;f<d;){const v=o[f++],b=o[f++];try{p=v(p)}catch(x){b.call(this,x);break}}try{u=E5.call(this,p)}catch(v){return Promise.reject(v)}for(f=0,d=c.length;f<d;)u=u.then(c[f++],c[f++]);return u}getUri(e){e=sf(this.defaults,e);const n=n7(e.baseURL,e.url,e.allowAbsoluteUrls);return Z9(n,e.params,e.paramsSerializer)}}Pe.forEach(["delete","get","head","options"],function(e){Gb.prototype[e]=function(n,r){return this.request(sf(r||{},{method:e,url:n,data:(r||{}).data}))}});Pe.forEach(["post","put","patch"],function(e){function n(r){return function(s,a,o){return this.request(sf(o||{},{method:e,headers:r?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Gb.prototype[e]=n(),Gb.prototype[e+"Form"]=n(!0)});const t1=Gb;class lO{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let n;this.promise=new Promise(function(s){n=s});const r=this;this.promise.then(i=>{if(!r._listeners)return;let s=r._listeners.length;for(;s-- >0;)r._listeners[s](i);r._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{r.subscribe(o),s=o}).then(i);return a.cancel=function(){r.unsubscribe(s)},a},e(function(s,a,o){r.reason||(r.reason=new lp(s,a,o),n(r.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const n=this._listeners.indexOf(e);n!==-1&&this._listeners.splice(n,1)}toAbortSignal(){const e=new AbortController,n=r=>{e.abort(r)};return this.subscribe(n),e.signal.unsubscribe=()=>this.unsubscribe(n),e.signal}static source(){let e;return{token:new lO(function(i){e=i}),cancel:e}}}const $ke=lO;function Wke(t){return function(n){return t.apply(null,n)}}function Gke(t){return Pe.isObject(t)&&t.isAxiosError===!0}const IP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511};Object.entries(IP).forEach(([t,e])=>{IP[e]=t});const Xke=IP;function l7(t){const e=new t1(t),n=F9(t1.prototype.request,e);return Pe.extend(n,t1.prototype,e,{allOwnKeys:!0}),Pe.extend(n,e,null,{allOwnKeys:!0}),n.create=function(i){return l7(sf(t,i))},n}const xr=l7(oO);xr.Axios=t1;xr.CanceledError=lp;xr.CancelToken=$ke;xr.isCancel=e7;xr.VERSION=o7;xr.toFormData=$w;xr.AxiosError=jt;xr.Cancel=xr.CanceledError;xr.all=function(e){return Promise.all(e)};xr.spread=Wke;xr.isAxiosError=Gke;xr.mergeConfig=sf;xr.AxiosHeaders=ja;xr.formToJSON=t=>Q9(Pe.isHTMLForm(t)?new FormData(t):t);xr.getAdapter=a7.getAdapter;xr.HttpStatusCode=Xke;xr.default=xr;const qke=xr,Bd=qke.create({baseURL:"/api",timeout:3e4,headers:{"Content-Type":"application/json"}});Bd.interceptors.request.use(t=>{const e=localStorage.getItem("access_token");return e&&(t.headers.Authorization=`Bearer ${e}`),t},t=>Promise.reject(t));Bd.interceptors.response.use(t=>t.data,t=>{var n,r,i;console.error("API Error:",t),((n=t.response)==null?void 0:n.status)===401&&(localStorage.removeItem("access_token"),window.location.href="/login");const e=((i=(r=t.response)==null?void 0:r.data)==null?void 0:i.message)||t.message||"网络错误";return Promise.reject(new Error(e))});const Za={get:t=>Bd.get(t),post:(t,e)=>Bd.post(t,e),put:(t,e)=>Bd.put(t,e),delete:t=>Bd.delete(t)};var bn=(t=>(t.STATIC_PRESSURE="static_pressure",t.FLUID_STATICS="fluid_statics",t.REYNOLDS="reynolds",t.BERNOULLI="bernoulli",t.VENTURI="venturi",t.FRICTION_LOSS="friction_loss",t.LOCAL_LOSS="local_loss",t.MOMENTUM="momentum",t.KARMAN_VORTEX="karman_vortex",t.BOUNDARY_LAYER="boundary_layer",t.HYDRAULIC_JUMP="hydraulic_jump",t.CYLINDER_PRESSURE="cylinder_pressure",t.BERNOULLI_LEVITATOR="bernoulli_levitator",t.HYPERELASTIC="hyperelastic",t.DRAG="drag",t.PITOT_TUBE="pitot_tube",t.SHOCK_WAVE="shock_wave",t))(bn||{});const Xb={async getAvailableExperiments(){try{return await Za.get("/lab/experiments")}catch{return console.warn("使用模拟数据作为后备方案"),this.getMockExperiments()}},async createSession(t,e,n,r){try{return await Za.post("/lab/sessions",{experimentType:t,name:e,description:n,parameters:r})}catch{return{id:`session_${Date.now()}`,userId:"user_1",experimentType:t,name:e,description:n,created_at:new Date().toISOString(),updated_at:new Date().toISOString(),parameters:r,status:"pending"}}},async getUserSessions(){try{return await Za.get("/lab/sessions/user")}catch{return[]}},async getSession(t){try{return await Za.get(`/lab/sessions/${t}`)}catch{throw new Error("获取实验会话失败")}},async updateSessionParameters(t,e){try{return await Za.put(`/lab/sessions/${t}/parameters`,e)}catch{throw new Error("更新实验参数失败")}},async runExperiment(t){try{return await Za.post(`/lab/sessions/${t}/run`)}catch{return{jobId:`job_${Date.now()}`}}},async getExperimentResults(t){try{return await Za.get(`/lab/sessions/${t}/results`)}catch{throw new Error("获取实验结果失败")}},async getExperimentStatus(t){try{return await Za.get(`/lab/sessions/${t}/status`)}catch{return{status:"completed",progress:100}}},async cancelExperiment(t){try{await Za.post(`/lab/sessions/${t}/cancel`)}catch(e){console.error("取消实验失败:",e)}},async getExperimentConfiguration(t){try{return await Za.get(`/lab/experiments/${t}/configuration`)}catch{return this.getMockConfiguration(t)}},getMockExperiments(){return[{type:"static_pressure",name:"静水压强实验",description:"验证流体静力学基本方程，测量静止液体内部压强分布。"},{type:"fluid_statics",name:"流体静力学综合实验",description:"包括测压管水头线测量、液体容重测定等。"},{type:"reynolds",name:"雷诺实验",description:"观察层流与湍流流态，测定临界雷诺数。"},{type:"bernoulli",name:"伯努利方程验证实验",description:"验证总水头线与测压管水头线的关系，分析动能与势能转化。"},{type:"venturi",name:"文丘里流量计实验",description:"测定流量系数，验证气-水多管压差计原理。"},{type:"friction_loss",name:"沿程阻力实验",description:"测定沿程水头损失系数，绘制λ-Re关系曲线。"},{type:"local_loss",name:"局部阻力实验",description:"测量突扩管或阀门处的局部水头损失及阻力系数。"},{type:"momentum",name:"动量定律实验",description:"验证不可压缩流体恒定流动量方程，分析射流冲击力。"},{type:"karman_vortex",name:"卡门涡街实验",description:"观察圆柱绕流中周期性涡旋脱落现象。"},{type:"boundary_layer",name:"平板边界层速度剖面测量",description:"通过热线风速仪测量边界层速度分布。"},{type:"hydraulic_jump",name:"水跃综合实验",description:"验证平坡矩形明槽自由水跃共轭水深理论。"},{type:"cylinder_pressure",name:"圆柱绕流表面压力分布实验",description:"用多管压力计测量圆柱表面压强分布。"},{type:"bernoulli_levitator",name:"伯努利悬浮器实验",description:"直观展示流速与压强的关系（如飞机机翼升力原理）。"},{type:"hyperelastic",name:"超弹性现象演示",description:"观察材料在冲击下的形变与恢复特性。"},{type:"drag",name:"阻力实验",description:"测量不同形状物体在流体中的阻力系数，分析绕流特性。"},{type:"pitot_tube",name:"毕托管实验",description:"使用毕托管测量流体速度，理解驻点压力原理。"},{type:"shock_wave",name:"激波实验",description:"观察超声速流动中的激波现象，分析激波前后参数变化。"}]},getMockConfiguration(t){return{reynolds:{parameters:[{name:"流速",type:"number",default:1,range:[.1,5],step:.1,unit:"m/s",description:"管道内平均流速"},{name:"管道直径",type:"number",default:.02,range:[.01,.05],step:.001,unit:"m",description:"圆管内径"},{name:"流体粘度",type:"number",default:1e-6,range:[1e-7,1e-5],step:1e-7,unit:"m²/s",description:"运动粘度系数"},{name:"流体类型",type:"select",default:"水",options:["水","空气","油"],description:"实验流体介质"}],description:"雷诺实验用于观察和研究流体的层流与湍流现象，确定临界雷诺数。",theory:"雷诺数Re = ρvd/μ = vd/ν，当Re < 2300时为层流，Re > 4000时为湍流。",applications:["管道设计","流量控制","换热器设计"]},bernoulli:{parameters:[{name:"入口流速",type:"number",default:2,range:[.5,5],step:.1,unit:"m/s",description:"管道入口流速"},{name:"收缩比",type:"number",default:.5,range:[.3,.8],step:.05,unit:"",description:"收缩段面积比"},{name:"测量点数",type:"select",default:"5",options:["3","5","7","9"],description:"压力测量点数量"}],description:"验证伯努利方程，分析流体在不同截面的能量转换。",theory:"p₁/ρg + v₁²/2g + z₁ = p₂/ρg + v₂²/2g + z₂ + h_loss",applications:["流量测量","风洞设计","水力机械"]},karman_vortex:{parameters:[{name:"雷诺数",type:"number",default:100,range:[40,300],step:5,unit:"",description:"基于圆柱直径的雷诺数"},{name:"圆柱直径",type:"number",default:1,range:[.5,2],step:.1,unit:"scale",description:"相对圆柱直径"},{name:"流速",type:"number",default:1.5,range:[.5,3],step:.1,unit:"m/s",description:"来流速度"},{name:"可视化模式",type:"select",default:"涡量场",options:["速度场","压力场","涡量场","流线"],description:"流场可视化方式"}],description:"观察和分析圆柱绕流中的卡门涡街现象，研究涡脱落频率。",theory:"斯特劳哈尔数St = fD/v，对于圆柱绕流St ≈ 0.2（Re = 40-300）",applications:["结构抗风设计","流量计原理","海洋工程"]}}[t]||{parameters:[],description:"实验配置暂未准备",theory:"",applications:[]}},async generateMockResults(t,e){var r;await new Promise(i=>setTimeout(i,2e3));const n={reynolds:{reynolds_number:e.流速*e.管道直径/e.流体粘度,flow_regime:e.流速>2?"湍流":"层流",pressure_drop:Math.random()*1e3+500,velocity_profile:Array.from({length:20},(i,s)=>({position:s/19,velocity:Math.random()*e.流速}))},bernoulli:{pressure_distribution:Array.from({length:5},(i,s)=>({position:s,static_pressure:1e3-s*50+Math.random()*20,dynamic_pressure:Math.pow(e.入口流速*(1+s*.2),2)*500+Math.random()*10,total_pressure:1500+Math.random()*50})),flow_coefficient:.98+Math.random()*.02},karman_vortex:{strouhal_number:.2+Math.random()*.05,vortex_frequency:.2*e.流速/e.圆柱直径,lift_coefficient:Math.sin(Date.now()/1e3)*.5,drag_coefficient:1.2+Math.random()*.3,flow_field:Array.from({length:100},(i,s)=>({x:s%10*.1,y:Math.floor(s/10)*.1,vx:Math.random()*2-1,vy:Math.random()*2-1,pressure:Math.random()*1e3}))}};return{id:`result_${Date.now()}`,type:t,name:((r=this.getMockExperiments().find(i=>i.type===t))==null?void 0:r.name)||"",description:"模拟实验结果",created_at:new Date().toISOString(),parameters:e,results:n[t]||{},visualization_data:{type:"3d_flow_field",particles:Array.from({length:1e3},()=>({x:Math.random()*10,y:Math.random()*5,z:Math.random()*2,vx:Math.random()*2-1,vy:Math.random()*2-1,vz:Math.random()*.5-.25}))}}}},A5=[{id:"all",name:"全部实验"},{id:"static",name:"静力学实验"},{id:"flow",name:"流动特性实验"},{id:"resistance",name:"流动阻力实验"},{id:"momentum",name:"动量定律实验"},{id:"comprehensive",name:"综合应用实验"},{id:"demo",name:"演示类实验"}];function P5(t){return{[bn.STATIC_PRESSURE]:"static",[bn.FLUID_STATICS]:"static",[bn.REYNOLDS]:"flow",[bn.BERNOULLI]:"flow",[bn.VENTURI]:"flow",[bn.FRICTION_LOSS]:"resistance",[bn.LOCAL_LOSS]:"resistance",[bn.MOMENTUM]:"momentum",[bn.KARMAN_VORTEX]:"momentum",[bn.BOUNDARY_LAYER]:"comprehensive",[bn.HYDRAULIC_JUMP]:"comprehensive",[bn.CYLINDER_PRESSURE]:"comprehensive",[bn.BERNOULLI_LEVITATOR]:"demo",[bn.HYPERELASTIC]:"demo",[bn.DRAG]:"resistance",[bn.PITOT_TUBE]:"flow",[bn.SHOCK_WAVE]:"comprehensive"}[t]||"all"}const Yke=()=>{const[t,e]=F.useState("all"),[n,r]=F.useState([]),[i,s]=F.useState(null),[a,o]=F.useState(!0),[l,c]=F.useState(null),u=t==="all"?n:n.filter(b=>P5(b.type)===t),f=b=>{const x=A5.find(y=>y.id===b);return x?x.name:"未分类"},d=async()=>{try{o(!0);const b=await Xb.getAvailableExperiments();r(b)}catch(b){console.error("Failed to fetch experiments:",b),c("获取实验列表失败")}finally{o(!1)}},p=b=>{s(b)},v=()=>{s(null)};return F.useEffect(()=>{d()},[]),i?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 text-white",children:h.jsx(Kke,{experiment:i,onGoBack:v})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 text-white",children:h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[h.jsxs("div",{className:"text-center mb-12",children:[h.jsx("h1",{className:"text-4xl md:text-5xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"流体力学实验室"}),h.jsx("p",{className:"text-xl text-blue-200 max-w-3xl mx-auto",children:"通过交互式实验深入理解流体力学原理，探索从基础理论到工程应用的完整知识体系"})]}),h.jsx("div",{className:"mb-8",children:h.jsx("div",{className:"flex flex-wrap justify-center gap-3",children:A5.map(b=>h.jsx(gt.button,{onClick:()=>e(b.id),className:`px-6 py-3 rounded-full transition-all duration-300 font-medium ${t===b.id?"bg-blue-600 text-white shadow-lg shadow-blue-500/30":"bg-white/10 backdrop-blur-sm text-blue-200 hover:bg-white/20 border border-white/20"}`,whileHover:{scale:1.05},whileTap:{scale:.95},children:b.name},b.id))})}),a&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"inline-block animate-spin rounded-full h-8 w-8 border-b-2 border-blue-400"}),h.jsx("p",{className:"mt-4 text-blue-200",children:"加载实验列表中..."})]}),l&&h.jsx("div",{className:"text-center py-12",children:h.jsx("div",{className:"text-red-400 text-xl",children:l})}),!a&&!l&&h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-8",children:u.map((b,x)=>h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:x*.1},className:"bg-white/10 backdrop-blur-md rounded-2xl overflow-hidden border border-white/20 hover:border-blue-400/50 transition-all duration-300 cursor-pointer group",onClick:()=>p(b),whileHover:{scale:1.02,y:-5},children:[h.jsxs("div",{className:"h-48 bg-gradient-to-br from-blue-600 to-purple-600 relative overflow-hidden",children:[h.jsx("div",{className:"absolute inset-0 bg-black/20"}),h.jsx("div",{className:"absolute bottom-0 left-0 right-0 bg-gradient-to-t from-black/60 to-transparent p-4",children:h.jsx("h3",{className:"text-xl font-bold text-white group-hover:text-blue-300 transition-colors",children:b.name})}),h.jsx("div",{className:"absolute top-4 right-4 text-white/70",children:h.jsx("svg",{className:"w-8 h-8",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})})]}),h.jsxs("div",{className:"p-6",children:[h.jsx("p",{className:"text-blue-200 text-sm mb-4 line-clamp-3",children:b.description}),h.jsxs("div",{className:"flex justify-between items-center",children:[h.jsx("span",{className:"text-xs px-3 py-1 bg-blue-500/20 text-blue-300 rounded-full border border-blue-400/30",children:f(P5(b.type))}),h.jsxs("button",{className:"text-blue-400 hover:text-blue-300 text-sm font-medium flex items-center group-hover:translate-x-1 transition-transform",children:["开始实验",h.jsx("svg",{className:"w-4 h-4 ml-1",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M9 5l7 7-7 7"})})]})]})]})]},b.type))}),!a&&!l&&u.length===0&&h.jsxs(gt.div,{initial:{opacity:0},animate:{opacity:1},className:"text-center py-16",children:[h.jsx("div",{className:"text-blue-400 mb-4",children:h.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),h.jsx("p",{className:"text-xl text-blue-200 mb-2",children:"暂无符合条件的实验"}),h.jsx("p",{className:"text-blue-300",children:"请尝试选择其他分类或联系管理员"})]})]})})})},Kke=({experiment:t,onGoBack:e})=>{const n=f_(),[r,i]=F.useState(null),[s,a]=F.useState({}),[o,l]=F.useState(!0),[c,u]=F.useState(!1),[f,d]=F.useState(null),[p,v]=F.useState(0),b=S=>({[bn.REYNOLDS]:"/lab/reynolds",[bn.BERNOULLI]:"/lab/bernoulli",[bn.DRAG]:"/lab/drag",[bn.PITOT_TUBE]:"/lab/pitot-tube",[bn.VENTURI]:"/lab/venturi",[bn.BOUNDARY_LAYER]:"/lab/boundary-layer",[bn.SHOCK_WAVE]:"/lab/shock-wave",[bn.KARMAN_VORTEX]:"/experiments/karman-vortex"})[S]||null,x=b(t.type)!==null,y=async()=>{try{l(!0);const S=await Xb.getExperimentConfiguration(t.type);i(S);const M={};S.parameters.forEach(E=>{M[E.name]=E.default}),a(M)}catch(S){console.error("加载配置失败:",S)}finally{l(!1)}},w=async()=>{try{u(!0),v(0);const S=setInterval(()=>{v(E=>E>=90?(clearInterval(S),90):E+Math.random()*10)},500),M=await Xb.generateMockResults(t.type,s);clearInterval(S),v(100),d(M)}catch(S){console.error("实验运行失败:",S)}finally{u(!1)}},_=(S,M)=>{a(E=>({...E,[S]:M}))};return F.useEffect(()=>{y()},[t.type]),h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[h.jsx("div",{className:"mb-8 pb-6 border-b border-white/20",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h2",{className:"text-3xl font-bold text-white mb-2",children:t.name}),h.jsx("p",{className:"text-blue-200 text-lg",children:t.description})]}),h.jsx(gt.button,{onClick:e,className:"px-4 py-2 bg-white/10 backdrop-blur-sm text-blue-200 border border-white/20 rounded-lg hover:bg-white/20 transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"← 返回列表"})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:[h.jsx("h3",{className:"text-xl font-bold mb-6 text-white",children:"实验参数配置"}),o?h.jsxs("div",{className:"py-8 text-center text-blue-200",children:[h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-blue-400 mx-auto mb-2"}),"加载参数配置中..."]}):r?h.jsxs("div",{className:"space-y-6",children:[r.parameters.map(S=>{var M,E,A,C,P;return h.jsxs("div",{className:"space-y-2",children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200",children:[S.name," ",S.unit&&`(${S.unit})`]}),S.type==="number"&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("input",{type:"range",min:(M=S.range)==null?void 0:M[0],max:(E=S.range)==null?void 0:E[1],step:S.step||.01,value:s[S.name]||S.default,onChange:R=>_(S.name,parseFloat(R.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"}),h.jsx("input",{type:"number",min:(A=S.range)==null?void 0:A[0],max:(C=S.range)==null?void 0:C[1],step:S.step||.01,value:s[S.name]||S.default,onChange:R=>_(S.name,parseFloat(R.target.value)),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white placeholder-blue-300 focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),S.type==="select"&&h.jsx("select",{value:s[S.name]||S.default,onChange:R=>_(S.name,R.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:(P=S.options)==null?void 0:P.map(R=>h.jsx("option",{value:R,className:"bg-slate-800",children:R},R))}),S.description&&h.jsx("p",{className:"text-xs text-blue-300",children:S.description})]},S.name)}),h.jsxs("div",{className:"pt-6 border-t border-white/20",children:[x?h.jsx(gt.button,{onClick:()=>n(b(t.type)),className:"w-full py-3 rounded-lg font-medium transition-all bg-green-600 hover:bg-green-700 shadow-lg shadow-green-500/30",whileHover:{scale:1.02},whileTap:{scale:.98},children:"进入专门实验页面"}):h.jsx(gt.button,{onClick:w,disabled:c,className:`w-full py-3 rounded-lg font-medium transition-all ${c?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-500/30"}`,whileHover:c?{}:{scale:1.02},whileTap:c?{}:{scale:.98},children:c?"实验运行中...":"开始实验"}),c&&h.jsxs("div",{className:"mt-4",children:[h.jsx("div",{className:"w-full bg-white/20 rounded-full h-2",children:h.jsx("div",{className:"bg-blue-500 h-2 rounded-full transition-all duration-300",style:{width:`${p}%`}})}),h.jsxs("div",{className:"text-right text-sm text-blue-300 mt-1",children:[Math.round(p),"%"]})]})]})]}):h.jsx("div",{className:"py-8 text-center text-red-400",children:"配置加载失败"})]})}),h.jsx("div",{className:"lg:col-span-2",children:h.jsx("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 min-h-[500px]",children:!f&&!c?h.jsx("div",{className:"h-full flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-blue-400 mb-4",children:h.jsx("svg",{className:"h-16 w-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M19.428 15.428a2 2 0 00-1.022-.547l-2.387-.477a6 6 0 00-3.86.517l-.318.158a6 6 0 01-3.86.517L6.05 15.21a2 2 0 00-1.806.547M8 4h8l-1 1v5.172a2 2 0 00.586 1.414l5 5c1.26 1.26.367 3.414-1.415 3.414H4.828c-1.782 0-2.674-2.154-1.414-3.414l5-5A2 2 0 009 10.172V5L8 4z"})})}),h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"实验准备就绪"}),h.jsx("p",{className:"text-blue-200",children:'请配置左侧参数并点击"开始实验"按钮'})]})}):c?h.jsx("div",{className:"h-full flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:"实验计算中"}),h.jsx("p",{className:"text-blue-200",children:"后端物理引擎正在进行模拟计算"}),h.jsx("p",{className:"text-sm text-blue-300 mt-2",children:"预计需要10-30秒完成"})]})}):f?h.jsxs("div",{className:"space-y-6",children:[h.jsx("h3",{className:"text-xl font-bold text-white",children:"实验结果"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:Object.entries(f.results).map(([S,M])=>h.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[h.jsx("div",{className:"text-sm text-blue-300 mb-1",children:S}),h.jsx("div",{className:"text-lg font-mono text-white",children:typeof M=="number"?M.toFixed(4):JSON.stringify(M)})]},S))}),h.jsx(gt.button,{onClick:w,className:"px-6 py-2 bg-blue-600 hover:bg-blue-700 rounded-lg text-white font-medium transition-all",whileHover:{scale:1.05},whileTap:{scale:.95},children:"重新运行实验"})]}):null})})]})]})})},Zke=({velocity:t,viscosity:e,diameter:n,reynoldsNumber:r})=>{const i=F.useRef(null),s=F.useRef(null),a=1e3;return F.useEffect(()=>{if(!s.current)return;const o=new Float32Array(a*3),l=new Float32Array(a*3),c=new Float32Array(a*3);for(let u=0;u<a;u++){const f=u*3;o[f]=(Math.random()-.5)*.5,o[f+1]=(Math.random()-.5)*n,o[f+2]=(Math.random()-.5)*n;const d=Math.sqrt(o[f+1]**2+o[f+2]**2),p=n/2;if(r<2300){const b=Math.min(d/p,1);l[f]=t*(1-b**2)*2}else{const b=t*(1-(d/p)**.14);l[f]=b+(Math.random()-.5)*t*.3}l[f+1]=(Math.random()-.5)*t*.1,l[f+2]=(Math.random()-.5)*t*.1;const v=l[f]/t;c[f]=.2+v*.8,c[f+1]=.4+v*.6,c[f+2]=1}s.current.setAttribute("position",new fn(o,3)),s.current.setAttribute("velocity",new fn(l,3)),s.current.setAttribute("color",new fn(c,3))},[t,e,n,r]),$0((o,l)=>{if(!s.current)return;const c=s.current.attributes.position.array,u=s.current.attributes.velocity.array,f=s.current.attributes.color.array;for(let d=0;d<a;d++){const p=d*3;if(c[p]+=u[p]*l,c[p+1]+=u[p+1]*l,c[p+2]+=u[p+2]*l,c[p]>5){c[p]=-5,c[p+1]=(Math.random()-.5)*n,c[p+2]=(Math.random()-.5)*n;const v=Math.sqrt(c[p+1]**2+c[p+2]**2),b=n/2;if(r<2300){const y=Math.min(v/b,1);u[p]=t*(1-y**2)*2}else{const y=t*(1-(v/b)**.14);u[p]=y+(Math.random()-.5)*t*.3}const x=u[p]/t;f[p]=.2+x*.8,f[p+1]=.4+x*.6,f[p+2]=1}}s.current.attributes.position.needsUpdate=!0,s.current.attributes.color.needsUpdate=!0}),h.jsxs("points",{ref:i,children:[h.jsx("bufferGeometry",{ref:s,children:h.jsx("bufferAttribute",{attach:"attributes-position",count:a,array:new Float32Array(a*3),itemSize:3})}),h.jsx("pointsMaterial",{size:.02,vertexColors:!0,transparent:!0,opacity:.8,depthWrite:!1})]})},Jke=({diameter:t})=>h.jsxs("group",{children:[h.jsxs("mesh",{children:[h.jsx("cylinderGeometry",{args:[t/2+.02,t/2+.02,10,32]}),h.jsx("meshStandardMaterial",{color:"#2563eb",transparent:!0,opacity:.3,side:ea})]}),h.jsxs("mesh",{children:[h.jsx("cylinderGeometry",{args:[t/2,t/2,10,32]}),h.jsx("meshBasicMaterial",{color:"#ffffff",transparent:!0,opacity:.1,side:bi})]})]}),Qke=()=>{var b,x;const[t,e]=F.useState(1),[n,r]=F.useState(.02),[i,s]=F.useState(1e-6),[a,o]=F.useState("水"),[l,c]=F.useState(!1),[u,f]=F.useState(null),d=t*n/i,p=d<2300?"层流":d>4e3?"湍流":"过渡流";F.useEffect(()=>{s({水:1e-6,空气:15e-6,油:1e-4}[a]||1e-6)},[a]);const v=async()=>{c(!0);try{const y=await Xb.generateMockResults(bn.REYNOLDS,{流速:t,管道直径:n,流体粘度:i,流体类型:a});f(y)}catch(y){console.error("实验运行失败:",y)}finally{c(!1)}};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-indigo-900 text-white",children:h.jsx("div",{className:"container mx-auto px-4 py-8",children:h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},children:[h.jsxs("div",{className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold mb-4 bg-gradient-to-r from-blue-400 to-cyan-400 bg-clip-text text-transparent",children:"雷诺实验"}),h.jsx("p",{className:"text-xl text-blue-200 max-w-3xl mx-auto",children:"观察层流与湍流现象，理解雷诺数对流动状态的影响"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-8",children:[h.jsxs("div",{className:"lg:col-span-1 space-y-6",children:[h.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:[h.jsx("h3",{className:"text-xl font-bold mb-6",children:"实验参数"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["流速: ",t.toFixed(2)," m/s"]}),h.jsx("input",{type:"range",min:"0.1",max:"5.0",step:"0.1",value:t,onChange:y=>e(parseFloat(y.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:["管道直径: ",(n*1e3).toFixed(1)," mm"]}),h.jsx("input",{type:"range",min:"0.01",max:"0.05",step:"0.001",value:n,onChange:y=>r(parseFloat(y.target.value)),className:"w-full h-2 bg-white/20 rounded-lg appearance-none cursor-pointer"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm font-medium text-blue-200 mb-2",children:"流体类型"}),h.jsxs("select",{value:a,onChange:y=>o(y.target.value),className:"w-full px-3 py-2 bg-white/10 border border-white/20 rounded-lg text-white focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:"水",className:"bg-slate-800",children:"水"}),h.jsx("option",{value:"空气",className:"bg-slate-800",children:"空气"}),h.jsx("option",{value:"油",className:"bg-slate-800",children:"油"})]})]}),h.jsx("div",{className:"pt-4 border-t border-white/20",children:h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-200",children:"雷诺数:"}),h.jsx("span",{className:"font-mono",children:d.toFixed(0)})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-200",children:"流动状态:"}),h.jsx("span",{className:`font-medium ${p==="层流"?"text-green-400":p==="湍流"?"text-red-400":"text-yellow-400"}`,children:p})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{className:"text-blue-200",children:"粘度:"}),h.jsx("span",{className:"font-mono text-xs",children:i.toExponential(1)})]})]})}),h.jsx(gt.button,{onClick:v,disabled:l,className:`w-full py-3 rounded-lg font-medium transition-all ${l?"bg-gray-600 cursor-not-allowed":"bg-blue-600 hover:bg-blue-700 shadow-lg shadow-blue-500/30"}`,whileHover:l?{}:{scale:1.02},whileTap:l?{}:{scale:.98},children:l?"分析中...":"生成报告"})]})]}),h.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:[h.jsx("h3",{className:"text-lg font-bold mb-4",children:"理论基础"}),h.jsxs("div",{className:"text-sm text-blue-200 space-y-2",children:[h.jsx("p",{children:h.jsx("strong",{children:"雷诺数公式:"})}),h.jsx("p",{className:"font-mono bg-white/10 p-2 rounded",children:"Re = ρvd/μ = vd/ν"}),h.jsx("p",{children:h.jsx("strong",{children:"流动判断:"})}),h.jsxs("ul",{className:"text-xs space-y-1 ml-4",children:[h.jsx("li",{children:"• Re < 2300: 层流"}),h.jsx("li",{children:"• 2300 < Re < 4000: 过渡流"}),h.jsx("li",{children:"• Re > 4000: 湍流"})]})]})]})]}),h.jsx("div",{className:"lg:col-span-2",children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20 h-[600px]",children:[h.jsx("h3",{className:"text-xl font-bold mb-4",children:"流动可视化"}),h.jsx("div",{className:"w-full h-[520px] bg-black/20 rounded-lg overflow-hidden",children:h.jsxs(XN,{camera:{position:[0,0,8],fov:50},children:[h.jsx("ambientLight",{intensity:.6}),h.jsx("pointLight",{position:[10,10,10]}),h.jsx(Jke,{diameter:n*50}),h.jsx(Zke,{velocity:t,viscosity:i,diameter:n*50,reynoldsNumber:d}),h.jsx(i$,{enablePan:!0,enableZoom:!0,enableRotate:!0})]})}),h.jsxs("div",{className:"mt-4 flex justify-center space-x-4 text-xs",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-blue-400 rounded-full mr-2"}),h.jsx("span",{children:"慢速流动"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-cyan-400 rounded-full mr-2"}),h.jsx("span",{children:"中速流动"})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("div",{className:"w-3 h-3 bg-white rounded-full mr-2"}),h.jsx("span",{children:"高速流动"})]})]})]})}),h.jsx("div",{className:"lg:col-span-1",children:h.jsxs("div",{className:"bg-white/10 backdrop-blur-md rounded-2xl p-6 border border-white/20",children:[h.jsx("h3",{className:"text-xl font-bold mb-6",children:"实验结果"}),u?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[h.jsx("div",{className:"text-sm text-blue-300 mb-1",children:"计算雷诺数"}),h.jsx("div",{className:"text-lg font-mono text-white",children:(b=u.results.reynolds_number)==null?void 0:b.toFixed(0)})]}),h.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[h.jsx("div",{className:"text-sm text-blue-300 mb-1",children:"流动状态"}),h.jsx("div",{className:`text-lg font-medium ${u.results.flow_regime==="层流"?"text-green-400":"text-red-400"}`,children:u.results.flow_regime})]}),h.jsxs("div",{className:"bg-white/5 rounded-lg p-4",children:[h.jsx("div",{className:"text-sm text-blue-300 mb-1",children:"压降 (Pa)"}),h.jsx("div",{className:"text-lg font-mono text-white",children:(x=u.results.pressure_drop)==null?void 0:x.toFixed(1)})]}),h.jsx(gt.button,{onClick:v,className:"w-full py-2 bg-blue-600/50 hover:bg-blue-600 rounded-lg text-white text-sm font-medium transition-all",whileHover:{scale:1.02},whileTap:{scale:.98},children:"重新分析"})]}):h.jsxs("div",{className:"text-center py-8",children:[h.jsx("div",{className:"text-blue-400 mb-4",children:h.jsx("svg",{className:"h-12 w-12 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:1.5,d:"M9 19v-6a2 2 0 00-2-2H5a2 2 0 00-2 2v6a2 2 0 002 2h2a2 2 0 002-2zm0 0V9a2 2 0 012-2h2a2 2 0 012 2v10m-6 0a2 2 0 002 2h2a2 2 0 002-2m0 0V5a2 2 0 012-2h2a2 2 0 012 2v14a2 2 0 01-2 2h-2a2 2 0 01-2-2z"})})}),h.jsx("p",{className:"text-blue-200 text-sm",children:'点击"生成报告"获取详细分析结果'})]})]})})]})]})})})},Yn=({value:t=[0],onValueChange:e,defaultValue:n=[0],max:r=100,min:i=0,step:s=1,className:a="",disabled:o=!1})=>{const l=t[0]||n[0],c=u=>{const f=parseFloat(u.target.value);e&&e([f])};return h.jsx("div",{className:`relative flex w-full touch-none select-none items-center ${a}`,children:h.jsx("input",{type:"range",min:i,max:r,step:s,value:l,onChange:c,disabled:o,className:"relative h-2 w-full cursor-pointer appearance-none rounded-full bg-gray-200 outline-none disabled:cursor-not-allowed disabled:opacity-50 [&::-webkit-slider-thumb]:h-5 [&::-webkit-slider-thumb]:w-5 [&::-webkit-slider-thumb]:appearance-none [&::-webkit-slider-thumb]:rounded-full [&::-webkit-slider-thumb]:bg-blue-600 [&::-webkit-slider-thumb]:cursor-pointer [&::-moz-range-thumb]:h-5 [&::-moz-range-thumb]:w-5 [&::-moz-range-thumb]:appearance-none [&::-moz-range-thumb]:rounded-full [&::-moz-range-thumb]:bg-blue-600 [&::-moz-range-thumb]:border-none [&::-moz-range-thumb]:cursor-pointer"})})},ts=({variant:t="default",children:e,className:n=""})=>{const r="inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",i={default:"border-transparent bg-blue-600 text-white hover:bg-blue-700",secondary:"border-transparent bg-gray-100 text-gray-900 hover:bg-gray-200",destructive:"border-transparent bg-red-600 text-white hover:bg-red-700",outline:"text-gray-950 border-gray-300"};return h.jsx("div",{className:`${r} ${i[t]} ${n}`,children:e})},eDe=()=>{const t=F.useRef(null),e=F.useRef(),[n,r]=F.useState(!1),[i,s]=F.useState([2]),[a,o]=F.useState([1e3]),[l,c]=F.useState([.05]),[u,f]=F.useState([.03]),[d,p]=F.useState([]),[v,b]=F.useState(null),[x,y]=F.useState(0),w=()=>{const R=[];for(let L=0;L<200;L++)R.push({x:Math.random()*500,y:200+Math.random()*60,vx:i[0]*(.8+Math.random()*.4),vy:(Math.random()-.5)*.5,pressure:101325,speed:i[0]});p(R)},_=()=>{const R=a[0],L=9.81,O=i[0],D=l[0],I=u[0],z=Math.PI*(D/2)**2,$=Math.PI*(I/2)**2,q=O*(z/$),V=O,U=.2,W=.25,k=.2,H=101325,K=H+.5*R*(O**2-q**2)+R*L*(U-W),ne=H+.5*R*(O**2-V**2)+R*L*(U-k),te=H+.5*R*O**2+R*L*U,ae=Math.abs(te-(ne+.5*R*V**2+R*L*k));b({point1:{pressure:H,velocity:O,height:U},point2:{pressure:K,velocity:q,height:W},point3:{pressure:ne,velocity:V,height:k},totalEnergy:te,energyLoss:ae})},S=()=>{p(R=>R.map(L=>{let O=L.x+L.vx,D=L.y+L.vy,I=L.vx,z=L.vy,$=L.pressure,q=L.speed;if(O>=150&&O<=250){const V=1+(O-150)/100*1.5;I=i[0]*V,q=I,$=101325-.5*a[0]*(I**2-i[0]**2),D=230+(L.y-230)*(.6-(O-150)/100*.3)}else if(O>250&&O<=350){const V=2.5-(O-250)/100*1.5;I=i[0]*V,q=I,$=101325-.5*a[0]*(I**2-i[0]**2),D=230+(L.y-230)*(.6+(O-250)/100*.4)}else I=i[0],q=I,$=101325;return O>500&&(O=0,D=200+Math.random()*60,I=i[0],z=(Math.random()-.5)*.5,$=101325,q=i[0]),D<180&&(D=180),D>260&&(D=260),{x:O,y:D,vx:I,vy:z,pressure:$,speed:q}}))},M=()=>{const R=t.current;if(!R)return;const L=R.getContext("2d");if(!L)return;if(L.fillStyle="#f8fafc",L.fillRect(0,0,R.width,R.height),L.strokeStyle="#475569",L.lineWidth=3,L.beginPath(),L.moveTo(50,200),L.lineTo(150,200),L.lineTo(250,210),L.lineTo(350,210),L.lineTo(450,200),L.lineTo(450,260),L.lineTo(350,250),L.lineTo(250,230),L.lineTo(150,260),L.lineTo(50,260),L.closePath(),L.fillStyle="#e2e8f0",L.fill(),L.stroke(),[{x:100,y:230,label:"P1"},{x:200,y:220,label:"P2"},{x:400,y:230,label:"P3"}].forEach(D=>{L.fillStyle="#ef4444",L.beginPath(),L.arc(D.x,D.y,5,0,2*Math.PI),L.fill(),L.fillStyle="#1f2937",L.font="14px Arial",L.fillText(D.label,D.x-10,D.y-15)}),d.forEach(D=>{const I=D.speed/(i[0]*2.5),z=Math.max(0,Math.min(240,240-I*120));L.fillStyle=`hsl(${z}, 70%, 50%)`,L.beginPath(),L.arc(D.x,D.y,2,0,2*Math.PI),L.fill()}),v){const D=[v.point1.pressure,v.point2.pressure,v.point3.pressure],I=[{x:100,y:180},{x:200,y:190},{x:400,y:180}];D.forEach((z,$)=>{const q=(z-1e5)/1e3;L.fillStyle=z>101325?"#22c55e":"#ef4444",L.fillRect(I[$].x-5,I[$].y-Math.abs(q),10,Math.abs(q)),L.fillStyle="#1f2937",L.font="12px Arial",L.fillText(`${(z/1e3).toFixed(1)}kPa`,I[$].x-20,I[$].y-Math.abs(q)-5)})}L.strokeStyle="#64748b",L.lineWidth=1,L.setLineDash([5,5]);for(let D=0;D<5;D++){const I=210+D*10;L.beginPath(),L.moveTo(50,I),L.quadraticCurveTo(200,I-5,250,I),L.quadraticCurveTo(300,I+5,450,I),L.stroke()}L.setLineDash([])},E=()=>{n&&(S(),M(),y(R=>R+.1),e.current=requestAnimationFrame(E))};F.useEffect(()=>{w(),_()},[i,a,l,u]),F.useEffect(()=>(n?e.current=requestAnimationFrame(E):e.current&&cancelAnimationFrame(e.current),()=>{e.current&&cancelAnimationFrame(e.current)}),[n]),F.useEffect(()=>{M()},[d,v]);const A=()=>r(!0),C=()=>r(!1),P=()=>{r(!1),y(0),w()};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"伯努利实验"}),h.jsx("p",{className:"text-xl text-gray-600",children:"流体力学基本原理：压力、速度与能量守恒"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(c$,{className:"h-5 w-5"}),"管道流动可视化"]}),h.jsx(wi,{children:"观察流体通过变截面管道时的压力和速度变化"})]}),h.jsx(Ct,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("canvas",{ref:t,width:500,height:300,className:"border border-gray-300 rounded-lg w-full"}),h.jsxs("div",{className:"flex justify-center gap-4",children:[h.jsxs(sn,{onClick:A,disabled:n,className:"flex items-center gap-2",children:[h.jsx(mf,{className:"h-4 w-4"}),"开始"]}),h.jsxs(sn,{onClick:C,disabled:!n,variant:"outline",className:"flex items-center gap-2",children:[h.jsx(qh,{className:"h-4 w-4"}),"暂停"]}),h.jsxs(sn,{onClick:P,variant:"outline",className:"flex items-center gap-2",children:[h.jsx(W0,{className:"h-4 w-4"}),"重置"]})]}),h.jsx("div",{className:"text-center",children:h.jsxs(ts,{variant:"outline",children:["运行时间: ",x.toFixed(1),"s"]})})]})})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsx(Yt,{children:"实验参数"})}),h.jsxs(Ct,{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"入口流速 (m/s)"}),h.jsx(Yn,{value:i,onValueChange:s,max:5,min:.5,step:.1,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[i[0].toFixed(1)," m/s"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"流体密度 (kg/m³)"}),h.jsx(Yn,{value:a,onValueChange:o,max:1200,min:800,step:10,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[a[0]," kg/m³"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"大管径 (m)"}),h.jsx(Yn,{value:l,onValueChange:c,max:.08,min:.03,step:.005,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[l[0].toFixed(3)," m"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"小管径 (m)"}),h.jsx(Yn,{value:u,onValueChange:f,max:.05,min:.02,step:.001,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[u[0].toFixed(3)," m"]})]})]})]}),v&&h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx($1,{className:"h-5 w-5"}),"测量结果"]})}),h.jsxs(Ct,{className:"space-y-4",children:[h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[h.jsx("div",{className:"font-medium",children:"测点 P1 (入口)"}),h.jsxs("div",{className:"text-sm text-gray-600",children:["压力: ",(v.point1.pressure/1e3).toFixed(1)," kPa",h.jsx("br",{}),"流速: ",v.point1.velocity.toFixed(2)," m/s"]})]}),h.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[h.jsx("div",{className:"font-medium",children:"测点 P2 (收缩段)"}),h.jsxs("div",{className:"text-sm text-gray-600",children:["压力: ",(v.point2.pressure/1e3).toFixed(1)," kPa",h.jsx("br",{}),"流速: ",v.point2.velocity.toFixed(2)," m/s"]}),h.jsxs("div",{className:"flex items-center text-sm",children:[h.jsx(Mue,{className:"h-4 w-4 text-red-500"}),h.jsx("span",{className:"text-red-600",children:"压力降低"})]})]}),h.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[h.jsx("div",{className:"font-medium",children:"测点 P3 (出口)"}),h.jsxs("div",{className:"text-sm text-gray-600",children:["压力: ",(v.point3.pressure/1e3).toFixed(1)," kPa",h.jsx("br",{}),"流速: ",v.point3.velocity.toFixed(2)," m/s"]}),h.jsxs("div",{className:"flex items-center text-sm",children:[h.jsx(Tue,{className:"h-4 w-4 text-green-500"}),h.jsx("span",{className:"text-green-600",children:"压力恢复"})]})]})]}),h.jsx("div",{className:"pt-3 border-t",children:h.jsxs("div",{className:"text-sm",children:[h.jsxs("div",{children:["总能量: ",(v.totalEnergy/1e3).toFixed(1)," kJ/m³"]}),h.jsxs("div",{children:["能量损失: ",(v.energyLoss/1e3).toFixed(2)," kJ/m³"]})]})})]})]})]})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsx(Yt,{children:"伯努利方程理论"})}),h.jsxs(Ct,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-3",children:"基本原理"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsx("p",{children:h.jsx("strong",{children:"伯努利方程："})}),h.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded",children:"P + ½ρv² + ρgh = 常数"}),h.jsx("p",{children:"其中："}),h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"P - 静压力"}),h.jsx("li",{children:"½ρv² - 动压力"}),h.jsx("li",{children:"ρgh - 位压力"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-3",children:"实验现象"}),h.jsx("div",{className:"space-y-2 text-sm text-gray-600",children:h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"管径收缩处："}),"流速增加，压力降低"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"管径扩张处："}),"流速减少，压力升高"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"连续性方程："}),"A₁v₁ = A₂v₂"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"能量守恒："}),"总机械能保持不变（理想情况）"]})]})})]})]}),h.jsx(uo,{className:"mt-4",children:h.jsxs(fo,{children:[h.jsx("strong",{children:"实验验证："}),"通过改变管径比例和入口流速，观察压力和速度的变化关系，验证伯努利方程的正确性。 颜色变化表示流速：蓝色（低速）→ 绿色（中速）→ 红色（高速）。"]})})]})]})]})})},tDe=()=>{const t=F.useRef(null),e=F.useRef(),[n,r]=F.useState(!1),[i,s]=F.useState([15]),[a,o]=F.useState([1.225]),[l,c]=F.useState([.2]),[u,f]=F.useState("sphere"),[d,p]=F.useState([]),[v,b]=F.useState(null),[x,y]=F.useState(0),w={sphere:{name:"球体",cd:.47,description:"光滑球体，经典的钝体绕流",draw:(L,O,D,I)=>{L.fillStyle="#ef4444",L.beginPath(),L.arc(O,D,I,0,2*Math.PI),L.fill(),L.strokeStyle="#dc2626",L.lineWidth=2,L.stroke()}},cylinder:{name:"圆柱体",cd:1.2,description:"垂直于轴线的圆柱体，产生卡门涡街",draw:(L,O,D,I)=>{L.fillStyle="#3b82f6",L.fillRect(O-I,D-I*1.5,I*2,I*3),L.strokeStyle="#2563eb",L.lineWidth=2,L.strokeRect(O-I,D-I*1.5,I*2,I*3)}},cube:{name:"立方体",cd:1.05,description:"正方形截面，尖锐边缘产生分离",draw:(L,O,D,I)=>{L.fillStyle="#10b981",L.fillRect(O-I,D-I,I*2,I*2),L.strokeStyle="#059669",L.lineWidth=2,L.strokeRect(O-I,D-I,I*2,I*2)}},streamlined:{name:"流线型",cd:.04,description:"流线型物体，阻力最小",draw:(L,O,D,I)=>{L.fillStyle="#8b5cf6",L.beginPath(),L.ellipse(O,D,I*2,I*.5,0,0,2*Math.PI),L.fill(),L.strokeStyle="#7c3aed",L.lineWidth=2,L.stroke()}},flat_plate:{name:"平板",cd:1.98,description:"垂直平板，最大阻力",draw:(L,O,D,I)=>{L.fillStyle="#f59e0b",L.fillRect(O-I*.1,D-I*1.5,I*.2,I*3),L.strokeStyle="#d97706",L.lineWidth=2,L.strokeRect(O-I*.1,D-I*1.5,I*.2,I*3)}}},_=()=>{const L=[];for(let O=0;O<300;O++)L.push({x:Math.random()*100,y:Math.random()*400+50,vx:i[0]*(.8+Math.random()*.4),vy:(Math.random()-.5)*2,age:Math.random()*100});p(L)},S=()=>{const L=a[0],O=i[0],D=l[0],z=w[u].cd,$=15e-6,q=O*D/$,V=Math.PI*(D/2)**2,U=.5*L*O**2*z*V,W=.5*L*O**2,k=q>1e3?.8:.5,H=U*k,K=U*(1-k);b({dragCoefficient:z,dragForce:U,pressure:W,reynolds:q,formDrag:H,frictionDrag:K})},M=()=>{const D=l[0]*200;p(I=>I.map(z=>{let $=z.x+z.vx*2,q=z.y+z.vy*.5,V=z.vx,U=z.vy,W=z.age+1;const k=$-350,H=q-250,K=Math.sqrt(k*k+H*H);if(K<D+50){const ne=Math.atan2(H,k),te=Math.max(0,1-K/(D+50));K>D?(U+=te*Math.sin(ne)*i[0]*.3,V*=1-te*.3,k>0&&(V*=1-te*.5,U+=(Math.random()-.5)*te*10)):($=50+Math.random()*50,q=50+Math.random()*400,V=i[0]*(.8+Math.random()*.4),U=(Math.random()-.5)*2,W=0)}return $>600&&($=0,q=50+Math.random()*400,V=i[0]*(.8+Math.random()*.4),U=(Math.random()-.5)*2,W=0),q<50&&(q=50,U=Math.abs(U)),q>450&&(q=450,U=-Math.abs(U)),W>200&&($=0,q=50+Math.random()*400,V=i[0]*(.8+Math.random()*.4),U=(Math.random()-.5)*2,W=0),{x:$,y:q,vx:V,vy:U,age:W}}))},E=()=>{const L=t.current;if(!L)return;const O=L.getContext("2d");if(!O)return;O.fillStyle="#f1f5f9",O.fillRect(0,0,L.width,L.height),O.strokeStyle="#64748b",O.lineWidth=2;for(let q=0;q<5;q++){const V=100+q*80;O.beginPath(),O.moveTo(20,V),O.lineTo(60,V),O.moveTo(50,V-5),O.lineTo(60,V),O.lineTo(50,V+5),O.stroke()}O.fillStyle="#475569",O.font="14px Arial",O.fillText(`风速: ${i[0]} m/s`,20,80),d.forEach(q=>{const V=Math.max(.1,1-q.age/200),W=Math.sqrt(q.vx**2+q.vy**2)/(i[0]*1.5),k=Math.max(0,Math.min(240,240-W*180));O.fillStyle=`hsla(${k}, 70%, 50%, ${V})`,O.beginPath(),O.arc(q.x,q.y,2,0,2*Math.PI),O.fill(),q.age>0&&(O.strokeStyle=`hsla(${k}, 70%, 50%, ${V*.3})`,O.lineWidth=1,O.beginPath(),O.moveTo(q.x,q.y),O.lineTo(q.x-q.vx*5,q.y-q.vy*5),O.stroke())});const D=350,I=250,z=l[0]*200;if(w[u].draw(O,D,I,z),v){const q=Math.min(100,v.dragForce*10);O.strokeStyle="#dc2626",O.lineWidth=3,O.beginPath(),O.moveTo(D,I),O.lineTo(D-q,I),O.stroke(),O.beginPath(),O.moveTo(D-q,I),O.lineTo(D-q+10,I-5),O.lineTo(D-q+10,I+5),O.closePath(),O.fillStyle="#dc2626",O.fill(),O.fillStyle="#1f2937",O.font="12px Arial",O.fillText(`阻力: ${v.dragForce.toFixed(2)} N`,D-q-50,I-15)}const $=20;O.strokeStyle="#059669",O.lineWidth=2,O.beginPath();for(let q=0;q<$;q++){const V=q/$*2*Math.PI,U=D+Math.cos(V)*(z+20),W=I+Math.sin(V)*(z+20),H=(Math.cos(V)*.5+.5)*15,K=U+Math.cos(V)*H,ne=W+Math.sin(V)*H;q===0?O.moveTo(K,ne):O.lineTo(K,ne)}O.closePath(),O.stroke()},A=()=>{n&&(M(),E(),y(L=>L+.1),e.current=requestAnimationFrame(A))};F.useEffect(()=>{_(),S()},[i,a,l,u]),F.useEffect(()=>(n?e.current=requestAnimationFrame(A):e.current&&cancelAnimationFrame(e.current),()=>{e.current&&cancelAnimationFrame(e.current)}),[n]),F.useEffect(()=>{E()},[d,v]);const C=()=>r(!0),P=()=>r(!1),R=()=>{r(!1),y(0),_()};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-100 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"流体阻力实验"}),h.jsx("p",{className:"text-xl text-gray-600",children:"不同形状物体的阻力系数测试与绕流可视化"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(ph,{className:"h-5 w-5"}),"绕流可视化"]}),h.jsx(wi,{children:"观察不同形状物体在气流中的绕流现象和阻力特性"})]}),h.jsx(Ct,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("canvas",{ref:t,width:600,height:500,className:"border border-gray-300 rounded-lg w-full"}),h.jsxs("div",{className:"flex justify-center gap-4",children:[h.jsxs(sn,{onClick:C,disabled:n,className:"flex items-center gap-2",children:[h.jsx(mf,{className:"h-4 w-4"}),"开始"]}),h.jsxs(sn,{onClick:P,disabled:!n,variant:"outline",className:"flex items-center gap-2",children:[h.jsx(qh,{className:"h-4 w-4"}),"暂停"]}),h.jsxs(sn,{onClick:R,variant:"outline",className:"flex items-center gap-2",children:[h.jsx(W0,{className:"h-4 w-4"}),"重置"]})]}),h.jsx("div",{className:"text-center",children:h.jsxs(ts,{variant:"outline",children:["运行时间: ",x.toFixed(1),"s"]})})]})})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsx(Yt,{children:"实验参数"})}),h.jsxs(Ct,{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"物体形状"}),h.jsxs(Tr,{value:u,onValueChange:f,children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsx(Cr,{children:Object.entries(w).map(([L,O])=>h.jsxs(kt,{value:L,children:[O.name," (Cd = ",O.cd,")"]},L))})]}),h.jsx("div",{className:"text-xs text-gray-600 mt-1",children:w[u].description})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"风速 (m/s)"}),h.jsx(Yn,{value:i,onValueChange:s,max:30,min:5,step:1,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[i[0]," m/s"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"流体密度 (kg/m³)"}),h.jsx(Yn,{value:a,onValueChange:o,max:2,min:.5,step:.1,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[a[0]," kg/m³"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"物体尺寸 (m)"}),h.jsx(Yn,{value:l,onValueChange:c,max:.5,min:.1,step:.05,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[l[0]," m"]})]})]})]}),v&&h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(co,{className:"h-5 w-5"}),"阻力数据"]})}),h.jsxs(Ct,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm",children:[h.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[h.jsx("div",{className:"font-medium",children:"阻力系数"}),h.jsx("div",{className:"text-lg text-blue-600",children:v.dragCoefficient})]}),h.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[h.jsx("div",{className:"font-medium",children:"阻力 (N)"}),h.jsx("div",{className:"text-lg text-red-600",children:v.dragForce.toFixed(2)})]}),h.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[h.jsx("div",{className:"font-medium",children:"雷诺数"}),h.jsx("div",{className:"text-lg text-green-600",children:v.reynolds.toExponential(2)})]}),h.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[h.jsx("div",{className:"font-medium",children:"动压 (Pa)"}),h.jsx("div",{className:"text-lg text-purple-600",children:v.pressure.toFixed(1)})]})]}),h.jsxs("div",{className:"pt-3 border-t space-y-2",children:[h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:"形状阻力:"}),h.jsxs("span",{children:[v.formDrag.toFixed(2)," N"]})]}),h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsx("span",{children:"摩擦阻力:"}),h.jsxs("span",{children:[v.frictionDrag.toFixed(2)," N"]})]})]})]})]})]})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsx(Yt,{children:"阻力理论与应用"})}),h.jsxs(Ct,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-3",children:"阻力计算公式"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsx("p",{children:h.jsx("strong",{children:"阻力公式："})}),h.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded",children:"F_D = ½ρv²C_DA"}),h.jsx("p",{children:"其中："}),h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"F_D - 阻力"}),h.jsx("li",{children:"ρ - 流体密度"}),h.jsx("li",{children:"v - 流速"}),h.jsx("li",{children:"C_D - 阻力系数"}),h.jsx("li",{children:"A - 参考面积"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-3",children:"典型阻力系数"}),h.jsx("div",{className:"space-y-2 text-sm",children:h.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[h.jsx("div",{children:"球体:"}),h.jsx("div",{children:"0.47"}),h.jsx("div",{children:"圆柱体:"}),h.jsx("div",{children:"1.2"}),h.jsx("div",{children:"立方体:"}),h.jsx("div",{children:"1.05"}),h.jsx("div",{children:"流线型:"}),h.jsx("div",{children:"0.04"}),h.jsx("div",{children:"平板:"}),h.jsx("div",{children:"1.98"})]})})]})]}),h.jsx(uo,{className:"mt-4",children:h.jsxs(fo,{children:[h.jsx("strong",{children:"观察要点："}),"流线型物体阻力最小，钝体阻力较大。粒子颜色表示流速： 蓝色（低速）→ 绿色（中速）→ 红色（高速）。注意观察不同形状物体后方的尾流模式。"]})})]})]})]})})},nDe=()=>{const t=F.useRef(null),e=F.useRef(),[n,r]=F.useState(!1),[i,s]=F.useState([50]),[a,o]=F.useState([0]),[l,c]=F.useState([15]),[u,f]=F.useState([]),[d,p]=F.useState(null),[v,b]=F.useState(0),[x,y]=F.useState(0),w=(L,O)=>{const z=O+273.15,$=288.15,q=Math.pow(1-.0065*L/$,5.2561),V=101325*q,U=1.225*q*($/z),H=Math.sqrt(1.4*287*z);return{pressure:V,density:U,soundSpeed:H}},_=()=>{const L=[];for(let O=0;O<150;O++)L.push({x:Math.random()*100,y:200+Math.random()*100,vx:i[0]*(.9+Math.random()*.2),vy:(Math.random()-.5)*2,id:O});f(L)},S=()=>{const L=w(a[0],l[0]),O=L.density,D=L.pressure,I=L.soundSpeed,z=i[0],$=.5*O*z**2,q=D+$,V=z/I,U=$/133.322;p({staticPressure:D,totalPressure:q,dynamicPressure:$,velocity:z,machNumber:V,pressureDifference:U}),y(Math.min(100,U*2))},M=()=>{f(D=>D.map(I=>{let z=I.x+I.vx*.5,$=I.y+I.vy*.2,q=I.vx,V=I.vy;const U=z-350,W=$-250,k=Math.sqrt(U*U+W*W);if(k<30&&U<0){const H=Math.max(0,1-k/30);q*=1-H*.8,V+=W/k*H*5}return z>600&&(z=0,$=200+Math.random()*100,q=i[0]*(.9+Math.random()*.2),V=(Math.random()-.5)*2),$<180&&($=180,V=Math.abs(V)),$>320&&($=320,V=-Math.abs(V)),{x:z,y:$,vx:q,vy:V,id:I.id}}))},E=()=>{const L=t.current;if(!L)return;const O=L.getContext("2d");if(!O)return;O.fillStyle="#f8fafc",O.fillRect(0,0,L.width,L.height),O.strokeStyle="#64748b",O.lineWidth=2;for(let U=0;U<4;U++){const W=190+U*30;O.beginPath(),O.moveTo(30,W),O.lineTo(70,W),O.moveTo(60,W-5),O.lineTo(70,W),O.lineTo(60,W+5),O.stroke()}O.fillStyle="#475569",O.font="14px Arial",O.fillText(`空速: ${i[0]} m/s`,30,170),u.forEach(U=>{const k=Math.sqrt(U.vx**2+U.vy**2)/(i[0]*1.2),H=Math.max(0,Math.min(240,240-k*180));O.fillStyle=`hsl(${H}, 70%, 50%)`,O.beginPath(),O.arc(U.x,U.y,2,0,2*Math.PI),O.fill(),O.strokeStyle=`hsla(${H}, 70%, 50%, 0.3)`,O.lineWidth=1,O.beginPath(),O.moveTo(U.x,U.y),O.lineTo(U.x-U.vx*2,U.y-U.vy*2),O.stroke()});const D=350,I=250;O.strokeStyle="#374151",O.lineWidth=4,O.beginPath(),O.moveTo(D-40,I),O.lineTo(D+40,I),O.stroke(),O.fillStyle="#ef4444",O.beginPath(),O.arc(D+40,I,6,0,2*Math.PI),O.fill();for(let U=0;U<4;U++)O.fillStyle="#3b82f6",O.beginPath(),O.arc(D-20+U*15,I-8,2,0,2*Math.PI),O.fill(),O.beginPath(),O.arc(D-20+U*15,I+8,2,0,2*Math.PI),O.fill();O.strokeStyle="#ef4444",O.lineWidth=2,O.setLineDash([]),O.beginPath(),O.moveTo(D+40,I-6),O.lineTo(D+80,I-6),O.lineTo(D+80,350),O.stroke(),O.strokeStyle="#3b82f6",O.beginPath(),O.moveTo(D,I+8),O.lineTo(D+60,I+8),O.lineTo(D+60,350),O.stroke();const z=450,$=350;O.strokeStyle="#374151",O.lineWidth=3,O.beginPath(),O.moveTo(z,$),O.lineTo(z,$+80),O.lineTo(z+40,$+80),O.lineTo(z+40,$),O.stroke(),O.fillStyle="#6b7280";const q=$+60+x/2,V=$+60-x/2;O.fillRect(z-2,q,6,$+80-q),O.fillRect(z+36,V,6,$+80-V),d&&(O.fillStyle="#1f2937",O.font="12px Arial",O.fillText(`Δh = ${d.pressureDifference.toFixed(1)} mmHg`,z-20,$-10),O.strokeStyle="#dc2626",O.lineWidth=1,O.beginPath(),O.moveTo(z+50,q),O.lineTo(z+50,V),O.stroke(),O.beginPath(),O.moveTo(z+50,V),O.lineTo(z+47,V+5),O.lineTo(z+53,V+5),O.closePath(),O.fillStyle="#dc2626",O.fill()),O.fillStyle="#1f2937",O.font="12px Arial",O.fillText("总压",D+45,I-15),O.fillText("静压",D-15,I+25),O.fillText("压差计",z-10,$+100),O.fillStyle="#fbbf24",O.beginPath(),O.arc(D+55,I,4,0,2*Math.PI),O.fill(),O.fillStyle="#1f2937",O.font="10px Arial",O.fillText("驻点",D+60,I+15)},A=()=>{n&&(M(),E(),b(L=>L+.1),e.current=requestAnimationFrame(A))};F.useEffect(()=>{_(),S()},[i,a,l]),F.useEffect(()=>(n?e.current=requestAnimationFrame(A):e.current&&cancelAnimationFrame(e.current),()=>{e.current&&cancelAnimationFrame(e.current)}),[n]),F.useEffect(()=>{E()},[u,d,x]);const C=()=>r(!0),P=()=>r(!1),R=()=>{r(!1),b(0),_()};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-sky-50 to-blue-100 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsxs("div",{className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-2",children:"毕托管实验"}),h.jsx("p",{className:"text-xl text-gray-600",children:"流速测量原理与压差计算"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx("div",{className:"lg:col-span-2",children:h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx($1,{className:"h-5 w-5"}),"毕托管测速原理"]}),h.jsx(wi,{children:"观察气流经过毕托管时的驻点效应和压差变化"})]}),h.jsx(Ct,{children:h.jsxs("div",{className:"space-y-4",children:[h.jsx("canvas",{ref:t,width:600,height:450,className:"border border-gray-300 rounded-lg w-full"}),h.jsxs("div",{className:"flex justify-center gap-4",children:[h.jsxs(sn,{onClick:C,disabled:n,className:"flex items-center gap-2",children:[h.jsx(mf,{className:"h-4 w-4"}),"开始"]}),h.jsxs(sn,{onClick:P,disabled:!n,variant:"outline",className:"flex items-center gap-2",children:[h.jsx(qh,{className:"h-4 w-4"}),"暂停"]}),h.jsxs(sn,{onClick:R,variant:"outline",className:"flex items-center gap-2",children:[h.jsx(W0,{className:"h-4 w-4"}),"重置"]})]}),h.jsx("div",{className:"text-center",children:h.jsxs(ts,{variant:"outline",children:["运行时间: ",v.toFixed(1),"s"]})})]})})]})}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsx(Yt,{children:"测量条件"})}),h.jsxs(Ct,{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"空速 (m/s)"}),h.jsx(Yn,{value:i,onValueChange:s,max:100,min:10,step:5,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[i[0]," m/s"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"高度 (m)"}),h.jsx(Yn,{value:a,onValueChange:o,max:1e4,min:0,step:500,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[a[0]," m"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"温度 (°C)"}),h.jsx(Yn,{value:l,onValueChange:c,max:40,min:-20,step:5,className:"mt-2"}),h.jsxs("div",{className:"text-sm text-gray-600 mt-1",children:[l[0],"°C"]})]})]})]}),d&&h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(YN,{className:"h-5 w-5"}),"测量数据"]})}),h.jsxs(Ct,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 gap-3",children:[h.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"静压 (Pa)"}),h.jsx("div",{className:"text-lg font-bold text-blue-600",children:d.staticPressure.toFixed(0)})]}),h.jsxs("div",{className:"p-3 bg-red-50 rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"总压 (Pa)"}),h.jsx("div",{className:"text-lg font-bold text-red-600",children:d.totalPressure.toFixed(0)})]}),h.jsxs("div",{className:"p-3 bg-green-50 rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"动压 (Pa)"}),h.jsx("div",{className:"text-lg font-bold text-green-600",children:d.dynamicPressure.toFixed(1)})]}),h.jsxs("div",{className:"p-3 bg-purple-50 rounded-lg",children:[h.jsx("div",{className:"font-medium text-sm",children:"压差 (mmHg)"}),h.jsx("div",{className:"text-lg font-bold text-purple-600",children:d.pressureDifference.toFixed(1)})]})]}),h.jsxs("div",{className:"pt-3 border-t space-y-2 text-sm",children:[h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"计算流速:"}),h.jsxs("span",{className:"font-medium",children:[d.velocity.toFixed(1)," m/s"]})]}),h.jsxs("div",{className:"flex justify-between",children:[h.jsx("span",{children:"马赫数:"}),h.jsx("span",{className:"font-medium",children:d.machNumber.toFixed(3)})]})]})]})]})]})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsx(Yt,{children:"毕托管测速原理"})}),h.jsxs(Ct,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-3",children:"工作原理"}),h.jsxs("div",{className:"space-y-2 text-sm text-gray-600",children:[h.jsx("p",{children:h.jsx("strong",{children:"伯努利方程应用："})}),h.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded",children:"P₀ = P + ½ρv²"}),h.jsx("p",{children:"流速计算："}),h.jsx("p",{className:"font-mono bg-gray-100 p-2 rounded",children:"v = √(2Δp/ρ)"}),h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsx("li",{children:"P₀ - 总压（驻点压力）"}),h.jsx("li",{children:"P - 静压"}),h.jsx("li",{children:"Δp - 动压（压差）"}),h.jsx("li",{children:"ρ - 流体密度"})]})]})]}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold mb-3",children:"应用领域"}),h.jsx("div",{className:"space-y-2 text-sm text-gray-600",children:h.jsxs("ul",{className:"list-disc list-inside space-y-1",children:[h.jsxs("li",{children:[h.jsx("strong",{children:"航空航天："}),"飞机空速测量"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"气象学："}),"风速监测"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"工业："}),"管道流速检测"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"汽车："}),"风洞试验测速"]}),h.jsxs("li",{children:[h.jsx("strong",{children:"环境："}),"大气流动研究"]})]})})]})]}),h.jsx(uo,{className:"mt-4",children:h.jsxs(fo,{children:[h.jsx("strong",{children:"实验观察："}),"注意观察毕托管前方的驻点（黄色标记）， 流体在此处速度为零，压力最高。压差计显示动压对应的液柱高度差， 据此可计算实际流速。粒子颜色表示流速变化。"]})})]})]})]})})},rDe=()=>{const t=f_(),[e,n]=F.useState("all"),[r,i]=F.useState("all"),[s,a]=F.useState(""),o=[{id:"reynolds",name:"雷诺实验",description:"观察层流到湍流的转换，理解雷诺数的物理意义",path:"/lab/reynolds",icon:h.jsx(ph,{className:"h-6 w-6"}),category:"flow",difficulty:"beginner",estimatedTime:"15-20分钟",features:["1000粒子仿真","实时流态判断","参数可调节","3D可视化"]},{id:"bernoulli",name:"伯努利实验",description:"验证伯努利方程，观察压力与速度的关系",path:"/lab/bernoulli",icon:h.jsx(co,{className:"h-6 w-6"}),category:"flow",difficulty:"intermediate",estimatedTime:"20-25分钟",features:["压力可视化","管径变化","能量守恒验证","流线显示"]},{id:"drag",name:"阻力实验",description:"测试不同形状物体的阻力系数和绕流现象",path:"/lab/drag",icon:h.jsx(rA,{className:"h-6 w-6"}),category:"resistance",difficulty:"intermediate",estimatedTime:"18-22分钟",features:["多种物体形状","阻力系数计算","绕流可视化","尾流分析"]},{id:"pitot-tube",name:"毕托管实验",description:"学习流速测量原理，掌握毕托管的使用方法",path:"/lab/pitot-tube",icon:h.jsx($1,{className:"h-6 w-6"}),category:"measurement",difficulty:"advanced",estimatedTime:"25-30分钟",features:["压差测量","流速计算","驻点效应","实际应用"]},{id:"karman-vortex",name:"卡门涡街",description:"观察圆柱绕流产生的周期性涡街现象",path:"/experiments/karman-vortex",icon:h.jsx(vM,{className:"h-6 w-6"}),category:"flow",difficulty:"advanced",estimatedTime:"20-25分钟",features:["涡街可视化","频率分析","斯特劳哈尔数","周期性现象"]}],l=[{id:"all",name:"全部实验",icon:h.jsx(hh,{className:"h-4 w-4"})},{id:"flow",name:"流动实验",icon:h.jsx(ph,{className:"h-4 w-4"})},{id:"resistance",name:"阻力实验",icon:h.jsx(rA,{className:"h-4 w-4"})},{id:"measurement",name:"测量实验",icon:h.jsx($1,{className:"h-4 w-4"})}],c=[{id:"all",name:"全部难度"},{id:"beginner",name:"初级",color:"green"},{id:"intermediate",name:"中级",color:"yellow"},{id:"advanced",name:"高级",color:"red"}],u=o.filter(v=>{const b=e==="all"||v.category===e,x=r==="all"||v.difficulty===r,y=v.name.toLowerCase().includes(s.toLowerCase())||v.description.toLowerCase().includes(s.toLowerCase());return b&&x&&y}),f=v=>{switch(v){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},d=v=>{switch(v){case"flow":return"bg-blue-100 text-blue-800";case"resistance":return"bg-purple-100 text-purple-800";case"measurement":return"bg-orange-100 text-orange-800";default:return"bg-gray-100 text-gray-800"}},p=v=>{t(v.path)};return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"实验配置中心"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"选择你感兴趣的流体力学实验，配置参数并开始探索"})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(hh,{className:"h-5 w-5"}),"实验筛选"]})}),h.jsx(Ct,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"搜索实验"}),h.jsx("input",{type:"text",placeholder:"输入实验名称...",value:s,onChange:v=>a(v.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-lg focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"实验分类"}),h.jsxs(Tr,{value:e,onValueChange:n,children:[h.jsx(Ar,{children:h.jsx(Pr,{})}),h.jsx(Cr,{children:l.map(v=>h.jsx(kt,{value:v.id,children:h.jsxs("div",{className:"flex items-center gap-2",children:[v.icon,v.name]})},v.id))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium text-gray-700 block mb-2",children:"难度等级"}),h.jsxs(Tr,{value:r,onValueChange:i,children:[h.jsx(Ar,{children:h.jsx(Pr,{})}),h.jsx(Cr,{children:c.map(v=>h.jsx(kt,{value:v.id,children:v.name},v.id))})]})]}),h.jsxs("div",{className:"flex flex-col justify-center",children:[h.jsxs("div",{className:"text-sm text-gray-600",children:["找到 ",h.jsx("span",{className:"font-bold text-blue-600",children:u.length})," 个实验"]}),h.jsxs("div",{className:"text-xs text-gray-500 mt-1",children:["总共 ",o.length," 个可用实验"]})]})]})})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map((v,b)=>{var x,y;return h.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5,delay:b*.1},children:h.jsxs(At,{className:"h-full hover:shadow-lg transition-all duration-300 border-l-4 border-l-blue-500",children:[h.jsx(Xt,{children:h.jsx("div",{className:"flex items-start justify-between",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-100 rounded-lg text-blue-600",children:v.icon}),h.jsxs("div",{children:[h.jsx(Yt,{className:"text-lg",children:v.name}),h.jsxs("div",{className:"flex gap-2 mt-1",children:[h.jsx(ts,{className:f(v.difficulty),children:(x=c.find(w=>w.id===v.difficulty))==null?void 0:x.name}),h.jsx(ts,{className:d(v.category),children:(y=l.find(w=>w.id===v.category))==null?void 0:y.name})]})]})]})})}),h.jsxs(Ct,{className:"space-y-4",children:[h.jsx(wi,{className:"text-gray-600",children:v.description}),h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[h.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z"})}),"预计时间: ",v.estimatedTime]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-sm font-medium text-gray-700 mb-2",children:"实验特色："}),h.jsx("div",{className:"flex flex-wrap gap-1",children:v.features.map((w,_)=>h.jsx(ts,{variant:"outline",className:"text-xs",children:w},_))})]}),h.jsxs(sn,{onClick:()=>p(v),className:"w-full mt-4",children:[h.jsx(mf,{className:"h-4 w-4 mr-2"}),"开始实验"]})]})]})},v.id)})}),u.length===0&&h.jsxs("div",{className:"text-center py-12",children:[h.jsx("div",{className:"text-gray-400 mb-4",children:h.jsx(vM,{className:"h-16 w-16 mx-auto"})}),h.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"没有找到匹配的实验"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"请尝试调整搜索条件或筛选器"}),h.jsx(sn,{onClick:()=>{a(""),n("all"),i("all")},variant:"outline",children:"重置筛选器"})]}),h.jsxs(uo,{children:[h.jsx(vM,{className:"h-4 w-4"}),h.jsxs(fo,{children:[h.jsx("strong",{children:"实验指南："}),"建议按难度递进学习：初级实验帮助理解基本概念，中级实验深入探索原理， 高级实验训练综合分析能力。每个实验都包含详细的理论说明和操作指导。"]})]})]})})},iDe=()=>{const[t,e]=F.useState("all"),[n,r]=F.useState("week"),[i,s]=F.useState([]),[a,o]=F.useState(null),[l,c]=F.useState(!0),u=[{id:"1",experimentType:"reynolds",experimentName:"雷诺实验",timestamp:"2024-01-15T10:30:00Z",parameters:{velocity:2.5,diameter:.02,viscosity:15e-6},results:{reynoldsNumber:3333,flowType:1,pressureDrop:125.5},notes:"层流转湍流的临界点观察"},{id:"2",experimentType:"bernoulli",experimentName:"伯努利实验",timestamp:"2024-01-15T14:20:00Z",parameters:{inletVelocity:3,pipeDiameter1:.05,pipeDiameter2:.03},results:{pressureDrop:245.8,energyLoss:12.3,efficiency:95.2},notes:"能量守恒验证实验"},{id:"3",experimentType:"drag",experimentName:"阻力实验",timestamp:"2024-01-16T09:15:00Z",parameters:{windSpeed:20,objectSize:.2,fluidDensity:1.225},results:{dragCoefficient:.47,dragForce:2.84,reynolds:26667},notes:"球体阻力系数测试"},{id:"4",experimentType:"pitot-tube",experimentName:"毕托管实验",timestamp:"2024-01-16T16:45:00Z",parameters:{airSpeed:50,altitude:1e3,temperature:15},results:{staticPressure:89875,totalPressure:91412,velocity:50.2},notes:"高空流速测量校准"}],f=w=>({summary:{totalExperiments:w.length,experimentsToday:w.filter(_=>new Date(_.timestamp).toDateString()===new Date().toDateString()).length,averageAccuracy:94.5,successRate:96.8},charts:{performanceTrend:[{date:"2024-01-10",value:92.1},{date:"2024-01-11",value:93.4},{date:"2024-01-12",value:94.2},{date:"2024-01-13",value:93.8},{date:"2024-01-14",value:95.1},{date:"2024-01-15",value:94.9},{date:"2024-01-16",value:96.2}],experimentDistribution:[{type:"雷诺实验",count:25},{type:"伯努利实验",count:18},{type:"阻力实验",count:22},{type:"毕托管实验",count:15},{type:"卡门涡街",count:12}],parameterCorrelation:[{x:2e3,y:95.2,label:"Re=2000"},{x:3e3,y:94.8,label:"Re=3000"},{x:4e3,y:92.1,label:"Re=4000"},{x:5e3,y:89.5,label:"Re=5000"},{x:6e3,y:87.3,label:"Re=6000"}]}}),d=t==="all"?i:i.filter(w=>w.experimentType===t),p=[{value:"all",label:"全部实验"},{value:"reynolds",label:"雷诺实验"},{value:"bernoulli",label:"伯努利实验"},{value:"drag",label:"阻力实验"},{value:"pitot-tube",label:"毕托管实验"}],v=[{value:"day",label:"今天"},{value:"week",label:"本周"},{value:"month",label:"本月"},{value:"year",label:"本年"}],b=w=>new Date(w).toLocaleString("zh-CN"),x=()=>{const w=JSON.stringify(d,null,2),_=new Blob([w],{type:"application/json"}),S=URL.createObjectURL(_),M=document.createElement("a");M.href=S,M.download=`experiment_data_${new Date().toISOString().split("T")[0]}.json`,M.click(),URL.revokeObjectURL(S)},y=()=>{alert("报告生成功能开发中...")};return F.useEffect(()=>{c(!0),setTimeout(()=>{s(u),o(f(u)),c(!1)},1e3)},[]),l?h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 flex items-center justify-center",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"正在加载分析数据..."})]})}):h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 to-blue-50 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-8",children:[h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"实验数据分析"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"深入分析实验数据，发现规律和趋势，提升实验效果"})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(f$,{className:"h-5 w-5"}),"数据筛选与操作"]})}),h.jsx(Ct,{children:h.jsxs("div",{className:"flex flex-wrap items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"实验类型:"}),h.jsxs(Tr,{value:t,onValueChange:e,children:[h.jsx(Ar,{className:"w-40",children:h.jsx(Pr,{})}),h.jsx(Cr,{children:p.map(w=>h.jsx(kt,{value:w.value,children:w.label},w.value))})]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("label",{className:"text-sm font-medium",children:"时间范围:"}),h.jsxs(Tr,{value:n,onValueChange:r,children:[h.jsx(Ar,{className:"w-32",children:h.jsx(Pr,{})}),h.jsx(Cr,{children:v.map(w=>h.jsx(kt,{value:w.value,children:w.label},w.value))})]})]}),h.jsxs("div",{className:"flex gap-2 ml-auto",children:[h.jsxs(sn,{onClick:x,variant:"outline",size:"sm",children:[h.jsx(Fg,{className:"h-4 w-4 mr-2"}),"导出数据"]}),h.jsxs(sn,{onClick:y,variant:"outline",size:"sm",children:[h.jsx(H1,{className:"h-4 w-4 mr-2"}),"生成报告"]})]})]})})]}),a&&h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsx(At,{children:h.jsx(Ct,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"总实验数"}),h.jsx("p",{className:"text-2xl font-bold text-blue-600",children:a.summary.totalExperiments})]}),h.jsx(co,{className:"h-8 w-8 text-blue-500"})]})})}),h.jsx(At,{children:h.jsx(Ct,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"今日实验"}),h.jsx("p",{className:"text-2xl font-bold text-green-600",children:a.summary.experimentsToday})]}),h.jsx(YN,{className:"h-8 w-8 text-green-500"})]})})}),h.jsx(At,{children:h.jsx(Ct,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"平均精度"}),h.jsxs("p",{className:"text-2xl font-bold text-purple-600",children:[a.summary.averageAccuracy,"%"]})]}),h.jsx(V1,{className:"h-8 w-8 text-purple-500"})]})})}),h.jsx(At,{children:h.jsx(Ct,{className:"p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-600",children:"成功率"}),h.jsxs("p",{className:"text-2xl font-bold text-orange-600",children:[a.summary.successRate,"%"]})]}),h.jsx(co,{className:"h-8 w-8 text-orange-500"})]})})})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsx(Yt,{children:"实验性能趋势"}),h.jsx(wi,{children:"过去一周的实验准确率变化"})]}),h.jsxs(Ct,{children:[h.jsx("div",{className:"h-64 flex items-end justify-between space-x-2",children:a==null?void 0:a.charts.performanceTrend.map((w,_)=>h.jsxs("div",{className:"flex flex-col items-center",children:[h.jsx("div",{className:"bg-blue-500 rounded-t w-8 transition-all hover:bg-blue-600",style:{height:`${(w.value-85)*3}px`},title:`${w.date}: ${w.value}%`}),h.jsx("div",{className:"text-xs text-gray-500 mt-1 rotate-45 origin-left",children:w.date.split("-")[2]})]},_))}),h.jsx("div",{className:"text-center text-sm text-gray-500 mt-4",children:"日期 (1月)"})]})]}),h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsx(Yt,{children:"实验类型分布"}),h.jsx(wi,{children:"各类型实验的执行次数统计"})]}),h.jsx(Ct,{children:h.jsx("div",{className:"space-y-3",children:a==null?void 0:a.charts.experimentDistribution.map((w,_)=>h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"text-sm font-medium",children:w.type}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-24 bg-gray-200 rounded-full h-2",children:h.jsx("div",{className:"bg-gradient-to-r from-blue-500 to-purple-500 h-2 rounded-full",style:{width:`${w.count/25*100}%`}})}),h.jsx("span",{className:"text-sm text-gray-600 w-8",children:w.count})]})]},_))})})]})]}),h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsx(Yt,{children:"实验记录详情"}),h.jsxs(wi,{children:["显示 ",d.length," 条记录 (共 ",i.length," 条)"]})]}),h.jsx(Ct,{children:h.jsx("div",{className:"space-y-4",children:d.map(w=>h.jsxs(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},className:"border border-gray-200 rounded-lg p-4 hover:shadow-md transition-all",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-lg",children:w.experimentName}),h.jsx("p",{className:"text-sm text-gray-500",children:b(w.timestamp)})]}),h.jsx(ts,{variant:"outline",children:w.experimentType})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"实验参数"}),h.jsx("div",{className:"space-y-1",children:Object.entries(w.parameters).map(([_,S])=>h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsxs("span",{className:"text-gray-600",children:[_,":"]}),h.jsx("span",{className:"font-mono",children:S})]},_))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-medium text-gray-700 mb-2",children:"实验结果"}),h.jsx("div",{className:"space-y-1",children:Object.entries(w.results).map(([_,S])=>h.jsxs("div",{className:"flex justify-between text-sm",children:[h.jsxs("span",{className:"text-gray-600",children:[_,":"]}),h.jsx("span",{className:"font-mono text-blue-600",children:S})]},_))})]})]}),w.notes&&h.jsx("div",{className:"mt-3 pt-3 border-t border-gray-100",children:h.jsxs("p",{className:"text-sm text-gray-600",children:[h.jsx("span",{className:"font-medium",children:"备注:"})," ",w.notes]})})]},w.id))})})]}),h.jsxs(uo,{children:[h.jsx(co,{className:"h-4 w-4"}),h.jsxs(fo,{children:[h.jsx("strong",{children:"分析建议:"}),"根据数据趋势，建议增加雷诺实验的测试点密度，特别是在临界雷诺数附近。 伯努利实验的能量损失偏高，可能需要检查管道粗糙度设置。"]})]})]})})},sDe=()=>{const t=F.useRef(null),[e,n]=F.useState(50),[r,i]=F.useState(100),[s,a]=F.useState(!1),[o,l]=F.useState([]),[c,u]=F.useState([]),f={inletDiameter:60,throatDiameter:30,outletDiameter:60,length:400,throatPosition:200},d=y=>{const{inletDiameter:w,throatDiameter:_,length:S,throatPosition:M}=f;if(y<M){const E=y/M;return(w-(w-_)*E)/2}else{const E=(y-M)/(S-M);return(_+(w-_)*E)/2}},p=()=>{const y=[];for(let _=0;_<=50;_++){const S=_/50*f.length,M=d(S),E=Math.PI*M*M,A=Math.PI*(f.inletDiameter/2)**2,C=e*A/E,P=e,R=r+.5*1.225*(P**2-C**2)/1e3;y.push({position:S,velocity:C,pressure:R,area:E})}u(y)},v=()=>{const y=[];for(let w=0;w<100;w++){const _=150+(Math.random()-.5)*f.inletDiameter;y.push({x:Math.random()*50,y:_,vx:e/10,vy:0})}l(y)},b=()=>{s&&l(y=>y.map(w=>{let _=w.x+w.vx,S=w.y+w.vy;_>f.length+50&&(_=-20,S=150+(Math.random()-.5)*f.inletDiameter);const M=d(_),A=(f.inletDiameter/2/M)**2;return{...w,x:_,y:S,vx:e/10*A,vy:w.vy*.95}}))},x=()=>{const y=t.current;if(!y)return;const w=y.getContext("2d");if(w){w.clearRect(0,0,y.width,y.height),w.strokeStyle="#2563eb",w.lineWidth=3,w.beginPath();for(let _=0;_<=f.length;_+=2){const M=150-d(_);_===0?w.moveTo(_+50,M):w.lineTo(_+50,M)}for(let _=f.length;_>=0;_-=2){const M=150+d(_);w.lineTo(_+50,M)}if(w.closePath(),w.stroke(),w.fillStyle="rgba(59, 130, 246, 0.1)",w.fill(),c.length>0){w.strokeStyle="rgba(16, 185, 129, 0.6)",w.lineWidth=1;for(let _=-2;_<=2;_++)w.beginPath(),c.forEach((S,M)=>{const E=S.position+50,A=150+_*d(S.position)*.7;M===0?w.moveTo(E,A):w.lineTo(E,A)}),w.stroke()}o.forEach(_=>{const S=d(_.x);Math.abs(_.y-150)<S&&(w.fillStyle="#ef4444",w.beginPath(),w.arc(_.x+50,_.y,2,0,2*Math.PI),w.fill())}),c.length>0&&[.2,.5,.8].forEach(S=>{const M=Math.floor(S*(c.length-1)),E=c[M],A=E.position+50,C=d(E.position);w.strokeStyle="#6366f1",w.lineWidth=2,w.beginPath(),w.moveTo(A,150-C-5),w.lineTo(A,150-C-30),w.stroke();const P=(E.pressure-50)*.5;w.fillStyle="#3b82f6",w.fillRect(A-3,150-C-30,6,-P),w.fillStyle="#1f2937",w.font="12px Arial",w.textAlign="center",w.fillText(`${E.pressure.toFixed(1)} kPa`,A,150-C-35-P)}),w.fillStyle="#1f2937",w.font="14px Arial",w.textAlign="left",w.fillText("入口",20,140),w.fillText("喉部",f.throatPosition+30,140),w.fillText("出口",f.length+30,140)}};return F.useEffect(()=>{p(),v()},[e,r]),F.useEffect(()=>{const y=setInterval(()=>{b(),x()},50);return()=>clearInterval(y)},[s,o,c]),F.useEffect(()=>{x()},[c]),h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 to-indigo-100 p-6",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"文丘里管实验"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"观察流体通过收缩-扩张管道时压力和速度的变化关系，验证伯努利方程和连续性方程"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"实验控制"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["流量 (m/s): ",e]}),h.jsx("input",{type:"range",min:"10",max:"100",value:e,onChange:y=>n(Number(y.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["入口压力 (kPa): ",r]}),h.jsx("input",{type:"range",min:"50",max:"200",value:r,onChange:y=>i(Number(y.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),h.jsx("button",{onClick:()=>a(!s),className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${s?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:s?"停止实验":"开始实验"})]}),h.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"理论基础"}),h.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"连续性方程:"})," A₁V₁ = A₂V₂"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"伯努利方程:"})," P₁ + ½ρV₁² = P₂ + ½ρV₂²"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"文丘里效应:"})," 流速增加时压力降低"]})]})]})]}),h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"实验可视化"}),h.jsx("canvas",{ref:t,width:500,height:300,className:"border border-gray-200 rounded-lg w-full"}),h.jsx("div",{className:"mt-4 text-sm text-gray-600",children:h.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-red-500 rounded-full"}),h.jsx("span",{children:"流体粒子"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-1 bg-green-400"}),h.jsx("span",{children:"流线"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-blue-500"}),h.jsx("span",{children:"压力计"})]})]})})]})]}),c.length>0&&h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"实验数据分析"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:Math.max(...c.map(y=>y.velocity)).toFixed(1)}),h.jsx("div",{className:"text-sm text-gray-600",children:"最大流速 (m/s)"})]}),h.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.min(...c.map(y=>y.pressure)).toFixed(1)}),h.jsx("div",{className:"text-sm text-gray-600",children:"最小压力 (kPa)"})]}),h.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:((f.inletDiameter/f.throatDiameter)**2).toFixed(2)}),h.jsx("div",{className:"text-sm text-gray-600",children:"面积比"})]})]}),h.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"实验结论"}),h.jsx("p",{className:"text-sm text-yellow-700",children:"在喉部（最窄处），流速达到最大值，压力降到最低。这验证了伯努利方程： 当流体速度增加时，压力相应减小，总能量保持守恒。"})]})]})]})})},aDe=()=>{const t=F.useRef(null),[e,n]=F.useState(20),[r,i]=F.useState(300),[s,a]=F.useState(!1),[o,l]=F.useState([]),[c,u]=F.useState([]),f={density:1.225,viscosity:18e-6,kinematicViscosity:147e-7},d=_=>{if(_<=0)return 0;const S=e*_/1e3/f.kinematicViscosity;return Math.sqrt(_/1e3)*5/Math.sqrt(S)*1e3},p=(_,S)=>{const M=[];for(let A=0;A<=20;A++){const C=A/20*6,P=C/6*S;let R;C<=2?R=.5*C*C:C<=4?R=C-.5:R=1;const L=e*Math.min(1,R);M.push({y:P,velocity:L})}return M},v=_=>{if(_<=0)return 0;const S=e*_/1e3/f.kinematicViscosity;return .332*f.density*e*e/Math.sqrt(S)},b=()=>{const _=[];for(let M=1;M<=30;M++){const E=M/30*r,A=d(E),C=p(E,A),P=v(E);_.push({x:E,thickness:A,velocityProfile:C,shearStress:P})}u(_)},x=()=>{const _=[];for(let S=0;S<200;S++){const M=Math.random()*50,E=50+Math.random()*100;_.push({x:M,y:E,vx:e/10,vy:0})}l(_)},y=()=>{s&&l(_=>_.map(S=>{let M=S.x+S.vx,E=S.y+S.vy;M>r+100&&(M=Math.random()*30,E=50+Math.random()*100);const A=200;if(M>50&&E>A){const C=E-A,P=d(M-50);if(C<P){const R=Math.min(1,C/P),L=e*R;return{...S,x:M,y:E,vx:L/10,vy:S.vy*.9}}}return{...S,x:M,y:E,vx:e/10,vy:S.vy*.95}}))},w=()=>{const _=t.current;if(!_)return;const S=_.getContext("2d");if(!S)return;S.clearRect(0,0,_.width,_.height);const M=200,E=50;S.fillStyle="#374151",S.fillRect(E,M,r,10),c.length>0&&(S.strokeStyle="#ef4444",S.lineWidth=2,S.beginPath(),c.forEach((C,P)=>{const R=E+C.x,L=M-C.thickness;P===0?S.moveTo(R,L):S.lineTo(R,L)}),S.stroke(),S.fillStyle="rgba(239, 68, 68, 0.1)",S.beginPath(),S.moveTo(E,M),c.forEach(C=>{const P=E+C.x,R=M-C.thickness;S.lineTo(P,R)}),S.lineTo(E+r,M),S.closePath(),S.fill()),[.2,.5,.8].forEach(C=>{const P=Math.floor(C*(c.length-1));if(c[P]){const R=c[P],L=E+R.x;S.strokeStyle="#3b82f6",S.lineWidth=1,S.beginPath(),R.velocityProfile.forEach((O,D)=>{const I=L+O.velocity/e*30,z=M-O.y;D===0?S.moveTo(I,z):S.lineTo(I,z)}),S.stroke(),S.fillStyle="#3b82f6",R.velocityProfile.forEach(O=>{if(O.y%5<1){const D=L+O.velocity/e*30,I=M-O.y,z=O.velocity/e*15;S.fillRect(D,I-1,z,2),S.beginPath(),S.moveTo(D+z,I),S.lineTo(D+z-3,I-2),S.lineTo(D+z-3,I+2),S.closePath(),S.fill()}})}}),o.forEach(C=>{S.fillStyle="#10b981",S.beginPath(),S.arc(C.x,C.y,1.5,0,2*Math.PI),S.fill()}),S.strokeStyle="rgba(16, 185, 129, 0.3)",S.lineWidth=1;for(let C=60;C<180;C+=20){if(S.beginPath(),S.moveTo(0,C),S.lineTo(E,C),c.length>0)for(let P=0;P<r;P+=5){const R=Math.floor(P/r*(c.length-1)),L=c[R],O=C-M;if(O>0&&O<L.thickness){const I=(1-O/L.thickness)*10;S.lineTo(E+P,C+I)}else S.lineTo(E+P,C)}S.lineTo(E+r+50,C),S.stroke()}S.fillStyle="#1f2937",S.font="12px Arial",S.textAlign="left",S.fillText("边界层",E+r/2,M-50),S.fillText("平板",E+r/2,M+25),S.fillText("自由流",10,50),S.fillText(`U∞ = ${e} m/s`,10,65)};return F.useEffect(()=>{b(),x()},[e,r]),F.useEffect(()=>{const _=setInterval(()=>{y(),w()},50);return()=>clearInterval(_)},[s,o,c]),F.useEffect(()=>{w()},[c]),h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-gray-50 to-blue-50 p-6",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"边界层实验"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"观察流体在平板表面形成的边界层发展过程，理解粘性流动的基本特征"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"实验控制"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["自由流速度 (m/s): ",e]}),h.jsx("input",{type:"range",min:"5",max:"50",value:e,onChange:_=>n(Number(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["平板长度 (mm): ",r]}),h.jsx("input",{type:"range",min:"100",max:"400",value:r,onChange:_=>i(Number(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),h.jsx("button",{onClick:()=>a(!s),className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${s?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:s?"停止实验":"开始实验"})]}),h.jsxs("div",{className:"mt-6 p-4 bg-blue-50 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-blue-800 mb-2",children:"理论基础"}),h.jsxs("div",{className:"text-sm text-blue-700 space-y-2",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"边界层厚度:"})," δ ∝ √(x/Re_x)"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"雷诺数:"})," Re_x = U∞x/ν"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"壁面剪切:"})," τ_w ∝ ρU∞²/√Re_x"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"布拉修斯解:"})," 层流边界层理论解"]})]})]})]}),h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"边界层可视化"}),h.jsx("canvas",{ref:t,width:500,height:300,className:"border border-gray-200 rounded-lg w-full"}),h.jsx("div",{className:"mt-4 text-sm text-gray-600",children:h.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-green-500 rounded-full"}),h.jsx("span",{children:"流体粒子"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-1 bg-red-500"}),h.jsx("span",{children:"边界层边界"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-1 bg-blue-500"}),h.jsx("span",{children:"速度剖面"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-1 bg-gray-600"}),h.jsx("span",{children:"平板表面"})]})]})})]})]}),c.length>0&&h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"边界层参数分析"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-red-600",children:Math.max(...c.map(_=>_.thickness)).toFixed(1)}),h.jsx("div",{className:"text-sm text-gray-600",children:"最大边界层厚度 (mm)"})]}),h.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:(e*r/1e3/f.kinematicViscosity).toExponential(2)}),h.jsx("div",{className:"text-sm text-gray-600",children:"雷诺数 Re_L"})]}),h.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:Math.max(...c.map(_=>_.shearStress)).toFixed(3)}),h.jsx("div",{className:"text-sm text-gray-600",children:"最大壁面剪切 (Pa)"})]}),h.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.length>0?(c[c.length-1].thickness/(r/1e3)*100).toFixed(2):"0"}),h.jsx("div",{className:"text-sm text-gray-600",children:"相对厚度 (%)"})]})]}),h.jsxs("div",{className:"mt-6 p-4 bg-yellow-50 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-yellow-800 mb-2",children:"实验观察"}),h.jsxs("div",{className:"text-sm text-yellow-700 space-y-1",children:[h.jsx("p",{children:"• 边界层厚度沿平板方向逐渐增加，符合 δ ∝ √x 的规律"}),h.jsx("p",{children:"• 速度剖面从壁面的零速度平滑过渡到自由流速度"}),h.jsx("p",{children:"• 壁面剪切应力随雷诺数增加而减小"}),h.jsx("p",{children:"• 流体粒子在边界层内速度明显降低"})]})]})]})]})})},oDe=()=>{const t=F.useRef(null),[e,n]=F.useState(2.5),[r,i]=F.useState(15),[s,a]=F.useState(!1),[o,l]=F.useState([]),[c,u]=F.useState(null),f={gamma:1.4,R:287,T0:288,P0:101325},d=(_,S)=>{const M=S*Math.PI/180,E=f.gamma;let A=Math.PI/4;for(let C=0;C<100;C++){const P=Math.tan(A),R=Math.tan(M),L=2*(1/P)*(_*_*Math.sin(A)*Math.sin(A)-1)/(_*_*(E+Math.cos(2*A))+2)-R,O=-2*(Math.cos(A)*Math.cos(A))*(_*_*(E+Math.cos(2*A))+2-2*_*_*Math.sin(A)*Math.sin(A))/Math.pow(_*_*(E+Math.cos(2*A))+2,2),D=A-L/O;if(Math.abs(D-A)<1e-6)break;A=D}return A*180/Math.PI},p=(_,S,M)=>{const E=S*Math.PI/180,A=f.gamma,C=_*Math.sin(E),R=Math.sqrt((C*C+2/(A-1))/(2*A*C*C/(A-1)-1))/Math.sin(E-M*Math.PI/180),L=1+2*A/(A+1)*(C*C-1),O=(1+(A-1)/2*C*C)*(2*A*C*C/(A-1)-1)/((A+1)*(A+1)*C*C/(2*(A-1)));return{machAfter:R,pressureRatio:L,temperatureRatio:O}},v=()=>{if(e<=1||r<=0){u(null);return}const _=d(e,r),S=p(e,_,r),M={x:200,y:150};u({x:M.x,y:M.y,angle:_,machBefore:e,...S})},b=()=>{const _=[];for(let S=0;S<150;S++){const M=Math.random()*100,E=100+Math.random()*100;_.push({x:M,y:E,vx:e*10,vy:0,mach:e})}l(_)},x=(_,S,M)=>{if(!c)return _;const E={x:200,y:150},A=c.angle*Math.PI/180,C=-Math.tan(A),P=E.y-C*E.x,R=C*_.x+P,L=C*S+P;return _.y>R&&M<L&&S>E.x?{..._,mach:c.machAfter,vx:c.machAfter*10*Math.cos(r*Math.PI/180),vy:-c.machAfter*10*Math.sin(r*Math.PI/180)}:_},y=()=>{s&&l(_=>_.map(S=>{let M=S.x+S.vx*.5,E=S.y+S.vy*.5;if(M>500||E<50||E>250)return{x:Math.random()*50,y:100+Math.random()*100,vx:e*10,vy:0,mach:e};const A=x(S,M,E),C={x:200,y:150};if(M>C.x&&M<C.x+100){const P=C.y-(M-C.x)*Math.tan(r*Math.PI/180);if(E>P)return{x:Math.random()*50,y:100+Math.random()*100,vx:e*10,vy:0,mach:e}}return{...A,x:M,y:E}}))},w=()=>{const _=t.current;if(!_)return;const S=_.getContext("2d");if(!S)return;S.clearRect(0,0,_.width,_.height);const M={x:200,y:150},E=100,A={x:M.x+E,y:M.y-E*Math.tan(r*Math.PI/180)};if(S.fillStyle="#374151",S.beginPath(),S.moveTo(M.x,M.y),S.lineTo(A.x,A.y),S.lineTo(M.x+E,M.y),S.closePath(),S.fill(),c){const P=c.angle*Math.PI/180,R=100;S.strokeStyle="#ef4444",S.lineWidth=3,S.beginPath(),S.moveTo(c.x,c.y),S.lineTo(c.x-R*Math.cos(P),c.y-R*Math.sin(P)),S.stroke(),S.fillStyle="#ef4444",S.font="12px Arial",S.textAlign="center",S.fillText(`激波角: ${c.angle.toFixed(1)}°`,c.x-40,c.y-20)}o.forEach(P=>{const R=Math.min(1,P.mach/3),L=Math.floor(255*R),O=Math.floor(255*(1-R));S.fillStyle=`rgb(${L}, 100, ${O})`,S.beginPath(),S.arc(P.x,P.y,2,0,2*Math.PI),S.fill()}),S.strokeStyle="rgba(59, 130, 246, 0.3)",S.lineWidth=1;const C=Math.asin(1/e)*180/Math.PI;for(let P=50;P<200;P+=30)for(let R=110;R<190;R+=20)S.beginPath(),S.moveTo(P,R),S.lineTo(P+20*Math.cos(C*Math.PI/180),R-20*Math.sin(C*Math.PI/180)),S.stroke(),S.beginPath(),S.moveTo(P,R),S.lineTo(P+20*Math.cos(-C*Math.PI/180),R-20*Math.sin(-C*Math.PI/180)),S.stroke();if(S.fillStyle="#1f2937",S.font="14px Arial",S.textAlign="left",S.fillText(`M = ${e}`,20,30),S.fillText("→",50,130),c){S.strokeStyle="rgba(16, 185, 129, 0.4)",S.lineWidth=1;for(let P=0;P<5;P++)S.beginPath(),S.arc(M.x+50,M.y-20,10+P*8,0,2*Math.PI),S.stroke()}};return F.useEffect(()=>{v(),b()},[e,r]),F.useEffect(()=>{const _=setInterval(()=>{y(),w()},50);return()=>clearInterval(_)},[s,o,c]),F.useEffect(()=>{w()},[c]),h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-red-50 to-orange-50 p-6",children:h.jsxs("div",{className:"max-w-6xl mx-auto",children:[h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6},className:"text-center mb-8",children:[h.jsx("h1",{className:"text-4xl font-bold text-gray-900 mb-4",children:"激波实验"}),h.jsx("p",{className:"text-xl text-gray-600 max-w-3xl mx-auto",children:"观察超声速流动中的激波现象，理解激波的形成机理和流动参数跳跃"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[h.jsxs(gt.div,{initial:{opacity:0,x:-20},animate:{opacity:1,x:0},transition:{duration:.6,delay:.2},className:"bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"实验控制"}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["来流马赫数: ",e]}),h.jsx("input",{type:"range",min:"1.1",max:"5",step:"0.1",value:e,onChange:_=>n(Number(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["楔形角度 (°): ",r]}),h.jsx("input",{type:"range",min:"5",max:"30",value:r,onChange:_=>i(Number(_.target.value)),className:"w-full h-2 bg-gray-200 rounded-lg appearance-none cursor-pointer"})]}),h.jsx("button",{onClick:()=>a(!s),className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${s?"bg-red-500 hover:bg-red-600 text-white":"bg-green-500 hover:bg-green-600 text-white"}`,children:s?"停止实验":"开始实验"})]}),h.jsxs("div",{className:"mt-6 p-4 bg-red-50 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-red-800 mb-2",children:"理论基础"}),h.jsxs("div",{className:"text-sm text-red-700 space-y-2",children:[h.jsxs("p",{children:[h.jsx("strong",{children:"马赫角:"})," μ = arcsin(1/M)"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"激波角:"})," β ",">"," μ"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"压力跳跃:"})," P₂/P₁ ",">"," 1"]}),h.jsxs("p",{children:[h.jsx("strong",{children:"温度跳跃:"})," T₂/T₁ ",">"," 1"]})]})]})]}),h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.4},className:"lg:col-span-2 bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"激波可视化"}),h.jsx("canvas",{ref:t,width:500,height:300,className:"border border-gray-200 rounded-lg w-full"}),h.jsx("div",{className:"mt-4 text-sm text-gray-600",children:h.jsxs("div",{className:"flex items-center gap-4 flex-wrap",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-3 bg-gradient-to-r from-red-500 to-blue-500 rounded-full"}),h.jsx("span",{children:"流体粒子 (按马赫数着色)"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-1 bg-red-500"}),h.jsx("span",{children:"激波"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-1 bg-blue-300"}),h.jsx("span",{children:"马赫线"})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-3 h-1 bg-gray-600"}),h.jsx("span",{children:"楔形体"})]})]})})]})]}),c&&h.jsxs(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.6,delay:.6},className:"mt-8 bg-white rounded-xl shadow-lg p-6",children:[h.jsx("h3",{className:"text-xl font-semibold mb-4 text-gray-800",children:"激波参数分析"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-6",children:[h.jsxs("div",{className:"text-center p-4 bg-red-50 rounded-lg",children:[h.jsxs("div",{className:"text-2xl font-bold text-red-600",children:[c.angle.toFixed(1),"°"]}),h.jsx("div",{className:"text-sm text-gray-600",children:"激波角"})]}),h.jsxs("div",{className:"text-center p-4 bg-blue-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-blue-600",children:c.machAfter.toFixed(2)}),h.jsx("div",{className:"text-sm text-gray-600",children:"激波后马赫数"})]}),h.jsxs("div",{className:"text-center p-4 bg-green-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-green-600",children:c.pressureRatio.toFixed(2)}),h.jsx("div",{className:"text-sm text-gray-600",children:"压力比 P₂/P₁"})]}),h.jsxs("div",{className:"text-center p-4 bg-purple-50 rounded-lg",children:[h.jsx("div",{className:"text-2xl font-bold text-purple-600",children:c.temperatureRatio.toFixed(2)}),h.jsx("div",{className:"text-sm text-gray-600",children:"温度比 T₂/T₁"})]})]}),h.jsxs("div",{className:"mt-6 p-4 bg-orange-50 rounded-lg",children:[h.jsx("h4",{className:"font-semibold text-orange-800 mb-2",children:"激波特性"}),h.jsxs("div",{className:"text-sm text-orange-700 space-y-1",children:[h.jsx("p",{children:"• 激波是超声速流动中的强间断面，流动参数发生跳跃变化"}),h.jsx("p",{children:"• 激波角度随来流马赫数和楔形角度变化"}),h.jsx("p",{children:"• 通过激波后，马赫数降低，压力和温度升高"}),h.jsx("p",{children:"• 激波过程是不可逆的，总压降低"})]})]})]})]})})},lDe=({data:t,width:e,height:n,reynoldsNumber:r,timeStep:i,currentTime:s})=>{const[a,o]=ce.useState("velocity-field"),[l,c]=ce.useState("viridis"),u=F.useRef(null),f=F.useRef(null),d=F.useRef(null),p=[{value:"velocity-field",label:"速度场",icon:ph,description:"显示流场速度矢量"},{value:"pressure-contour",label:"压力等高线",icon:co,description:"显示压力分布等高线"},{value:"vorticity-field",label:"涡量场",icon:c$,description:"显示涡量分布"},{value:"streamlines",label:"流线图",icon:kue,description:"显示流体流线"},{value:"velocity-profile",label:"速度剖面",icon:rA,description:"特定位置的速度剖面"}],v=[{value:"viridis",label:"Viridis (蓝绿紫)",colors:["#440154","#31688e","#35b779","#fde725"]},{value:"plasma",label:"Plasma (紫红黄)",colors:["#0d0887","#7e03a8","#cc4778","#f89441","#f0f921"]},{value:"jet",label:"Jet (蓝青黄红)",colors:["#000080","#0000ff","#00ffff","#ffff00","#ff0000"]},{value:"coolwarm",label:"Cool-Warm (蓝白红)",colors:["#3b4cc0","#7396d4","#b4d7f0","#f4b4a7","#d73027"]}],b=F.useMemo(()=>{if(!t||t.length===0)return null;let M=0,E=1/0,A=-1/0,C=0,P=0;for(let R=0;R<t.length;R++)for(let L=0;L<t[R].length;L++){const O=t[R][L],D=Math.sqrt(O.u*O.u+O.v*O.v);M=Math.max(M,D),E=Math.min(E,O.p),A=Math.max(A,O.p),C=Math.max(C,Math.abs(O.vorticity)),P++}return{maxVelocity:M,minPressure:E,maxPressure:A,maxVorticity:C,totalPoints:P,averagePressure:(E+A)/2}},[t]),x=(M,E,A,C)=>{const P=Math.max(0,Math.min(1,(M-E)/(A-E)));switch(C){case"viridis":if(P<.25){const R=P/.25;return[68+R*(49-68),1+R*(104-1),84+R*(142-84)]}else if(P<.5){const R=(P-.25)/.25;return[49+R*(53-49),104+R*(183-104),142+R*(121-142)]}else if(P<.75){const R=(P-.5)/.25;return[53+R*(253-53),183+R*(231-183),121+R*(37-121)]}else return[253,231,37];case"plasma":if(P<.2){const R=P/.2;return[13+R*(126-13),8+R*(3-8),135+R*(168-135)]}else if(P<.4){const R=(P-.2)/.2;return[126+R*(204-126),3+R*(71-3),168+R*(120-168)]}else if(P<.6){const R=(P-.4)/.2;return[204+R*(248-204),71+R*(148-71),120+R*(65-120)]}else if(P<.8){const R=(P-.6)/.2;return[248+R*(240-248),148+R*(249-148),65+R*(33-65)]}else return[240,249,33];case"jet":return P<.25?[0,0,Math.floor(128+P*4*127)]:P<.5?[0,Math.floor((P-.25)*4*255),255]:P<.75?[Math.floor((P-.5)*4*255),255,Math.floor(255-(P-.5)*4*255)]:[255,Math.floor(255-(P-.75)*4*255),0];case"coolwarm":if(P<.5){const R=P*2;return[59+R*(180-59),76+R*(215-76),192+R*(240-192)]}else{const R=(P-.5)*2;return[180+R*(215-180),215+R*(48-215),240+R*(39-240)]}default:return[Math.floor(P*255),Math.floor(P*255),Math.floor(P*255)]}},y=()=>{const M=u.current;if(!M||!t||!b)return;const E=M.getContext("2d");if(!E)return;M.width=e*2,M.height=n*2,E.scale(2,2),E.clearRect(0,0,e,n);const A=e/t[0].length,C=n/t.length;for(let R=0;R<t.length;R++)for(let L=0;L<t[R].length;L++){const O=t[R][L],D=Math.sqrt(O.u*O.u+O.v*O.v),[I,z,$]=x(D,0,b.maxVelocity,l);E.fillStyle=`rgb(${Math.floor(I)}, ${Math.floor(z)}, ${Math.floor($)})`,E.fillRect(L*A,R*C,A,C)}E.strokeStyle="rgba(255, 255, 255, 0.8)",E.lineWidth=1;const P=Math.min(A,C)*.3/b.maxVelocity;for(let R=0;R<t.length;R+=3)for(let L=0;L<t[R].length;L+=3){const O=t[R][L],D=(L+.5)*A,I=(R+.5)*C,z=D+O.u*P,$=I+O.v*P;E.beginPath(),E.moveTo(D,I),E.lineTo(z,$),E.stroke();const q=Math.atan2(O.v,O.u),V=3;E.beginPath(),E.moveTo(z,$),E.lineTo(z-V*Math.cos(q-Math.PI/6),$-V*Math.sin(q-Math.PI/6)),E.moveTo(z,$),E.lineTo(z-V*Math.cos(q+Math.PI/6),$-V*Math.sin(q+Math.PI/6)),E.stroke()}},w=()=>{const M=f.current;if(!M||!t||!b)return;const E=M.getContext("2d");if(!E)return;M.width=e*2,M.height=n*2,E.scale(2,2),E.clearRect(0,0,e,n);const A=e/t[0].length,C=n/t.length;for(let L=0;L<t.length;L++)for(let O=0;O<t[L].length;O++){const D=t[L][O],[I,z,$]=x(D.p,b.minPressure,b.maxPressure,l);E.fillStyle=`rgb(${Math.floor(I)}, ${Math.floor(z)}, ${Math.floor($)})`,E.fillRect(O*A,L*C,A,C)}E.strokeStyle="rgba(0, 0, 0, 0.6)",E.lineWidth=1;const P=10,R=b.maxPressure-b.minPressure;for(let L=1;L<P;L++){const O=b.minPressure+L/P*R;for(let D=0;D<t.length-1;D++)for(let I=0;I<t[D].length-1;I++){const z=t[D][I].p,$=t[D][I+1].p;if(t[D+1][I].p,t[D+1][I+1].p,z<=O&&$>=O||z>=O&&$<=O){const q=I*A,V=(I+1)*A,U=D*C,W=(O-z)/($-z),k=q+W*(V-q);E.beginPath(),E.arc(k,U,1,0,2*Math.PI),E.stroke()}}}},_=()=>{const M=d.current;if(!M||!t||!b)return;const E=M.getContext("2d");if(!E)return;M.width=e*2,M.height=n*2,E.scale(2,2),E.clearRect(0,0,e,n);const A=e/t[0].length,C=n/t.length;for(let P=0;P<t.length;P++)for(let R=0;R<t[P].length;R++){const L=t[P][R],[O,D,I]=x(Math.abs(L.vorticity),0,b.maxVorticity,l);E.fillStyle=`rgb(${Math.floor(O)}, ${Math.floor(D)}, ${Math.floor(I)})`,E.fillRect(R*A,P*C,A,C)}E.strokeStyle="rgba(255, 255, 255, 0.3)",E.lineWidth=.5;for(let P=1;P<t.length-1;P++)for(let R=1;R<t[P].length-1;R++){const L=t[P][R].vorticity;if(Math.abs(L)>b.maxVorticity*.5){const O=(R+.5)*A,D=(P+.5)*C,I=Math.abs(L)/b.maxVorticity*5;E.beginPath(),E.arc(O,D,I,0,2*Math.PI),E.stroke()}}};F.useEffect(()=>{switch(a){case"velocity-field":y();break;case"pressure-contour":w();break;case"vorticity-field":_();break;default:y()}},[a,l,t]);const S=p.find(M=>M.value===a);return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(co,{className:"h-5 w-5"}),"高级数据可视化"]}),h.jsx(wi,{children:"多维度流场数据的科学可视化分析工具"})]}),h.jsxs(Ct,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium mb-2 block",children:"可视化类型"}),h.jsxs(Tr,{value:a,onValueChange:o,children:[h.jsx(Ar,{children:h.jsx(Pr,{})}),h.jsx(Cr,{children:p.map(M=>h.jsx(kt,{value:M.value,children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(M.icon,{className:"h-4 w-4"}),M.label]})},M.value))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium mb-2 block",children:"颜色映射"}),h.jsxs(Tr,{value:l,onValueChange:c,children:[h.jsx(Ar,{children:h.jsx(Pr,{})}),h.jsx(Cr,{children:v.map(M=>h.jsx(kt,{value:M.value,children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"flex gap-1",children:M.colors.map((E,A)=>h.jsx("div",{className:"w-3 h-3 rounded-sm",style:{backgroundColor:E}},A))}),M.label]})},M.value))})]})]})]}),S&&h.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx(S.icon,{className:"h-4 w-4 text-blue-600"}),h.jsx("span",{className:"font-medium text-blue-900",children:S.label})]}),h.jsx("p",{className:"text-sm text-blue-700",children:S.description})]})]})]}),b&&h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsx(Yt,{className:"text-lg",children:"实时统计数据"})}),h.jsx(Ct,{children:h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[h.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-red-600 font-medium",children:"最大速度"}),h.jsxs("div",{className:"text-lg font-bold text-red-900",children:[b.maxVelocity.toFixed(2)," m/s"]})]}),h.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"压力范围"}),h.jsxs("div",{className:"text-lg font-bold text-blue-900",children:[(b.maxPressure-b.minPressure).toFixed(0)," Pa"]})]}),h.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-green-600 font-medium",children:"最大涡量"}),h.jsxs("div",{className:"text-lg font-bold text-green-900",children:[b.maxVorticity.toFixed(2)," 1/s"]})]}),h.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"雷诺数"}),h.jsx("div",{className:"text-lg font-bold text-purple-900",children:r.toFixed(0)})]}),h.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"模拟时间"}),h.jsxs("div",{className:"text-lg font-bold text-orange-900",children:[s.toFixed(2),"s"]})]})]})})]}),h.jsx(At,{children:h.jsx(Ct,{className:"p-6",children:h.jsxs("div",{className:"relative",children:[h.jsx("canvas",{ref:u,className:`w-full h-96 border rounded-lg ${a==="velocity-field"?"block":"hidden"}`,style:{imageRendering:"pixelated"}}),h.jsx("canvas",{ref:f,className:`w-full h-96 border rounded-lg ${a==="pressure-contour"?"block":"hidden"}`,style:{imageRendering:"pixelated"}}),h.jsx("canvas",{ref:d,className:`w-full h-96 border rounded-lg ${a==="vorticity-field"?"block":"hidden"}`,style:{imageRendering:"pixelated"}}),h.jsxs("div",{className:"absolute top-4 right-4 bg-white/90 backdrop-blur-sm p-2 rounded-lg shadow-lg",children:[h.jsxs("div",{className:"text-xs font-medium mb-2",children:[a==="velocity-field"&&"速度 (m/s)",a==="pressure-contour"&&"压力 (Pa)",a==="vorticity-field"&&"涡量 (1/s)"]}),h.jsx("div",{className:"w-4 h-20 bg-gradient-to-t from-blue-500 via-green-500 to-red-500 rounded"}),h.jsx("div",{className:"text-xs mt-1",children:b&&h.jsxs(h.Fragment,{children:[h.jsx("div",{children:a==="velocity-field"&&b.maxVelocity.toFixed(1)}),h.jsx("div",{className:"my-1",children:a==="velocity-field"&&(b.maxVelocity/2).toFixed(1)}),h.jsx("div",{children:"0.0"})]})})]})]})})})]})},Sx=({checked:t=!1,onCheckedChange:e,disabled:n=!1,className:r=""})=>{const i=()=>{!n&&e&&e(!t)};return h.jsx("button",{type:"button",role:"switch","aria-checked":t,onClick:i,disabled:n,className:`
        relative inline-flex h-6 w-11 items-center rounded-full border-2 border-transparent 
        transition-colors focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2
        ${t?"bg-blue-600":"bg-gray-200"}
        ${n?"cursor-not-allowed opacity-50":"cursor-pointer"}
        ${r}
      `,children:h.jsx("span",{className:`
          inline-block h-5 w-5 transform rounded-full bg-white shadow-lg ring-0 
          transition duration-200 ease-in-out
          ${t?"translate-x-5":"translate-x-0"}
        `})})},C5={"karman-vortex":{name:"卡门涡街",description:"圆柱绕流形成的周期性涡街",parameters:{fluidType:"air",density:1.225,viscosity:18e-6,temperature:293,inletVelocity:10,outletPressure:101325,reynoldsNumber:100,obstacleType:"cylinder",obstacleSize:.1,obstaclePosition:{x:.3,y:.5},obstacleRotation:0,wallType:"no-slip",wallVelocity:0,inletProfile:"uniform",visualizationType:"vorticity",colorScheme:"viridis",showVectors:!0,showStreamlines:!1,showParticles:!0,particleCount:1e3,meshResolution:100,timeStep:.01,turbulenceModel:"laminar",probeEnabled:!0,probePosition:{x:.7,y:.5},measurementType:"all"}},"boundary-layer":{name:"边界层发展",description:"平板上的边界层发展过程",parameters:{fluidType:"air",density:1.225,viscosity:18e-6,temperature:293,inletVelocity:20,outletPressure:101325,reynoldsNumber:1e6,obstacleType:"none",obstacleSize:0,obstaclePosition:{x:.5,y:.5},obstacleRotation:0,wallType:"no-slip",wallVelocity:0,inletProfile:"uniform",visualizationType:"velocity",colorScheme:"jet",showVectors:!0,showStreamlines:!0,showParticles:!1,particleCount:500,meshResolution:150,timeStep:.001,turbulenceModel:"k-epsilon",probeEnabled:!0,probePosition:{x:.8,y:.1},measurementType:"velocity"}},"airfoil-flow":{name:"翼型绕流",description:"翼型产生升力的流动机理",parameters:{fluidType:"air",density:1.225,viscosity:18e-6,temperature:293,inletVelocity:50,outletPressure:101325,reynoldsNumber:5e5,obstacleType:"airfoil",obstacleSize:.2,obstaclePosition:{x:.3,y:.5},obstacleRotation:5,wallType:"slip",wallVelocity:0,inletProfile:"uniform",visualizationType:"pressure",colorScheme:"coolwarm",showVectors:!1,showStreamlines:!0,showParticles:!1,particleCount:200,meshResolution:120,timeStep:.005,turbulenceModel:"k-epsilon",probeEnabled:!0,probePosition:{x:.3,y:.6},measurementType:"pressure"}}},QM={water:{density:1e3,viscosity:.001,name:"水"},air:{density:1.225,viscosity:18e-6,name:"空气"},oil:{density:850,viscosity:.1,name:"机油"},custom:{density:1e3,viscosity:.001,name:"自定义"}},cDe=({parameters:t,onParametersChange:e,onStartSimulation:n,onPauseSimulation:r,onResetSimulation:i,onSaveConfiguration:s,onLoadConfiguration:a,isRunning:o,simulationData:l})=>{const[c,u]=F.useState("basic"),[f,d]=F.useState(!1),[p,v]=F.useState("none"),[b,x]=F.useState({x:0,y:0}),[y,w]=F.useState(!1),_=F.useRef(null),S=(L,O)=>{e({...t,[L]:O})},M=()=>{const L=t.obstacleSize||.1,O=t.density*t.inletVelocity*L/t.viscosity;S("reynoldsNumber",O)},E=L=>{const O=C5[L];a(O.parameters),d(!1)},A=L=>{const O=L,D=QM[O];S("fluidType",O),S("density",D.density),S("viscosity",D.viscosity)},C=L=>{const O=_.current;if(!O)return;const D=O.getBoundingClientRect(),I=(L.clientX-D.left)/D.width,z=(L.clientY-D.top)/D.height;x({x:I,y:z}),p==="obstacle"?S("obstaclePosition",{x:I,y:z}):p==="probe"&&S("probePosition",{x:I,y:z})},P=()=>{p!=="none"&&v("none")};F.useEffect(()=>{const L=O=>{if(O.ctrlKey||O.metaKey)switch(O.key){case" ":O.preventDefault(),o?r():n();break;case"r":O.preventDefault(),i();break;case"s":O.preventDefault();break}};return window.addEventListener("keydown",L),()=>window.removeEventListener("keydown",L)},[o,n,r,i]);const R=[{id:"basic",label:"基本参数",icon:Tfe},{id:"advanced",label:"高级设置",icon:hh},{id:"visualization",label:"可视化",icon:V1},{id:"measurement",label:"测量分析",icon:co}];return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(hfe,{className:"h-5 w-5"}),"交互式实验控制台"]}),h.jsx(wi,{children:"实时调节参数，观察流体行为变化"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(sn,{variant:"outline",onClick:()=>d(!f),children:[h.jsx(rfe,{className:"h-4 w-4 mr-2"}),"预设"]}),h.jsxs(sn,{variant:"outline",onClick:()=>w(!y),className:y?"text-red-600":"",children:[y?h.jsx(d$,{className:"h-4 w-4 mr-2"}):h.jsx(u$,{className:"h-4 w-4 mr-2"}),y?"录制中":"录制"]})]})]})}),h.jsxs(Ct,{className:"space-y-6",children:[h.jsx(Im,{children:f&&h.jsx(gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},className:"overflow-hidden",children:h.jsxs(At,{className:"bg-blue-50",children:[h.jsx(Xt,{children:h.jsx(Yt,{className:"text-lg",children:"预设实验配置"})}),h.jsx(Ct,{children:h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:Object.entries(C5).map(([L,O])=>h.jsx("div",{className:"cursor-pointer",onClick:()=>E(L),children:h.jsx(At,{className:"hover:shadow-md transition-shadow",children:h.jsxs(Ct,{className:"p-4",children:[h.jsx("h4",{className:"font-semibold",children:O.name}),h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:O.description}),h.jsxs("div",{className:"mt-2 flex gap-1",children:[h.jsxs(ts,{variant:"outline",className:"text-xs",children:["Re = ",O.parameters.reynoldsNumber.toFixed(0)]}),h.jsx(ts,{variant:"outline",className:"text-xs",children:QM[O.parameters.fluidType].name})]})]})})},L))})})]})})}),h.jsxs("div",{className:"flex flex-wrap gap-4",children:[h.jsxs(sn,{onClick:o?r:n,className:o?"bg-orange-500 hover:bg-orange-600":"bg-green-500 hover:bg-green-600",children:[o?h.jsx(qh,{className:"h-4 w-4 mr-2"}):h.jsx(mf,{className:"h-4 w-4 mr-2"}),o?"暂停":"开始"]}),h.jsxs(sn,{onClick:i,variant:"outline",children:[h.jsx(W0,{className:"h-4 w-4 mr-2"}),"重置"]}),h.jsxs("div",{className:"flex items-center gap-2 ml-auto",children:[h.jsx("span",{className:"text-sm text-gray-600",children:"拖拽模式:"}),h.jsxs(sn,{variant:p==="obstacle"?"default":"outline",size:"sm",onClick:()=>v(p==="obstacle"?"none":"obstacle"),children:[h.jsx(uD,{className:"h-4 w-4 mr-1"}),"障碍物"]}),h.jsxs(sn,{variant:p==="probe"?"default":"outline",size:"sm",onClick:()=>v(p==="probe"?"none":"probe"),children:[h.jsx(zg,{className:"h-4 w-4 mr-1"}),"探针"]})]})]}),l&&h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-5 gap-4",children:[h.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"模拟时间"}),h.jsxs("div",{className:"text-lg font-bold text-blue-900",children:[l.currentTime.toFixed(2),"s"]})]}),h.jsxs("div",{className:"bg-red-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-red-600 font-medium",children:"最大速度"}),h.jsxs("div",{className:"text-lg font-bold text-red-900",children:[l.maxVelocity.toFixed(2)," m/s"]})]}),h.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-green-600 font-medium",children:"平均压力"}),h.jsxs("div",{className:"text-lg font-bold text-green-900",children:[l.averagePressure.toFixed(0)," Pa"]})]}),h.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"阻力系数"}),h.jsx("div",{className:"text-lg font-bold text-purple-900",children:l.dragCoefficient.toFixed(3)})]}),h.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"升力系数"}),h.jsx("div",{className:"text-lg font-bold text-orange-900",children:l.liftCoefficient.toFixed(3)})]})]})]})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsx("div",{className:"flex space-x-1 border-b",children:R.map(L=>h.jsxs(sn,{variant:c===L.id?"default":"ghost",size:"sm",onClick:()=>u(L.id),className:"flex items-center gap-2",children:[h.jsx(L.icon,{className:"h-4 w-4"}),L.label]},L.id))})}),h.jsxs(Ct,{className:"space-y-6",children:[c==="basic"&&h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[h.jsx(Xue,{className:"h-4 w-4"}),"流体属性"]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"流体类型"}),h.jsxs(Tr,{value:t.fluidType,onValueChange:A,children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsx(Cr,{children:Object.entries(QM).map(([L,O])=>h.jsx(kt,{value:L,children:O.name},L))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"密度 (kg/m³)"}),h.jsx(Yn,{value:[t.density],onValueChange:([L])=>S("density",L),min:.1,max:2e3,step:.1,className:"mt-2"}),h.jsx("span",{className:"text-xs text-gray-500",children:t.density.toFixed(1)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"粘度 (Pa·s)"}),h.jsx(Yn,{value:[t.viscosity*1e3],onValueChange:([L])=>S("viscosity",L/1e3),min:.001,max:100,step:.001,className:"mt-2"}),h.jsxs("span",{className:"text-xs text-gray-500",children:[(t.viscosity*1e3).toFixed(3)," × 10⁻³"]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[h.jsx(ph,{className:"h-4 w-4"}),"流动条件"]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"入口速度 (m/s)"}),h.jsx(Yn,{value:[t.inletVelocity],onValueChange:([L])=>{S("inletVelocity",L),M()},min:.1,max:100,step:.1,className:"mt-2"}),h.jsx("span",{className:"text-xs text-gray-500",children:t.inletVelocity.toFixed(1)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"出口压力 (Pa)"}),h.jsx(Yn,{value:[t.outletPressure],onValueChange:([L])=>S("outletPressure",L),min:9e4,max:12e4,step:100,className:"mt-2"}),h.jsx("span",{className:"text-xs text-gray-500",children:t.outletPressure.toFixed(0)})]}),h.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm font-medium text-blue-900",children:"雷诺数"}),h.jsx("div",{className:"text-2xl font-bold text-blue-900",children:t.reynoldsNumber.toFixed(0)}),h.jsx("div",{className:"text-xs text-blue-700",children:t.reynoldsNumber<2300?"层流":t.reynoldsNumber<4e3?"过渡流":"湍流"})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-semibold",children:"几何参数"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"障碍物类型"}),h.jsxs(Tr,{value:t.obstacleType,onValueChange:L=>S("obstacleType",L),children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsxs(Cr,{children:[h.jsx(kt,{value:"none",children:"无障碍物"}),h.jsx(kt,{value:"cylinder",children:"圆柱"}),h.jsx(kt,{value:"square",children:"方形"}),h.jsx(kt,{value:"airfoil",children:"翼型"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"障碍物尺寸"}),h.jsx(Yn,{value:[t.obstacleSize],onValueChange:([L])=>{S("obstacleSize",L),M()},min:.01,max:.5,step:.01,className:"mt-2",disabled:t.obstacleType==="none"}),h.jsxs("span",{className:"text-xs text-gray-500",children:[t.obstacleSize.toFixed(2)," m"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"障碍物角度 (度)"}),h.jsx(Yn,{value:[t.obstacleRotation],onValueChange:([L])=>S("obstacleRotation",L),min:-45,max:45,step:1,className:"mt-2",disabled:t.obstacleType==="none"||t.obstacleType==="cylinder"}),h.jsxs("span",{className:"text-xs text-gray-500",children:[t.obstacleRotation,"°"]})]})]})]})]}),c==="advanced"&&h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-semibold",children:"边界条件"}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"壁面类型"}),h.jsxs(Tr,{value:t.wallType,onValueChange:L=>S("wallType",L),children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsxs(Cr,{children:[h.jsx(kt,{value:"no-slip",children:"无滑移壁面"}),h.jsx(kt,{value:"slip",children:"滑移壁面"}),h.jsx(kt,{value:"moving-wall",children:"运动壁面"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"入口速度分布"}),h.jsxs(Tr,{value:t.inletProfile,onValueChange:L=>S("inletProfile",L),children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsxs(Cr,{children:[h.jsx(kt,{value:"uniform",children:"均匀分布"}),h.jsx(kt,{value:"parabolic",children:"抛物线分布"}),h.jsx(kt,{value:"turbulent",children:"湍流分布"})]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-semibold",children:"数值设置"}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"网格分辨率"}),h.jsx(Yn,{value:[t.meshResolution],onValueChange:([L])=>S("meshResolution",L),min:50,max:200,step:10,className:"mt-2"}),h.jsxs("span",{className:"text-xs text-gray-500",children:[t.meshResolution," × ",Math.floor(t.meshResolution/2)]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"时间步长 (s)"}),h.jsx(Yn,{value:[t.timeStep*1e3],onValueChange:([L])=>S("timeStep",L/1e3),min:.1,max:50,step:.1,className:"mt-2"}),h.jsxs("span",{className:"text-xs text-gray-500",children:[(t.timeStep*1e3).toFixed(1)," ms"]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"湍流模型"}),h.jsxs(Tr,{value:t.turbulenceModel,onValueChange:L=>S("turbulenceModel",L),children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsxs(Cr,{children:[h.jsx(kt,{value:"laminar",children:"层流"}),h.jsx(kt,{value:"k-epsilon",children:"k-ε模型"}),h.jsx(kt,{value:"les",children:"大涡模拟"})]})]})]})]})]})}),c==="visualization"&&h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[h.jsx(V1,{className:"h-4 w-4"}),"可视化类型"]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"主要显示"}),h.jsxs(Tr,{value:t.visualizationType,onValueChange:L=>S("visualizationType",L),children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsxs(Cr,{children:[h.jsx(kt,{value:"velocity",children:"速度场"}),h.jsx(kt,{value:"pressure",children:"压力场"}),h.jsx(kt,{value:"vorticity",children:"涡量场"}),h.jsx(kt,{value:"streamlines",children:"流线"}),h.jsx(kt,{value:"particles",children:"粒子轨迹"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"颜色方案"}),h.jsxs(Tr,{value:t.colorScheme,onValueChange:L=>S("colorScheme",L),children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsxs(Cr,{children:[h.jsx(kt,{value:"viridis",children:"Viridis (蓝绿紫)"}),h.jsx(kt,{value:"plasma",children:"Plasma (紫红黄)"}),h.jsx(kt,{value:"jet",children:"Jet (蓝青黄红)"}),h.jsx(kt,{value:"coolwarm",children:"Cool-Warm (蓝白红)"})]})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-semibold",children:"显示选项"}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("label",{className:"text-sm font-medium",children:"显示速度矢量"}),h.jsx(Sx,{checked:t.showVectors,onCheckedChange:L=>S("showVectors",L)})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("label",{className:"text-sm font-medium",children:"显示流线"}),h.jsx(Sx,{checked:t.showStreamlines,onCheckedChange:L=>S("showStreamlines",L)})]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("label",{className:"text-sm font-medium",children:"显示粒子"}),h.jsx(Sx,{checked:t.showParticles,onCheckedChange:L=>S("showParticles",L)})]}),t.showParticles&&h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"粒子数量"}),h.jsx(Yn,{value:[t.particleCount],onValueChange:([L])=>S("particleCount",L),min:100,max:5e3,step:100,className:"mt-2"}),h.jsx("span",{className:"text-xs text-gray-500",children:t.particleCount})]})]})]})}),c==="measurement"&&h.jsx("div",{className:"space-y-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[h.jsx(zg,{className:"h-4 w-4"}),"测量探针"]}),h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("label",{className:"text-sm font-medium",children:"启用探针测量"}),h.jsx(Sx,{checked:t.probeEnabled,onCheckedChange:L=>S("probeEnabled",L)})]}),t.probeEnabled&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"测量类型"}),h.jsxs(Tr,{value:t.measurementType,onValueChange:L=>S("measurementType",L),children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsxs(Cr,{children:[h.jsx(kt,{value:"velocity",children:"速度"}),h.jsx(kt,{value:"pressure",children:"压力"}),h.jsx(kt,{value:"temperature",children:"温度"}),h.jsx(kt,{value:"all",children:"全部参数"})]})]})]}),h.jsxs("div",{className:"bg-gray-50 p-4 rounded-lg",children:[h.jsx("div",{className:"text-sm font-medium mb-2",children:"探针位置"}),h.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-600",children:"X坐标"}),h.jsx("div",{className:"text-lg font-mono",children:t.probePosition.x.toFixed(3)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-gray-600",children:"Y坐标"}),h.jsx("div",{className:"text-lg font-mono",children:t.probePosition.y.toFixed(3)})]})]}),h.jsx("div",{className:"mt-2",children:h.jsxs(sn,{size:"sm",variant:"outline",onClick:()=>v("probe"),className:"w-full",children:[h.jsx(uD,{className:"h-4 w-4 mr-2"}),"拖拽调整位置"]})})]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsx("h4",{className:"font-semibold",children:"实时测量值"}),t.probeEnabled&&l?h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"局部速度"}),h.jsxs("div",{className:"text-xl font-bold text-blue-900",children:[(l.maxVelocity*.8).toFixed(2)," m/s"]})]}),h.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-green-600 font-medium",children:"局部压力"}),h.jsxs("div",{className:"text-xl font-bold text-green-900",children:[(l.averagePressure+150).toFixed(0)," Pa"]})]}),h.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"涡量"}),h.jsxs("div",{className:"text-xl font-bold text-purple-900",children:[(Math.random()*10-5).toFixed(1)," 1/s"]})]})]}):h.jsxs(uo,{children:[h.jsx(Bg,{className:"h-4 w-4"}),h.jsx(fo,{children:"启用探针测量以查看实时数据"})]})]})]})})]})]}),h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsx(Yt,{children:"交互式操作区域"}),h.jsxs(wi,{children:["点击并拖拽来调整障碍物和探针位置",p!=="none"&&h.jsxs(ts,{className:"ml-2",children:["正在拖拽: ",p==="obstacle"?"障碍物":"探针"]})]})]}),h.jsxs(Ct,{children:[h.jsx("canvas",{ref:_,width:800,height:300,className:"w-full border rounded-lg cursor-crosshair",onMouseMove:C,onClick:P,style:{background:"linear-gradient(90deg, #f0f9ff 0%, #e0f2fe 100%)",cursor:p!=="none"?"move":"crosshair"}}),h.jsxs("div",{className:"mt-2 text-xs text-gray-500 flex justify-between",children:[h.jsxs("span",{children:["鼠标位置: (",b.x.toFixed(3),", ",b.y.toFixed(3),")"]}),h.jsx("span",{children:"提示: 使用空格键暂停/继续，Ctrl+R重置"})]})]})]})]})},N5=[{id:"karman-vortex-street",title:"卡门涡街：从圆柱绕流到工程应用",category:"civil",difficulty:"intermediate",duration:"45-60分钟",description:"研究圆柱绕流产生的卡门涡街现象，分析其在桥梁、烟囱等工程结构中的影响",objectives:["理解卡门涡街的形成机理","掌握斯特劳哈尔数的计算和应用","分析涡街对结构物的影响","学习涡激振动的控制方法"],theory:{principles:["不可压缩粘性流体绕圆柱流动","边界层分离与涡的形成","周期性涡脱落机制","流体-结构相互作用"],equations:["St = fD/U （斯特劳哈尔数）","Re = ρUD/μ （雷诺数）","Cd = 2F/(ρU²D) （阻力系数）","f_vortex = St × U/D （涡脱落频率）"],parameters:[{name:"雷诺数",symbol:"Re",unit:"无量纲",description:"惯性力与粘性力的比值",typical_range:"40-300（层流涡街）"},{name:"斯特劳哈尔数",symbol:"St",unit:"无量纲",description:"涡脱落频率的无量纲数",typical_range:"0.18-0.22（圆柱）"},{name:"阻力系数",symbol:"Cd",unit:"无量纲",description:"阻力的无量纲表示",typical_range:"1.0-1.2（Re>1000）"}]},realWorldApplication:{industry:"土木工程",examples:["塔科马海峡大桥的风致振动","高层建筑的涡激振动","海洋平台立柱的涡激振动","输电线路的风致振动"],challenges:["结构共振导致的疲劳破坏","涡激振动的准确预测","多柱体相互作用的复杂性","三维效应的影响"],solutions:["螺旋形扰流器","导流罩和整流装置","主动控制系统","结构阻尼器"]},experimentalSetup:{geometry:"圆柱直径D=0.02m，长度L=0.5m",conditions:{velocity:"0.5-3.0 m/s",reynoldsNumber:"40-300",fluidDensity:"1000 kg/m³",kinematicViscosity:"1.0e-6 m²/s"},measurements:["流场速度分布","涡脱落频率","圆柱表面压力","升力和阻力时程"]},results:{expected:["Re<40: 稳态对称流动","40<Re<200: 周期性涡脱落","Re>200: 三维涡街结构","涡脱落频率与Re的关系"],analysis:["涡街形成的物理机制","升力脉动的频谱特性","阻力系数随Re的变化","三维效应的影响"],insights:["涡街是边界层分离的结果","St数在宽Re范围内相对稳定","三维效应会影响涡街的规律性","控制涡脱落可减少结构振动"]},resources:{papers:["Williamson, C.H.K. - Vortex dynamics in the cylinder wake","Sarpkaya, T. - A critical review of the intrinsic nature of vortex-induced vibrations","Zdravkovich, M.M. - Flow around circular cylinders"],videos:["卡门涡街可视化实验","塔科马海峡大桥坍塌视频","PIV测量涡街流场"],simulations:["二维圆柱绕流CFD","涡激振动FSI仿真","多柱体相互作用"]}},{id:"bernoulli-principle-aviation",title:"伯努利原理：从理论到飞行器设计",category:"aerospace",difficulty:"beginner",duration:"30-40分钟",description:"探索伯努利原理在航空工程中的应用，从机翼升力产生到飞机设计优化",objectives:["理解伯努利方程的物理意义","掌握升力产生的机理","分析机翼几何对气动性能的影响","了解现代飞机设计中的应用"],theory:{principles:["能量守恒定律","流体连续性方程","伯努利方程","库塔-儒科夫斯基定理"],equations:["p + ½ρv² + ρgh = 常数 （伯努利方程）","L = ρvΓ （升力公式）","Cl = 2πα （薄翼理论）","L/D = Cl/Cd （升阻比）"],parameters:[{name:"攻角",symbol:"α",unit:"度",description:"机翼弦线与来流的夹角",typical_range:"0-15°（失速前）"},{name:"升力系数",symbol:"Cl",unit:"无量纲",description:"升力的无量纲表示",typical_range:"0-1.5（典型机翼）"},{name:"升阻比",symbol:"L/D",unit:"无量纲",description:"气动效率指标",typical_range:"10-50（现代客机）"}]},realWorldApplication:{industry:"航空航天",examples:["客机机翼设计","战斗机超音速翼型","直升机旋翼气动","风力发电机叶片"],challenges:["高升阻比的实现","失速特性的控制","跨音速激波的处理","多学科优化设计"],solutions:["超临界翼型技术","自适应机翼技术","涡流发生器","计算流体力学优化"]},experimentalSetup:{geometry:"NACA0012翼型，弦长c=0.1m",conditions:{velocity:"10-50 m/s",attackAngle:"0-20°",reynoldsNumber:"1e5-5e5",machNumber:"0.03-0.15"},measurements:["翼型表面压力分布","升力和阻力系数","边界层厚度","尾流速度剖面"]},results:{expected:["升力系数随攻角线性增长","失速攻角约15°","最大升阻比在4-6°攻角","边界层转捩影响阻力"],analysis:["压力分布与升力的关系","粘性效应对性能的影响","雷诺数效应","三维效应的修正"],insights:["升力主要由压差产生","粘性阻力随Re数减小","翼型几何强烈影响性能","实际应用需考虑三维效应"]},resources:{papers:["Anderson, J.D. - Fundamentals of Aerodynamics","Abbott, I.H. - Theory of Wing Sections","Bertin, J.J. - Aerodynamics for Engineers"],videos:["风洞中的翼型测试","烟线可视化流场","机翼升力演示实验"],simulations:["翼型绕流CFD分析","机翼三维流动","高升力装置仿真"]}},{id:"boundary-layer-theory",title:"边界层理论：从普朗特到现代CFD",category:"aerospace",difficulty:"advanced",duration:"60-75分钟",description:"深入研究边界层理论，从经典的布拉修斯解到现代湍流模型",objectives:["掌握边界层的基本概念","理解层流边界层的数学描述","分析边界层转捩机制","了解湍流边界层特性"],theory:{principles:["普朗特边界层理论","布拉修斯层流解","边界层转捩","湍流边界层结构"],equations:["δ/x = 5.0/√Rex （层流边界层厚度）","Cf = 0.664/√Rex （层流摩擦系数）","δ/x = 0.37/Rex^0.2 （湍流边界层厚度）","Cf = 0.059/Rex^0.2 （湍流摩擦系数）"],parameters:[{name:"边界层厚度",symbol:"δ",unit:"m",description:"速度达到外流99%的距离",typical_range:"1-10mm（典型条件）"},{name:"位移厚度",symbol:"δ*",unit:"m",description:"质量流量损失的等效厚度",typical_range:"δ*/δ ≈ 0.34（层流）"},{name:"动量厚度",symbol:"θ",unit:"m",description:"动量损失的等效厚度",typical_range:"θ/δ ≈ 0.13（层流）"}]},realWorldApplication:{industry:"多领域应用",examples:["飞机表面摩擦阻力","船舶水动力设计","汽车空气动力学","叶轮机械设计"],challenges:["边界层分离的预测","转捩位置的确定","湍流模型的选择","壁面粗糙度的影响"],solutions:["边界层控制技术","层流化设计","先进湍流模型","大涡模拟技术"]},experimentalSetup:{geometry:"平板，长度L=1.0m，宽度W=0.5m",conditions:{velocity:"1-20 m/s",reynoldsNumber:"1e4-1e7",turbulenceIntensity:"0.1-5%",pressureGradient:"零压梯度"},measurements:["边界层速度剖面","壁面剪应力","边界层厚度发展","转捩位置"]},results:{expected:["层流区符合布拉修斯解","转捩雷诺数约5×10⁵","湍流区遵循1/7次幂律","摩擦系数随Re数变化"],analysis:["层流与湍流特性对比","转捩过程的复杂性","压力梯度的影响","三维效应"],insights:["边界层控制着粘性效应","转捩强烈影响传热传质","湍流边界层更厚但更稳定","工程应用需要准确预测"]},resources:{papers:["Schlichting, H. - Boundary Layer Theory","White, F.M. - Viscous Fluid Flow","Pope, S.B. - Turbulent Flows"],videos:["边界层可视化实验","转捩过程高速摄影","PIV测量边界层"],simulations:["平板边界层DNS","LES湍流边界层","RANS模型比较"]}}],uDe=()=>{var v;const[t,e]=F.useState("all"),[n,r]=F.useState("all"),[i,s]=F.useState(null),[a,o]=F.useState({}),l=[{value:"all",label:"全部类别",icon:kd},{value:"aerospace",label:"航空航天",icon:yfe},{value:"automotive",label:"汽车工程",icon:Lue},{value:"marine",label:"海洋工程",icon:Mfe},{value:"civil",label:"土木工程",icon:Nue},{value:"industrial",label:"工业应用",icon:Jue},{value:"sports",label:"体育科学",icon:zg}],c=[{value:"all",label:"全部难度"},{value:"beginner",label:"初级",color:"bg-green-100 text-green-800"},{value:"intermediate",label:"中级",color:"bg-yellow-100 text-yellow-800"},{value:"advanced",label:"高级",color:"bg-red-100 text-red-800"}],u=F.useMemo(()=>N5.filter(b=>{const x=t==="all"||b.category===t,y=n==="all"||b.difficulty===n;return x&&y}),[t,n]),f=b=>{o(x=>({...x,[b]:!x[b]}))},d=b=>{switch(b){case"beginner":return"bg-green-100 text-green-800";case"intermediate":return"bg-yellow-100 text-yellow-800";case"advanced":return"bg-red-100 text-red-800";default:return"bg-gray-100 text-gray-800"}},p=b=>{const x=l.find(y=>y.value===b);return x?x.icon:kd};if(i){const b=N5.find(y=>y.id===i);if(!b)return null;const x=p(b.category);return h.jsxs("div",{className:"space-y-6",children:[h.jsx(sn,{onClick:()=>s(null),variant:"outline",className:"mb-4",children:"← 返回案例库"}),h.jsx(At,{children:h.jsx(Xt,{children:h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(x,{className:"h-6 w-6 text-blue-600"}),h.jsx(Yt,{className:"text-2xl",children:b.title})]}),h.jsx(wi,{className:"text-lg",children:b.description})]}),h.jsxs("div",{className:"flex flex-col gap-2",children:[h.jsx(ts,{className:d(b.difficulty),children:(v=c.find(y=>y.value===b.difficulty))==null?void 0:v.label}),h.jsx(ts,{variant:"outline",children:b.duration})]})]})})}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(zg,{className:"h-5 w-5"}),"学习目标"]})}),h.jsx(Ct,{children:h.jsx("ul",{className:"space-y-2",children:b.objectives.map((y,w)=>h.jsxs("li",{className:"flex items-start gap-2",children:[h.jsx("div",{className:"w-2 h-2 rounded-full bg-blue-500 mt-2 flex-shrink-0"}),h.jsx("span",{children:y})]},w))})})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(sn,{variant:"ghost",onClick:()=>f("theory"),className:"w-full justify-between p-0",children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(kd,{className:"h-5 w-5"}),"理论基础"]}),a.theory?h.jsx(yM,{}):h.jsx(Yx,{})]})}),h.jsx(Im,{children:a.theory&&h.jsx(gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:h.jsxs(Ct,{className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-3",children:"物理原理"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.theory.principles.map((y,w)=>h.jsx("div",{className:"bg-blue-50 p-2 rounded text-sm",children:y},w))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-3",children:"关键方程"}),h.jsx("div",{className:"space-y-2",children:b.theory.equations.map((y,w)=>h.jsx("div",{className:"bg-gray-50 p-3 rounded font-mono text-sm",children:y},w))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-3",children:"重要参数"}),h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full text-sm",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b",children:[h.jsx("th",{className:"text-left p-2",children:"参数名"}),h.jsx("th",{className:"text-left p-2",children:"符号"}),h.jsx("th",{className:"text-left p-2",children:"单位"}),h.jsx("th",{className:"text-left p-2",children:"典型范围"})]})}),h.jsx("tbody",{children:b.theory.parameters.map((y,w)=>h.jsxs("tr",{className:"border-b",children:[h.jsx("td",{className:"p-2",children:y.name}),h.jsx("td",{className:"p-2 font-mono",children:y.symbol}),h.jsx("td",{className:"p-2",children:y.unit}),h.jsx("td",{className:"p-2",children:y.typical_range})]},w))})]})})]})]})})})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(sn,{variant:"ghost",onClick:()=>f("application"),className:"w-full justify-between p-0",children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(ffe,{className:"h-5 w-5"}),"实际应用"]}),a.application?h.jsx(yM,{}):h.jsx(Yx,{})]})}),h.jsx(Im,{children:a.application&&h.jsx(gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:h.jsxs(Ct,{className:"space-y-4",children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"应用实例"}),h.jsx("ul",{className:"space-y-1",children:b.realWorldApplication.examples.map((y,w)=>h.jsxs("li",{className:"text-sm flex items-start gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-green-500 mt-1.5 flex-shrink-0"}),y]},w))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"工程挑战"}),h.jsx("ul",{className:"space-y-1",children:b.realWorldApplication.challenges.map((y,w)=>h.jsxs("li",{className:"text-sm flex items-start gap-2",children:[h.jsx("div",{className:"w-1.5 h-1.5 rounded-full bg-red-500 mt-1.5 flex-shrink-0"}),y]},w))})]})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"解决方案"}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:b.realWorldApplication.solutions.map((y,w)=>h.jsx("div",{className:"bg-green-50 p-2 rounded text-sm",children:y},w))})]})]})})})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(sn,{variant:"ghost",onClick:()=>f("experiment"),className:"w-full justify-between p-0",children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(YN,{className:"h-5 w-5"}),"实验分析"]}),a.experiment?h.jsx(yM,{}):h.jsx(Yx,{})]})}),h.jsx(Im,{children:a.experiment&&h.jsx(gt.div,{initial:{height:0,opacity:0},animate:{height:"auto",opacity:1},exit:{height:0,opacity:0},transition:{duration:.3},children:h.jsx(Ct,{className:"space-y-6",children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"预期结果"}),h.jsx("ul",{className:"space-y-1",children:b.results.expected.map((y,w)=>h.jsx("li",{className:"text-sm bg-blue-50 p-2 rounded",children:y},w))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"分析要点"}),h.jsx("ul",{className:"space-y-1",children:b.results.analysis.map((y,w)=>h.jsx("li",{className:"text-sm bg-yellow-50 p-2 rounded",children:y},w))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"关键洞察"}),h.jsx("ul",{className:"space-y-1",children:b.results.insights.map((y,w)=>h.jsx("li",{className:"text-sm bg-green-50 p-2 rounded",children:y},w))})]})]})})})})]}),h.jsxs(At,{children:[h.jsx(Xt,{children:h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(Fg,{className:"h-5 w-5"}),"学习资源"]})}),h.jsx(Ct,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"参考文献"}),h.jsx("ul",{className:"space-y-1",children:b.resources.papers.map((y,w)=>h.jsx("li",{className:"text-sm text-blue-600 hover:underline cursor-pointer",children:y},w))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"视频资源"}),h.jsx("ul",{className:"space-y-1",children:b.resources.videos.map((y,w)=>h.jsx("li",{className:"text-sm text-green-600 hover:underline cursor-pointer",children:y},w))})]}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold mb-2",children:"仿真案例"}),h.jsx("ul",{className:"space-y-1",children:b.resources.simulations.map((y,w)=>h.jsx("li",{className:"text-sm text-purple-600 hover:underline cursor-pointer",children:y},w))})]})]})})]})]})}return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(kd,{className:"h-6 w-6"}),"案例研究库"]}),h.jsx(wi,{children:"深入学习经典流体力学案例，理解理论与实际应用的结合"})]}),h.jsx(Ct,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium mb-2 block",children:"应用领域"}),h.jsxs(Tr,{value:t,onValueChange:e,children:[h.jsx(Ar,{children:h.jsx(Pr,{})}),h.jsx(Cr,{children:l.map(b=>h.jsx(kt,{value:b.value,children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(b.icon,{className:"h-4 w-4"}),b.label]})},b.value))})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium mb-2 block",children:"难度等级"}),h.jsxs(Tr,{value:n,onValueChange:r,children:[h.jsx(Ar,{children:h.jsx(Pr,{})}),h.jsx(Cr,{children:c.map(b=>h.jsx(kt,{value:b.value,children:b.label},b.value))})]})]})]})})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:u.map(b=>{var y;const x=p(b.category);return h.jsx(gt.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:h.jsxs(At,{className:"h-full hover:shadow-lg transition-shadow cursor-pointer",children:[h.jsxs(Xt,{children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(x,{className:"h-5 w-5 text-blue-600"}),h.jsx(ts,{className:d(b.difficulty),children:(y=c.find(w=>w.value===b.difficulty))==null?void 0:y.label})]}),h.jsx(ts,{variant:"outline",className:"text-xs",children:b.duration})]}),h.jsx(Yt,{className:"text-lg",children:b.title}),h.jsx(wi,{className:"line-clamp-3",children:b.description})]}),h.jsx(Ct,{children:h.jsxs("div",{className:"space-y-3",children:[h.jsxs("div",{children:[h.jsx("h4",{className:"text-sm font-medium mb-1",children:"学习目标"}),h.jsxs("ul",{className:"text-xs text-gray-600 space-y-0.5",children:[b.objectives.slice(0,2).map((w,_)=>h.jsxs("li",{className:"flex items-start gap-1",children:[h.jsx("div",{className:"w-1 h-1 rounded-full bg-blue-500 mt-1.5 flex-shrink-0"}),h.jsx("span",{className:"line-clamp-1",children:w})]},_)),b.objectives.length>2&&h.jsxs("li",{className:"text-blue-600",children:["+",b.objectives.length-2," 更多..."]})]})]}),h.jsx(sn,{onClick:()=>s(b.id),className:"w-full",children:"开始学习"})]})})]})},b.id)})}),u.length===0&&h.jsx(At,{children:h.jsxs(Ct,{className:"text-center py-12",children:[h.jsx(Bg,{className:"h-12 w-12 text-gray-400 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"没有找到符合条件的案例研究"}),h.jsx("p",{className:"text-sm text-gray-500 mt-1",children:"请尝试调整筛选条件"})]})})]})};class fDe{constructor(e){$s(this,"grid",[]);$s(this,"config");$s(this,"time",0);$s(this,"iteration",0);$s(this,"tempVelocityX",[]);$s(this,"tempVelocityY",[]);$s(this,"tempPressure",[]);$s(this,"tempTemperature",[]);$s(this,"turbulentViscosity",[]);$s(this,"kineticEnergy",[]);$s(this,"dissipationRate",[]);this.config=e,this.initializeGrid(),this.initializeTempArrays()}initializeGrid(){const{gridWidth:e,gridHeight:n}=this.config;this.grid=Array(n).fill(null).map(()=>Array(e).fill(null).map(()=>({density:this.config.fluidDensity,pressure:101325,velocityX:0,velocityY:0,temperature:this.config.inletTemperature,vorticity:0,viscosity:this.config.dynamicViscosity,turbulentKineticEnergy:0,turbulentDissipation:0,divergence:0,residual:0,isBoundary:!1,boundaryType:"none"}))),this.setupBoundaryConditions()}initializeTempArrays(){const{gridWidth:e,gridHeight:n}=this.config;this.tempVelocityX=Array(n).fill(null).map(()=>Array(e).fill(0)),this.tempVelocityY=Array(n).fill(null).map(()=>Array(e).fill(0)),this.tempPressure=Array(n).fill(null).map(()=>Array(e).fill(0)),this.tempTemperature=Array(n).fill(null).map(()=>Array(e).fill(0)),this.turbulentViscosity=Array(n).fill(null).map(()=>Array(e).fill(0)),this.kineticEnergy=Array(n).fill(null).map(()=>Array(e).fill(0)),this.dissipationRate=Array(n).fill(null).map(()=>Array(e).fill(0))}setupBoundaryConditions(){const{gridWidth:e,gridHeight:n}=this.config;for(let r=0;r<n;r++)for(let i=0;i<e;i++)r===0||r===n-1?(this.grid[r][i].isBoundary=!0,this.grid[r][i].boundaryType="wall"):i===0?(this.grid[r][i].isBoundary=!0,this.grid[r][i].boundaryType="inlet",this.grid[r][i].velocityX=this.config.inletVelocity,this.grid[r][i].temperature=this.config.inletTemperature):i===e-1&&(this.grid[r][i].isBoundary=!0,this.grid[r][i].boundaryType="outlet",this.grid[r][i].pressure=this.config.outletPressure)}solve(){this.iteration++,this.config.turbulenceModel!=="laminar"&&this.solveTurbulence(),this.solveMomentum(),this.solvePressureCorrection(),this.solveEnergy(),this.updateBoundaryConditions(),this.computeDerivedQuantities(),this.time+=this.config.timeStep}solveTurbulence(){const{gridWidth:e,gridHeight:n,timeStep:r}=this.config;if(this.config.turbulenceModel==="k-epsilon")for(let i=1;i<n-1;i++)for(let s=1;s<e-1;s++){if(this.grid[i][s].isBoundary)continue;const a=this.grid[i][s],o=(this.grid[i][s+1].velocityX-this.grid[i][s-1].velocityX)/(2*this.config.cellSize),l=(this.grid[i+1][s].velocityY-this.grid[i-1][s].velocityY)/(2*this.config.cellSize),c=(this.grid[i+1][s].velocityX-this.grid[i-1][s].velocityX)/(2*this.config.cellSize),u=(this.grid[i][s+1].velocityY-this.grid[i][s-1].velocityY)/(2*this.config.cellSize),f=Math.sqrt(2*(o*o+l*l)+(c+u)*(c+u)),p=this.turbulentViscosity[i][s]*f*f,v=a.turbulentKineticEnergy,b=v+r*(p-a.turbulentDissipation);a.turbulentKineticEnergy=Math.max(b,1e-10);const x=a.turbulentDissipation,y=1.44,w=1.92,_=x+r*(y*p*x/Math.max(v,1e-10)-w*x*x/Math.max(v,1e-10));a.turbulentDissipation=Math.max(_,1e-10);const S=.09;this.turbulentViscosity[i][s]=S*b*b/Math.max(_,1e-10)}}solveMomentum(){const{gridWidth:e,gridHeight:n,cellSize:r,timeStep:i}=this.config;for(let s=1;s<n-1;s++)for(let a=1;a<e-1;a++){if(this.grid[s][a].isBoundary)continue;const o=this.grid[s][a],l=o.velocityX,c=o.velocityY;let u=0;l>0?u=l*(l-this.grid[s][a-1].velocityX)/r:u=l*(this.grid[s][a+1].velocityX-l)/r,c>0?u+=c*(l-this.grid[s-1][a].velocityX)/r:u+=c*(this.grid[s+1][a].velocityX-l)/r;const d=(o.viscosity+this.turbulentViscosity[s][a])*((this.grid[s][a+1].velocityX-2*l+this.grid[s][a-1].velocityX)/(r*r)+(this.grid[s+1][a].velocityX-2*l+this.grid[s-1][a].velocityX)/(r*r)),p=-(this.grid[s][a+1].pressure-this.grid[s][a-1].pressure)/(2*r);this.tempVelocityX[s][a]=l+i*(-u+d/o.density+p/o.density)}for(let s=1;s<n-1;s++)for(let a=1;a<e-1;a++){if(this.grid[s][a].isBoundary)continue;const o=this.grid[s][a],l=o.velocityX,c=o.velocityY;let u=0;l>0?u=l*(c-this.grid[s][a-1].velocityY)/r:u=l*(this.grid[s][a+1].velocityY-c)/r,c>0?u+=c*(c-this.grid[s-1][a].velocityY)/r:u+=c*(this.grid[s+1][a].velocityY-c)/r;const d=(o.viscosity+this.turbulentViscosity[s][a])*((this.grid[s][a+1].velocityY-2*c+this.grid[s][a-1].velocityY)/(r*r)+(this.grid[s+1][a].velocityY-2*c+this.grid[s-1][a].velocityY)/(r*r)),p=-(this.grid[s+1][a].pressure-this.grid[s-1][a].pressure)/(2*r);this.tempVelocityY[s][a]=c+i*(-u+d/o.density+p/o.density)}for(let s=0;s<n;s++)for(let a=0;a<e;a++)this.grid[s][a].isBoundary||(this.grid[s][a].velocityX=this.tempVelocityX[s][a],this.grid[s][a].velocityY=this.tempVelocityY[s][a])}solvePressureCorrection(){const{gridWidth:e,gridHeight:n,cellSize:r,maxIterations:i,convergenceTolerance:s}=this.config;for(let a=1;a<n-1;a++)for(let o=1;o<e-1;o++){const l=(this.grid[a][o+1].velocityX-this.grid[a][o-1].velocityX)/(2*r),c=(this.grid[a+1][o].velocityY-this.grid[a-1][o].velocityY)/(2*r);this.grid[a][o].divergence=l+c}for(let a=0;a<i;a++){let o=0;for(let l=1;l<n-1;l++)for(let c=1;c<e-1;c++){if(this.grid[l][c].isBoundary)continue;const u=this.tempPressure[l][c+1],f=this.tempPressure[l][c-1],d=this.tempPressure[l+1][c],p=this.tempPressure[l-1][c],v=-this.grid[l][c].density*this.grid[l][c].divergence/this.config.timeStep,b=(u+f+d+p+r*r*v)/4,x=Math.abs(b-this.tempPressure[l][c]);o=Math.max(o,x),this.tempPressure[l][c]=b,this.grid[l][c].residual=x}if(o<s)break}for(let a=0;a<n;a++)for(let o=0;o<e;o++)this.grid[a][o].pressure=this.tempPressure[a][o]}solveEnergy(){const{gridWidth:e,gridHeight:n,cellSize:r,timeStep:i,thermalConductivity:s,specificHeat:a}=this.config;for(let o=1;o<n-1;o++)for(let l=1;l<e-1;l++){if(this.grid[o][l].isBoundary)continue;const c=this.grid[o][l],u=c.temperature,f=c.velocityX,d=c.velocityY,p=(this.grid[o][l+1].temperature-this.grid[o][l-1].temperature)/(2*r),v=(this.grid[o+1][l].temperature-this.grid[o-1][l].temperature)/(2*r),b=f*p+d*v,x=(this.grid[o][l+1].temperature-2*u+this.grid[o][l-1].temperature)/(r*r),y=(this.grid[o+1][l].temperature-2*u+this.grid[o-1][l].temperature)/(r*r),w=s/(c.density*a)*(x+y);this.tempTemperature[o][l]=u+i*(-b+w)}for(let o=0;o<n;o++)for(let l=0;l<e;l++)this.grid[o][l].isBoundary||(this.grid[o][l].temperature=this.tempTemperature[o][l])}updateBoundaryConditions(){const{gridWidth:e,gridHeight:n}=this.config;for(let r=0;r<n;r++)for(let i=0;i<e;i++){const s=this.grid[r][i];if(s.isBoundary)switch(s.boundaryType){case"wall":s.velocityX=0,s.velocityY=0,s.temperature=this.config.wallTemperature;break;case"inlet":s.velocityX=this.config.inletVelocity,s.velocityY=0,s.temperature=this.config.inletTemperature,s.turbulentKineticEnergy=1.5*Math.pow(this.config.inletVelocity*this.config.turbulenceIntensity,2);break;case"outlet":i>0&&(s.velocityX=this.grid[r][i-1].velocityX,s.velocityY=this.grid[r][i-1].velocityY,s.temperature=this.grid[r][i-1].temperature),s.pressure=this.config.outletPressure;break}}}computeDerivedQuantities(){const{gridWidth:e,gridHeight:n,cellSize:r}=this.config;for(let i=1;i<n-1;i++)for(let s=1;s<e-1;s++){const a=(this.grid[i+1][s].velocityX-this.grid[i-1][s].velocityX)/(2*r),o=(this.grid[i][s+1].velocityY-this.grid[i][s-1].velocityY)/(2*r);this.grid[i][s].vorticity=o-a}}getGrid(){return this.grid}getCurrentTime(){return this.time}getIteration(){return this.iteration}reset(){this.time=0,this.iteration=0,this.initializeGrid()}updateConfig(e){this.config={...this.config,...e},this.setupBoundaryConditions()}addObstacle(e,n,r){const{cellSize:i}=this.config;for(let s=0;s<this.config.gridHeight;s++)for(let a=0;a<this.config.gridWidth;a++){const o=a*i,l=s*i;Math.sqrt((o-e)*(o-e)+(l-n)*(l-n))<=r&&(this.grid[s][a].isBoundary=!0,this.grid[s][a].boundaryType="wall",this.grid[s][a].velocityX=0,this.grid[s][a].velocityY=0)}}}const dDe=({width:t=800,height:e=400,onDataUpdate:n})=>{const[r,i]=F.useState(null),[s,a]=F.useState(!1),[o,l]=F.useState({gridWidth:100,gridHeight:50,cellSize:.01,fluidDensity:1e3,dynamicViscosity:.001,thermalConductivity:.6,specificHeat:4180,timeStep:.001,cflNumber:.5,maxIterations:100,convergenceTolerance:1e-6,turbulenceModel:"laminar",turbulenceIntensity:.05,inletVelocity:1,inletTemperature:293,outletPressure:101325,wallTemperature:293,pressureSolver:"gauss-seidel",advectionScheme:"upwind",timeIntegration:"euler"}),c=F.useRef(),u=F.useRef(null);F.useEffect(()=>{const y=new fDe(o);return i(y),()=>{c.current&&cancelAnimationFrame(c.current)}},[]);const f=F.useCallback(()=>{r&&s&&(r.solve(),n&&n(r.getGrid()),d(),c.current=requestAnimationFrame(f))},[r,s,n]);F.useEffect(()=>{s?f():c.current&&cancelAnimationFrame(c.current)},[s,f]);const d=()=>{const y=u.current;if(!y||!r)return;const w=y.getContext("2d");if(!w)return;const _=r.getGrid(),S=t/o.gridWidth,M=e/o.gridHeight;w.clearRect(0,0,t,e);for(let E=0;E<o.gridHeight;E++)for(let A=0;A<o.gridWidth;A++){const C=_[E][A],P=Math.sqrt(C.velocityX*C.velocityX+C.velocityY*C.velocityY),R=Math.min(P/2,1),L=Math.floor(R*255),O=Math.floor((1-R)*255),D=100;w.fillStyle=`rgb(${L}, ${O}, ${D})`,C.isBoundary&&(w.fillStyle="rgb(50, 50, 50)"),w.fillRect(A*S,E*M,S,M)}w.strokeStyle="rgba(255, 255, 255, 0.8)",w.lineWidth=1;for(let E=0;E<o.gridHeight;E+=3)for(let A=0;A<o.gridWidth;A+=3){const C=_[E][A];if(C.isBoundary)continue;const P=(A+.5)*S,R=(E+.5)*M,L=20,O=P+C.velocityX*L,D=R+C.velocityY*L;w.beginPath(),w.moveTo(P,R),w.lineTo(O,D),w.stroke();const I=Math.atan2(C.velocityY,C.velocityX),z=3;w.beginPath(),w.moveTo(O,D),w.lineTo(O-z*Math.cos(I-Math.PI/6),D-z*Math.sin(I-Math.PI/6)),w.moveTo(O,D),w.lineTo(O-z*Math.cos(I+Math.PI/6),D-z*Math.sin(I+Math.PI/6)),w.stroke()}},p=()=>a(!0),v=()=>a(!1),b=()=>{a(!1),r&&(r.reset(),d())},x=(y,w)=>{const _={...o,[y]:w};l(_),r&&r.updateConfig({[y]:w})};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs(At,{children:[h.jsxs(Xt,{children:[h.jsxs(Yt,{className:"flex items-center gap-2",children:[h.jsx(Kx,{className:"h-5 w-5"}),"高级流体物理引擎"]}),h.jsx(wi,{children:"基于Navier-Stokes方程的高精度流体力学仿真"})]}),h.jsxs(Ct,{className:"space-y-6",children:[h.jsxs("div",{className:"flex gap-4",children:[h.jsxs(sn,{onClick:p,disabled:s,children:[h.jsx(mf,{className:"h-4 w-4 mr-2"}),"开始"]}),h.jsxs(sn,{onClick:v,disabled:!s,children:[h.jsx(qh,{className:"h-4 w-4 mr-2"}),"暂停"]}),h.jsxs(sn,{onClick:b,children:[h.jsx(W0,{className:"h-4 w-4 mr-2"}),"重置"]})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[h.jsx(ph,{className:"h-4 w-4"}),"流动参数"]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"入口速度 (m/s)"}),h.jsx(Yn,{value:[o.inletVelocity],onValueChange:([y])=>x("inletVelocity",y),min:.1,max:5,step:.1,className:"mt-2"}),h.jsx("span",{className:"text-xs text-gray-500",children:o.inletVelocity.toFixed(1)})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"动力粘度 (Pa·s)"}),h.jsx(Yn,{value:[o.dynamicViscosity*1e3],onValueChange:([y])=>x("dynamicViscosity",y/1e3),min:.1,max:10,step:.1,className:"mt-2"}),h.jsxs("span",{className:"text-xs text-gray-500",children:[(o.dynamicViscosity*1e3).toFixed(1)," × 10⁻³"]})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[h.jsx(Cfe,{className:"h-4 w-4"}),"热力学参数"]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"入口温度 (K)"}),h.jsx(Yn,{value:[o.inletTemperature],onValueChange:([y])=>x("inletTemperature",y),min:273,max:373,step:1,className:"mt-2"}),h.jsx("span",{className:"text-xs text-gray-500",children:o.inletTemperature.toFixed(0)})]})]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("h4",{className:"font-semibold flex items-center gap-2",children:[h.jsx(hh,{className:"h-4 w-4"}),"数值求解"]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-sm font-medium",children:"湍流模型"}),h.jsxs(Tr,{value:o.turbulenceModel,onValueChange:y=>x("turbulenceModel",y),children:[h.jsx(Ar,{className:"mt-2",children:h.jsx(Pr,{})}),h.jsxs(Cr,{children:[h.jsx(kt,{value:"laminar",children:"层流"}),h.jsx(kt,{value:"k-epsilon",children:"k-ε模型"}),h.jsx(kt,{value:"k-omega",children:"k-ω模型"}),h.jsx(kt,{value:"les",children:"大涡模拟"})]})]})]})]})]}),r&&h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-blue-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-blue-600 font-medium",children:"模拟时间"}),h.jsxs("div",{className:"text-lg font-bold text-blue-900",children:[r.getCurrentTime().toFixed(3),"s"]})]}),h.jsxs("div",{className:"bg-green-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-green-600 font-medium",children:"迭代次数"}),h.jsx("div",{className:"text-lg font-bold text-green-900",children:r.getIteration()})]}),h.jsxs("div",{className:"bg-purple-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-purple-600 font-medium",children:"雷诺数"}),h.jsx("div",{className:"text-lg font-bold text-purple-900",children:(o.fluidDensity*o.inletVelocity*.1/o.dynamicViscosity).toFixed(0)})]}),h.jsxs("div",{className:"bg-orange-50 p-3 rounded-lg",children:[h.jsx("div",{className:"text-sm text-orange-600 font-medium",children:"时间步长"}),h.jsxs("div",{className:"text-lg font-bold text-orange-900",children:[(o.timeStep*1e3).toFixed(1),"ms"]})]})]})]})]}),h.jsx(At,{children:h.jsx(Ct,{className:"p-6",children:h.jsx("canvas",{ref:u,width:t,height:e,className:"w-full h-96 border rounded-lg",style:{imageRendering:"pixelated"}})})})]})},hDe=(t,e)=>{const{meshResolution:n,inletVelocity:r,obstacleSize:i,obstaclePosition:s}=t,a=n,o=Math.floor(n/2);return Array(o).fill(null).map((c,u)=>Array(a).fill(null).map((f,d)=>{const p=d/a,v=u/o,b=p-s.x,x=v-s.y,y=Math.sqrt(b*b+x*x);let w=r,_=0,S=101325,M=0;if(t.obstacleType!=="none"&&y<i)w=0,_=0,S+=1e3;else if(y<i*3){const E=Math.atan2(x,b),A=Math.exp(-y/i);if(w*=1+.5*A*Math.cos(E+e*2),_+=.3*A*Math.sin(E+e*2)*r,t.obstacleType==="cylinder"&&t.reynoldsNumber>40){const P=.2*r/i;M=10*A*Math.sin(2*Math.PI*P*e+E*2)}}return{x:p,y:v,u:w,v:_,p:S,vorticity:M,temperature:t.temperature}}))},pDe=()=>{var A;const[t,e]=F.useState("experiment"),[n,r]=F.useState(!1),[i,s]=F.useState(0),[a,o]=F.useState([]),[l,c]=F.useState(null),[u,f]=F.useState({fluidType:"air",density:1.225,viscosity:18e-6,temperature:293,inletVelocity:10,outletPressure:101325,reynoldsNumber:100,obstacleType:"cylinder",obstacleSize:.1,obstaclePosition:{x:.3,y:.5},obstacleRotation:0,wallType:"no-slip",wallVelocity:0,inletProfile:"uniform",visualizationType:"vorticity",colorScheme:"viridis",showVectors:!0,showStreamlines:!1,showParticles:!0,particleCount:1e3,meshResolution:100,timeStep:.01,turbulenceModel:"laminar",probeEnabled:!0,probePosition:{x:.7,y:.5},measurementType:"all"}),d=F.useRef(),p=F.useRef(0),v=F.useCallback(()=>{if(n){p.current+=u.timeStep,s(p.current);const C=hDe(u,p.current);o(C);const P=C.map(O=>O.map(D=>D.u)),R=C.map(O=>O.map(D=>D.p)),L=C.map(O=>O.map(D=>D.vorticity));c({experimentType:`${u.obstacleType}-flow`,timestamp:new Date().toISOString(),parameters:{reynoldsNumber:u.reynoldsNumber,inletVelocity:u.inletVelocity,obstacleSize:u.obstacleSize,fluidType:u.fluidType},results:{velocity:P,pressure:R,vorticity:L},metadata:{reynoldsNumber:u.reynoldsNumber,meshResolution:[u.meshResolution,Math.floor(u.meshResolution/2)],timeStep:u.timeStep,simulationTime:p.current}}),d.current=requestAnimationFrame(v)}},[n,u]);F.useEffect(()=>(n?d.current=requestAnimationFrame(v):d.current&&cancelAnimationFrame(d.current),()=>{d.current&&cancelAnimationFrame(d.current)}),[n,v]);const b=()=>{r(!0)},x=()=>{r(!1)},y=()=>{r(!1),p.current=0,s(0),o([])},w=C=>{f(C)},_=(C,P)=>{localStorage.setItem(`experiment-config-${C}`,JSON.stringify(P))},S=C=>{f(C)},M={currentTime:i,maxVelocity:Math.max(...a.flat().map(C=>C?Math.sqrt(C.u*C.u+C.v*C.v):0),0),averagePressure:a.length>0?a.flat().reduce((C,P)=>C+((P==null?void 0:P.p)||0),0)/a.flat().length:101325,dragCoefficient:.47+.1*Math.sin(i*.5),liftCoefficient:.1*Math.sin(i*2)},E=[{id:"experiment",label:"交互实验",icon:Kx,description:"实时参数调节和高级物理仿真"},{id:"casestudy",label:"案例学习",icon:kd,description:"经典流体力学案例深度分析"},{id:"analysis",label:"数据分析",icon:co,description:"高级可视化和数据导出"}];return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-900 via-blue-900 to-slate-900 p-6",children:h.jsxs("div",{className:"max-w-7xl mx-auto space-y-6",children:[h.jsx(gt.div,{initial:{opacity:0,y:-20},animate:{opacity:1,y:0},transition:{duration:.5},children:h.jsx(At,{className:"bg-white/10 backdrop-blur-md border-white/20",children:h.jsxs(Xt,{children:[h.jsxs(Yt,{className:"text-3xl font-bold text-white flex items-center gap-3",children:[h.jsx("div",{className:"p-2 bg-blue-500 rounded-lg",children:h.jsx(Kx,{className:"h-8 w-8 text-white"})}),"增强版流体力学实验室"]}),h.jsx(wi,{className:"text-blue-100 text-lg",children:"集成高级物理引擎、交互控制、数据可视化和教学案例的综合实验平台"})]})})}),h.jsx(At,{className:"bg-white/10 backdrop-blur-md border-white/20",children:h.jsxs(Ct,{className:"p-4",children:[h.jsx("div",{className:"flex flex-wrap gap-2",children:E.map(C=>h.jsxs(sn,{variant:t===C.id?"default":"ghost",onClick:()=>e(C.id),className:`flex items-center gap-2 ${t===C.id?"bg-blue-600 text-white":"text-blue-100 hover:bg-white/20"}`,children:[h.jsx(C.icon,{className:"h-4 w-4"}),C.label]},C.id))}),h.jsx("div",{className:"mt-4 p-4 bg-black/20 rounded-lg",children:h.jsx("p",{className:"text-blue-100 text-sm",children:(A=E.find(C=>C.id===t))==null?void 0:A.description})})]})}),h.jsxs(gt.div,{initial:{opacity:0,x:20},animate:{opacity:1,x:0},transition:{duration:.3},children:[t==="experiment"&&h.jsxs("div",{className:"space-y-6",children:[h.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-1",children:h.jsx(cDe,{parameters:u,onParametersChange:w,onStartSimulation:b,onPauseSimulation:x,onResetSimulation:y,onSaveConfiguration:_,onLoadConfiguration:S,isRunning:n,simulationData:M})}),h.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-1",children:h.jsx(dDe,{width:800,height:400,onDataUpdate:C=>{console.log("Engine data updated:",C.length)}})})]}),t==="casestudy"&&h.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-1",children:h.jsx(uDe,{})}),t==="analysis"&&h.jsxs("div",{className:"space-y-6",children:[a.length>0&&h.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-1",children:h.jsx(lDe,{data:a,width:u.meshResolution,height:Math.floor(u.meshResolution/2),reynoldsNumber:u.reynoldsNumber,timeStep:u.timeStep,currentTime:i})}),l&&h.jsx("div",{className:"bg-white/5 backdrop-blur-sm rounded-xl p-1",children:h.jsx(p$,{data:l,onExport:(C,P)=>{console.log(`Exported ${C}:`,P)}})}),(!a.length||!l)&&h.jsx(At,{className:"bg-white/10 backdrop-blur-md border-white/20",children:h.jsxs(Ct,{className:"p-8 text-center",children:[h.jsx(Bg,{className:"h-12 w-12 text-blue-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-xl font-semibold text-white mb-2",children:"开始实验以查看数据分析"}),h.jsx("p",{className:"text-blue-200",children:'切换到"交互实验"标签页，启动模拟后返回此处查看详细的数据可视化和导出选项'}),h.jsxs(sn,{onClick:()=>e("experiment"),className:"mt-4 bg-blue-600 hover:bg-blue-700",children:[h.jsx(Yx,{className:"h-4 w-4 mr-2"}),"前往实验页面"]})]})})]})]},t),h.jsxs(At,{className:"bg-white/10 backdrop-blur-md border-white/20",children:[h.jsx(Xt,{children:h.jsxs(Yt,{className:"text-white flex items-center gap-2",children:[h.jsx(zg,{className:"h-5 w-5"}),"平台特性"]})}),h.jsx(Ct,{children:h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-blue-500/20 p-4 rounded-lg",children:[h.jsx(V1,{className:"h-8 w-8 text-blue-400 mb-2"}),h.jsx("h4",{className:"font-semibold text-white",children:"高级可视化"}),h.jsx("p",{className:"text-blue-200 text-sm",children:"多种颜色映射、等高线、矢量场显示"})]}),h.jsxs("div",{className:"bg-green-500/20 p-4 rounded-lg",children:[h.jsx(Fg,{className:"h-8 w-8 text-green-400 mb-2"}),h.jsx("h4",{className:"font-semibold text-white",children:"数据导出"}),h.jsx("p",{className:"text-green-200 text-sm",children:"CSV、JSON、VTK、PNG等多格式导出"})]}),h.jsxs("div",{className:"bg-purple-500/20 p-4 rounded-lg",children:[h.jsx(kd,{className:"h-8 w-8 text-purple-400 mb-2"}),h.jsx("h4",{className:"font-semibold text-white",children:"教学案例"}),h.jsx("p",{className:"text-purple-200 text-sm",children:"经典实验深度分析和理论讲解"})]}),h.jsxs("div",{className:"bg-orange-500/20 p-4 rounded-lg",children:[h.jsx(Kx,{className:"h-8 w-8 text-orange-400 mb-2"}),h.jsx("h4",{className:"font-semibold text-white",children:"物理引擎"}),h.jsx("p",{className:"text-orange-200 text-sm",children:"基于Navier-Stokes方程的精确仿真"})]})]})})]}),h.jsxs(uo,{className:"bg-blue-500/20 border-blue-400/30",children:[h.jsx(Bg,{className:"h-4 w-4 text-blue-400"}),h.jsxs(fo,{className:"text-blue-100",children:[h.jsx("strong",{children:"使用提示："}),"在交互实验中，您可以实时调节参数观察流体行为变化。 支持拖拽调整障碍物位置，多种湍流模型选择，以及实时数据探针测量。 所有实验数据都可以导出为多种格式用于进一步分析。"]})]})]})})},mDe=()=>h.jsx(dK,{children:h.jsxs(sK,{children:[h.jsx(Hr,{path:"/",element:h.jsx(Yr,{children:h.jsx(rK,{to:"/simulation",replace:!0})})}),h.jsx(Hr,{path:"/simulation",element:h.jsx(Yr,{children:h.jsx(kfe,{})})}),h.jsx(Hr,{path:"/knowledge",element:h.jsx(Yr,{children:h.jsx(Dfe,{})})}),h.jsx(Hr,{path:"/analysis",element:h.jsx(Yr,{children:h.jsx(Ufe,{})})}),h.jsx(Hr,{path:"/examples",element:h.jsx(Yr,{children:h.jsx(Ffe,{})})}),h.jsx(Hr,{path:"/experiments/karman-vortex",element:h.jsx(Yr,{children:h.jsx(pje,{})})}),h.jsx(Hr,{path:"/lab",element:h.jsx(Yr,{children:h.jsx(Yke,{})})}),h.jsx(Hr,{path:"/lab/reynolds",element:h.jsx(Yr,{children:h.jsx(Qke,{})})}),h.jsx(Hr,{path:"/lab/bernoulli",element:h.jsx(Yr,{children:h.jsx(eDe,{})})}),h.jsx(Hr,{path:"/lab/drag",element:h.jsx(Yr,{children:h.jsx(tDe,{})})}),h.jsx(Hr,{path:"/lab/pitot-tube",element:h.jsx(Yr,{children:h.jsx(nDe,{})})}),h.jsx(Hr,{path:"/lab/setup",element:h.jsx(Yr,{children:h.jsx(rDe,{})})}),h.jsx(Hr,{path:"/lab/analysis",element:h.jsx(Yr,{children:h.jsx(iDe,{})})}),h.jsx(Hr,{path:"/lab/venturi",element:h.jsx(Yr,{children:h.jsx(sDe,{})})}),h.jsx(Hr,{path:"/lab/boundary-layer",element:h.jsx(Yr,{children:h.jsx(aDe,{})})}),h.jsx(Hr,{path:"/lab/shock-wave",element:h.jsx(Yr,{children:h.jsx(oDe,{})})}),h.jsx(Hr,{path:"/lab/enhanced",element:h.jsx(Yr,{children:h.jsx(pDe,{})})})]})});eE.createRoot(document.getElementById("root")).render(h.jsx(ce.StrictMode,{children:h.jsx(mDe,{})}));
